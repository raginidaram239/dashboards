import{r as Te,j as le,s as Xt,a as Lt,F as Oa,T as Ei,S as hs,R as y_,b as lP,B as C_,_ as ko,c as tt,d as Wf,e as fc,f as Ae,g as b_,h as uP,i as bN}from"./index.2afb22cc.js";var fe=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function wN(n){if(n.__esModule)return n;var t=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(n).forEach(function(e){var r=Object.getOwnPropertyDescriptor(n,e);Object.defineProperty(t,e,r.get?r:{enumerable:!0,get:function(){return n[e]}})}),t}const cP=Te.exports.createContext({height:0,width:0});var pP=(n=>(n[n.BP1=520]="BP1",n[n.BP2=900]="BP2",n))(pP||{});const _N=({children:n})=>{const[t,e]=Te.exports.useState(window.innerWidth),[r,i]=Te.exports.useState(window.innerHeight),o=()=>{e(window.innerWidth),i(window.innerHeight)};return Te.exports.useEffect(()=>(window.addEventListener("resize",o),()=>window.removeEventListener("resize",o)),[]),le(cP.Provider,{value:{width:t,height:r},children:n})};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function hP(n,t,e,r){function i(o){return o instanceof e?o:new e(function(a){a(o)})}return new(e||(e=Promise))(function(o,a){function s(c){try{u(r.next(c))}catch(p){a(p)}}function l(c){try{u(r.throw(c))}catch(p){a(p)}}function u(c){c.done?o(c.value):i(c.value).then(s,l)}u((r=r.apply(n,t||[])).next())})}function dP(n,t){var e={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(u){return function(c){return l([u,c])}}function l(u){if(r)throw new TypeError("Generator is already executing.");for(;e;)try{if(r=1,i&&(o=u[0]&2?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return e.label++,{value:u[1],done:!1};case 5:e.label++,i=u[1],u=[0];continue;case 7:u=e.ops.pop(),e.trys.pop();continue;default:if(o=e.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){e=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){e.label=u[1];break}if(u[0]===6&&e.label<o[1]){e.label=o[1],o=u;break}if(o&&e.label<o[2]){e.label=o[2],e.ops.push(u);break}o[2]&&e.ops.pop(),e.trys.pop();continue}u=t.call(n,e)}catch(c){u=[6,c],i=0}finally{r=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}var Go=function(){},Rn=Go(),Hf=Object,nn=function(n){return n===Rn},gs=function(n){return typeof n=="function"},Ms=function(n,t){return Hf.assign({},n,t)},w_="undefined",__=function(){return typeof window!=w_},SN=function(){return typeof document!=w_},xN=function(){return __()&&typeof window.requestAnimationFrame!=w_},Ad=new WeakMap,TN=0,Rh=function(n){var t=typeof n,e=n&&n.constructor,r=e==Date,i,o;if(Hf(n)===n&&!r&&e!=RegExp){if(i=Ad.get(n),i)return i;if(i=++TN+"~",Ad.set(n,i),e==Array){for(i="@",o=0;o<n.length;o++)i+=Rh(n[o])+",";Ad.set(n,i)}if(e==Hf){i="#";for(var a=Hf.keys(n).sort();!nn(o=a.pop());)nn(n[o])||(i+=o+":"+Rh(n[o])+",");Ad.set(n,i)}}else i=r?n.toJSON():t=="symbol"?n.toString():t=="string"?JSON.stringify(n):""+n;return i},Ab=!0,ON=function(){return Ab},fP=__(),S_=SN(),Db=fP&&window.addEventListener?window.addEventListener.bind(window):Go,EN=S_?document.addEventListener.bind(document):Go,Mb=fP&&window.removeEventListener?window.removeEventListener.bind(window):Go,RN=S_?document.removeEventListener.bind(document):Go,PN=function(){var n=S_&&document.visibilityState;return nn(n)||n!=="hidden"},AN=function(n){return EN("visibilitychange",n),Db("focus",n),function(){RN("visibilitychange",n),Mb("focus",n)}},DN=function(n){var t=function(){Ab=!0,n()},e=function(){Ab=!1};return Db("online",t),Db("offline",e),function(){Mb("online",t),Mb("offline",e)}},MN={isOnline:ON,isVisible:PN},FN={initFocus:AN,initReconnect:DN},Kv=!__()||"Deno"in window,IN=function(n){return xN()?window.requestAnimationFrame(n):setTimeout(n,1)},jf=Kv?Te.exports.useEffect:Te.exports.useLayoutEffect,oy=typeof navigator!="undefined"&&navigator.connection,lx=!Kv&&oy&&(["slow-2g","2g"].includes(oy.effectiveType)||oy.saveData),gP=function(n){if(gs(n))try{n=n()}catch{n=""}var t=[].concat(n);n=typeof n=="string"?n:(Array.isArray(n)?n.length:n)?Rh(n):"";var e=n?"$swr$"+n:"";return[n,t,e]},Ol=new WeakMap,vP=0,mP=1,yP=2,ph=function(n,t,e,r,i,o,a){a===void 0&&(a=!0);var s=Ol.get(n),l=s[0],u=s[1],c=s[3],p=l[t],h=u[t];if(a&&h)for(var d=0;d<h.length;++d)h[d](e,r,i);return o&&(delete c[t],p&&p[0])?p[0](yP).then(function(){return n.get(t)}):n.get(t)},LN=0,Fb=function(){return++LN},CP=function(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];return hP(void 0,void 0,void 0,function(){var e,r,i,o,a,s,l,u,c,p,h,d,f,g,v,m,C,b,w,S,T;return dP(this,function(E){switch(E.label){case 0:if(e=n[0],r=n[1],i=n[2],o=n[3],a=typeof o=="boolean"?{revalidate:o}:o||{},s=nn(a.populateCache)?!0:a.populateCache,l=a.revalidate!==!1,u=a.rollbackOnError!==!1,c=a.optimisticData,p=gP(r),h=p[0],d=p[2],!h)return[2];if(f=Ol.get(e),g=f[2],n.length<3)return[2,ph(e,h,e.get(h),Rn,Rn,l,!0)];if(v=i,C=Fb(),g[h]=[C,0],b=!nn(c),w=e.get(h),b&&(S=gs(c)?c(w):c,e.set(h,S),ph(e,h,S)),gs(v))try{v=v(e.get(h))}catch(P){m=P}return v&&gs(v.then)?[4,v.catch(function(P){m=P})]:[3,2];case 1:if(v=E.sent(),C!==g[h][0]){if(m)throw m;return[2,v]}else m&&b&&u&&(s=!0,v=w,e.set(h,w));E.label=2;case 2:return s&&(m||(gs(s)&&(v=s(v,w)),e.set(h,v)),e.set(d,Ms(e.get(d),{error:m}))),g[h][1]=Fb(),[4,ph(e,h,v,m,Rn,l,!!s)];case 3:if(T=E.sent(),m)throw m;return[2,s?T:v]}})})},ux=function(n,t){for(var e in n)n[e][0]&&n[e][0](t)},NN=function(n,t){if(!Ol.has(n)){var e=Ms(FN,t),r={},i=CP.bind(Rn,n),o=Go;if(Ol.set(n,[r,{},{},{},i]),!Kv){var a=e.initFocus(setTimeout.bind(Rn,ux.bind(Rn,r,vP))),s=e.initReconnect(setTimeout.bind(Rn,ux.bind(Rn,r,mP)));o=function(){a&&a(),s&&s(),Ol.delete(n)}}return[n,i,o]}return[n,Ol.get(n)[4]]},kN=function(n,t,e,r,i){var o=e.errorRetryCount,a=i.retryCount,s=~~((Math.random()+.5)*(1<<(a<8?a:8)))*e.errorRetryInterval;!nn(o)&&a>o||setTimeout(r,s,i)},bP=NN(new Map),GN=bP[0],BN=bP[1],VN=Ms({onLoadingSlow:Go,onSuccess:Go,onError:Go,onErrorRetry:kN,onDiscarded:Go,revalidateOnFocus:!0,revalidateOnReconnect:!0,revalidateIfStale:!0,shouldRetryOnError:!0,errorRetryInterval:lx?1e4:5e3,focusThrottleInterval:5*1e3,dedupingInterval:2*1e3,loadingTimeout:lx?5e3:3e3,compare:function(n,t){return Rh(n)==Rh(t)},isPaused:function(){return!1},cache:GN,mutate:BN,fallback:{}},MN),WN=function(n,t){var e=Ms(n,t);if(t){var r=n.use,i=n.fallback,o=t.use,a=t.fallback;r&&o&&(e.use=r.concat(o)),i&&a&&(e.fallback=Ms(i,a))}return e},HN=Te.exports.createContext({}),jN=function(n,t){var e=Te.exports.useState({})[1],r=Te.exports.useRef(n),i=Te.exports.useRef({data:!1,error:!1,isValidating:!1}),o=Te.exports.useCallback(function(a){var s=!1,l=r.current;for(var u in a){var c=u;l[c]!==a[c]&&(l[c]=a[c],i.current[c]&&(s=!0))}s&&!t.current&&e({})},[]);return jf(function(){r.current=n}),[r,i.current,o]},UN=function(n){return gs(n[1])?[n[0],n[1],n[2]||{}]:[n[0],null,(n[1]===null?n[2]:n[1])||{}]},zN=function(){return Ms(VN,Te.exports.useContext(HN))},$N=function(n){return function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var i=zN(),o=UN(e),a=o[0],s=o[1],l=o[2],u=WN(i,l),c=n,p=u.use;if(p)for(var h=p.length;h-- >0;)c=p[h](c);return c(a,s||u.fetcher,u)}},cx=function(n,t,e){var r=t[n]||(t[n]=[]);return r.push(e),function(){var i=r.indexOf(e);i>=0&&(r[i]=r[r.length-1],r.pop())}},ay={dedupe:!0},KN=function(n,t,e){var r=e.cache,i=e.compare,o=e.fallbackData,a=e.suspense,s=e.revalidateOnMount,l=e.refreshInterval,u=e.refreshWhenHidden,c=e.refreshWhenOffline,p=Ol.get(r),h=p[0],d=p[1],f=p[2],g=p[3],v=gP(n),m=v[0],C=v[1],b=v[2],w=Te.exports.useRef(!1),S=Te.exports.useRef(!1),T=Te.exports.useRef(m),E=Te.exports.useRef(t),P=Te.exports.useRef(e),R=function(){return P.current},M=function(){return R().isVisible()&&R().isOnline()},N=function(_e){return r.set(b,Ms(r.get(b),_e))},B=r.get(m),k=nn(o)?e.fallback[m]:o,G=nn(B)?k:B,V=r.get(b)||{},z=V.error,ee=!w.current,Q=function(){return ee&&!nn(s)?s:R().isPaused()?!1:a?nn(G)?!1:e.revalidateIfStale:nn(G)||e.revalidateIfStale},ue=function(){return!m||!t?!1:V.isValidating?!0:ee&&Q()},X=ue(),se=jN({data:G,error:z,isValidating:X},S),$=se[0],q=se[1],ce=se[2],he=Te.exports.useCallback(function(_e){return hP(void 0,void 0,void 0,function(){var Oe,De,Re,Ue,gt,Pe,Ye,pt,oe,et,Ge,ie,Xe;return dP(this,function(ht){switch(ht.label){case 0:if(Oe=E.current,!m||!Oe||S.current||R().isPaused())return[2,!1];Ue=!0,gt=_e||{},Pe=!g[m]||!gt.dedupe,Ye=function(){return!S.current&&m===T.current&&w.current},pt=function(){var St=g[m];St&&St[1]===Re&&delete g[m]},oe={isValidating:!1},et=function(){N({isValidating:!1}),Ye()&&ce(oe)},N({isValidating:!0}),ce({isValidating:!0}),ht.label=1;case 1:return ht.trys.push([1,3,,4]),Pe&&(ph(r,m,$.current.data,$.current.error,!0),e.loadingTimeout&&!r.get(m)&&setTimeout(function(){Ue&&Ye()&&R().onLoadingSlow(m,e)},e.loadingTimeout),g[m]=[Oe.apply(void 0,C),Fb()]),Xe=g[m],De=Xe[0],Re=Xe[1],[4,De];case 2:return De=ht.sent(),Pe&&setTimeout(pt,e.dedupingInterval),!g[m]||g[m][1]!==Re?(Pe&&Ye()&&R().onDiscarded(m),[2,!1]):(N({error:Rn}),oe.error=Rn,Ge=f[m],!nn(Ge)&&(Re<=Ge[0]||Re<=Ge[1]||Ge[1]===0)?(et(),Pe&&Ye()&&R().onDiscarded(m),[2,!1]):(i($.current.data,De)?oe.data=$.current.data:oe.data=De,i(r.get(m),De)||r.set(m,De),Pe&&Ye()&&R().onSuccess(De,m,e),[3,4]));case 3:return ie=ht.sent(),pt(),R().isPaused()||(N({error:ie}),oe.error=ie,Pe&&Ye()&&(R().onError(ie,m,e),(typeof e.shouldRetryOnError=="boolean"&&e.shouldRetryOnError||gs(e.shouldRetryOnError)&&e.shouldRetryOnError(ie))&&M()&&R().onErrorRetry(ie,m,e,he,{retryCount:(gt.retryCount||0)+1,dedupe:!0}))),[3,4];case 4:return Ue=!1,et(),Ye()&&Pe&&ph(r,m,oe.data,oe.error,!1),[2,!0]}})})},[m]),we=Te.exports.useCallback(CP.bind(Rn,r,function(){return T.current}),[]);if(jf(function(){E.current=t,P.current=e}),jf(function(){if(!!m){var _e=m!==T.current,Oe=he.bind(Rn,ay),De=function(Ye,pt,oe){ce(Ms({error:pt,isValidating:oe},i($.current.data,Ye)?Rn:{data:Ye}))},Re=0,Ue=function(Ye){if(Ye==vP){var pt=Date.now();R().revalidateOnFocus&&pt>Re&&M()&&(Re=pt+R().focusThrottleInterval,Oe())}else if(Ye==mP)R().revalidateOnReconnect&&M()&&Oe();else if(Ye==yP)return he()},gt=cx(m,d,De),Pe=cx(m,h,Ue);return S.current=!1,T.current=m,w.current=!0,_e&&ce({data:G,error:z,isValidating:X}),Q()&&(nn(G)||Kv?Oe():IN(Oe)),function(){S.current=!0,gt(),Pe()}}},[m,he]),jf(function(){var _e;function Oe(){var Re=gs(l)?l(G):l;Re&&_e!==-1&&(_e=setTimeout(De,Re))}function De(){!$.current.error&&(u||R().isVisible())&&(c||R().isOnline())?he(ay).then(Oe):Oe()}return Oe(),function(){_e&&(clearTimeout(_e),_e=-1)}},[l,u,c,he]),Te.exports.useDebugValue(G),a&&nn(G)&&m)throw E.current=t,P.current=e,S.current=!1,nn(z)?he(ay):z;return{mutate:we,get data(){return q.data=!0,G},get error(){return q.error=!0,z},get isValidating(){return q.isValidating=!0,X}}},wP=$N(KN);const px=Xt("div",{display:"flex",flexFlow:"column",padding:"$2",variants:{padding:{default:{padding:"$2"},none:{padding:0}},width:{full:{width:"100%"},"one-half":{width:"50%"},"one-third":{width:"33%"},"one-fourth":{width:"25%"}},align:{center:{margin:"0 auto"}}},defaultVariants:{width:"full",padding:"default"}}),hx=Xt("h2",{color:"$primaryDark",variants:{size:{small:{fontSize:"$2",fontWeight:"$big"},medium:{fontSize:"$3",fontWeight:"$big"},large:{fontSize:"$5",lineHeight:"24px",fontWeight:"$big"}}},defaultVariants:{size:"medium"}}),hh=Xt("h1",{fontWeight:"$semiBold",fontSize:"$4",variants:{color:{dark:{color:"$primaryDark"},light:{color:"$white"}},margin:{none:{margin:0}}},defaultVariants:{color:"dark"}}),YN=Xt("h2",{fontWeight:"$semiBold",fontSize:"$3",variants:{color:{dark:{color:"$primaryDark"},light:{color:"$white"},disabled:{color:"$gray4"}},margin:{none:{margin:0}}},defaultVariants:{color:"dark"}}),Ph=Xt("strong",{fontSize:"inherit",color:"inherit",fontWeight:"$semiBold"}),Ah=Xt("a",{textDecoration:"none",fontSize:"inherit",fontWeight:"inherit",borderRadius:"4px",variants:{color:{white:{color:"$white","&:hover":{color:"$primaryPurple",transition:"color 0.1s ease"}},blue:{color:"$linkBlue"},purple:{color:"$primaryPurple"}},weight:{normal:{fontWeight:"$normal"},semiBold:{fontWeight:"$semiBold"}}}}),dx=Xt("div",{width:"fit-content",backgroundColor:"$lightGray",padding:"$2",whiteSpace:"pre-wrap",fontFamily:"monospace",fontSize:"$3"}),XN=`import databutton as db
import streamlit as st

@db.apps.streamlit(route="/app", name="My App")
def app():
    st.title("My app")

@db.jobs.repeat_every(seconds=60, name="My Job")
def job():
    # Something amazing here
    print("Success!")
`,qN="$ databutton deploy",ZN=({mode:n,editButton:t,deleteButton:e})=>n==="local"?Lt(Oa,{children:[le(hx,{size:"large",children:"Oh, this project seems a bit empty"}),le(Ei,{children:"To add components to your project add one of the following decorators to any of your .py-files and they will magically appear here"}),le(hs,{height:"small"}),le(dx,{children:XN}),le(hs,{height:"small"}),Lt(Ei,{children:["To learn more about Databutton head over to our"," ",le(Ah,{href:"https://docs.databutton.com",target:"_blank",rel:"noreferrer",color:"blue",children:"documentation"})]})]}):Lt(Oa,{children:[le(hx,{size:"large",children:"Oh, this project seems not to have been deployed yet."}),le(Ei,{children:"To deploy your project, navigate to your project folder and enter the following command."}),le(hs,{height:"small"}),le(dx,{children:qN}),le(hs,{height:"small"}),Lt(Ei,{children:["To learn more about Databutton,"," ",le(Ah,{color:"blue",href:"https://docs.databutton.com",target:"_blank",rel:"noreferrer",children:"head over to our documentation"}),"."]}),le(hs,{}),Lt(y_,{children:[t,e]})]}),QN="Opened an app",JN="Opened a dataframe";/*!
 * Font Awesome Free 6.1.1 by @fontawesome - https://fontawesome.com
 * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
 * Copyright 2022 Fonticons, Inc.
 */var ek={prefix:"fas",iconName:"rocket",icon:[512,512,[],"f135","M156.6 384.9L125.7 353.1C117.2 345.5 114.2 333.1 117.1 321.8C120.1 312.9 124.1 301.3 129.8 288H24C15.38 288 7.414 283.4 3.146 275.9C-1.123 268.4-1.042 259.2 3.357 251.8L55.83 163.3C68.79 141.4 92.33 127.1 117.8 127.1H200C202.4 124 204.8 120.3 207.2 116.7C289.1-4.07 411.1-8.142 483.9 5.275C495.6 7.414 504.6 16.43 506.7 28.06C520.1 100.9 516.1 222.9 395.3 304.8C391.8 307.2 387.1 309.6 384 311.1V394.2C384 419.7 370.6 443.2 348.7 456.2L260.2 508.6C252.8 513 243.6 513.1 236.1 508.9C228.6 504.6 224 496.6 224 488V380.8C209.9 385.6 197.6 389.7 188.3 392.7C177.1 396.3 164.9 393.2 156.6 384.9V384.9zM384 167.1C406.1 167.1 424 150.1 424 127.1C424 105.9 406.1 87.1 384 87.1C361.9 87.1 344 105.9 344 127.1C344 150.1 361.9 167.1 384 167.1z"]},tk={prefix:"fas",iconName:"spinner",icon:[512,512,[],"f110","M304 48C304 74.51 282.5 96 256 96C229.5 96 208 74.51 208 48C208 21.49 229.5 0 256 0C282.5 0 304 21.49 304 48zM304 464C304 490.5 282.5 512 256 512C229.5 512 208 490.5 208 464C208 437.5 229.5 416 256 416C282.5 416 304 437.5 304 464zM0 256C0 229.5 21.49 208 48 208C74.51 208 96 229.5 96 256C96 282.5 74.51 304 48 304C21.49 304 0 282.5 0 256zM512 256C512 282.5 490.5 304 464 304C437.5 304 416 282.5 416 256C416 229.5 437.5 208 464 208C490.5 208 512 229.5 512 256zM74.98 437C56.23 418.3 56.23 387.9 74.98 369.1C93.73 350.4 124.1 350.4 142.9 369.1C161.6 387.9 161.6 418.3 142.9 437C124.1 455.8 93.73 455.8 74.98 437V437zM142.9 142.9C124.1 161.6 93.73 161.6 74.98 142.9C56.24 124.1 56.24 93.73 74.98 74.98C93.73 56.23 124.1 56.23 142.9 74.98C161.6 93.73 161.6 124.1 142.9 142.9zM369.1 369.1C387.9 350.4 418.3 350.4 437 369.1C455.8 387.9 455.8 418.3 437 437C418.3 455.8 387.9 455.8 369.1 437C350.4 418.3 350.4 387.9 369.1 369.1V369.1z"]},rk={prefix:"fas",iconName:"stopwatch",icon:[448,512,[9201],"f2f2","M272 0C289.7 0 304 14.33 304 32C304 49.67 289.7 64 272 64H256V98.45C293.5 104.2 327.7 120 355.7 143L377.4 121.4C389.9 108.9 410.1 108.9 422.6 121.4C435.1 133.9 435.1 154.1 422.6 166.6L398.5 190.8C419.7 223.3 432 262.2 432 304C432 418.9 338.9 512 224 512C109.1 512 16 418.9 16 304C16 200 92.32 113.8 192 98.45V64H176C158.3 64 144 49.67 144 32C144 14.33 158.3 0 176 0L272 0zM248 192C248 178.7 237.3 168 224 168C210.7 168 200 178.7 200 192V320C200 333.3 210.7 344 224 344C237.3 344 248 333.3 248 320V192z"]},nk={prefix:"fas",iconName:"table",icon:[512,512,[],"f0ce","M448 32C483.3 32 512 60.65 512 96V416C512 451.3 483.3 480 448 480H64C28.65 480 0 451.3 0 416V96C0 60.65 28.65 32 64 32H448zM224 256V160H64V256H224zM64 320V416H224V320H64zM288 416H448V320H288V416zM448 256V160H288V256H448z"]},_P={prefix:"fas",iconName:"xmark",icon:[320,512,[128473,10005,10006,10060,215,"close","multiply","remove","times"],"f00d","M310.6 361.4c12.5 12.5 12.5 32.75 0 45.25C304.4 412.9 296.2 416 288 416s-16.38-3.125-22.62-9.375L160 301.3L54.63 406.6C48.38 412.9 40.19 416 32 416S15.63 412.9 9.375 406.6c-12.5-12.5-12.5-32.75 0-45.25l105.4-105.4L9.375 150.6c-12.5-12.5-12.5-32.75 0-45.25s32.75-12.5 45.25 0L160 210.8l105.4-105.4c12.5-12.5 32.75-12.5 45.25 0s12.5 32.75 0 45.25l-105.4 105.4L310.6 361.4z"]};/*!
 * Font Awesome Free 6.1.1 by @fontawesome - https://fontawesome.com
 * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
 * Copyright 2022 Fonticons, Inc.
 */function fx(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),e.push.apply(e,r)}return e}function ge(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?fx(Object(e),!0).forEach(function(r){ak(n,r,e[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):fx(Object(e)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(e,r))})}return n}function hg(n){return hg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hg(n)}function ik(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function gx(n,t){for(var e=0;e<t.length;e++){var r=t[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function ok(n,t,e){return t&&gx(n.prototype,t),e&&gx(n,e),Object.defineProperty(n,"prototype",{writable:!1}),n}function ak(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function x_(n,t){return lk(n)||ck(n,t)||SP(n,t)||hk()}function Yv(n){return sk(n)||uk(n)||SP(n)||pk()}function sk(n){if(Array.isArray(n))return Ib(n)}function lk(n){if(Array.isArray(n))return n}function uk(n){if(typeof Symbol!="undefined"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function ck(n,t){var e=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(e!=null){var r=[],i=!0,o=!1,a,s;try{for(e=e.call(n);!(i=(a=e.next()).done)&&(r.push(a.value),!(t&&r.length===t));i=!0);}catch(l){o=!0,s=l}finally{try{!i&&e.return!=null&&e.return()}finally{if(o)throw s}}return r}}function SP(n,t){if(!!n){if(typeof n=="string")return Ib(n,t);var e=Object.prototype.toString.call(n).slice(8,-1);if(e==="Object"&&n.constructor&&(e=n.constructor.name),e==="Map"||e==="Set")return Array.from(n);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return Ib(n,t)}}function Ib(n,t){(t==null||t>n.length)&&(t=n.length);for(var e=0,r=new Array(t);e<t;e++)r[e]=n[e];return r}function pk(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hk(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var vx=function(){},T_={},xP={},TP=null,OP={mark:vx,measure:vx};try{typeof window!="undefined"&&(T_=window),typeof document!="undefined"&&(xP=document),typeof MutationObserver!="undefined"&&(TP=MutationObserver),typeof performance!="undefined"&&(OP=performance)}catch{}var dk=T_.navigator||{},mx=dk.userAgent,yx=mx===void 0?"":mx,Fs=T_,$t=xP,Cx=TP,Dd=OP;Fs.document;var Ga=!!$t.documentElement&&!!$t.head&&typeof $t.addEventListener=="function"&&typeof $t.createElement=="function",EP=~yx.indexOf("MSIE")||~yx.indexOf("Trident/"),Ea="___FONT_AWESOME___",Lb=16,RP="fa",PP="svg-inline--fa",Kl="data-fa-i2svg",Nb="data-fa-pseudo-element",fk="data-fa-pseudo-element-pending",O_="data-prefix",E_="data-icon",bx="fontawesome-i2svg",gk="async",vk=["HTML","HEAD","STYLE","SCRIPT"],AP=function(){try{return!0}catch{return!1}}(),R_={fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fad:"duotone","fa-duotone":"duotone",fab:"brands","fa-brands":"brands",fak:"kit","fa-kit":"kit",fa:"solid"},dg={solid:"fas",regular:"far",light:"fal",thin:"fat",duotone:"fad",brands:"fab",kit:"fak"},DP={fab:"fa-brands",fad:"fa-duotone",fak:"fa-kit",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"},mk={"fa-brands":"fab","fa-duotone":"fad","fa-kit":"fak","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"},yk=/fa[srltdbk\-\ ]/,MP="fa-layers-text",Ck=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Kit)?.*/i,bk={900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},FP=[1,2,3,4,5,6,7,8,9,10],wk=FP.concat([11,12,13,14,15,16,17,18,19,20]),_k=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],El={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},Sk=[].concat(Yv(Object.keys(dg)),["2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul",El.GROUP,El.SWAP_OPACITY,El.PRIMARY,El.SECONDARY]).concat(FP.map(function(n){return"".concat(n,"x")})).concat(wk.map(function(n){return"w-".concat(n)})),IP=Fs.FontAwesomeConfig||{};function xk(n){var t=$t.querySelector("script["+n+"]");if(t)return t.getAttribute(n)}function Tk(n){return n===""?!0:n==="false"?!1:n==="true"?!0:n}if($t&&typeof $t.querySelector=="function"){var Ok=[["data-family-prefix","familyPrefix"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]];Ok.forEach(function(n){var t=x_(n,2),e=t[0],r=t[1],i=Tk(xk(e));i!=null&&(IP[r]=i)})}var Ek={familyPrefix:RP,styleDefault:"solid",replacementClass:PP,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0},dh=ge(ge({},Ek),IP);dh.autoReplaceSvg||(dh.observeMutations=!1);var xe={};Object.keys(dh).forEach(function(n){Object.defineProperty(xe,n,{enumerable:!0,set:function(e){dh[n]=e,Uf.forEach(function(r){return r(xe)})},get:function(){return dh[n]}})});Fs.FontAwesomeConfig=xe;var Uf=[];function Rk(n){return Uf.push(n),function(){Uf.splice(Uf.indexOf(n),1)}}var $a=Lb,Bo={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function Pk(n){if(!(!n||!Ga)){var t=$t.createElement("style");t.setAttribute("type","text/css"),t.innerHTML=n;for(var e=$t.head.childNodes,r=null,i=e.length-1;i>-1;i--){var o=e[i],a=(o.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(a)>-1&&(r=o)}return $t.head.insertBefore(t,r),n}}var Ak="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function Dh(){for(var n=12,t="";n-- >0;)t+=Ak[Math.random()*62|0];return t}function $c(n){for(var t=[],e=(n||[]).length>>>0;e--;)t[e]=n[e];return t}function P_(n){return n.classList?$c(n.classList):(n.getAttribute("class")||"").split(" ").filter(function(t){return t})}function LP(n){return"".concat(n).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function Dk(n){return Object.keys(n||{}).reduce(function(t,e){return t+"".concat(e,'="').concat(LP(n[e]),'" ')},"").trim()}function Xv(n){return Object.keys(n||{}).reduce(function(t,e){return t+"".concat(e,": ").concat(n[e].trim(),";")},"")}function A_(n){return n.size!==Bo.size||n.x!==Bo.x||n.y!==Bo.y||n.rotate!==Bo.rotate||n.flipX||n.flipY}function Mk(n){var t=n.transform,e=n.containerWidth,r=n.iconWidth,i={transform:"translate(".concat(e/2," 256)")},o="translate(".concat(t.x*32,", ").concat(t.y*32,") "),a="scale(".concat(t.size/16*(t.flipX?-1:1),", ").concat(t.size/16*(t.flipY?-1:1),") "),s="rotate(".concat(t.rotate," 0 0)"),l={transform:"".concat(o," ").concat(a," ").concat(s)},u={transform:"translate(".concat(r/2*-1," -256)")};return{outer:i,inner:l,path:u}}function Fk(n){var t=n.transform,e=n.width,r=e===void 0?Lb:e,i=n.height,o=i===void 0?Lb:i,a=n.startCentered,s=a===void 0?!1:a,l="";return s&&EP?l+="translate(".concat(t.x/$a-r/2,"em, ").concat(t.y/$a-o/2,"em) "):s?l+="translate(calc(-50% + ".concat(t.x/$a,"em), calc(-50% + ").concat(t.y/$a,"em)) "):l+="translate(".concat(t.x/$a,"em, ").concat(t.y/$a,"em) "),l+="scale(".concat(t.size/$a*(t.flipX?-1:1),", ").concat(t.size/$a*(t.flipY?-1:1),") "),l+="rotate(".concat(t.rotate,"deg) "),l}var Ik=`:root, :host {
  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Solid";
  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Regular";
  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Light";
  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Thin";
  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";
  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";
}

svg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {
  overflow: visible;
  box-sizing: content-box;
}

.svg-inline--fa {
  display: var(--fa-display, inline-block);
  height: 1em;
  overflow: visible;
  vertical-align: -0.125em;
}
.svg-inline--fa.fa-2xs {
  vertical-align: 0.1em;
}
.svg-inline--fa.fa-xs {
  vertical-align: 0em;
}
.svg-inline--fa.fa-sm {
  vertical-align: -0.0714285705em;
}
.svg-inline--fa.fa-lg {
  vertical-align: -0.2em;
}
.svg-inline--fa.fa-xl {
  vertical-align: -0.25em;
}
.svg-inline--fa.fa-2xl {
  vertical-align: -0.3125em;
}
.svg-inline--fa.fa-pull-left {
  margin-right: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-pull-right {
  margin-left: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-li {
  width: var(--fa-li-width, 2em);
  top: 0.25em;
}
.svg-inline--fa.fa-fw {
  width: var(--fa-fw-width, 1.25em);
}

.fa-layers svg.svg-inline--fa {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
}

.fa-layers-counter, .fa-layers-text {
  display: inline-block;
  position: absolute;
  text-align: center;
}

.fa-layers {
  display: inline-block;
  height: 1em;
  position: relative;
  text-align: center;
  vertical-align: -0.125em;
  width: 1em;
}
.fa-layers svg.svg-inline--fa {
  -webkit-transform-origin: center center;
          transform-origin: center center;
}

.fa-layers-text {
  left: 50%;
  top: 50%;
  -webkit-transform: translate(-50%, -50%);
          transform: translate(-50%, -50%);
  -webkit-transform-origin: center center;
          transform-origin: center center;
}

.fa-layers-counter {
  background-color: var(--fa-counter-background-color, #ff253a);
  border-radius: var(--fa-counter-border-radius, 1em);
  box-sizing: border-box;
  color: var(--fa-inverse, #fff);
  line-height: var(--fa-counter-line-height, 1);
  max-width: var(--fa-counter-max-width, 5em);
  min-width: var(--fa-counter-min-width, 1.5em);
  overflow: hidden;
  padding: var(--fa-counter-padding, 0.25em 0.5em);
  right: var(--fa-right, 0);
  text-overflow: ellipsis;
  top: var(--fa-top, 0);
  -webkit-transform: scale(var(--fa-counter-scale, 0.25));
          transform: scale(var(--fa-counter-scale, 0.25));
  -webkit-transform-origin: top right;
          transform-origin: top right;
}

.fa-layers-bottom-right {
  bottom: var(--fa-bottom, 0);
  right: var(--fa-right, 0);
  top: auto;
  -webkit-transform: scale(var(--fa-layers-scale, 0.25));
          transform: scale(var(--fa-layers-scale, 0.25));
  -webkit-transform-origin: bottom right;
          transform-origin: bottom right;
}

.fa-layers-bottom-left {
  bottom: var(--fa-bottom, 0);
  left: var(--fa-left, 0);
  right: auto;
  top: auto;
  -webkit-transform: scale(var(--fa-layers-scale, 0.25));
          transform: scale(var(--fa-layers-scale, 0.25));
  -webkit-transform-origin: bottom left;
          transform-origin: bottom left;
}

.fa-layers-top-right {
  top: var(--fa-top, 0);
  right: var(--fa-right, 0);
  -webkit-transform: scale(var(--fa-layers-scale, 0.25));
          transform: scale(var(--fa-layers-scale, 0.25));
  -webkit-transform-origin: top right;
          transform-origin: top right;
}

.fa-layers-top-left {
  left: var(--fa-left, 0);
  right: auto;
  top: var(--fa-top, 0);
  -webkit-transform: scale(var(--fa-layers-scale, 0.25));
          transform: scale(var(--fa-layers-scale, 0.25));
  -webkit-transform-origin: top left;
          transform-origin: top left;
}

.fa-1x {
  font-size: 1em;
}

.fa-2x {
  font-size: 2em;
}

.fa-3x {
  font-size: 3em;
}

.fa-4x {
  font-size: 4em;
}

.fa-5x {
  font-size: 5em;
}

.fa-6x {
  font-size: 6em;
}

.fa-7x {
  font-size: 7em;
}

.fa-8x {
  font-size: 8em;
}

.fa-9x {
  font-size: 9em;
}

.fa-10x {
  font-size: 10em;
}

.fa-2xs {
  font-size: 0.625em;
  line-height: 0.1em;
  vertical-align: 0.225em;
}

.fa-xs {
  font-size: 0.75em;
  line-height: 0.0833333337em;
  vertical-align: 0.125em;
}

.fa-sm {
  font-size: 0.875em;
  line-height: 0.0714285718em;
  vertical-align: 0.0535714295em;
}

.fa-lg {
  font-size: 1.25em;
  line-height: 0.05em;
  vertical-align: -0.075em;
}

.fa-xl {
  font-size: 1.5em;
  line-height: 0.0416666682em;
  vertical-align: -0.125em;
}

.fa-2xl {
  font-size: 2em;
  line-height: 0.03125em;
  vertical-align: -0.1875em;
}

.fa-fw {
  text-align: center;
  width: 1.25em;
}

.fa-ul {
  list-style-type: none;
  margin-left: var(--fa-li-margin, 2.5em);
  padding-left: 0;
}
.fa-ul > li {
  position: relative;
}

.fa-li {
  left: calc(var(--fa-li-width, 2em) * -1);
  position: absolute;
  text-align: center;
  width: var(--fa-li-width, 2em);
  line-height: inherit;
}

.fa-border {
  border-color: var(--fa-border-color, #eee);
  border-radius: var(--fa-border-radius, 0.1em);
  border-style: var(--fa-border-style, solid);
  border-width: var(--fa-border-width, 0.08em);
  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);
}

.fa-pull-left {
  float: left;
  margin-right: var(--fa-pull-margin, 0.3em);
}

.fa-pull-right {
  float: right;
  margin-left: var(--fa-pull-margin, 0.3em);
}

.fa-beat {
  -webkit-animation-name: fa-beat;
          animation-name: fa-beat;
  -webkit-animation-delay: var(--fa-animation-delay, 0);
          animation-delay: var(--fa-animation-delay, 0);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);
          animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-bounce {
  -webkit-animation-name: fa-bounce;
          animation-name: fa-bounce;
  -webkit-animation-delay: var(--fa-animation-delay, 0);
          animation-delay: var(--fa-animation-delay, 0);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));
          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));
}

.fa-fade {
  -webkit-animation-name: fa-fade;
          animation-name: fa-fade;
  -webkit-animation-delay: var(--fa-animation-delay, 0);
          animation-delay: var(--fa-animation-delay, 0);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-beat-fade {
  -webkit-animation-name: fa-beat-fade;
          animation-name: fa-beat-fade;
  -webkit-animation-delay: var(--fa-animation-delay, 0);
          animation-delay: var(--fa-animation-delay, 0);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-flip {
  -webkit-animation-name: fa-flip;
          animation-name: fa-flip;
  -webkit-animation-delay: var(--fa-animation-delay, 0);
          animation-delay: var(--fa-animation-delay, 0);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);
          animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-shake {
  -webkit-animation-name: fa-shake;
          animation-name: fa-shake;
  -webkit-animation-delay: var(--fa-animation-delay, 0);
          animation-delay: var(--fa-animation-delay, 0);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, linear);
          animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin {
  -webkit-animation-name: fa-spin;
          animation-name: fa-spin;
  -webkit-animation-delay: var(--fa-animation-delay, 0);
          animation-delay: var(--fa-animation-delay, 0);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 2s);
          animation-duration: var(--fa-animation-duration, 2s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, linear);
          animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin-reverse {
  --fa-animation-direction: reverse;
}

.fa-pulse,
.fa-spin-pulse {
  -webkit-animation-name: fa-spin;
          animation-name: fa-spin;
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, steps(8));
          animation-timing-function: var(--fa-animation-timing, steps(8));
}

@media (prefers-reduced-motion: reduce) {
  .fa-beat,
.fa-bounce,
.fa-fade,
.fa-beat-fade,
.fa-flip,
.fa-pulse,
.fa-shake,
.fa-spin,
.fa-spin-pulse {
    -webkit-animation-delay: -1ms;
            animation-delay: -1ms;
    -webkit-animation-duration: 1ms;
            animation-duration: 1ms;
    -webkit-animation-iteration-count: 1;
            animation-iteration-count: 1;
    transition-delay: 0s;
    transition-duration: 0s;
  }
}
@-webkit-keyframes fa-beat {
  0%, 90% {
    -webkit-transform: scale(1);
            transform: scale(1);
  }
  45% {
    -webkit-transform: scale(var(--fa-beat-scale, 1.25));
            transform: scale(var(--fa-beat-scale, 1.25));
  }
}
@keyframes fa-beat {
  0%, 90% {
    -webkit-transform: scale(1);
            transform: scale(1);
  }
  45% {
    -webkit-transform: scale(var(--fa-beat-scale, 1.25));
            transform: scale(var(--fa-beat-scale, 1.25));
  }
}
@-webkit-keyframes fa-bounce {
  0% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
  10% {
    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
  }
  30% {
    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
  }
  50% {
    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
  }
  57% {
    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
  }
  64% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
  100% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
}
@keyframes fa-bounce {
  0% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
  10% {
    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
  }
  30% {
    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
  }
  50% {
    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
  }
  57% {
    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
  }
  64% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
  100% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
}
@-webkit-keyframes fa-fade {
  50% {
    opacity: var(--fa-fade-opacity, 0.4);
  }
}
@keyframes fa-fade {
  50% {
    opacity: var(--fa-fade-opacity, 0.4);
  }
}
@-webkit-keyframes fa-beat-fade {
  0%, 100% {
    opacity: var(--fa-beat-fade-opacity, 0.4);
    -webkit-transform: scale(1);
            transform: scale(1);
  }
  50% {
    opacity: 1;
    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));
            transform: scale(var(--fa-beat-fade-scale, 1.125));
  }
}
@keyframes fa-beat-fade {
  0%, 100% {
    opacity: var(--fa-beat-fade-opacity, 0.4);
    -webkit-transform: scale(1);
            transform: scale(1);
  }
  50% {
    opacity: 1;
    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));
            transform: scale(var(--fa-beat-fade-scale, 1.125));
  }
}
@-webkit-keyframes fa-flip {
  50% {
    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
  }
}
@keyframes fa-flip {
  50% {
    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
  }
}
@-webkit-keyframes fa-shake {
  0% {
    -webkit-transform: rotate(-15deg);
            transform: rotate(-15deg);
  }
  4% {
    -webkit-transform: rotate(15deg);
            transform: rotate(15deg);
  }
  8%, 24% {
    -webkit-transform: rotate(-18deg);
            transform: rotate(-18deg);
  }
  12%, 28% {
    -webkit-transform: rotate(18deg);
            transform: rotate(18deg);
  }
  16% {
    -webkit-transform: rotate(-22deg);
            transform: rotate(-22deg);
  }
  20% {
    -webkit-transform: rotate(22deg);
            transform: rotate(22deg);
  }
  32% {
    -webkit-transform: rotate(-12deg);
            transform: rotate(-12deg);
  }
  36% {
    -webkit-transform: rotate(12deg);
            transform: rotate(12deg);
  }
  40%, 100% {
    -webkit-transform: rotate(0deg);
            transform: rotate(0deg);
  }
}
@keyframes fa-shake {
  0% {
    -webkit-transform: rotate(-15deg);
            transform: rotate(-15deg);
  }
  4% {
    -webkit-transform: rotate(15deg);
            transform: rotate(15deg);
  }
  8%, 24% {
    -webkit-transform: rotate(-18deg);
            transform: rotate(-18deg);
  }
  12%, 28% {
    -webkit-transform: rotate(18deg);
            transform: rotate(18deg);
  }
  16% {
    -webkit-transform: rotate(-22deg);
            transform: rotate(-22deg);
  }
  20% {
    -webkit-transform: rotate(22deg);
            transform: rotate(22deg);
  }
  32% {
    -webkit-transform: rotate(-12deg);
            transform: rotate(-12deg);
  }
  36% {
    -webkit-transform: rotate(12deg);
            transform: rotate(12deg);
  }
  40%, 100% {
    -webkit-transform: rotate(0deg);
            transform: rotate(0deg);
  }
}
@-webkit-keyframes fa-spin {
  0% {
    -webkit-transform: rotate(0deg);
            transform: rotate(0deg);
  }
  100% {
    -webkit-transform: rotate(360deg);
            transform: rotate(360deg);
  }
}
@keyframes fa-spin {
  0% {
    -webkit-transform: rotate(0deg);
            transform: rotate(0deg);
  }
  100% {
    -webkit-transform: rotate(360deg);
            transform: rotate(360deg);
  }
}
.fa-rotate-90 {
  -webkit-transform: rotate(90deg);
          transform: rotate(90deg);
}

.fa-rotate-180 {
  -webkit-transform: rotate(180deg);
          transform: rotate(180deg);
}

.fa-rotate-270 {
  -webkit-transform: rotate(270deg);
          transform: rotate(270deg);
}

.fa-flip-horizontal {
  -webkit-transform: scale(-1, 1);
          transform: scale(-1, 1);
}

.fa-flip-vertical {
  -webkit-transform: scale(1, -1);
          transform: scale(1, -1);
}

.fa-flip-both,
.fa-flip-horizontal.fa-flip-vertical {
  -webkit-transform: scale(-1, -1);
          transform: scale(-1, -1);
}

.fa-rotate-by {
  -webkit-transform: rotate(var(--fa-rotate-angle, none));
          transform: rotate(var(--fa-rotate-angle, none));
}

.fa-stack {
  display: inline-block;
  vertical-align: middle;
  height: 2em;
  position: relative;
  width: 2.5em;
}

.fa-stack-1x,
.fa-stack-2x {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
  z-index: var(--fa-stack-z-index, auto);
}

.svg-inline--fa.fa-stack-1x {
  height: 1em;
  width: 1.25em;
}
.svg-inline--fa.fa-stack-2x {
  height: 2em;
  width: 2.5em;
}

.fa-inverse {
  color: var(--fa-inverse, #fff);
}

.sr-only,
.fa-sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.sr-only-focusable:not(:focus),
.fa-sr-only-focusable:not(:focus) {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.svg-inline--fa .fa-primary {
  fill: var(--fa-primary-color, currentColor);
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa .fa-secondary {
  fill: var(--fa-secondary-color, currentColor);
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-primary {
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-secondary {
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa mask .fa-primary,
.svg-inline--fa mask .fa-secondary {
  fill: black;
}

.fad.fa-inverse,
.fa-duotone.fa-inverse {
  color: var(--fa-inverse, #fff);
}`;function NP(){var n=RP,t=PP,e=xe.familyPrefix,r=xe.replacementClass,i=Ik;if(e!==n||r!==t){var o=new RegExp("\\.".concat(n,"\\-"),"g"),a=new RegExp("\\--".concat(n,"\\-"),"g"),s=new RegExp("\\.".concat(t),"g");i=i.replace(o,".".concat(e,"-")).replace(a,"--".concat(e,"-")).replace(s,".".concat(r))}return i}var wx=!1;function sy(){xe.autoAddCss&&!wx&&(Pk(NP()),wx=!0)}var Lk={mixout:function(){return{dom:{css:NP,insertCss:sy}}},hooks:function(){return{beforeDOMElementCreation:function(){sy()},beforeI2svg:function(){sy()}}}},Ra=Fs||{};Ra[Ea]||(Ra[Ea]={});Ra[Ea].styles||(Ra[Ea].styles={});Ra[Ea].hooks||(Ra[Ea].hooks={});Ra[Ea].shims||(Ra[Ea].shims=[]);var Xi=Ra[Ea],kP=[],Nk=function n(){$t.removeEventListener("DOMContentLoaded",n),fg=1,kP.map(function(t){return t()})},fg=!1;Ga&&(fg=($t.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test($t.readyState),fg||$t.addEventListener("DOMContentLoaded",Nk));function kk(n){!Ga||(fg?setTimeout(n,0):kP.push(n))}function rd(n){var t=n.tag,e=n.attributes,r=e===void 0?{}:e,i=n.children,o=i===void 0?[]:i;return typeof n=="string"?LP(n):"<".concat(t," ").concat(Dk(r),">").concat(o.map(rd).join(""),"</").concat(t,">")}function _x(n,t,e){if(n&&n[t]&&n[t][e])return{prefix:t,iconName:e,icon:n[t][e]}}var Gk=function(t,e){return function(r,i,o,a){return t.call(e,r,i,o,a)}},ly=function(t,e,r,i){var o=Object.keys(t),a=o.length,s=i!==void 0?Gk(e,i):e,l,u,c;for(r===void 0?(l=1,c=t[o[0]]):(l=0,c=r);l<a;l++)u=o[l],c=s(c,t[u],u,t);return c};function Bk(n){for(var t=[],e=0,r=n.length;e<r;){var i=n.charCodeAt(e++);if(i>=55296&&i<=56319&&e<r){var o=n.charCodeAt(e++);(o&64512)==56320?t.push(((i&1023)<<10)+(o&1023)+65536):(t.push(i),e--)}else t.push(i)}return t}function kb(n){var t=Bk(n);return t.length===1?t[0].toString(16):null}function Vk(n,t){var e=n.length,r=n.charCodeAt(t),i;return r>=55296&&r<=56319&&e>t+1&&(i=n.charCodeAt(t+1),i>=56320&&i<=57343)?(r-55296)*1024+i-56320+65536:r}function Sx(n){return Object.keys(n).reduce(function(t,e){var r=n[e],i=!!r.icon;return i?t[r.iconName]=r.icon:t[e]=r,t},{})}function Gb(n,t){var e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=e.skipHooks,i=r===void 0?!1:r,o=Sx(t);typeof Xi.hooks.addPack=="function"&&!i?Xi.hooks.addPack(n,Sx(t)):Xi.styles[n]=ge(ge({},Xi.styles[n]||{}),o),n==="fas"&&Gb("fa",t)}var fh=Xi.styles,Wk=Xi.shims,Hk=Object.values(DP),D_=null,GP={},BP={},VP={},WP={},HP={},jk=Object.keys(R_);function Uk(n){return~Sk.indexOf(n)}function zk(n,t){var e=t.split("-"),r=e[0],i=e.slice(1).join("-");return r===n&&i!==""&&!Uk(i)?i:null}var jP=function(){var t=function(o){return ly(fh,function(a,s,l){return a[l]=ly(s,o,{}),a},{})};GP=t(function(i,o,a){if(o[3]&&(i[o[3]]=a),o[2]){var s=o[2].filter(function(l){return typeof l=="number"});s.forEach(function(l){i[l.toString(16)]=a})}return i}),BP=t(function(i,o,a){if(i[a]=a,o[2]){var s=o[2].filter(function(l){return typeof l=="string"});s.forEach(function(l){i[l]=a})}return i}),HP=t(function(i,o,a){var s=o[2];return i[a]=a,s.forEach(function(l){i[l]=a}),i});var e="far"in fh||xe.autoFetchSvg,r=ly(Wk,function(i,o){var a=o[0],s=o[1],l=o[2];return s==="far"&&!e&&(s="fas"),typeof a=="string"&&(i.names[a]={prefix:s,iconName:l}),typeof a=="number"&&(i.unicodes[a.toString(16)]={prefix:s,iconName:l}),i},{names:{},unicodes:{}});VP=r.names,WP=r.unicodes,D_=qv(xe.styleDefault)};Rk(function(n){D_=qv(n.styleDefault)});jP();function M_(n,t){return(GP[n]||{})[t]}function $k(n,t){return(BP[n]||{})[t]}function tc(n,t){return(HP[n]||{})[t]}function UP(n){return VP[n]||{prefix:null,iconName:null}}function Kk(n){var t=WP[n],e=M_("fas",n);return t||(e?{prefix:"fas",iconName:e}:null)||{prefix:null,iconName:null}}function Is(){return D_}var F_=function(){return{prefix:null,iconName:null,rest:[]}};function qv(n){var t=R_[n],e=dg[n]||dg[t],r=n in Xi.styles?n:null;return e||r||null}function Zv(n){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},e=t.skipLookups,r=e===void 0?!1:e,i=null,o=n.reduce(function(a,s){var l=zk(xe.familyPrefix,s);if(fh[s]?(s=Hk.includes(s)?mk[s]:s,i=s,a.prefix=s):jk.indexOf(s)>-1?(i=s,a.prefix=qv(s)):l?a.iconName=l:s!==xe.replacementClass&&a.rest.push(s),!r&&a.prefix&&a.iconName){var u=i==="fa"?UP(a.iconName):{},c=tc(a.prefix,a.iconName);u.prefix&&(i=null),a.iconName=u.iconName||c||a.iconName,a.prefix=u.prefix||a.prefix,a.prefix==="far"&&!fh.far&&fh.fas&&!xe.autoFetchSvg&&(a.prefix="fas")}return a},F_());return(o.prefix==="fa"||i==="fa")&&(o.prefix=Is()||"fas"),o}var Yk=function(){function n(){ik(this,n),this.definitions={}}return ok(n,[{key:"add",value:function(){for(var e=this,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];var a=i.reduce(this._pullDefinitions,{});Object.keys(a).forEach(function(s){e.definitions[s]=ge(ge({},e.definitions[s]||{}),a[s]),Gb(s,a[s]);var l=DP[s];l&&Gb(l,a[s]),jP()})}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(e,r){var i=r.prefix&&r.iconName&&r.icon?{0:r}:r;return Object.keys(i).map(function(o){var a=i[o],s=a.prefix,l=a.iconName,u=a.icon,c=u[2];e[s]||(e[s]={}),c.length>0&&c.forEach(function(p){typeof p=="string"&&(e[s][p]=u)}),e[s][l]=u}),e}}]),n}(),xx=[],rc={},gc={},Xk=Object.keys(gc);function qk(n,t){var e=t.mixoutsTo;return xx=n,rc={},Object.keys(gc).forEach(function(r){Xk.indexOf(r)===-1&&delete gc[r]}),xx.forEach(function(r){var i=r.mixout?r.mixout():{};if(Object.keys(i).forEach(function(a){typeof i[a]=="function"&&(e[a]=i[a]),hg(i[a])==="object"&&Object.keys(i[a]).forEach(function(s){e[a]||(e[a]={}),e[a][s]=i[a][s]})}),r.hooks){var o=r.hooks();Object.keys(o).forEach(function(a){rc[a]||(rc[a]=[]),rc[a].push(o[a])})}r.provides&&r.provides(gc)}),e}function Bb(n,t){for(var e=arguments.length,r=new Array(e>2?e-2:0),i=2;i<e;i++)r[i-2]=arguments[i];var o=rc[n]||[];return o.forEach(function(a){t=a.apply(null,[t].concat(r))}),t}function Yl(n){for(var t=arguments.length,e=new Array(t>1?t-1:0),r=1;r<t;r++)e[r-1]=arguments[r];var i=rc[n]||[];i.forEach(function(o){o.apply(null,e)})}function Pa(){var n=arguments[0],t=Array.prototype.slice.call(arguments,1);return gc[n]?gc[n].apply(null,t):void 0}function Vb(n){n.prefix==="fa"&&(n.prefix="fas");var t=n.iconName,e=n.prefix||Is();if(!!t)return t=tc(e,t)||t,_x(zP.definitions,e,t)||_x(Xi.styles,e,t)}var zP=new Yk,Zk=function(){xe.autoReplaceSvg=!1,xe.observeMutations=!1,Yl("noAuto")},Qk={i2svg:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Ga?(Yl("beforeI2svg",t),Pa("pseudoElements2svg",t),Pa("i2svg",t)):Promise.reject("Operation requires a DOM of some kind.")},watch:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=t.autoReplaceSvgRoot;xe.autoReplaceSvg===!1&&(xe.autoReplaceSvg=!0),xe.observeMutations=!0,kk(function(){eG({autoReplaceSvgRoot:e}),Yl("watch",t)})}},Jk={icon:function(t){if(t===null)return null;if(hg(t)==="object"&&t.prefix&&t.iconName)return{prefix:t.prefix,iconName:tc(t.prefix,t.iconName)||t.iconName};if(Array.isArray(t)&&t.length===2){var e=t[1].indexOf("fa-")===0?t[1].slice(3):t[1],r=qv(t[0]);return{prefix:r,iconName:tc(r,e)||e}}if(typeof t=="string"&&(t.indexOf("".concat(xe.familyPrefix,"-"))>-1||t.match(yk))){var i=Zv(t.split(" "),{skipLookups:!0});return{prefix:i.prefix||Is(),iconName:tc(i.prefix,i.iconName)||i.iconName}}if(typeof t=="string"){var o=Is();return{prefix:o,iconName:tc(o,t)||t}}}},ii={noAuto:Zk,config:xe,dom:Qk,parse:Jk,library:zP,findIconDefinition:Vb,toHtml:rd},eG=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=t.autoReplaceSvgRoot,r=e===void 0?$t:e;(Object.keys(Xi.styles).length>0||xe.autoFetchSvg)&&Ga&&xe.autoReplaceSvg&&ii.dom.i2svg({node:r})};function Qv(n,t){return Object.defineProperty(n,"abstract",{get:t}),Object.defineProperty(n,"html",{get:function(){return n.abstract.map(function(r){return rd(r)})}}),Object.defineProperty(n,"node",{get:function(){if(!!Ga){var r=$t.createElement("div");return r.innerHTML=n.html,r.children}}}),n}function tG(n){var t=n.children,e=n.main,r=n.mask,i=n.attributes,o=n.styles,a=n.transform;if(A_(a)&&e.found&&!r.found){var s=e.width,l=e.height,u={x:s/l/2,y:.5};i.style=Xv(ge(ge({},o),{},{"transform-origin":"".concat(u.x+a.x/16,"em ").concat(u.y+a.y/16,"em")}))}return[{tag:"svg",attributes:i,children:t}]}function rG(n){var t=n.prefix,e=n.iconName,r=n.children,i=n.attributes,o=n.symbol,a=o===!0?"".concat(t,"-").concat(xe.familyPrefix,"-").concat(e):o;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:ge(ge({},i),{},{id:a}),children:r}]}]}function I_(n){var t=n.icons,e=t.main,r=t.mask,i=n.prefix,o=n.iconName,a=n.transform,s=n.symbol,l=n.title,u=n.maskId,c=n.titleId,p=n.extra,h=n.watchable,d=h===void 0?!1:h,f=r.found?r:e,g=f.width,v=f.height,m=i==="fak",C=[xe.replacementClass,o?"".concat(xe.familyPrefix,"-").concat(o):""].filter(function(R){return p.classes.indexOf(R)===-1}).filter(function(R){return R!==""||!!R}).concat(p.classes).join(" "),b={children:[],attributes:ge(ge({},p.attributes),{},{"data-prefix":i,"data-icon":o,class:C,role:p.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(g," ").concat(v)})},w=m&&!~p.classes.indexOf("fa-fw")?{width:"".concat(g/v*16*.0625,"em")}:{};d&&(b.attributes[Kl]=""),l&&(b.children.push({tag:"title",attributes:{id:b.attributes["aria-labelledby"]||"title-".concat(c||Dh())},children:[l]}),delete b.attributes.title);var S=ge(ge({},b),{},{prefix:i,iconName:o,main:e,mask:r,maskId:u,transform:a,symbol:s,styles:ge(ge({},w),p.styles)}),T=r.found&&e.found?Pa("generateAbstractMask",S)||{children:[],attributes:{}}:Pa("generateAbstractIcon",S)||{children:[],attributes:{}},E=T.children,P=T.attributes;return S.children=E,S.attributes=P,s?rG(S):tG(S)}function Tx(n){var t=n.content,e=n.width,r=n.height,i=n.transform,o=n.title,a=n.extra,s=n.watchable,l=s===void 0?!1:s,u=ge(ge(ge({},a.attributes),o?{title:o}:{}),{},{class:a.classes.join(" ")});l&&(u[Kl]="");var c=ge({},a.styles);A_(i)&&(c.transform=Fk({transform:i,startCentered:!0,width:e,height:r}),c["-webkit-transform"]=c.transform);var p=Xv(c);p.length>0&&(u.style=p);var h=[];return h.push({tag:"span",attributes:u,children:[t]}),o&&h.push({tag:"span",attributes:{class:"sr-only"},children:[o]}),h}function nG(n){var t=n.content,e=n.title,r=n.extra,i=ge(ge(ge({},r.attributes),e?{title:e}:{}),{},{class:r.classes.join(" ")}),o=Xv(r.styles);o.length>0&&(i.style=o);var a=[];return a.push({tag:"span",attributes:i,children:[t]}),e&&a.push({tag:"span",attributes:{class:"sr-only"},children:[e]}),a}var uy=Xi.styles;function Wb(n){var t=n[0],e=n[1],r=n.slice(4),i=x_(r,1),o=i[0],a=null;return Array.isArray(o)?a={tag:"g",attributes:{class:"".concat(xe.familyPrefix,"-").concat(El.GROUP)},children:[{tag:"path",attributes:{class:"".concat(xe.familyPrefix,"-").concat(El.SECONDARY),fill:"currentColor",d:o[0]}},{tag:"path",attributes:{class:"".concat(xe.familyPrefix,"-").concat(El.PRIMARY),fill:"currentColor",d:o[1]}}]}:a={tag:"path",attributes:{fill:"currentColor",d:o}},{found:!0,width:t,height:e,icon:a}}var iG={found:!1,width:512,height:512};function oG(n,t){!AP&&!xe.showMissingIcons&&n&&console.error('Icon with name "'.concat(n,'" and prefix "').concat(t,'" is missing.'))}function Hb(n,t){var e=t;return t==="fa"&&xe.styleDefault!==null&&(t=Is()),new Promise(function(r,i){if(Pa("missingIconAbstract"),e==="fa"){var o=UP(n)||{};n=o.iconName||n,t=o.prefix||t}if(n&&t&&uy[t]&&uy[t][n]){var a=uy[t][n];return r(Wb(a))}oG(n,t),r(ge(ge({},iG),{},{icon:xe.showMissingIcons&&n?Pa("missingIconAbstract")||{}:{}}))})}var Ox=function(){},jb=xe.measurePerformance&&Dd&&Dd.mark&&Dd.measure?Dd:{mark:Ox,measure:Ox},th='FA "6.1.1"',aG=function(t){return jb.mark("".concat(th," ").concat(t," begins")),function(){return $P(t)}},$P=function(t){jb.mark("".concat(th," ").concat(t," ends")),jb.measure("".concat(th," ").concat(t),"".concat(th," ").concat(t," begins"),"".concat(th," ").concat(t," ends"))},L_={begin:aG,end:$P},zf=function(){};function Ex(n){var t=n.getAttribute?n.getAttribute(Kl):null;return typeof t=="string"}function sG(n){var t=n.getAttribute?n.getAttribute(O_):null,e=n.getAttribute?n.getAttribute(E_):null;return t&&e}function lG(n){return n&&n.classList&&n.classList.contains&&n.classList.contains(xe.replacementClass)}function uG(){if(xe.autoReplaceSvg===!0)return $f.replace;var n=$f[xe.autoReplaceSvg];return n||$f.replace}function cG(n){return $t.createElementNS("http://www.w3.org/2000/svg",n)}function pG(n){return $t.createElement(n)}function KP(n){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},e=t.ceFn,r=e===void 0?n.tag==="svg"?cG:pG:e;if(typeof n=="string")return $t.createTextNode(n);var i=r(n.tag);Object.keys(n.attributes||[]).forEach(function(a){i.setAttribute(a,n.attributes[a])});var o=n.children||[];return o.forEach(function(a){i.appendChild(KP(a,{ceFn:r}))}),i}function hG(n){var t=" ".concat(n.outerHTML," ");return t="".concat(t,"Font Awesome fontawesome.com "),t}var $f={replace:function(t){var e=t[0];if(e.parentNode)if(t[1].forEach(function(i){e.parentNode.insertBefore(KP(i),e)}),e.getAttribute(Kl)===null&&xe.keepOriginalSource){var r=$t.createComment(hG(e));e.parentNode.replaceChild(r,e)}else e.remove()},nest:function(t){var e=t[0],r=t[1];if(~P_(e).indexOf(xe.replacementClass))return $f.replace(t);var i=new RegExp("".concat(xe.familyPrefix,"-.*"));if(delete r[0].attributes.id,r[0].attributes.class){var o=r[0].attributes.class.split(" ").reduce(function(s,l){return l===xe.replacementClass||l.match(i)?s.toSvg.push(l):s.toNode.push(l),s},{toNode:[],toSvg:[]});r[0].attributes.class=o.toSvg.join(" "),o.toNode.length===0?e.removeAttribute("class"):e.setAttribute("class",o.toNode.join(" "))}var a=r.map(function(s){return rd(s)}).join(`
`);e.setAttribute(Kl,""),e.innerHTML=a}};function Rx(n){n()}function YP(n,t){var e=typeof t=="function"?t:zf;if(n.length===0)e();else{var r=Rx;xe.mutateApproach===gk&&(r=Fs.requestAnimationFrame||Rx),r(function(){var i=uG(),o=L_.begin("mutate");n.map(i),o(),e()})}}var N_=!1;function XP(){N_=!0}function Ub(){N_=!1}var gg=null;function Px(n){if(!!Cx&&!!xe.observeMutations){var t=n.treeCallback,e=t===void 0?zf:t,r=n.nodeCallback,i=r===void 0?zf:r,o=n.pseudoElementsCallback,a=o===void 0?zf:o,s=n.observeMutationsRoot,l=s===void 0?$t:s;gg=new Cx(function(u){if(!N_){var c=Is();$c(u).forEach(function(p){if(p.type==="childList"&&p.addedNodes.length>0&&!Ex(p.addedNodes[0])&&(xe.searchPseudoElements&&a(p.target),e(p.target)),p.type==="attributes"&&p.target.parentNode&&xe.searchPseudoElements&&a(p.target.parentNode),p.type==="attributes"&&Ex(p.target)&&~_k.indexOf(p.attributeName))if(p.attributeName==="class"&&sG(p.target)){var h=Zv(P_(p.target)),d=h.prefix,f=h.iconName;p.target.setAttribute(O_,d||c),f&&p.target.setAttribute(E_,f)}else lG(p.target)&&i(p.target)})}}),Ga&&gg.observe(l,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}}function dG(){!gg||gg.disconnect()}function fG(n){var t=n.getAttribute("style"),e=[];return t&&(e=t.split(";").reduce(function(r,i){var o=i.split(":"),a=o[0],s=o.slice(1);return a&&s.length>0&&(r[a]=s.join(":").trim()),r},{})),e}function gG(n){var t=n.getAttribute("data-prefix"),e=n.getAttribute("data-icon"),r=n.innerText!==void 0?n.innerText.trim():"",i=Zv(P_(n));return i.prefix||(i.prefix=Is()),t&&e&&(i.prefix=t,i.iconName=e),i.iconName&&i.prefix||i.prefix&&r.length>0&&(i.iconName=$k(i.prefix,n.innerText)||M_(i.prefix,kb(n.innerText))),i}function vG(n){var t=$c(n.attributes).reduce(function(i,o){return i.name!=="class"&&i.name!=="style"&&(i[o.name]=o.value),i},{}),e=n.getAttribute("title"),r=n.getAttribute("data-fa-title-id");return xe.autoA11y&&(e?t["aria-labelledby"]="".concat(xe.replacementClass,"-title-").concat(r||Dh()):(t["aria-hidden"]="true",t.focusable="false")),t}function mG(){return{iconName:null,title:null,titleId:null,prefix:null,transform:Bo,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}}}function Ax(n){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{styleParser:!0},e=gG(n),r=e.iconName,i=e.prefix,o=e.rest,a=vG(n),s=Bb("parseNodeAttributes",{},n),l=t.styleParser?fG(n):[];return ge({iconName:r,title:n.getAttribute("title"),titleId:n.getAttribute("data-fa-title-id"),prefix:i,transform:Bo,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:o,styles:l,attributes:a}},s)}var yG=Xi.styles;function qP(n){var t=xe.autoReplaceSvg==="nest"?Ax(n,{styleParser:!1}):Ax(n);return~t.extra.classes.indexOf(MP)?Pa("generateLayersText",n,t):Pa("generateSvgReplacementMutation",n,t)}function Dx(n){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(!Ga)return Promise.resolve();var e=$t.documentElement.classList,r=function(p){return e.add("".concat(bx,"-").concat(p))},i=function(p){return e.remove("".concat(bx,"-").concat(p))},o=xe.autoFetchSvg?Object.keys(R_):Object.keys(yG),a=[".".concat(MP,":not([").concat(Kl,"])")].concat(o.map(function(c){return".".concat(c,":not([").concat(Kl,"])")})).join(", ");if(a.length===0)return Promise.resolve();var s=[];try{s=$c(n.querySelectorAll(a))}catch{}if(s.length>0)r("pending"),i("complete");else return Promise.resolve();var l=L_.begin("onTree"),u=s.reduce(function(c,p){try{var h=qP(p);h&&c.push(h)}catch(d){AP||d.name==="MissingIcon"&&console.error(d)}return c},[]);return new Promise(function(c,p){Promise.all(u).then(function(h){YP(h,function(){r("active"),r("complete"),i("pending"),typeof t=="function"&&t(),l(),c()})}).catch(function(h){l(),p(h)})})}function CG(n){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;qP(n).then(function(e){e&&YP([e],t)})}function bG(n){return function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=(t||{}).icon?t:Vb(t||{}),i=e.mask;return i&&(i=(i||{}).icon?i:Vb(i||{})),n(r,ge(ge({},e),{},{mask:i}))}}var wG=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=e.transform,i=r===void 0?Bo:r,o=e.symbol,a=o===void 0?!1:o,s=e.mask,l=s===void 0?null:s,u=e.maskId,c=u===void 0?null:u,p=e.title,h=p===void 0?null:p,d=e.titleId,f=d===void 0?null:d,g=e.classes,v=g===void 0?[]:g,m=e.attributes,C=m===void 0?{}:m,b=e.styles,w=b===void 0?{}:b;if(!!t){var S=t.prefix,T=t.iconName,E=t.icon;return Qv(ge({type:"icon"},t),function(){return Yl("beforeDOMElementCreation",{iconDefinition:t,params:e}),xe.autoA11y&&(h?C["aria-labelledby"]="".concat(xe.replacementClass,"-title-").concat(f||Dh()):(C["aria-hidden"]="true",C.focusable="false")),I_({icons:{main:Wb(E),mask:l?Wb(l.icon):{found:!1,width:null,height:null,icon:{}}},prefix:S,iconName:T,transform:ge(ge({},Bo),i),symbol:a,title:h,maskId:c,titleId:f,extra:{attributes:C,styles:w,classes:v}})})}},_G={mixout:function(){return{icon:bG(wG)}},hooks:function(){return{mutationObserverCallbacks:function(e){return e.treeCallback=Dx,e.nodeCallback=CG,e}}},provides:function(t){t.i2svg=function(e){var r=e.node,i=r===void 0?$t:r,o=e.callback,a=o===void 0?function(){}:o;return Dx(i,a)},t.generateSvgReplacementMutation=function(e,r){var i=r.iconName,o=r.title,a=r.titleId,s=r.prefix,l=r.transform,u=r.symbol,c=r.mask,p=r.maskId,h=r.extra;return new Promise(function(d,f){Promise.all([Hb(i,s),c.iconName?Hb(c.iconName,c.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(function(g){var v=x_(g,2),m=v[0],C=v[1];d([e,I_({icons:{main:m,mask:C},prefix:s,iconName:i,transform:l,symbol:u,maskId:p,title:o,titleId:a,extra:h,watchable:!0})])}).catch(f)})},t.generateAbstractIcon=function(e){var r=e.children,i=e.attributes,o=e.main,a=e.transform,s=e.styles,l=Xv(s);l.length>0&&(i.style=l);var u;return A_(a)&&(u=Pa("generateAbstractTransformGrouping",{main:o,transform:a,containerWidth:o.width,iconWidth:o.width})),r.push(u||o.icon),{children:r,attributes:i}}}},SG={mixout:function(){return{layer:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.classes,o=i===void 0?[]:i;return Qv({type:"layer"},function(){Yl("beforeDOMElementCreation",{assembler:e,params:r});var a=[];return e(function(s){Array.isArray(s)?s.map(function(l){a=a.concat(l.abstract)}):a=a.concat(s.abstract)}),[{tag:"span",attributes:{class:["".concat(xe.familyPrefix,"-layers")].concat(Yv(o)).join(" ")},children:a}]})}}}},xG={mixout:function(){return{counter:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.title,o=i===void 0?null:i,a=r.classes,s=a===void 0?[]:a,l=r.attributes,u=l===void 0?{}:l,c=r.styles,p=c===void 0?{}:c;return Qv({type:"counter",content:e},function(){return Yl("beforeDOMElementCreation",{content:e,params:r}),nG({content:e.toString(),title:o,extra:{attributes:u,styles:p,classes:["".concat(xe.familyPrefix,"-layers-counter")].concat(Yv(s))}})})}}}},TG={mixout:function(){return{text:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.transform,o=i===void 0?Bo:i,a=r.title,s=a===void 0?null:a,l=r.classes,u=l===void 0?[]:l,c=r.attributes,p=c===void 0?{}:c,h=r.styles,d=h===void 0?{}:h;return Qv({type:"text",content:e},function(){return Yl("beforeDOMElementCreation",{content:e,params:r}),Tx({content:e,transform:ge(ge({},Bo),o),title:s,extra:{attributes:p,styles:d,classes:["".concat(xe.familyPrefix,"-layers-text")].concat(Yv(u))}})})}}},provides:function(t){t.generateLayersText=function(e,r){var i=r.title,o=r.transform,a=r.extra,s=null,l=null;if(EP){var u=parseInt(getComputedStyle(e).fontSize,10),c=e.getBoundingClientRect();s=c.width/u,l=c.height/u}return xe.autoA11y&&!i&&(a.attributes["aria-hidden"]="true"),Promise.resolve([e,Tx({content:e.innerHTML,width:s,height:l,transform:o,title:i,extra:a,watchable:!0})])}}},OG=new RegExp('"',"ug"),Mx=[1105920,1112319];function EG(n){var t=n.replace(OG,""),e=Vk(t,0),r=e>=Mx[0]&&e<=Mx[1],i=t.length===2?t[0]===t[1]:!1;return{value:kb(i?t[0]:t),isSecondary:r||i}}function Fx(n,t){var e="".concat(fk).concat(t.replace(":","-"));return new Promise(function(r,i){if(n.getAttribute(e)!==null)return r();var o=$c(n.children),a=o.filter(function(T){return T.getAttribute(Nb)===t})[0],s=Fs.getComputedStyle(n,t),l=s.getPropertyValue("font-family").match(Ck),u=s.getPropertyValue("font-weight"),c=s.getPropertyValue("content");if(a&&!l)return n.removeChild(a),r();if(l&&c!=="none"&&c!==""){var p=s.getPropertyValue("content"),h=~["Solid","Regular","Light","Thin","Duotone","Brands","Kit"].indexOf(l[2])?dg[l[2].toLowerCase()]:bk[u],d=EG(p),f=d.value,g=d.isSecondary,v=l[0].startsWith("FontAwesome"),m=M_(h,f),C=m;if(v){var b=Kk(f);b.iconName&&b.prefix&&(m=b.iconName,h=b.prefix)}if(m&&!g&&(!a||a.getAttribute(O_)!==h||a.getAttribute(E_)!==C)){n.setAttribute(e,C),a&&n.removeChild(a);var w=mG(),S=w.extra;S.attributes[Nb]=t,Hb(m,h).then(function(T){var E=I_(ge(ge({},w),{},{icons:{main:T,mask:F_()},prefix:h,iconName:C,extra:S,watchable:!0})),P=$t.createElement("svg");t==="::before"?n.insertBefore(P,n.firstChild):n.appendChild(P),P.outerHTML=E.map(function(R){return rd(R)}).join(`
`),n.removeAttribute(e),r()}).catch(i)}else r()}else r()})}function RG(n){return Promise.all([Fx(n,"::before"),Fx(n,"::after")])}function PG(n){return n.parentNode!==document.head&&!~vk.indexOf(n.tagName.toUpperCase())&&!n.getAttribute(Nb)&&(!n.parentNode||n.parentNode.tagName!=="svg")}function Ix(n){if(!!Ga)return new Promise(function(t,e){var r=$c(n.querySelectorAll("*")).filter(PG).map(RG),i=L_.begin("searchPseudoElements");XP(),Promise.all(r).then(function(){i(),Ub(),t()}).catch(function(){i(),Ub(),e()})})}var AG={hooks:function(){return{mutationObserverCallbacks:function(e){return e.pseudoElementsCallback=Ix,e}}},provides:function(t){t.pseudoElements2svg=function(e){var r=e.node,i=r===void 0?$t:r;xe.searchPseudoElements&&Ix(i)}}},Lx=!1,DG={mixout:function(){return{dom:{unwatch:function(){XP(),Lx=!0}}}},hooks:function(){return{bootstrap:function(){Px(Bb("mutationObserverCallbacks",{}))},noAuto:function(){dG()},watch:function(e){var r=e.observeMutationsRoot;Lx?Ub():Px(Bb("mutationObserverCallbacks",{observeMutationsRoot:r}))}}}},Nx=function(t){var e={size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0};return t.toLowerCase().split(" ").reduce(function(r,i){var o=i.toLowerCase().split("-"),a=o[0],s=o.slice(1).join("-");if(a&&s==="h")return r.flipX=!0,r;if(a&&s==="v")return r.flipY=!0,r;if(s=parseFloat(s),isNaN(s))return r;switch(a){case"grow":r.size=r.size+s;break;case"shrink":r.size=r.size-s;break;case"left":r.x=r.x-s;break;case"right":r.x=r.x+s;break;case"up":r.y=r.y-s;break;case"down":r.y=r.y+s;break;case"rotate":r.rotate=r.rotate+s;break}return r},e)},MG={mixout:function(){return{parse:{transform:function(e){return Nx(e)}}}},hooks:function(){return{parseNodeAttributes:function(e,r){var i=r.getAttribute("data-fa-transform");return i&&(e.transform=Nx(i)),e}}},provides:function(t){t.generateAbstractTransformGrouping=function(e){var r=e.main,i=e.transform,o=e.containerWidth,a=e.iconWidth,s={transform:"translate(".concat(o/2," 256)")},l="translate(".concat(i.x*32,", ").concat(i.y*32,") "),u="scale(".concat(i.size/16*(i.flipX?-1:1),", ").concat(i.size/16*(i.flipY?-1:1),") "),c="rotate(".concat(i.rotate," 0 0)"),p={transform:"".concat(l," ").concat(u," ").concat(c)},h={transform:"translate(".concat(a/2*-1," -256)")},d={outer:s,inner:p,path:h};return{tag:"g",attributes:ge({},d.outer),children:[{tag:"g",attributes:ge({},d.inner),children:[{tag:r.icon.tag,children:r.icon.children,attributes:ge(ge({},r.icon.attributes),d.path)}]}]}}}},cy={x:0,y:0,width:"100%",height:"100%"};function kx(n){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return n.attributes&&(n.attributes.fill||t)&&(n.attributes.fill="black"),n}function FG(n){return n.tag==="g"?n.children:[n]}var IG={hooks:function(){return{parseNodeAttributes:function(e,r){var i=r.getAttribute("data-fa-mask"),o=i?Zv(i.split(" ").map(function(a){return a.trim()})):F_();return o.prefix||(o.prefix=Is()),e.mask=o,e.maskId=r.getAttribute("data-fa-mask-id"),e}}},provides:function(t){t.generateAbstractMask=function(e){var r=e.children,i=e.attributes,o=e.main,a=e.mask,s=e.maskId,l=e.transform,u=o.width,c=o.icon,p=a.width,h=a.icon,d=Mk({transform:l,containerWidth:p,iconWidth:u}),f={tag:"rect",attributes:ge(ge({},cy),{},{fill:"white"})},g=c.children?{children:c.children.map(kx)}:{},v={tag:"g",attributes:ge({},d.inner),children:[kx(ge({tag:c.tag,attributes:ge(ge({},c.attributes),d.path)},g))]},m={tag:"g",attributes:ge({},d.outer),children:[v]},C="mask-".concat(s||Dh()),b="clip-".concat(s||Dh()),w={tag:"mask",attributes:ge(ge({},cy),{},{id:C,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[f,m]},S={tag:"defs",children:[{tag:"clipPath",attributes:{id:b},children:FG(h)},w]};return r.push(S,{tag:"rect",attributes:ge({fill:"currentColor","clip-path":"url(#".concat(b,")"),mask:"url(#".concat(C,")")},cy)}),{children:r,attributes:i}}}},LG={provides:function(t){var e=!1;Fs.matchMedia&&(e=Fs.matchMedia("(prefers-reduced-motion: reduce)").matches),t.missingIconAbstract=function(){var r=[],i={fill:"currentColor"},o={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};r.push({tag:"path",attributes:ge(ge({},i),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});var a=ge(ge({},o),{},{attributeName:"opacity"}),s={tag:"circle",attributes:ge(ge({},i),{},{cx:"256",cy:"364",r:"28"}),children:[]};return e||s.children.push({tag:"animate",attributes:ge(ge({},o),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:ge(ge({},a),{},{values:"1;0;1;1;0;1;"})}),r.push(s),r.push({tag:"path",attributes:ge(ge({},i),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:e?[]:[{tag:"animate",attributes:ge(ge({},a),{},{values:"1;0;0;0;0;1;"})}]}),e||r.push({tag:"path",attributes:ge(ge({},i),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:ge(ge({},a),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:r}}}},NG={hooks:function(){return{parseNodeAttributes:function(e,r){var i=r.getAttribute("data-fa-symbol"),o=i===null?!1:i===""?!0:i;return e.symbol=o,e}}}},kG=[Lk,_G,SG,xG,TG,AG,DG,MG,IG,LG,NG];qk(kG,{mixoutsTo:ii});ii.noAuto;ii.config;ii.library;ii.dom;var zb=ii.parse;ii.findIconDefinition;ii.toHtml;var GG=ii.icon;ii.layer;ii.text;ii.counter;var Jv={exports:{}},BG="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",VG=BG,WG=VG;function ZP(){}function QP(){}QP.resetWarningCache=ZP;var HG=function(){function n(r,i,o,a,s,l){if(l!==WG){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}n.isRequired=n;function t(){return n}var e={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:t,element:n,elementType:n,instanceOf:t,node:n,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:QP,resetWarningCache:ZP};return e.PropTypes=e,e};Jv.exports=HG();var rt=Jv.exports;function Gx(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),e.push.apply(e,r)}return e}function vs(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?Gx(Object(e),!0).forEach(function(r){nc(n,r,e[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):Gx(Object(e)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(e,r))})}return n}function vg(n){return vg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vg(n)}function nc(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function jG(n,t){if(n==null)return{};var e={},r=Object.keys(n),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(e[i]=n[i]);return e}function JP(n,t){if(n==null)return{};var e=jG(n,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&(!Object.prototype.propertyIsEnumerable.call(n,r)||(e[r]=n[r]))}return e}function $b(n){return UG(n)||zG(n)||$G(n)||KG()}function UG(n){if(Array.isArray(n))return Kb(n)}function zG(n){if(typeof Symbol!="undefined"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function $G(n,t){if(!!n){if(typeof n=="string")return Kb(n,t);var e=Object.prototype.toString.call(n).slice(8,-1);if(e==="Object"&&n.constructor&&(e=n.constructor.name),e==="Map"||e==="Set")return Array.from(n);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return Kb(n,t)}}function Kb(n,t){(t==null||t>n.length)&&(t=n.length);for(var e=0,r=new Array(t);e<t;e++)r[e]=n[e];return r}function KG(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function YG(n){var t,e=n.beat,r=n.fade,i=n.beatFade,o=n.bounce,a=n.shake,s=n.flash,l=n.spin,u=n.spinPulse,c=n.spinReverse,p=n.pulse,h=n.fixedWidth,d=n.inverse,f=n.border,g=n.listItem,v=n.flip,m=n.size,C=n.rotation,b=n.pull,w=(t={"fa-beat":e,"fa-fade":r,"fa-beat-fade":i,"fa-bounce":o,"fa-shake":a,"fa-flash":s,"fa-spin":l,"fa-spin-reverse":c,"fa-spin-pulse":u,"fa-pulse":p,"fa-fw":h,"fa-inverse":d,"fa-border":f,"fa-li":g,"fa-flip-horizontal":v==="horizontal"||v==="both","fa-flip-vertical":v==="vertical"||v==="both"},nc(t,"fa-".concat(m),typeof m!="undefined"&&m!==null),nc(t,"fa-rotate-".concat(C),typeof C!="undefined"&&C!==null&&C!==0),nc(t,"fa-pull-".concat(b),typeof b!="undefined"&&b!==null),nc(t,"fa-swap-opacity",n.swapOpacity),t);return Object.keys(w).map(function(S){return w[S]?S:null}).filter(function(S){return S})}function XG(n){return n=n-0,n===n}function eA(n){return XG(n)?n:(n=n.replace(/[\-_\s]+(.)?/g,function(t,e){return e?e.toUpperCase():""}),n.substr(0,1).toLowerCase()+n.substr(1))}var qG=["style"];function ZG(n){return n.charAt(0).toUpperCase()+n.slice(1)}function QG(n){return n.split(";").map(function(t){return t.trim()}).filter(function(t){return t}).reduce(function(t,e){var r=e.indexOf(":"),i=eA(e.slice(0,r)),o=e.slice(r+1).trim();return i.startsWith("webkit")?t[ZG(i)]=o:t[i]=o,t},{})}function tA(n,t){var e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(typeof t=="string")return t;var r=(t.children||[]).map(function(l){return tA(n,l)}),i=Object.keys(t.attributes||{}).reduce(function(l,u){var c=t.attributes[u];switch(u){case"class":l.attrs.className=c,delete t.attributes.class;break;case"style":l.attrs.style=QG(c);break;default:u.indexOf("aria-")===0||u.indexOf("data-")===0?l.attrs[u.toLowerCase()]=c:l.attrs[eA(u)]=c}return l},{attrs:{}}),o=e.style,a=o===void 0?{}:o,s=JP(e,qG);return i.attrs.style=vs(vs({},i.attrs.style),a),n.apply(void 0,[t.tag,vs(vs({},i.attrs),s)].concat($b(r)))}var rA=!1;try{rA=!0}catch{}function JG(){if(!rA&&console&&typeof console.error=="function"){var n;(n=console).error.apply(n,arguments)}}function Bx(n){if(n&&vg(n)==="object"&&n.prefix&&n.iconName&&n.icon)return n;if(zb.icon)return zb.icon(n);if(n===null)return null;if(n&&vg(n)==="object"&&n.prefix&&n.iconName)return n;if(Array.isArray(n)&&n.length===2)return{prefix:n[0],iconName:n[1]};if(typeof n=="string")return{prefix:"fas",iconName:n}}function py(n,t){return Array.isArray(t)&&t.length>0||!Array.isArray(t)&&t?nc({},n,t):{}}var e2=["forwardedRef"];function $o(n){var t=n.forwardedRef,e=JP(n,e2),r=e.icon,i=e.mask,o=e.symbol,a=e.className,s=e.title,l=e.titleId,u=e.maskId,c=Bx(r),p=py("classes",[].concat($b(YG(e)),$b(a.split(" ")))),h=py("transform",typeof e.transform=="string"?zb.transform(e.transform):e.transform),d=py("mask",Bx(i)),f=GG(c,vs(vs(vs(vs({},p),h),d),{},{symbol:o,title:s,titleId:l,maskId:u}));if(!f)return JG("Could not find icon",c),null;var g=f.abstract,v={ref:t};return Object.keys(e).forEach(function(m){$o.defaultProps.hasOwnProperty(m)||(v[m]=e[m])}),t2(g[0],v)}$o.displayName="FontAwesomeIcon";$o.propTypes={beat:rt.bool,border:rt.bool,bounce:rt.bool,className:rt.string,fade:rt.bool,flash:rt.bool,mask:rt.oneOfType([rt.object,rt.array,rt.string]),maskId:rt.string,fixedWidth:rt.bool,inverse:rt.bool,flip:rt.oneOf(["horizontal","vertical","both"]),icon:rt.oneOfType([rt.object,rt.array,rt.string]),listItem:rt.bool,pull:rt.oneOf(["right","left"]),pulse:rt.bool,rotation:rt.oneOf([0,90,180,270]),shake:rt.bool,size:rt.oneOf(["2xs","xs","sm","lg","xl","2xl","1x","2x","3x","4x","5x","6x","7x","8x","9x","10x"]),spin:rt.bool,spinPulse:rt.bool,spinReverse:rt.bool,symbol:rt.oneOfType([rt.bool,rt.string]),title:rt.string,titleId:rt.string,transform:rt.oneOfType([rt.string,rt.object]),swapOpacity:rt.bool};$o.defaultProps={border:!1,className:"",mask:null,maskId:null,fixedWidth:!1,inverse:!1,flip:null,icon:null,listItem:!1,pull:null,pulse:!1,rotation:null,size:null,spin:!1,beat:!1,fade:!1,beatFade:!1,bounce:!1,shake:!1,symbol:!1,title:"",titleId:null,transform:null,swapOpacity:!1};var t2=tA.bind(null,lP.createElement);const nA=Xt(C_,{borderRadius:"5px",backgroundColor:"purple",padding:"$2",boxShadow:"0px 4px 6px rgba(0, 0, 0, 0.1)",width:"100%",variants:{color:{purple:{background:"$darkPurpleGradient",color:"$white"},black:{background:"$blackGradient",color:"$white"},gray:{boxShadow:"none",background:"$lightGray",color:"$primaryDark"},white:{boxShadow:"none",background:"$white",color:"$primaryDark"}},state:{focused:{outline:"1px solid $purpleStroke"},none:{}}},defaultVariants:{color:"purple"}}),r2=Xt("div",{borderRadius:"4px",backgroundColor:"$white",cursor:"pointer",boxShadow:"$mediumElevation",transition:"box-shadow 300ms ease-out","&:hover":{boxShadow:"$largeElevation"},"&:active":{backgroundColor:"$gray7CardBackground"},variants:{state:{active:{boxShadow:"none",outline:"4px solid $primaryPurple","&:focus":{outline:"4px solid $primaryPurple"}}},clickable:{yes:{cursor:"pointer"},no:{cursor:"not-allowed",boxShadow:"none",backgroundColor:"#f5f5f5","&:hover":{outline:"none",boxShadow:"none"},"&:active":{backgroundColor:"#f5f5f5"}}}}}),n2=Xt("div",{$$borderRadius:"4px",display:"flex",alignItems:"center",gap:"$1",borderTopLeftRadius:"$$borderRadius",borderTopRightRadius:"$$borderRadius",fontSize:"$2",color:"$white",padding:"$1 $2",variants:{component:{app:{background:"$appCardColor"},job:{background:"$jobCardColor"},data:{background:"$dataCardColor"}}}}),i2=Xt("div",{$$borderRadius:"4px",background:"inherit",padding:"$3 $2",borderBottomRightRadius:"$$borderRadius",borderBottomLeftRadius:"$$borderRadius"}),k_=Xt("div",{variants:{width:{mobile:{width:"100%"},tablet:{width:"45%"},desktop:{width:"100%"}}}}),hy=({message:n})=>le(k_,{width:{"@initial":"mobile","@bp1":"tablet","@bp2":"desktop"},children:le(nA,{color:"white",css:{textAlign:"center"},children:le(Ei,{weight:"big",margin:"none",children:n})})}),G_=({type:n,metadata:t,title:e,onClick:r,isActive:i=!1})=>{const o=!!r;return le(k_,{width:{"@initial":"mobile","@bp1":"tablet","@bp2":"desktop"},children:Lt(r2,{state:i?"active":void 0,tabIndex:o?0:void 0,role:o?"button":void 0,onClick:r,clickable:o?"yes":"no",children:[le(n2,{component:n,children:t}),le(i2,{children:le(YN,{margin:"none",color:o?"dark":"disabled",children:e})})]})})},Vx=40,o2=({app:n,onClick:t,isActive:e})=>{var i;const r=o=>o.length>Vx?`${o.slice(0,Vx)}...`:o;return le(G_,{isActive:e,type:"app",metadata:Lt(Oa,{children:[le($o,{icon:ek}),le(Ei,{margin:"none",color:"white",children:le(Ph,{children:n.memory})}),Lt(Ei,{margin:"none",color:"white",children:[le(Ph,{children:n.cpu})," CPU"]})]}),title:r((i=n.name)!=null?i:n.filename),onClick:()=>t(n)})},a2=({dataframe:n,onClick:t,isActive:e})=>le(G_,{type:"data",isActive:e,title:n.key,metadata:Lt(Oa,{children:[le($o,{icon:nk}),Lt(Ei,{color:"white",margin:"none",children:[le(Ph,{children:n.numberOfProperties})," properties"]}),Lt(Ei,{color:"white",margin:"none",children:[le(Ph,{children:n.numberOfRows})," rows"]})]}),onClick:()=>{t(n)}}),iA=Xt("button",{cursor:"pointer",color:"$primaryDark",background:"none",border:"none",display:"flex",margin:0,padding:"$1",fontSize:"$3",fontWeight:"900",borderRadius:"4px","&:hover":{backgroundColor:"#D9D9D9"},"&:active":{backgroundColor:"$gray5"}}),Wx=Xt("div"),s2=({projectUrl:n,app:t,onClose:e})=>Lt(Oa,{children:[Lt(y_,{css:{justifyContent:"space-between"},children:[le(Wx,{css:{display:"flex",alignItems:"center",gap:"$1"},children:le(hh,{children:t.name})}),le(Wx,{css:{display:"flex",gap:"$1",alignItems:"flex-start"},children:le(iA,{onClick:e,children:le($o,{icon:_P})})})]}),le("iframe",{src:`${n}${t.route}`,title:t.name})]}),l2=new TextDecoder("utf-8"),Yb=n=>l2.decode(n),u2=new TextEncoder,B_=n=>u2.encode(n),[pue,c2]=(()=>{const n=()=>{throw new Error("BigInt is not available in this environment")};function t(){throw n()}return t.asIntN=()=>{throw n()},t.asUintN=()=>{throw n()},typeof BigInt!="undefined"?[BigInt,!0]:[t,!1]})(),[oA,hue]=(()=>{const n=()=>{throw new Error("BigInt64Array is not available in this environment")};class t{static get BYTES_PER_ELEMENT(){return 8}static of(){throw n()}static from(){throw n()}constructor(){throw n()}}return typeof BigInt64Array!="undefined"?[BigInt64Array,!0]:[t,!1]})(),[V_,due]=(()=>{const n=()=>{throw new Error("BigUint64Array is not available in this environment")};class t{static get BYTES_PER_ELEMENT(){return 8}static of(){throw n()}static from(){throw n()}constructor(){throw n()}}return typeof BigUint64Array!="undefined"?[BigUint64Array,!0]:[t,!1]})(),p2=n=>typeof n=="number",h2=n=>typeof n=="boolean",on=n=>typeof n=="function",ro=n=>n!=null&&Object(n)===n,Mh=n=>ro(n)&&on(n.then),em=n=>ro(n)&&on(n[Symbol.iterator]),W_=n=>ro(n)&&on(n[Symbol.asyncIterator]),Xb=n=>ro(n)&&ro(n.schema),aA=n=>ro(n)&&"done"in n&&"value"in n,sA=n=>ro(n)&&on(n.stat)&&p2(n.fd),lA=n=>ro(n)&&H_(n.body),uA=n=>"_getDOMStream"in n&&"_getNodeStream"in n,H_=n=>ro(n)&&on(n.cancel)&&on(n.getReader)&&!uA(n),cA=n=>ro(n)&&on(n.read)&&on(n.pipe)&&h2(n.readable)&&!uA(n),d2=n=>ro(n)&&on(n.clear)&&on(n.bytes)&&on(n.position)&&on(n.setPosition)&&on(n.capacity)&&on(n.getBufferIdentifier)&&on(n.createLong),j_=typeof SharedArrayBuffer!="undefined"?SharedArrayBuffer:ArrayBuffer;function f2(n){const t=n[0]?[n[0]]:[];let e,r,i,o;for(let a,s,l=0,u=0,c=n.length;++l<c;){if(a=t[u],s=n[l],!a||!s||a.buffer!==s.buffer||s.byteOffset<a.byteOffset){s&&(t[++u]=s);continue}if({byteOffset:e,byteLength:i}=a,{byteOffset:r,byteLength:o}=s,e+i<r||r+o<e){s&&(t[++u]=s);continue}t[u]=new Uint8Array(a.buffer,e,r-e+o)}return t}function Hx(n,t,e=0,r=t.byteLength){const i=n.byteLength,o=new Uint8Array(n.buffer,n.byteOffset,i),a=new Uint8Array(t.buffer,t.byteOffset,Math.min(r,i));return o.set(a,e),n}function Ko(n,t){const e=f2(n),r=e.reduce((c,p)=>c+p.byteLength,0);let i,o,a,s=0,l=-1;const u=Math.min(t||Number.POSITIVE_INFINITY,r);for(const c=e.length;++l<c;){if(i=e[l],o=i.subarray(0,Math.min(i.length,u-s)),u<=s+o.length){o.length<i.length?e[l]=i.subarray(o.length):o.length===i.length&&l++,a?Hx(a,o,s):a=o;break}Hx(a||(a=new Uint8Array(u)),o,s),s+=o.length}return[a||new Uint8Array(0),e.slice(l),r-(a?a.byteLength:0)]}function Mt(n,t){let e=aA(t)?t.value:t;return e instanceof n?n===Uint8Array?new n(e.buffer,e.byteOffset,e.byteLength):e:e?(typeof e=="string"&&(e=B_(e)),e instanceof ArrayBuffer?new n(e):e instanceof j_?new n(e):d2(e)?Mt(n,e.bytes()):ArrayBuffer.isView(e)?e.byteLength<=0?new n(0):new n(e.buffer,e.byteOffset,e.byteLength/n.BYTES_PER_ELEMENT):n.from(e)):new n(0)}const pp=n=>Mt(Int32Array,n),dt=n=>Mt(Uint8Array,n),qb=n=>(n.next(),n);function*g2(n,t){const e=function*(i){yield i},r=typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer||t instanceof j_?e(t):em(t)?t:e(t);return yield*qb(function*(i){let o=null;do o=i.next(yield Mt(n,o));while(!o.done)}(r[Symbol.iterator]())),new n}const v2=n=>g2(Uint8Array,n);function pA(n,t){return ko(this,arguments,function*(){if(Mh(t))return yield tt(yield tt(yield*Wf(fc(pA(n,yield tt(t))))));const r=function(a){return ko(this,arguments,function*(){yield yield tt(yield tt(a))})},i=function(a){return ko(this,arguments,function*(){yield tt(yield*Wf(fc(qb(function*(s){let l=null;do l=s.next(yield l==null?void 0:l.value);while(!l.done)}(a[Symbol.iterator]())))))})},o=typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer||t instanceof j_?r(t):em(t)?i(t):W_(t)?t:r(t);return yield tt(yield*Wf(fc(qb(function(a){return ko(this,arguments,function*(){let s=null;do s=yield tt(a.next(yield yield tt(Mt(n,s))));while(!s.done)})}(o[Symbol.asyncIterator]()))))),yield tt(new n)})}const m2=n=>pA(Uint8Array,n);function y2(n,t){let e=0;const r=n.length;if(r!==t.length)return!1;if(r>0)do if(n[e]!==t[e])return!1;while(++e<r);return!0}var mi={fromIterable(n){return Md(C2(n))},fromAsyncIterable(n){return Md(b2(n))},fromDOMStream(n){return Md(w2(n))},fromNodeStream(n){return Md(S2(n))},toDOMStream(n,t){throw new Error('"toDOMStream" not available in this environment')},toNodeStream(n,t){throw new Error('"toNodeStream" not available in this environment')}};const Md=n=>(n.next(),n);function*C2(n){let t,e=!1,r=[],i,o,a,s=0;function l(){return o==="peek"?Ko(r,a)[0]:([i,r,s]=Ko(r,a),i)}({cmd:o,size:a}=yield null);const u=v2(n)[Symbol.iterator]();try{do if({done:t,value:i}=Number.isNaN(a-s)?u.next():u.next(a-s),!t&&i.byteLength>0&&(r.push(i),s+=i.byteLength),t||a<=s)do({cmd:o,size:a}=yield l());while(a<s);while(!t)}catch(c){(e=!0)&&typeof u.throw=="function"&&u.throw(c)}finally{e===!1&&typeof u.return=="function"&&u.return(null)}return null}function b2(n){return ko(this,arguments,function*(){let e,r=!1,i=[],o,a,s,l=0;function u(){return a==="peek"?Ko(i,s)[0]:([o,i,l]=Ko(i,s),o)}({cmd:a,size:s}=yield yield tt(null));const c=m2(n)[Symbol.asyncIterator]();try{do if({done:e,value:o}=Number.isNaN(s-l)?yield tt(c.next()):yield tt(c.next(s-l)),!e&&o.byteLength>0&&(i.push(o),l+=o.byteLength),e||s<=l)do({cmd:a,size:s}=yield yield tt(u()));while(s<l);while(!e)}catch(p){(r=!0)&&typeof c.throw=="function"&&(yield tt(c.throw(p)))}finally{r===!1&&typeof c.return=="function"&&(yield tt(c.return(new Uint8Array(0))))}return yield tt(null)})}function w2(n){return ko(this,arguments,function*(){let e=!1,r=!1,i=[],o,a,s,l=0;function u(){return a==="peek"?Ko(i,s)[0]:([o,i,l]=Ko(i,s),o)}({cmd:a,size:s}=yield yield tt(null));const c=new _2(n);try{do if({done:e,value:o}=Number.isNaN(s-l)?yield tt(c.read()):yield tt(c.read(s-l)),!e&&o.byteLength>0&&(i.push(dt(o)),l+=o.byteLength),e||s<=l)do({cmd:a,size:s}=yield yield tt(u()));while(s<l);while(!e)}catch(p){(r=!0)&&(yield tt(c.cancel(p)))}finally{r===!1?yield tt(c.cancel()):n.locked&&c.releaseLock()}return yield tt(null)})}class _2{constructor(t){this.source=t,this.reader=null,this.reader=this.source.getReader(),this.reader.closed.catch(()=>{})}get closed(){return this.reader?this.reader.closed.catch(()=>{}):Promise.resolve()}releaseLock(){this.reader&&this.reader.releaseLock(),this.reader=null}cancel(t){return Ae(this,void 0,void 0,function*(){const{reader:e,source:r}=this;e&&(yield e.cancel(t).catch(()=>{})),r&&r.locked&&this.releaseLock()})}read(t){return Ae(this,void 0,void 0,function*(){if(t===0)return{done:this.reader==null,value:new Uint8Array(0)};const e=yield this.reader.read();return!e.done&&(e.value=dt(e)),e})}}const dy=(n,t)=>{const e=i=>r([t,i]);let r;return[t,e,new Promise(i=>(r=i)&&n.once(t,e))]};function S2(n){return ko(this,arguments,function*(){const e=[];let r="error",i=!1,o=null,a,s,l=0,u=[],c;function p(){return a==="peek"?Ko(u,s)[0]:([c,u,l]=Ko(u,s),c)}if({cmd:a,size:s}=yield yield tt(null),n.isTTY)return yield yield tt(new Uint8Array(0)),yield tt(null);try{e[0]=dy(n,"end"),e[1]=dy(n,"error");do{if(e[2]=dy(n,"readable"),[r,o]=yield tt(Promise.race(e.map(d=>d[2]))),r==="error")break;if((i=r==="end")||(Number.isFinite(s-l)?(c=dt(n.read(s-l)),c.byteLength<s-l&&(c=dt(n.read()))):c=dt(n.read()),c.byteLength>0&&(u.push(c),l+=c.byteLength)),i||s<=l)do({cmd:a,size:s}=yield yield tt(p()));while(s<l)}while(!i)}finally{yield tt(h(e,r==="error"?o:null))}return yield tt(null);function h(d,f){return c=u=null,new Promise((g,v)=>{for(const[m,C]of d)n.off(m,C);try{const m=n.destroy;m&&m.call(n,f),f=void 0}catch(m){f=m||f}finally{f!=null?v(f):g()}})}})}var xi;(function(n){n[n.V1=0]="V1",n[n.V2=1]="V2",n[n.V3=2]="V3",n[n.V4=3]="V4",n[n.V5=4]="V5"})(xi||(xi={}));var no;(function(n){n[n.Sparse=0]="Sparse",n[n.Dense=1]="Dense"})(no||(no={}));var An;(function(n){n[n.HALF=0]="HALF",n[n.SINGLE=1]="SINGLE",n[n.DOUBLE=2]="DOUBLE"})(An||(An={}));var Aa;(function(n){n[n.DAY=0]="DAY",n[n.MILLISECOND=1]="MILLISECOND"})(Aa||(Aa={}));var lt;(function(n){n[n.SECOND=0]="SECOND",n[n.MILLISECOND=1]="MILLISECOND",n[n.MICROSECOND=2]="MICROSECOND",n[n.NANOSECOND=3]="NANOSECOND"})(lt||(lt={}));var Ls;(function(n){n[n.YEAR_MONTH=0]="YEAR_MONTH",n[n.DAY_TIME=1]="DAY_TIME",n[n.MONTH_DAY_NANO=2]="MONTH_DAY_NANO"})(Ls||(Ls={}));var Pt;(function(n){n[n.NONE=0]="NONE",n[n.Schema=1]="Schema",n[n.DictionaryBatch=2]="DictionaryBatch",n[n.RecordBatch=3]="RecordBatch",n[n.Tensor=4]="Tensor",n[n.SparseTensor=5]="SparseTensor"})(Pt||(Pt={}));var W;(function(n){n[n.NONE=0]="NONE",n[n.Null=1]="Null",n[n.Int=2]="Int",n[n.Float=3]="Float",n[n.Binary=4]="Binary",n[n.Utf8=5]="Utf8",n[n.Bool=6]="Bool",n[n.Decimal=7]="Decimal",n[n.Date=8]="Date",n[n.Time=9]="Time",n[n.Timestamp=10]="Timestamp",n[n.Interval=11]="Interval",n[n.List=12]="List",n[n.Struct=13]="Struct",n[n.Union=14]="Union",n[n.FixedSizeBinary=15]="FixedSizeBinary",n[n.FixedSizeList=16]="FixedSizeList",n[n.Map=17]="Map",n[n.Dictionary=-1]="Dictionary",n[n.Int8=-2]="Int8",n[n.Int16=-3]="Int16",n[n.Int32=-4]="Int32",n[n.Int64=-5]="Int64",n[n.Uint8=-6]="Uint8",n[n.Uint16=-7]="Uint16",n[n.Uint32=-8]="Uint32",n[n.Uint64=-9]="Uint64",n[n.Float16=-10]="Float16",n[n.Float32=-11]="Float32",n[n.Float64=-12]="Float64",n[n.DateDay=-13]="DateDay",n[n.DateMillisecond=-14]="DateMillisecond",n[n.TimestampSecond=-15]="TimestampSecond",n[n.TimestampMillisecond=-16]="TimestampMillisecond",n[n.TimestampMicrosecond=-17]="TimestampMicrosecond",n[n.TimestampNanosecond=-18]="TimestampNanosecond",n[n.TimeSecond=-19]="TimeSecond",n[n.TimeMillisecond=-20]="TimeMillisecond",n[n.TimeMicrosecond=-21]="TimeMicrosecond",n[n.TimeNanosecond=-22]="TimeNanosecond",n[n.DenseUnion=-23]="DenseUnion",n[n.SparseUnion=-24]="SparseUnion",n[n.IntervalDayTime=-25]="IntervalDayTime",n[n.IntervalYearMonth=-26]="IntervalYearMonth"})(W||(W={}));var ia;(function(n){n[n.OFFSET=0]="OFFSET",n[n.DATA=1]="DATA",n[n.VALIDITY=2]="VALIDITY",n[n.TYPE=3]="TYPE"})(ia||(ia={}));const x2=void 0;function Fh(n){if(n===null)return"null";if(n===x2)return"undefined";switch(typeof n){case"number":return`${n}`;case"bigint":return`${n}`;case"string":return`"${n}"`}return typeof n[Symbol.toPrimitive]=="function"?n[Symbol.toPrimitive]("string"):ArrayBuffer.isView(n)?n instanceof BigInt64Array||n instanceof BigUint64Array?`[${[...n].map(t=>Fh(t))}]`:`[${n}]`:ArrayBuffer.isView(n)?`[${n}]`:JSON.stringify(n,(t,e)=>typeof e=="bigint"?`${e}`:e)}const T2=Symbol.for("isArrowBigNum");function ao(n,...t){return t.length===0?Object.setPrototypeOf(Mt(this.TypedArray,n),this.constructor.prototype):Object.setPrototypeOf(new this.TypedArray(n,...t),this.constructor.prototype)}ao.prototype[T2]=!0;ao.prototype.toJSON=function(){return`"${Wl(this)}"`};ao.prototype.valueOf=function(){return hA(this)};ao.prototype.toString=function(){return Wl(this)};ao.prototype[Symbol.toPrimitive]=function(n="default"){switch(n){case"number":return hA(this);case"string":return Wl(this);case"default":return Zb(this)}return Wl(this)};function vc(...n){return ao.apply(this,n)}function mc(...n){return ao.apply(this,n)}function Ih(...n){return ao.apply(this,n)}Object.setPrototypeOf(vc.prototype,Object.create(Int32Array.prototype));Object.setPrototypeOf(mc.prototype,Object.create(Uint32Array.prototype));Object.setPrototypeOf(Ih.prototype,Object.create(Uint32Array.prototype));Object.assign(vc.prototype,ao.prototype,{constructor:vc,signed:!0,TypedArray:Int32Array,BigIntArray:oA});Object.assign(mc.prototype,ao.prototype,{constructor:mc,signed:!1,TypedArray:Uint32Array,BigIntArray:V_});Object.assign(Ih.prototype,ao.prototype,{constructor:Ih,signed:!0,TypedArray:Uint32Array,BigIntArray:V_});function hA(n){const{buffer:t,byteOffset:e,length:r,signed:i}=n,o=new V_(t,e,r),a=i&&o[o.length-1]&BigInt(1)<<BigInt(63);let s=BigInt(a?1:0),l=BigInt(0);if(a){for(const u of o)s+=~u*(BigInt(1)<<BigInt(32)*l++);s*=BigInt(-1)}else for(const u of o)s+=u*(BigInt(1)<<BigInt(32)*l++);return s}let Wl,Zb;c2?(Zb=n=>n.byteLength===8?new n.BigIntArray(n.buffer,n.byteOffset,1)[0]:fy(n),Wl=n=>n.byteLength===8?`${new n.BigIntArray(n.buffer,n.byteOffset,1)[0]}`:fy(n)):(Wl=fy,Zb=Wl);function fy(n){let t="";const e=new Uint32Array(2);let r=new Uint16Array(n.buffer,n.byteOffset,n.byteLength/2);const i=new Uint32Array((r=new Uint16Array(r).reverse()).buffer);let o=-1;const a=r.length-1;do{for(e[0]=r[o=0];o<a;)r[o++]=e[1]=e[0]/10,e[0]=(e[0]-e[1]*10<<16)+r[o];r[o]=e[1]=e[0]/10,e[0]=e[0]-e[1]*10,t=`${e[0]}${t}`}while(i[0]||i[1]||i[2]||i[3]);return t||"0"}class U_{static new(t,e){switch(e){case!0:return new vc(t);case!1:return new mc(t)}switch(t.constructor){case Int8Array:case Int16Array:case Int32Array:case oA:return new vc(t)}return t.byteLength===16?new Ih(t):new mc(t)}static signed(t){return new vc(t)}static unsigned(t){return new mc(t)}static decimal(t){return new Ih(t)}constructor(t,e){return U_.new(t,e)}}var dA,fA,gA,vA,mA,yA,CA,bA,wA,_A,SA,xA,TA,OA,EA,RA,PA,AA,DA;class ze{static isNull(t){return(t==null?void 0:t.typeId)===W.Null}static isInt(t){return(t==null?void 0:t.typeId)===W.Int}static isFloat(t){return(t==null?void 0:t.typeId)===W.Float}static isBinary(t){return(t==null?void 0:t.typeId)===W.Binary}static isUtf8(t){return(t==null?void 0:t.typeId)===W.Utf8}static isBool(t){return(t==null?void 0:t.typeId)===W.Bool}static isDecimal(t){return(t==null?void 0:t.typeId)===W.Decimal}static isDate(t){return(t==null?void 0:t.typeId)===W.Date}static isTime(t){return(t==null?void 0:t.typeId)===W.Time}static isTimestamp(t){return(t==null?void 0:t.typeId)===W.Timestamp}static isInterval(t){return(t==null?void 0:t.typeId)===W.Interval}static isList(t){return(t==null?void 0:t.typeId)===W.List}static isStruct(t){return(t==null?void 0:t.typeId)===W.Struct}static isUnion(t){return(t==null?void 0:t.typeId)===W.Union}static isFixedSizeBinary(t){return(t==null?void 0:t.typeId)===W.FixedSizeBinary}static isFixedSizeList(t){return(t==null?void 0:t.typeId)===W.FixedSizeList}static isMap(t){return(t==null?void 0:t.typeId)===W.Map}static isDictionary(t){return(t==null?void 0:t.typeId)===W.Dictionary}static isDenseUnion(t){return ze.isUnion(t)&&t.mode===no.Dense}static isSparseUnion(t){return ze.isUnion(t)&&t.mode===no.Sparse}get typeId(){return W.NONE}}dA=Symbol.toStringTag;ze[dA]=(n=>(n.children=null,n.ArrayType=Array,n[Symbol.toStringTag]="DataType"))(ze.prototype);class Ns extends ze{toString(){return"Null"}get typeId(){return W.Null}}fA=Symbol.toStringTag;Ns[fA]=(n=>n[Symbol.toStringTag]="Null")(Ns.prototype);class ks extends ze{constructor(t,e){super(),this.isSigned=t,this.bitWidth=e}get typeId(){return W.Int}get ArrayType(){switch(this.bitWidth){case 8:return this.isSigned?Int8Array:Uint8Array;case 16:return this.isSigned?Int16Array:Uint16Array;case 32:return this.isSigned?Int32Array:Uint32Array;case 64:return this.isSigned?BigInt64Array:BigUint64Array}throw new Error(`Unrecognized ${this[Symbol.toStringTag]} type`)}toString(){return`${this.isSigned?"I":"Ui"}nt${this.bitWidth}`}}gA=Symbol.toStringTag;ks[gA]=(n=>(n.isSigned=null,n.bitWidth=null,n[Symbol.toStringTag]="Int"))(ks.prototype);class Lh extends ks{constructor(){super(!0,32)}get ArrayType(){return Int32Array}}Object.defineProperty(Lh.prototype,"ArrayType",{value:Int32Array});class Oc extends ze{constructor(t){super(),this.precision=t}get typeId(){return W.Float}get ArrayType(){switch(this.precision){case An.HALF:return Uint16Array;case An.SINGLE:return Float32Array;case An.DOUBLE:return Float64Array}throw new Error(`Unrecognized ${this[Symbol.toStringTag]} type`)}toString(){return`Float${this.precision<<5||16}`}}vA=Symbol.toStringTag;Oc[vA]=(n=>(n.precision=null,n[Symbol.toStringTag]="Float"))(Oc.prototype);class mg extends ze{constructor(){super()}get typeId(){return W.Binary}toString(){return"Binary"}}mA=Symbol.toStringTag;mg[mA]=(n=>(n.ArrayType=Uint8Array,n[Symbol.toStringTag]="Binary"))(mg.prototype);class yg extends ze{constructor(){super()}get typeId(){return W.Utf8}toString(){return"Utf8"}}yA=Symbol.toStringTag;yg[yA]=(n=>(n.ArrayType=Uint8Array,n[Symbol.toStringTag]="Utf8"))(yg.prototype);class Cg extends ze{constructor(){super()}get typeId(){return W.Bool}toString(){return"Bool"}}CA=Symbol.toStringTag;Cg[CA]=(n=>(n.ArrayType=Uint8Array,n[Symbol.toStringTag]="Bool"))(Cg.prototype);class bg extends ze{constructor(t,e,r=128){super(),this.scale=t,this.precision=e,this.bitWidth=r}get typeId(){return W.Decimal}toString(){return`Decimal[${this.precision}e${this.scale>0?"+":""}${this.scale}]`}}bA=Symbol.toStringTag;bg[bA]=(n=>(n.scale=null,n.precision=null,n.ArrayType=Uint32Array,n[Symbol.toStringTag]="Decimal"))(bg.prototype);class wg extends ze{constructor(t){super(),this.unit=t}get typeId(){return W.Date}toString(){return`Date${(this.unit+1)*32}<${Aa[this.unit]}>`}}wA=Symbol.toStringTag;wg[wA]=(n=>(n.unit=null,n.ArrayType=Int32Array,n[Symbol.toStringTag]="Date"))(wg.prototype);class Nh extends ze{constructor(t,e){super(),this.unit=t,this.bitWidth=e}get typeId(){return W.Time}toString(){return`Time${this.bitWidth}<${lt[this.unit]}>`}get ArrayType(){switch(this.bitWidth){case 32:return Int32Array;case 64:return BigInt64Array}throw new Error(`Unrecognized ${this[Symbol.toStringTag]} type`)}}_A=Symbol.toStringTag;Nh[_A]=(n=>(n.unit=null,n.bitWidth=null,n[Symbol.toStringTag]="Time"))(Nh.prototype);class kh extends ze{constructor(t,e){super(),this.unit=t,this.timezone=e}get typeId(){return W.Timestamp}toString(){return`Timestamp<${lt[this.unit]}${this.timezone?`, ${this.timezone}`:""}>`}}SA=Symbol.toStringTag;kh[SA]=(n=>(n.unit=null,n.timezone=null,n.ArrayType=Int32Array,n[Symbol.toStringTag]="Timestamp"))(kh.prototype);class _g extends ze{constructor(t){super(),this.unit=t}get typeId(){return W.Interval}toString(){return`Interval<${Ls[this.unit]}>`}}xA=Symbol.toStringTag;_g[xA]=(n=>(n.unit=null,n.ArrayType=Int32Array,n[Symbol.toStringTag]="Interval"))(_g.prototype);class Sg extends ze{constructor(t){super(),this.children=[t]}get typeId(){return W.List}toString(){return`List<${this.valueType}>`}get valueType(){return this.children[0].type}get valueField(){return this.children[0]}get ArrayType(){return this.valueType.ArrayType}}TA=Symbol.toStringTag;Sg[TA]=(n=>(n.children=null,n[Symbol.toStringTag]="List"))(Sg.prototype);class sn extends ze{constructor(t){super(),this.children=t}get typeId(){return W.Struct}toString(){return`Struct<{${this.children.map(t=>`${t.name}:${t.type}`).join(", ")}}>`}}OA=Symbol.toStringTag;sn[OA]=(n=>(n.children=null,n[Symbol.toStringTag]="Struct"))(sn.prototype);class xg extends ze{constructor(t,e,r){super(),this.mode=t,this.children=r,this.typeIds=e=Int32Array.from(e),this.typeIdToChildIndex=e.reduce((i,o,a)=>(i[o]=a)&&i||i,Object.create(null))}get typeId(){return W.Union}toString(){return`${this[Symbol.toStringTag]}<${this.children.map(t=>`${t.type}`).join(" | ")}>`}}EA=Symbol.toStringTag;xg[EA]=(n=>(n.mode=null,n.typeIds=null,n.children=null,n.typeIdToChildIndex=null,n.ArrayType=Int8Array,n[Symbol.toStringTag]="Union"))(xg.prototype);class Tg extends ze{constructor(t){super(),this.byteWidth=t}get typeId(){return W.FixedSizeBinary}toString(){return`FixedSizeBinary[${this.byteWidth}]`}}RA=Symbol.toStringTag;Tg[RA]=(n=>(n.byteWidth=null,n.ArrayType=Uint8Array,n[Symbol.toStringTag]="FixedSizeBinary"))(Tg.prototype);class Og extends ze{constructor(t,e){super(),this.listSize=t,this.children=[e]}get typeId(){return W.FixedSizeList}get valueType(){return this.children[0].type}get valueField(){return this.children[0]}get ArrayType(){return this.valueType.ArrayType}toString(){return`FixedSizeList[${this.listSize}]<${this.valueType}>`}}PA=Symbol.toStringTag;Og[PA]=(n=>(n.children=null,n.listSize=null,n[Symbol.toStringTag]="FixedSizeList"))(Og.prototype);class Eg extends ze{constructor(t,e=!1){super(),this.children=[t],this.keysSorted=e}get typeId(){return W.Map}get keyType(){return this.children[0].type.children[0].type}get valueType(){return this.children[0].type.children[1].type}get childType(){return this.children[0].type}toString(){return`Map<{${this.children[0].type.children.map(t=>`${t.name}:${t.type}`).join(", ")}}>`}}AA=Symbol.toStringTag;Eg[AA]=(n=>(n.children=null,n.keysSorted=null,n[Symbol.toStringTag]="Map_"))(Eg.prototype);const O2=(n=>()=>++n)(-1);class Ec extends ze{constructor(t,e,r,i){super(),this.indices=e,this.dictionary=t,this.isOrdered=i||!1,this.id=r==null?O2():typeof r=="number"?r:r.low}get typeId(){return W.Dictionary}get children(){return this.dictionary.children}get valueType(){return this.dictionary}get ArrayType(){return this.dictionary.ArrayType}toString(){return`Dictionary<${this.indices}, ${this.dictionary}>`}}DA=Symbol.toStringTag;Ec[DA]=(n=>(n.id=null,n.indices=null,n.isOrdered=null,n.dictionary=null,n[Symbol.toStringTag]="Dictionary"))(Ec.prototype);function oa(n){const t=n;switch(n.typeId){case W.Decimal:return n.bitWidth/32;case W.Timestamp:return 2;case W.Date:return 1+t.unit;case W.Interval:return 1+t.unit;case W.FixedSizeList:return t.listSize;case W.FixedSizeBinary:return t.byteWidth;default:return 1}}class st{visitMany(t,...e){return t.map((r,i)=>this.visit(r,...e.map(o=>o[i])))}visit(...t){return this.getVisitFn(t[0],!1).apply(this,t)}getVisitFn(t,e=!0){return E2(this,t,e)}getVisitFnByTypeId(t,e=!0){return Qu(this,t,e)}visitNull(t,...e){return null}visitBool(t,...e){return null}visitInt(t,...e){return null}visitFloat(t,...e){return null}visitUtf8(t,...e){return null}visitBinary(t,...e){return null}visitFixedSizeBinary(t,...e){return null}visitDate(t,...e){return null}visitTimestamp(t,...e){return null}visitTime(t,...e){return null}visitDecimal(t,...e){return null}visitList(t,...e){return null}visitStruct(t,...e){return null}visitUnion(t,...e){return null}visitDictionary(t,...e){return null}visitInterval(t,...e){return null}visitFixedSizeList(t,...e){return null}visitMap(t,...e){return null}}function E2(n,t,e=!0){return typeof t=="number"?Qu(n,t,e):typeof t=="string"&&t in W?Qu(n,W[t],e):t&&t instanceof ze?Qu(n,jx(t),e):(t==null?void 0:t.type)&&t.type instanceof ze?Qu(n,jx(t.type),e):Qu(n,W.NONE,e)}function Qu(n,t,e=!0){let r=null;switch(t){case W.Null:r=n.visitNull;break;case W.Bool:r=n.visitBool;break;case W.Int:r=n.visitInt;break;case W.Int8:r=n.visitInt8||n.visitInt;break;case W.Int16:r=n.visitInt16||n.visitInt;break;case W.Int32:r=n.visitInt32||n.visitInt;break;case W.Int64:r=n.visitInt64||n.visitInt;break;case W.Uint8:r=n.visitUint8||n.visitInt;break;case W.Uint16:r=n.visitUint16||n.visitInt;break;case W.Uint32:r=n.visitUint32||n.visitInt;break;case W.Uint64:r=n.visitUint64||n.visitInt;break;case W.Float:r=n.visitFloat;break;case W.Float16:r=n.visitFloat16||n.visitFloat;break;case W.Float32:r=n.visitFloat32||n.visitFloat;break;case W.Float64:r=n.visitFloat64||n.visitFloat;break;case W.Utf8:r=n.visitUtf8;break;case W.Binary:r=n.visitBinary;break;case W.FixedSizeBinary:r=n.visitFixedSizeBinary;break;case W.Date:r=n.visitDate;break;case W.DateDay:r=n.visitDateDay||n.visitDate;break;case W.DateMillisecond:r=n.visitDateMillisecond||n.visitDate;break;case W.Timestamp:r=n.visitTimestamp;break;case W.TimestampSecond:r=n.visitTimestampSecond||n.visitTimestamp;break;case W.TimestampMillisecond:r=n.visitTimestampMillisecond||n.visitTimestamp;break;case W.TimestampMicrosecond:r=n.visitTimestampMicrosecond||n.visitTimestamp;break;case W.TimestampNanosecond:r=n.visitTimestampNanosecond||n.visitTimestamp;break;case W.Time:r=n.visitTime;break;case W.TimeSecond:r=n.visitTimeSecond||n.visitTime;break;case W.TimeMillisecond:r=n.visitTimeMillisecond||n.visitTime;break;case W.TimeMicrosecond:r=n.visitTimeMicrosecond||n.visitTime;break;case W.TimeNanosecond:r=n.visitTimeNanosecond||n.visitTime;break;case W.Decimal:r=n.visitDecimal;break;case W.List:r=n.visitList;break;case W.Struct:r=n.visitStruct;break;case W.Union:r=n.visitUnion;break;case W.DenseUnion:r=n.visitDenseUnion||n.visitUnion;break;case W.SparseUnion:r=n.visitSparseUnion||n.visitUnion;break;case W.Dictionary:r=n.visitDictionary;break;case W.Interval:r=n.visitInterval;break;case W.IntervalDayTime:r=n.visitIntervalDayTime||n.visitInterval;break;case W.IntervalYearMonth:r=n.visitIntervalYearMonth||n.visitInterval;break;case W.FixedSizeList:r=n.visitFixedSizeList;break;case W.Map:r=n.visitMap;break}if(typeof r=="function")return r;if(!e)return()=>null;throw new Error(`Unrecognized type '${W[t]}'`)}function jx(n){switch(n.typeId){case W.Null:return W.Null;case W.Int:{const{bitWidth:t,isSigned:e}=n;switch(t){case 8:return e?W.Int8:W.Uint8;case 16:return e?W.Int16:W.Uint16;case 32:return e?W.Int32:W.Uint32;case 64:return e?W.Int64:W.Uint64}return W.Int}case W.Float:switch(n.precision){case An.HALF:return W.Float16;case An.SINGLE:return W.Float32;case An.DOUBLE:return W.Float64}return W.Float;case W.Binary:return W.Binary;case W.Utf8:return W.Utf8;case W.Bool:return W.Bool;case W.Decimal:return W.Decimal;case W.Time:switch(n.unit){case lt.SECOND:return W.TimeSecond;case lt.MILLISECOND:return W.TimeMillisecond;case lt.MICROSECOND:return W.TimeMicrosecond;case lt.NANOSECOND:return W.TimeNanosecond}return W.Time;case W.Timestamp:switch(n.unit){case lt.SECOND:return W.TimestampSecond;case lt.MILLISECOND:return W.TimestampMillisecond;case lt.MICROSECOND:return W.TimestampMicrosecond;case lt.NANOSECOND:return W.TimestampNanosecond}return W.Timestamp;case W.Date:switch(n.unit){case Aa.DAY:return W.DateDay;case Aa.MILLISECOND:return W.DateMillisecond}return W.Date;case W.Interval:switch(n.unit){case Ls.DAY_TIME:return W.IntervalDayTime;case Ls.YEAR_MONTH:return W.IntervalYearMonth}return W.Interval;case W.Map:return W.Map;case W.List:return W.List;case W.Struct:return W.Struct;case W.Union:switch(n.mode){case no.Dense:return W.DenseUnion;case no.Sparse:return W.SparseUnion}return W.Union;case W.FixedSizeBinary:return W.FixedSizeBinary;case W.FixedSizeList:return W.FixedSizeList;case W.Dictionary:return W.Dictionary}throw new Error(`Unrecognized type '${W[n.typeId]}'`)}st.prototype.visitInt8=null;st.prototype.visitInt16=null;st.prototype.visitInt32=null;st.prototype.visitInt64=null;st.prototype.visitUint8=null;st.prototype.visitUint16=null;st.prototype.visitUint32=null;st.prototype.visitUint64=null;st.prototype.visitFloat16=null;st.prototype.visitFloat32=null;st.prototype.visitFloat64=null;st.prototype.visitDateDay=null;st.prototype.visitDateMillisecond=null;st.prototype.visitTimestampSecond=null;st.prototype.visitTimestampMillisecond=null;st.prototype.visitTimestampMicrosecond=null;st.prototype.visitTimestampNanosecond=null;st.prototype.visitTimeSecond=null;st.prototype.visitTimeMillisecond=null;st.prototype.visitTimeMicrosecond=null;st.prototype.visitTimeNanosecond=null;st.prototype.visitDenseUnion=null;st.prototype.visitSparseUnion=null;st.prototype.visitIntervalDayTime=null;st.prototype.visitIntervalYearMonth=null;const MA=new Float64Array(1),Cu=new Uint32Array(MA.buffer);function FA(n){const t=(n&31744)>>10,e=(n&1023)/1024,r=Math.pow(-1,(n&32768)>>15);switch(t){case 31:return r*(e?Number.NaN:1/0);case 0:return r*(e?6103515625e-14*e:0)}return r*Math.pow(2,t-15)*(1+e)}function R2(n){if(n!==n)return 32256;MA[0]=n;const t=(Cu[1]&2147483648)>>16&65535;let e=Cu[1]&2146435072,r=0;return e>=1089470464?Cu[0]>0?e=31744:(e=(e&2080374784)>>16,r=(Cu[1]&1048575)>>10):e<=1056964608?(r=1048576+(Cu[1]&1048575),r=1048576+(r<<(e>>20)-998)>>21,e=0):(e=e-1056964608>>10,r=(Cu[1]&1048575)+512>>10),t|e|r&65535}class We extends st{}function Ke(n){return(t,e,r)=>{if(t.setValid(e,r!=null))return n(t,e,r)}}const P2=(n,t,e)=>{n[t]=Math.trunc(e/864e5)},z_=(n,t,e)=>{n[t]=Math.trunc(e%4294967296),n[t+1]=Math.trunc(e/4294967296)},A2=(n,t,e)=>{n[t]=Math.trunc(e*1e3%4294967296),n[t+1]=Math.trunc(e*1e3/4294967296)},D2=(n,t,e)=>{n[t]=Math.trunc(e*1e6%4294967296),n[t+1]=Math.trunc(e*1e6/4294967296)},IA=(n,t,e,r)=>{if(e+1<t.length){const{[e]:i,[e+1]:o}=t;n.set(r.subarray(0,o-i),i)}},M2=({offset:n,values:t},e,r)=>{const i=n+e;r?t[i>>3]|=1<<i%8:t[i>>3]&=~(1<<i%8)},Ba=({values:n},t,e)=>{n[t]=e},$_=({values:n},t,e)=>{n[t]=e},LA=({values:n},t,e)=>{n[t]=R2(e)},F2=(n,t,e)=>{switch(n.type.precision){case An.HALF:return LA(n,t,e);case An.SINGLE:case An.DOUBLE:return $_(n,t,e)}},NA=({values:n},t,e)=>{P2(n,t,e.valueOf())},kA=({values:n},t,e)=>{z_(n,t*2,e.valueOf())},I2=({stride:n,values:t},e,r)=>{t.set(r.subarray(0,n),n*e)},L2=({values:n,valueOffsets:t},e,r)=>IA(n,t,e,r),N2=({values:n,valueOffsets:t},e,r)=>{IA(n,t,e,B_(r))},k2=(n,t,e)=>{n.type.unit===Aa.DAY?NA(n,t,e):kA(n,t,e)},GA=({values:n},t,e)=>z_(n,t*2,e/1e3),BA=({values:n},t,e)=>z_(n,t*2,e),VA=({values:n},t,e)=>A2(n,t*2,e),WA=({values:n},t,e)=>D2(n,t*2,e),G2=(n,t,e)=>{switch(n.type.unit){case lt.SECOND:return GA(n,t,e);case lt.MILLISECOND:return BA(n,t,e);case lt.MICROSECOND:return VA(n,t,e);case lt.NANOSECOND:return WA(n,t,e)}},HA=({values:n},t,e)=>{n[t]=e},jA=({values:n},t,e)=>{n[t]=e},UA=({values:n},t,e)=>{n[t]=e},zA=({values:n},t,e)=>{n[t]=e},B2=(n,t,e)=>{switch(n.type.unit){case lt.SECOND:return HA(n,t,e);case lt.MILLISECOND:return jA(n,t,e);case lt.MICROSECOND:return UA(n,t,e);case lt.NANOSECOND:return zA(n,t,e)}},V2=({values:n,stride:t},e,r)=>{n.set(r.subarray(0,t),t*e)},W2=(n,t,e)=>{const r=n.children[0],i=n.valueOffsets,o=Ii.getVisitFn(r);if(Array.isArray(e))for(let a=-1,s=i[t],l=i[t+1];s<l;)o(r,s++,e[++a]);else for(let a=-1,s=i[t],l=i[t+1];s<l;)o(r,s++,e.get(++a))},H2=(n,t,e)=>{const r=n.children[0],{valueOffsets:i}=n,o=Ii.getVisitFn(r);let{[t]:a,[t+1]:s}=i;const l=e instanceof Map?e.entries():Object.entries(e);for(const u of l)if(o(r,a,u),++a>=s)break},j2=(n,t)=>(e,r,i,o)=>r&&e(r,n,t[o]),U2=(n,t)=>(e,r,i,o)=>r&&e(r,n,t.get(o)),z2=(n,t)=>(e,r,i,o)=>r&&e(r,n,t.get(i.name)),$2=(n,t)=>(e,r,i,o)=>r&&e(r,n,t[i.name]),K2=(n,t,e)=>{const r=n.type.children.map(o=>Ii.getVisitFn(o.type)),i=e instanceof Map?z2(t,e):e instanceof At?U2(t,e):Array.isArray(e)?j2(t,e):$2(t,e);n.type.children.forEach((o,a)=>i(r[a],n.children[a],o,a))},Y2=(n,t,e)=>{n.type.mode===no.Dense?$A(n,t,e):KA(n,t,e)},$A=(n,t,e)=>{const r=n.type.typeIdToChildIndex[n.typeIds[t]],i=n.children[r];Ii.visit(i,n.valueOffsets[t],e)},KA=(n,t,e)=>{const r=n.type.typeIdToChildIndex[n.typeIds[t]],i=n.children[r];Ii.visit(i,t,e)},X2=(n,t,e)=>{var r;(r=n.dictionary)===null||r===void 0||r.set(n.values[t],e)},q2=(n,t,e)=>{n.type.unit===Ls.DAY_TIME?YA(n,t,e):XA(n,t,e)},YA=({values:n},t,e)=>{n.set(e.subarray(0,2),2*t)},XA=({values:n},t,e)=>{n[t]=e[0]*12+e[1]%12},Z2=(n,t,e)=>{const{stride:r}=n,i=n.children[0],o=Ii.getVisitFn(i);if(Array.isArray(e))for(let a=-1,s=t*r;++a<r;)o(i,s+a,e[a]);else for(let a=-1,s=t*r;++a<r;)o(i,s+a,e.get(a))};We.prototype.visitBool=Ke(M2);We.prototype.visitInt=Ke(Ba);We.prototype.visitInt8=Ke(Ba);We.prototype.visitInt16=Ke(Ba);We.prototype.visitInt32=Ke(Ba);We.prototype.visitInt64=Ke(Ba);We.prototype.visitUint8=Ke(Ba);We.prototype.visitUint16=Ke(Ba);We.prototype.visitUint32=Ke(Ba);We.prototype.visitUint64=Ke(Ba);We.prototype.visitFloat=Ke(F2);We.prototype.visitFloat16=Ke(LA);We.prototype.visitFloat32=Ke($_);We.prototype.visitFloat64=Ke($_);We.prototype.visitUtf8=Ke(N2);We.prototype.visitBinary=Ke(L2);We.prototype.visitFixedSizeBinary=Ke(I2);We.prototype.visitDate=Ke(k2);We.prototype.visitDateDay=Ke(NA);We.prototype.visitDateMillisecond=Ke(kA);We.prototype.visitTimestamp=Ke(G2);We.prototype.visitTimestampSecond=Ke(GA);We.prototype.visitTimestampMillisecond=Ke(BA);We.prototype.visitTimestampMicrosecond=Ke(VA);We.prototype.visitTimestampNanosecond=Ke(WA);We.prototype.visitTime=Ke(B2);We.prototype.visitTimeSecond=Ke(HA);We.prototype.visitTimeMillisecond=Ke(jA);We.prototype.visitTimeMicrosecond=Ke(UA);We.prototype.visitTimeNanosecond=Ke(zA);We.prototype.visitDecimal=Ke(V2);We.prototype.visitList=Ke(W2);We.prototype.visitStruct=Ke(K2);We.prototype.visitUnion=Ke(Y2);We.prototype.visitDenseUnion=Ke($A);We.prototype.visitSparseUnion=Ke(KA);We.prototype.visitDictionary=Ke(X2);We.prototype.visitInterval=Ke(q2);We.prototype.visitIntervalDayTime=Ke(YA);We.prototype.visitIntervalYearMonth=Ke(XA);We.prototype.visitFixedSizeList=Ke(Z2);We.prototype.visitMap=Ke(H2);const Ii=new We,zi=Symbol.for("parent"),yc=Symbol.for("rowIndex");class K_{constructor(t,e){return this[zi]=t,this[yc]=e,new Proxy(this,new J2)}toArray(){return Object.values(this.toJSON())}toJSON(){const t=this[yc],e=this[zi],r=e.type.children,i={};for(let o=-1,a=r.length;++o<a;)i[r[o].name]=Dn.visit(e.children[o],t);return i}toString(){return`{${[...this].map(([t,e])=>`${Fh(t)}: ${Fh(e)}`).join(", ")}}`}[Symbol.for("nodejs.util.inspect.custom")](){return this.toString()}[Symbol.iterator](){return new Q2(this[zi],this[yc])}}class Q2{constructor(t,e){this.childIndex=0,this.children=t.children,this.rowIndex=e,this.childFields=t.type.children,this.numChildren=this.childFields.length}[Symbol.iterator](){return this}next(){const t=this.childIndex;return t<this.numChildren?(this.childIndex=t+1,{done:!1,value:[this.childFields[t].name,Dn.visit(this.children[t],this.rowIndex)]}):{done:!0,value:null}}}Object.defineProperties(K_.prototype,{[Symbol.toStringTag]:{enumerable:!1,configurable:!1,value:"Row"},[zi]:{writable:!0,enumerable:!1,configurable:!1,value:null},[yc]:{writable:!0,enumerable:!1,configurable:!1,value:-1}});class J2{isExtensible(){return!1}deleteProperty(){return!1}preventExtensions(){return!0}ownKeys(t){return t[zi].type.children.map(e=>e.name)}has(t,e){return t[zi].type.children.findIndex(r=>r.name===e)!==-1}getOwnPropertyDescriptor(t,e){if(t[zi].type.children.findIndex(r=>r.name===e)!==-1)return{writable:!0,enumerable:!0,configurable:!0}}get(t,e){if(Reflect.has(t,e))return t[e];const r=t[zi].type.children.findIndex(i=>i.name===e);if(r!==-1){const i=Dn.visit(t[zi].children[r],t[yc]);return Reflect.set(t,e,i),i}}set(t,e,r){const i=t[zi].type.children.findIndex(o=>o.name===e);return i!==-1?(Ii.visit(t[zi].children[i],t[yc],r),Reflect.set(t,e,r)):Reflect.has(t,e)||typeof e=="symbol"?Reflect.set(t,e,r):!1}}class Ie extends st{}function He(n){return(t,e)=>t.getValid(e)?n(t,e):null}const eB=(n,t)=>864e5*n[t],Y_=(n,t)=>4294967296*n[t+1]+(n[t]>>>0),tB=(n,t)=>4294967296*(n[t+1]/1e3)+(n[t]>>>0)/1e3,rB=(n,t)=>4294967296*(n[t+1]/1e6)+(n[t]>>>0)/1e6,qA=n=>new Date(n),nB=(n,t)=>qA(eB(n,t)),iB=(n,t)=>qA(Y_(n,t)),oB=(n,t)=>null,ZA=(n,t,e)=>{if(e+1>=t.length)return null;const r=t[e],i=t[e+1];return n.subarray(r,i)},aB=({offset:n,values:t},e)=>{const r=n+e;return(t[r>>3]&1<<r%8)!==0},QA=({values:n},t)=>nB(n,t),JA=({values:n},t)=>iB(n,t*2),Us=({stride:n,values:t},e)=>t[n*e],sB=({stride:n,values:t},e)=>FA(t[n*e]),eD=({values:n},t)=>n[t],lB=({stride:n,values:t},e)=>t.subarray(n*e,n*(e+1)),uB=({values:n,valueOffsets:t},e)=>ZA(n,t,e),cB=({values:n,valueOffsets:t},e)=>{const r=ZA(n,t,e);return r!==null?Yb(r):null},pB=({values:n},t)=>n[t],hB=({type:n,values:t},e)=>n.precision!==An.HALF?t[e]:FA(t[e]),dB=(n,t)=>n.type.unit===Aa.DAY?QA(n,t):JA(n,t),tD=({values:n},t)=>1e3*Y_(n,t*2),rD=({values:n},t)=>Y_(n,t*2),nD=({values:n},t)=>tB(n,t*2),iD=({values:n},t)=>rB(n,t*2),fB=(n,t)=>{switch(n.type.unit){case lt.SECOND:return tD(n,t);case lt.MILLISECOND:return rD(n,t);case lt.MICROSECOND:return nD(n,t);case lt.NANOSECOND:return iD(n,t)}},oD=({values:n},t)=>n[t],aD=({values:n},t)=>n[t],sD=({values:n},t)=>n[t],lD=({values:n},t)=>n[t],gB=(n,t)=>{switch(n.type.unit){case lt.SECOND:return oD(n,t);case lt.MILLISECOND:return aD(n,t);case lt.MICROSECOND:return sD(n,t);case lt.NANOSECOND:return lD(n,t)}},vB=({values:n,stride:t},e)=>U_.decimal(n.subarray(t*e,t*(e+1))),mB=(n,t)=>{const{valueOffsets:e,stride:r,children:i}=n,{[t*r]:o,[t*r+1]:a}=e,l=i[0].slice(o,a-o);return new At([l])},yB=(n,t)=>{const{valueOffsets:e,children:r}=n,{[t]:i,[t+1]:o}=e,a=r[0];return new X_(a.slice(i,o-i))},CB=(n,t)=>new K_(n,t),bB=(n,t)=>n.type.mode===no.Dense?uD(n,t):cD(n,t),uD=(n,t)=>{const e=n.type.typeIdToChildIndex[n.typeIds[t]],r=n.children[e];return Dn.visit(r,n.valueOffsets[t])},cD=(n,t)=>{const e=n.type.typeIdToChildIndex[n.typeIds[t]],r=n.children[e];return Dn.visit(r,t)},wB=(n,t)=>{var e;return(e=n.dictionary)===null||e===void 0?void 0:e.get(n.values[t])},_B=(n,t)=>n.type.unit===Ls.DAY_TIME?pD(n,t):hD(n,t),pD=({values:n},t)=>n.subarray(2*t,2*(t+1)),hD=({values:n},t)=>{const e=n[t],r=new Int32Array(2);return r[0]=Math.trunc(e/12),r[1]=Math.trunc(e%12),r},SB=(n,t)=>{const{stride:e,children:r}=n,o=r[0].slice(t*e,e);return new At([o])};Ie.prototype.visitNull=He(oB);Ie.prototype.visitBool=He(aB);Ie.prototype.visitInt=He(pB);Ie.prototype.visitInt8=He(Us);Ie.prototype.visitInt16=He(Us);Ie.prototype.visitInt32=He(Us);Ie.prototype.visitInt64=He(eD);Ie.prototype.visitUint8=He(Us);Ie.prototype.visitUint16=He(Us);Ie.prototype.visitUint32=He(Us);Ie.prototype.visitUint64=He(eD);Ie.prototype.visitFloat=He(hB);Ie.prototype.visitFloat16=He(sB);Ie.prototype.visitFloat32=He(Us);Ie.prototype.visitFloat64=He(Us);Ie.prototype.visitUtf8=He(cB);Ie.prototype.visitBinary=He(uB);Ie.prototype.visitFixedSizeBinary=He(lB);Ie.prototype.visitDate=He(dB);Ie.prototype.visitDateDay=He(QA);Ie.prototype.visitDateMillisecond=He(JA);Ie.prototype.visitTimestamp=He(fB);Ie.prototype.visitTimestampSecond=He(tD);Ie.prototype.visitTimestampMillisecond=He(rD);Ie.prototype.visitTimestampMicrosecond=He(nD);Ie.prototype.visitTimestampNanosecond=He(iD);Ie.prototype.visitTime=He(gB);Ie.prototype.visitTimeSecond=He(oD);Ie.prototype.visitTimeMillisecond=He(aD);Ie.prototype.visitTimeMicrosecond=He(sD);Ie.prototype.visitTimeNanosecond=He(lD);Ie.prototype.visitDecimal=He(vB);Ie.prototype.visitList=He(mB);Ie.prototype.visitStruct=He(CB);Ie.prototype.visitUnion=He(bB);Ie.prototype.visitDenseUnion=He(uD);Ie.prototype.visitSparseUnion=He(cD);Ie.prototype.visitDictionary=He(wB);Ie.prototype.visitInterval=He(_B);Ie.prototype.visitIntervalDayTime=He(pD);Ie.prototype.visitIntervalYearMonth=He(hD);Ie.prototype.visitFixedSizeList=He(SB);Ie.prototype.visitMap=He(yB);const Dn=new Ie,Eo=Symbol.for("keys"),Cc=Symbol.for("vals");class X_{constructor(t){return this[Eo]=new At([t.children[0]]).memoize(),this[Cc]=t.children[1],new Proxy(this,new TB)}[Symbol.iterator](){return new xB(this[Eo],this[Cc])}get size(){return this[Eo].length}toArray(){return Object.values(this.toJSON())}toJSON(){const t=this[Eo],e=this[Cc],r={};for(let i=-1,o=t.length;++i<o;)r[t.get(i)]=Dn.visit(e,i);return r}toString(){return`{${[...this].map(([t,e])=>`${Fh(t)}: ${Fh(e)}`).join(", ")}}`}[Symbol.for("nodejs.util.inspect.custom")](){return this.toString()}}class xB{constructor(t,e){this.keys=t,this.vals=e,this.keyIndex=0,this.numKeys=t.length}[Symbol.iterator](){return this}next(){const t=this.keyIndex;return t===this.numKeys?{done:!0,value:null}:(this.keyIndex++,{done:!1,value:[this.keys.get(t),Dn.visit(this.vals,t)]})}}class TB{isExtensible(){return!1}deleteProperty(){return!1}preventExtensions(){return!0}ownKeys(t){return t[Eo].toArray().map(String)}has(t,e){return t[Eo].includes(e)}getOwnPropertyDescriptor(t,e){if(t[Eo].indexOf(e)!==-1)return{writable:!0,enumerable:!0,configurable:!0}}get(t,e){if(Reflect.has(t,e))return t[e];const r=t[Eo].indexOf(e);if(r!==-1){const i=Dn.visit(Reflect.get(t,Cc),r);return Reflect.set(t,e,i),i}}set(t,e,r){const i=t[Eo].indexOf(e);return i!==-1?(Ii.visit(Reflect.get(t,Cc),i,r),Reflect.set(t,e,r)):Reflect.has(t,e)?Reflect.set(t,e,r):!1}}Object.defineProperties(X_.prototype,{[Symbol.toStringTag]:{enumerable:!1,configurable:!1,value:"Row"},[Eo]:{writable:!0,enumerable:!1,configurable:!1,value:null},[Cc]:{writable:!0,enumerable:!1,configurable:!1,value:null}});let Ux;function dD(n,t,e,r){const{length:i=0}=n;let o=typeof t!="number"?0:t,a=typeof e!="number"?i:e;return o<0&&(o=(o%i+i)%i),a<0&&(a=(a%i+i)%i),a<o&&(Ux=o,o=a,a=Ux),a>i&&(a=i),r?r(n,o,a):[o,a]}const zx=n=>n!==n;function Kc(n){if(typeof n!=="object"||n===null)return zx(n)?zx:e=>e===n;if(n instanceof Date){const e=n.valueOf();return r=>r instanceof Date?r.valueOf()===e:!1}return ArrayBuffer.isView(n)?e=>e?y2(n,e):!1:n instanceof Map?EB(n):Array.isArray(n)?OB(n):n instanceof At?RB(n):PB(n,!0)}function OB(n){const t=[];for(let e=-1,r=n.length;++e<r;)t[e]=Kc(n[e]);return tm(t)}function EB(n){let t=-1;const e=[];for(const r of n.values())e[++t]=Kc(r);return tm(e)}function RB(n){const t=[];for(let e=-1,r=n.length;++e<r;)t[e]=Kc(n.get(e));return tm(t)}function PB(n,t=!1){const e=Object.keys(n);if(!t&&e.length===0)return()=>!1;const r=[];for(let i=-1,o=e.length;++i<o;)r[i]=Kc(n[e[i]]);return tm(r,e)}function tm(n,t){return e=>{if(!e||typeof e!="object")return!1;switch(e.constructor){case Array:return AB(n,e);case Map:return $x(n,e,e.keys());case X_:case K_:case Object:case void 0:return $x(n,e,t||Object.keys(e))}return e instanceof At?DB(n,e):!1}}function AB(n,t){const e=n.length;if(t.length!==e)return!1;for(let r=-1;++r<e;)if(!n[r](t[r]))return!1;return!0}function DB(n,t){const e=n.length;if(t.length!==e)return!1;for(let r=-1;++r<e;)if(!n[r](t.get(r)))return!1;return!0}function $x(n,t,e){const r=e[Symbol.iterator](),i=t instanceof Map?t.keys():Object.keys(t)[Symbol.iterator](),o=t instanceof Map?t.values():Object.values(t)[Symbol.iterator]();let a=0;const s=n.length;let l=o.next(),u=r.next(),c=i.next();for(;a<s&&!u.done&&!c.done&&!l.done&&!(u.value!==c.value||!n[a](l.value));++a,u=r.next(),c=i.next(),l=o.next());return a===s&&u.done&&c.done&&l.done?!0:(r.return&&r.return(),i.return&&i.return(),o.return&&o.return(),!1)}function fD(n,t,e,r){return(e&1<<r)!==0}function MB(n,t,e,r){return(e&1<<r)>>r}function FB(n,t,e){const r=e.byteLength+7&-8;if(n>0||e.byteLength<r){const i=new Uint8Array(r);return i.set(n%8===0?e.subarray(n>>3):Qb(new q_(e,n,t,null,fD)).subarray(0,r)),i}return e}function Qb(n){const t=[];let e=0,r=0,i=0;for(const a of n)a&&(i|=1<<r),++r===8&&(t[e++]=i,i=r=0);(e===0||r>0)&&(t[e++]=i);const o=new Uint8Array(t.length+7&-8);return o.set(t),o}class q_{constructor(t,e,r,i,o){this.bytes=t,this.length=r,this.context=i,this.get=o,this.bit=e%8,this.byteIndex=e>>3,this.byte=t[this.byteIndex++],this.index=0}next(){return this.index<this.length?(this.bit===8&&(this.bit=0,this.byte=this.bytes[this.byteIndex++]),{value:this.get(this.context,this.index++,this.byte,this.bit++)}):{done:!0,value:null}}[Symbol.iterator](){return this}}function Jb(n,t,e){if(e-t<=0)return 0;if(e-t<8){let o=0;for(const a of new q_(n,t,e-t,n,MB))o+=a;return o}const r=e>>3<<3,i=t+(t%8===0?0:8-t%8);return Jb(n,t,i)+Jb(n,r,e)+IB(n,i>>3,r-i>>3)}function IB(n,t,e){let r=0,i=Math.trunc(t);const o=new DataView(n.buffer,n.byteOffset,n.byteLength),a=e===void 0?n.byteLength:i+e;for(;a-i>=4;)r+=gy(o.getUint32(i)),i+=4;for(;a-i>=2;)r+=gy(o.getUint16(i)),i+=2;for(;a-i>=1;)r+=gy(o.getUint8(i)),i+=1;return r}function gy(n){let t=Math.trunc(n);return t=t-(t>>>1&1431655765),t=(t&858993459)+(t>>>2&858993459),(t+(t>>>4)&252645135)*16843009>>>24}const LB=-1;class Gt{constructor(t,e,r,i,o,a=[],s){this.type=t,this.children=a,this.dictionary=s,this.offset=Math.floor(Math.max(e||0,0)),this.length=Math.floor(Math.max(r||0,0)),this._nullCount=Math.floor(Math.max(i||0,-1));let l;o instanceof Gt?(this.stride=o.stride,this.values=o.values,this.typeIds=o.typeIds,this.nullBitmap=o.nullBitmap,this.valueOffsets=o.valueOffsets):(this.stride=oa(t),o&&((l=o[0])&&(this.valueOffsets=l),(l=o[1])&&(this.values=l),(l=o[2])&&(this.nullBitmap=l),(l=o[3])&&(this.typeIds=l))),this.nullable=this._nullCount!==0&&this.nullBitmap&&this.nullBitmap.byteLength>0}get typeId(){return this.type.typeId}get ArrayType(){return this.type.ArrayType}get buffers(){return[this.valueOffsets,this.values,this.nullBitmap,this.typeIds]}get byteLength(){let t=0;const{valueOffsets:e,values:r,nullBitmap:i,typeIds:o}=this;return e&&(t+=e.byteLength),r&&(t+=r.byteLength),i&&(t+=i.byteLength),o&&(t+=o.byteLength),this.children.reduce((a,s)=>a+s.byteLength,t)}get nullCount(){let t=this._nullCount,e;return t<=LB&&(e=this.nullBitmap)&&(this._nullCount=t=this.length-Jb(e,this.offset,this.offset+this.length)),t}getValid(t){if(this.nullable&&this.nullCount>0){const e=this.offset+t;return(this.nullBitmap[e>>3]&1<<e%8)!==0}return!0}setValid(t,e){if(!this.nullable)return e;if(!this.nullBitmap||this.nullBitmap.byteLength<=t>>3){const{nullBitmap:l}=this._changeLengthAndBackfillNullBitmap(this.length);Object.assign(this,{nullBitmap:l,_nullCount:0})}const{nullBitmap:r,offset:i}=this,o=i+t>>3,a=(i+t)%8,s=r[o]>>a&1;return e?s===0&&(r[o]|=1<<a,this._nullCount=this.nullCount+1):s===1&&(r[o]&=~(1<<a),this._nullCount=this.nullCount-1),e}clone(t=this.type,e=this.offset,r=this.length,i=this._nullCount,o=this,a=this.children){return new Gt(t,e,r,i,o,a,this.dictionary)}slice(t,e){const{stride:r,typeId:i,children:o}=this,a=+(this._nullCount===0)-1,s=i===16?r:1,l=this._sliceBuffers(t,e,r,i);return this.clone(this.type,this.offset+t,e,a,l,o.length===0||this.valueOffsets?o:this._sliceChildren(o,s*t,s*e))}_changeLengthAndBackfillNullBitmap(t){if(this.typeId===W.Null)return this.clone(this.type,0,t,0);const{length:e,nullCount:r}=this,i=new Uint8Array((t+63&-64)>>3).fill(255,0,e>>3);i[e>>3]=(1<<e-(e&-8))-1,r>0&&i.set(FB(this.offset,e,this.nullBitmap),0);const o=this.buffers;return o[ia.VALIDITY]=i,this.clone(this.type,0,t,r+(t-e),o)}_sliceBuffers(t,e,r,i){let o;const{buffers:a}=this;return(o=a[ia.TYPE])&&(a[ia.TYPE]=o.subarray(t,t+e)),(o=a[ia.OFFSET])&&(a[ia.OFFSET]=o.subarray(t,t+e+1))||(o=a[ia.DATA])&&(a[ia.DATA]=i===6?o:o.subarray(r*t,r*(t+e))),a}_sliceChildren(t,e,r){return t.map(i=>i.slice(e,r))}}Gt.prototype.children=Object.freeze([]);class gh extends st{visit(t){return this.getVisitFn(t.type).call(this,t)}visitNull(t){const{["type"]:e,["offset"]:r=0,["length"]:i=0}=t;return new Gt(e,r,i,0)}visitBool(t){const{["type"]:e,["offset"]:r=0}=t,i=dt(t.nullBitmap),o=Mt(e.ArrayType,t.data),{["length"]:a=o.length>>3,["nullCount"]:s=t.nullBitmap?-1:0}=t;return new Gt(e,r,a,s,[void 0,o,i])}visitInt(t){const{["type"]:e,["offset"]:r=0}=t,i=dt(t.nullBitmap),o=Mt(e.ArrayType,t.data),{["length"]:a=o.length,["nullCount"]:s=t.nullBitmap?-1:0}=t;return new Gt(e,r,a,s,[void 0,o,i])}visitFloat(t){const{["type"]:e,["offset"]:r=0}=t,i=dt(t.nullBitmap),o=Mt(e.ArrayType,t.data),{["length"]:a=o.length,["nullCount"]:s=t.nullBitmap?-1:0}=t;return new Gt(e,r,a,s,[void 0,o,i])}visitUtf8(t){const{["type"]:e,["offset"]:r=0}=t,i=dt(t.data),o=dt(t.nullBitmap),a=pp(t.valueOffsets),{["length"]:s=a.length-1,["nullCount"]:l=t.nullBitmap?-1:0}=t;return new Gt(e,r,s,l,[a,i,o])}visitBinary(t){const{["type"]:e,["offset"]:r=0}=t,i=dt(t.data),o=dt(t.nullBitmap),a=pp(t.valueOffsets),{["length"]:s=a.length-1,["nullCount"]:l=t.nullBitmap?-1:0}=t;return new Gt(e,r,s,l,[a,i,o])}visitFixedSizeBinary(t){const{["type"]:e,["offset"]:r=0}=t,i=dt(t.nullBitmap),o=Mt(e.ArrayType,t.data),{["length"]:a=o.length/oa(e),["nullCount"]:s=t.nullBitmap?-1:0}=t;return new Gt(e,r,a,s,[void 0,o,i])}visitDate(t){const{["type"]:e,["offset"]:r=0}=t,i=dt(t.nullBitmap),o=Mt(e.ArrayType,t.data),{["length"]:a=o.length/oa(e),["nullCount"]:s=t.nullBitmap?-1:0}=t;return new Gt(e,r,a,s,[void 0,o,i])}visitTimestamp(t){const{["type"]:e,["offset"]:r=0}=t,i=dt(t.nullBitmap),o=Mt(e.ArrayType,t.data),{["length"]:a=o.length/oa(e),["nullCount"]:s=t.nullBitmap?-1:0}=t;return new Gt(e,r,a,s,[void 0,o,i])}visitTime(t){const{["type"]:e,["offset"]:r=0}=t,i=dt(t.nullBitmap),o=Mt(e.ArrayType,t.data),{["length"]:a=o.length/oa(e),["nullCount"]:s=t.nullBitmap?-1:0}=t;return new Gt(e,r,a,s,[void 0,o,i])}visitDecimal(t){const{["type"]:e,["offset"]:r=0}=t,i=dt(t.nullBitmap),o=Mt(e.ArrayType,t.data),{["length"]:a=o.length/oa(e),["nullCount"]:s=t.nullBitmap?-1:0}=t;return new Gt(e,r,a,s,[void 0,o,i])}visitList(t){const{["type"]:e,["offset"]:r=0,["child"]:i}=t,o=dt(t.nullBitmap),a=pp(t.valueOffsets),{["length"]:s=a.length-1,["nullCount"]:l=t.nullBitmap?-1:0}=t;return new Gt(e,r,s,l,[a,void 0,o],[i])}visitStruct(t){const{["type"]:e,["offset"]:r=0,["children"]:i=[]}=t,o=dt(t.nullBitmap),{length:a=i.reduce((l,{length:u})=>Math.max(l,u),0),nullCount:s=t.nullBitmap?-1:0}=t;return new Gt(e,r,a,s,[void 0,void 0,o],i)}visitUnion(t){const{["type"]:e,["offset"]:r=0,["children"]:i=[]}=t,o=dt(t.nullBitmap),a=Mt(e.ArrayType,t.typeIds),{["length"]:s=a.length,["nullCount"]:l=t.nullBitmap?-1:0}=t;if(ze.isSparseUnion(e))return new Gt(e,r,s,l,[void 0,void 0,o,a],i);const u=pp(t.valueOffsets);return new Gt(e,r,s,l,[u,void 0,o,a],i)}visitDictionary(t){const{["type"]:e,["offset"]:r=0}=t,i=dt(t.nullBitmap),o=Mt(e.indices.ArrayType,t.data),{["dictionary"]:a=new At([new gh().visit({type:e.dictionary})])}=t,{["length"]:s=o.length,["nullCount"]:l=t.nullBitmap?-1:0}=t;return new Gt(e,r,s,l,[void 0,o,i],[],a)}visitInterval(t){const{["type"]:e,["offset"]:r=0}=t,i=dt(t.nullBitmap),o=Mt(e.ArrayType,t.data),{["length"]:a=o.length/oa(e),["nullCount"]:s=t.nullBitmap?-1:0}=t;return new Gt(e,r,a,s,[void 0,o,i])}visitFixedSizeList(t){const{["type"]:e,["offset"]:r=0,["child"]:i=new gh().visit({type:e.valueType})}=t,o=dt(t.nullBitmap),{["length"]:a=i.length/oa(e),["nullCount"]:s=t.nullBitmap?-1:0}=t;return new Gt(e,r,a,s,[void 0,void 0,o],[i])}visitMap(t){const{["type"]:e,["offset"]:r=0,["child"]:i=new gh().visit({type:e.childType})}=t,o=dt(t.nullBitmap),a=pp(t.valueOffsets),{["length"]:s=a.length-1,["nullCount"]:l=t.nullBitmap?-1:0}=t;return new Gt(e,r,s,l,[a,void 0,o],[i])}}function it(n){return new gh().visit(n)}class Kx{constructor(t=0,e){this.numChunks=t,this.getChunkIterator=e,this.chunkIndex=0,this.chunkIterator=this.getChunkIterator(0)}next(){for(;this.chunkIndex<this.numChunks;){const t=this.chunkIterator.next();if(!t.done)return t;++this.chunkIndex<this.numChunks&&(this.chunkIterator=this.getChunkIterator(this.chunkIndex))}return{done:!0,value:null}}[Symbol.iterator](){return this}}function gD(n){return n.reduce((t,e)=>t+e.nullCount,0)}function vD(n){return n.reduce((t,e,r)=>(t[r+1]=t[r]+e.length,t),new Uint32Array(n.length+1))}function mD(n,t,e,r){const i=[];for(let o=-1,a=n.length;++o<a;){const s=n[o],l=t[o],{length:u}=s;if(l>=r)break;if(e>=l+u)continue;if(l>=e&&l+u<=r){i.push(s);continue}const c=Math.max(0,e-l),p=Math.min(r-l,u);i.push(s.slice(c,p-c))}return i.length===0&&i.push(n[0].slice(0,0)),i}function Z_(n,t,e,r){let i=0,o=0,a=t.length-1;do{if(i>=a-1)return e<t[a]?r(n,i,e-t[i]):null;o=i+Math.trunc((a-i)*.5),e<t[o]?a=o:i=o}while(i<a)}function Q_(n,t){return n.getValid(t)}function bc(n){function t(e,r,i){return n(e[r],i)}return function(e){const r=this.data;return Z_(r,this._offsets,e,t)}}function yD(n){let t;function e(r,i,o){return n(r[i],o,t)}return function(r,i){const o=this.data;t=i;const a=Z_(o,this._offsets,r,e);return t=void 0,a}}function CD(n){let t;function e(r,i,o){let a=o,s=0,l=0;for(let u=i-1,c=r.length;++u<c;){const p=r[u];if(~(s=n(p,t,a)))return l+s;a=0,l+=p.length}return-1}return function(r,i){t=r;const o=this.data,a=typeof i!="number"?e(o,0,0):Z_(o,this._offsets,i,e);return t=void 0,a}}class Le extends st{}function NB(n,t){return t===null&&n.length>0?0:-1}function kB(n,t){const{nullBitmap:e}=n;if(!e||n.nullCount<=0)return-1;let r=0;for(const i of new q_(e,n.offset+(t||0),n.length,e,fD)){if(!i)return r;++r}return-1}function Ze(n,t,e){if(t===void 0)return-1;if(t===null)return kB(n,e);const r=Dn.getVisitFn(n),i=Kc(t);for(let o=(e||0)-1,a=n.length;++o<a;)if(i(r(n,o)))return o;return-1}function bD(n,t,e){const r=Dn.getVisitFn(n),i=Kc(t);for(let o=(e||0)-1,a=n.length;++o<a;)if(i(r(n,o)))return o;return-1}Le.prototype.visitNull=NB;Le.prototype.visitBool=Ze;Le.prototype.visitInt=Ze;Le.prototype.visitInt8=Ze;Le.prototype.visitInt16=Ze;Le.prototype.visitInt32=Ze;Le.prototype.visitInt64=Ze;Le.prototype.visitUint8=Ze;Le.prototype.visitUint16=Ze;Le.prototype.visitUint32=Ze;Le.prototype.visitUint64=Ze;Le.prototype.visitFloat=Ze;Le.prototype.visitFloat16=Ze;Le.prototype.visitFloat32=Ze;Le.prototype.visitFloat64=Ze;Le.prototype.visitUtf8=Ze;Le.prototype.visitBinary=Ze;Le.prototype.visitFixedSizeBinary=Ze;Le.prototype.visitDate=Ze;Le.prototype.visitDateDay=Ze;Le.prototype.visitDateMillisecond=Ze;Le.prototype.visitTimestamp=Ze;Le.prototype.visitTimestampSecond=Ze;Le.prototype.visitTimestampMillisecond=Ze;Le.prototype.visitTimestampMicrosecond=Ze;Le.prototype.visitTimestampNanosecond=Ze;Le.prototype.visitTime=Ze;Le.prototype.visitTimeSecond=Ze;Le.prototype.visitTimeMillisecond=Ze;Le.prototype.visitTimeMicrosecond=Ze;Le.prototype.visitTimeNanosecond=Ze;Le.prototype.visitDecimal=Ze;Le.prototype.visitList=Ze;Le.prototype.visitStruct=Ze;Le.prototype.visitUnion=Ze;Le.prototype.visitDenseUnion=bD;Le.prototype.visitSparseUnion=bD;Le.prototype.visitDictionary=Ze;Le.prototype.visitInterval=Ze;Le.prototype.visitIntervalDayTime=Ze;Le.prototype.visitIntervalYearMonth=Ze;Le.prototype.visitFixedSizeList=Ze;Le.prototype.visitMap=Ze;const Rg=new Le;class Ne extends st{}function je(n){const{type:t}=n;if(n.nullCount===0&&n.stride===1&&(t.typeId===W.Timestamp||t instanceof ks&&t.bitWidth!==64||t instanceof Nh&&t.bitWidth!==64||t instanceof Oc&&t.precision!==An.HALF))return new Kx(n.data.length,r=>{const i=n.data[r];return i.values.subarray(0,i.length)[Symbol.iterator]()});let e=0;return new Kx(n.data.length,r=>{const o=n.data[r].length,a=n.slice(e,e+o);return e+=o,new GB(a)})}class GB{constructor(t){this.vector=t,this.index=0}next(){return this.index<this.vector.length?{value:this.vector.get(this.index++)}:{done:!0,value:null}}[Symbol.iterator](){return this}}Ne.prototype.visitNull=je;Ne.prototype.visitBool=je;Ne.prototype.visitInt=je;Ne.prototype.visitInt8=je;Ne.prototype.visitInt16=je;Ne.prototype.visitInt32=je;Ne.prototype.visitInt64=je;Ne.prototype.visitUint8=je;Ne.prototype.visitUint16=je;Ne.prototype.visitUint32=je;Ne.prototype.visitUint64=je;Ne.prototype.visitFloat=je;Ne.prototype.visitFloat16=je;Ne.prototype.visitFloat32=je;Ne.prototype.visitFloat64=je;Ne.prototype.visitUtf8=je;Ne.prototype.visitBinary=je;Ne.prototype.visitFixedSizeBinary=je;Ne.prototype.visitDate=je;Ne.prototype.visitDateDay=je;Ne.prototype.visitDateMillisecond=je;Ne.prototype.visitTimestamp=je;Ne.prototype.visitTimestampSecond=je;Ne.prototype.visitTimestampMillisecond=je;Ne.prototype.visitTimestampMicrosecond=je;Ne.prototype.visitTimestampNanosecond=je;Ne.prototype.visitTime=je;Ne.prototype.visitTimeSecond=je;Ne.prototype.visitTimeMillisecond=je;Ne.prototype.visitTimeMicrosecond=je;Ne.prototype.visitTimeNanosecond=je;Ne.prototype.visitDecimal=je;Ne.prototype.visitList=je;Ne.prototype.visitStruct=je;Ne.prototype.visitUnion=je;Ne.prototype.visitDenseUnion=je;Ne.prototype.visitSparseUnion=je;Ne.prototype.visitDictionary=je;Ne.prototype.visitInterval=je;Ne.prototype.visitIntervalDayTime=je;Ne.prototype.visitIntervalYearMonth=je;Ne.prototype.visitFixedSizeList=je;Ne.prototype.visitMap=je;const J_=new Ne,BB=(n,t)=>n+t;class zs extends st{visitNull(t,e){return 0}visitInt(t,e){return t.type.bitWidth/8}visitFloat(t,e){return t.type.ArrayType.BYTES_PER_ELEMENT}visitBool(t,e){return 1/8}visitDecimal(t,e){return t.type.bitWidth/8}visitDate(t,e){return(t.type.unit+1)*4}visitTime(t,e){return t.type.bitWidth/8}visitTimestamp(t,e){return t.type.unit===lt.SECOND?4:8}visitInterval(t,e){return(t.type.unit+1)*4}visitStruct(t,e){return t.children.reduce((r,i)=>r+Yo.visit(i,e),0)}visitFixedSizeBinary(t,e){return t.type.byteWidth}visitMap(t,e){return 8+t.children.reduce((r,i)=>r+Yo.visit(i,e),0)}visitDictionary(t,e){var r;return t.type.indices.bitWidth/8+(((r=t.dictionary)===null||r===void 0?void 0:r.getByteLength(t.values[e]))||0)}}const VB=({valueOffsets:n},t)=>8+(n[t+1]-n[t]),WB=({valueOffsets:n},t)=>8+(n[t+1]-n[t]),HB=({valueOffsets:n,stride:t,children:e},r)=>{const i=e[0],{[r*t]:o}=n,{[r*t+1]:a}=n,s=Yo.getVisitFn(i.type),l=i.slice(o,a-o);let u=8;for(let c=-1,p=a-o;++c<p;)u+=s(l,c);return u},jB=({stride:n,children:t},e)=>{const r=t[0],i=r.slice(e*n,n),o=Yo.getVisitFn(r.type);let a=0;for(let s=-1,l=i.length;++s<l;)a+=o(i,s);return a},UB=(n,t)=>n.type.mode===no.Dense?wD(n,t):_D(n,t),wD=({type:n,children:t,typeIds:e,valueOffsets:r},i)=>{const o=n.typeIdToChildIndex[e[i]];return 8+Yo.visit(t[o],r[i])},_D=({children:n},t)=>4+Yo.visitMany(n,n.map(()=>t)).reduce(BB,0);zs.prototype.visitUtf8=VB;zs.prototype.visitBinary=WB;zs.prototype.visitList=HB;zs.prototype.visitFixedSizeList=jB;zs.prototype.visitUnion=UB;zs.prototype.visitDenseUnion=wD;zs.prototype.visitSparseUnion=_D;const Yo=new zs;var SD;const xD={},TD={};class At{constructor(t){var e,r,i;const o=t[0]instanceof At?t.flatMap(s=>s.data):t;if(o.some(s=>!(s instanceof Gt)))throw new TypeError("Vector constructor expects an Array of Data instances.");const a=(e=o[0])===null||e===void 0?void 0:e.type;switch(o.length){case 0:this._offsets=[0];break;case 1:{const{get:s,set:l,indexOf:u,byteLength:c}=xD[a.typeId],p=o[0];this.isValid=h=>Q_(p,h),this.get=h=>s(p,h),this.set=(h,d)=>l(p,h,d),this.indexOf=h=>u(p,h),this.getByteLength=h=>c(p,h),this._offsets=[0,p.length];break}default:Object.setPrototypeOf(this,TD[a.typeId]),this._offsets=vD(o);break}this.data=o,this.type=a,this.stride=oa(a),this.numChildren=(i=(r=a.children)===null||r===void 0?void 0:r.length)!==null&&i!==void 0?i:0,this.length=this._offsets[this._offsets.length-1]}get byteLength(){return this._byteLength===-1&&(this._byteLength=this.data.reduce((t,e)=>t+e.byteLength,0)),this._byteLength}get nullCount(){return this._nullCount===-1&&(this._nullCount=gD(this.data)),this._nullCount}get ArrayType(){return this.type.ArrayType}get[Symbol.toStringTag](){return`${this.VectorName}<${this.type[Symbol.toStringTag]}>`}get VectorName(){return`${W[this.type.typeId]}Vector`}isValid(t){return!1}get(t){return null}set(t,e){}indexOf(t,e){return-1}includes(t,e){return this.indexOf(t,e)>0}getByteLength(t){return 0}[Symbol.iterator](){return J_.visit(this)}concat(...t){return new At(this.data.concat(t.flatMap(e=>e.data).flat(Number.POSITIVE_INFINITY)))}slice(t,e){return new At(dD(this,t,e,({data:r,_offsets:i},o,a)=>mD(r,i,o,a)))}toJSON(){return[...this]}toArray(){const{type:t,data:e,length:r,stride:i,ArrayType:o}=this;switch(t.typeId){case W.Int:case W.Float:case W.Decimal:case W.Time:case W.Timestamp:switch(e.length){case 0:return new o;case 1:return e[0].values.subarray(0,r*i);default:return e.reduce((a,{values:s})=>(a.array.set(s,a.offset),a.offset+=s.length,a),{array:new o(r*i),offset:0}).array}}return[...this]}toString(){return`[${[...this].join(",")}]`}getChild(t){var e;return this.getChildAt((e=this.type.children)===null||e===void 0?void 0:e.findIndex(r=>r.name===t))}getChildAt(t){return t>-1&&t<this.numChildren?new At(this.data.map(({children:e})=>e[t])):null}get isMemoized(){return ze.isDictionary(this.type)?this.data[0].dictionary.isMemoized:!1}memoize(){if(ze.isDictionary(this.type)){const t=new Pg(this.data[0].dictionary),e=this.data.map(r=>{const i=r.clone();return i.dictionary=t,i});return new At(e)}return new Pg(this)}unmemoize(){if(ze.isDictionary(this.type)&&this.isMemoized){const t=this.data[0].dictionary.unmemoize(),e=this.data.map(r=>{const i=r.clone();return i.dictionary=t,i});return new At(e)}return this}}SD=Symbol.toStringTag;At[SD]=(n=>{n.type=ze.prototype,n.data=[],n.length=0,n.stride=1,n.numChildren=0,n._nullCount=-1,n._byteLength=-1,n._offsets=new Uint32Array([0]),n[Symbol.isConcatSpreadable]=!0;const t=Object.keys(W).map(e=>W[e]).filter(e=>typeof e=="number"&&e!==W.NONE);for(const e of t){const r=Dn.getVisitFnByTypeId(e),i=Ii.getVisitFnByTypeId(e),o=Rg.getVisitFnByTypeId(e),a=Yo.getVisitFnByTypeId(e);xD[e]={get:r,set:i,indexOf:o,byteLength:a},TD[e]=Object.create(n,{isValid:{value:bc(Q_)},get:{value:bc(Dn.getVisitFnByTypeId(e))},set:{value:yD(Ii.getVisitFnByTypeId(e))},indexOf:{value:CD(Rg.getVisitFnByTypeId(e))},getByteLength:{value:bc(Yo.getVisitFnByTypeId(e))}})}return"Vector"})(At.prototype);class Pg extends At{constructor(t){super(t.data);const e=this.get,r=this.set,i=this.slice,o=new Array(this.length);Object.defineProperty(this,"get",{value(a){const s=o[a];if(s!==void 0)return s;const l=e.call(this,a);return o[a]=l,l}}),Object.defineProperty(this,"set",{value(a,s){r.call(this,a,s),o[a]=s}}),Object.defineProperty(this,"slice",{value:(a,s)=>new Pg(i.call(this,a,s))}),Object.defineProperty(this,"isMemoized",{value:!0}),Object.defineProperty(this,"unmemoize",{value:()=>new At(this.data)}),Object.defineProperty(this,"memoize",{value:()=>this})}}class ew{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}offset(){return this.bb.readInt64(this.bb_pos)}metaDataLength(){return this.bb.readInt32(this.bb_pos+8)}bodyLength(){return this.bb.readInt64(this.bb_pos+16)}static sizeOf(){return 24}static createBlock(t,e,r,i){return t.prep(8,24),t.writeInt64(i),t.pad(4),t.writeInt32(r),t.writeInt64(e),t.offset()}}const vy=2,Ro=4,ua=4,Nt=4,is=new Int32Array(2),Yx=new Float32Array(is.buffer),Xx=new Float64Array(is.buffer),Fd=new Uint16Array(new Uint8Array([1,0]).buffer)[0]===1;class Fi{constructor(t,e){this.low=t|0,this.high=e|0}static create(t,e){return t==0&&e==0?Fi.ZERO:new Fi(t,e)}toFloat64(){return(this.low>>>0)+this.high*4294967296}equals(t){return this.low==t.low&&this.high==t.high}}Fi.ZERO=new Fi(0,0);var tw;(function(n){n[n.UTF8_BYTES=1]="UTF8_BYTES",n[n.UTF16_STRING=2]="UTF16_STRING"})(tw||(tw={}));class Gs{constructor(t){this.bytes_=t,this.position_=0}static allocate(t){return new Gs(new Uint8Array(t))}clear(){this.position_=0}bytes(){return this.bytes_}position(){return this.position_}setPosition(t){this.position_=t}capacity(){return this.bytes_.length}readInt8(t){return this.readUint8(t)<<24>>24}readUint8(t){return this.bytes_[t]}readInt16(t){return this.readUint16(t)<<16>>16}readUint16(t){return this.bytes_[t]|this.bytes_[t+1]<<8}readInt32(t){return this.bytes_[t]|this.bytes_[t+1]<<8|this.bytes_[t+2]<<16|this.bytes_[t+3]<<24}readUint32(t){return this.readInt32(t)>>>0}readInt64(t){return new Fi(this.readInt32(t),this.readInt32(t+4))}readUint64(t){return new Fi(this.readUint32(t),this.readUint32(t+4))}readFloat32(t){return is[0]=this.readInt32(t),Yx[0]}readFloat64(t){return is[Fd?0:1]=this.readInt32(t),is[Fd?1:0]=this.readInt32(t+4),Xx[0]}writeInt8(t,e){this.bytes_[t]=e}writeUint8(t,e){this.bytes_[t]=e}writeInt16(t,e){this.bytes_[t]=e,this.bytes_[t+1]=e>>8}writeUint16(t,e){this.bytes_[t]=e,this.bytes_[t+1]=e>>8}writeInt32(t,e){this.bytes_[t]=e,this.bytes_[t+1]=e>>8,this.bytes_[t+2]=e>>16,this.bytes_[t+3]=e>>24}writeUint32(t,e){this.bytes_[t]=e,this.bytes_[t+1]=e>>8,this.bytes_[t+2]=e>>16,this.bytes_[t+3]=e>>24}writeInt64(t,e){this.writeInt32(t,e.low),this.writeInt32(t+4,e.high)}writeUint64(t,e){this.writeUint32(t,e.low),this.writeUint32(t+4,e.high)}writeFloat32(t,e){Yx[0]=e,this.writeInt32(t,is[0])}writeFloat64(t,e){Xx[0]=e,this.writeInt32(t,is[Fd?0:1]),this.writeInt32(t+4,is[Fd?1:0])}getBufferIdentifier(){if(this.bytes_.length<this.position_+Ro+ua)throw new Error("FlatBuffers: ByteBuffer is too short to contain an identifier.");let t="";for(let e=0;e<ua;e++)t+=String.fromCharCode(this.readInt8(this.position_+Ro+e));return t}__offset(t,e){const r=t-this.readInt32(t);return e<this.readInt16(r)?this.readInt16(r+e):0}__union(t,e){return t.bb_pos=e+this.readInt32(e),t.bb=this,t}__string(t,e){t+=this.readInt32(t);const r=this.readInt32(t);let i="",o=0;if(t+=Ro,e===tw.UTF8_BYTES)return this.bytes_.subarray(t,t+r);for(;o<r;){let a;const s=this.readUint8(t+o++);if(s<192)a=s;else{const l=this.readUint8(t+o++);if(s<224)a=(s&31)<<6|l&63;else{const u=this.readUint8(t+o++);if(s<240)a=(s&15)<<12|(l&63)<<6|u&63;else{const c=this.readUint8(t+o++);a=(s&7)<<18|(l&63)<<12|(u&63)<<6|c&63}}}a<65536?i+=String.fromCharCode(a):(a-=65536,i+=String.fromCharCode((a>>10)+55296,(a&(1<<10)-1)+56320))}return i}__union_with_string(t,e){return typeof t=="string"?this.__string(e):this.__union(t,e)}__indirect(t){return t+this.readInt32(t)}__vector(t){return t+this.readInt32(t)+Ro}__vector_len(t){return this.readInt32(t+this.readInt32(t))}__has_identifier(t){if(t.length!=ua)throw new Error("FlatBuffers: file identifier must be length "+ua);for(let e=0;e<ua;e++)if(t.charCodeAt(e)!=this.readInt8(this.position()+Ro+e))return!1;return!0}createLong(t,e){return Fi.create(t,e)}createScalarList(t,e){const r=[];for(let i=0;i<e;++i)t(i)!==null&&r.push(t(i));return r}createObjList(t,e){const r=[];for(let i=0;i<e;++i){const o=t(i);o!==null&&r.push(o.unpack())}return r}}class rm{constructor(t){this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1,this.string_maps=null;let e;t?e=t:e=1024,this.bb=Gs.allocate(e),this.space=e}clear(){this.bb.clear(),this.space=this.bb.capacity(),this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1,this.string_maps=null}forceDefaults(t){this.force_defaults=t}dataBuffer(){return this.bb}asUint8Array(){return this.bb.bytes().subarray(this.bb.position(),this.bb.position()+this.offset())}prep(t,e){t>this.minalign&&(this.minalign=t);const r=~(this.bb.capacity()-this.space+e)+1&t-1;for(;this.space<r+t+e;){const i=this.bb.capacity();this.bb=rm.growByteBuffer(this.bb),this.space+=this.bb.capacity()-i}this.pad(r)}pad(t){for(let e=0;e<t;e++)this.bb.writeInt8(--this.space,0)}writeInt8(t){this.bb.writeInt8(this.space-=1,t)}writeInt16(t){this.bb.writeInt16(this.space-=2,t)}writeInt32(t){this.bb.writeInt32(this.space-=4,t)}writeInt64(t){this.bb.writeInt64(this.space-=8,t)}writeFloat32(t){this.bb.writeFloat32(this.space-=4,t)}writeFloat64(t){this.bb.writeFloat64(this.space-=8,t)}addInt8(t){this.prep(1,0),this.writeInt8(t)}addInt16(t){this.prep(2,0),this.writeInt16(t)}addInt32(t){this.prep(4,0),this.writeInt32(t)}addInt64(t){this.prep(8,0),this.writeInt64(t)}addFloat32(t){this.prep(4,0),this.writeFloat32(t)}addFloat64(t){this.prep(8,0),this.writeFloat64(t)}addFieldInt8(t,e,r){(this.force_defaults||e!=r)&&(this.addInt8(e),this.slot(t))}addFieldInt16(t,e,r){(this.force_defaults||e!=r)&&(this.addInt16(e),this.slot(t))}addFieldInt32(t,e,r){(this.force_defaults||e!=r)&&(this.addInt32(e),this.slot(t))}addFieldInt64(t,e,r){(this.force_defaults||!e.equals(r))&&(this.addInt64(e),this.slot(t))}addFieldFloat32(t,e,r){(this.force_defaults||e!=r)&&(this.addFloat32(e),this.slot(t))}addFieldFloat64(t,e,r){(this.force_defaults||e!=r)&&(this.addFloat64(e),this.slot(t))}addFieldOffset(t,e,r){(this.force_defaults||e!=r)&&(this.addOffset(e),this.slot(t))}addFieldStruct(t,e,r){e!=r&&(this.nested(e),this.slot(t))}nested(t){if(t!=this.offset())throw new Error("FlatBuffers: struct must be serialized inline.")}notNested(){if(this.isNested)throw new Error("FlatBuffers: object serialization must not be nested.")}slot(t){this.vtable!==null&&(this.vtable[t]=this.offset())}offset(){return this.bb.capacity()-this.space}static growByteBuffer(t){const e=t.capacity();if(e&3221225472)throw new Error("FlatBuffers: cannot grow buffer beyond 2 gigabytes.");const r=e<<1,i=Gs.allocate(r);return i.setPosition(r-e),i.bytes().set(t.bytes(),r-e),i}addOffset(t){this.prep(Ro,0),this.writeInt32(this.offset()-t+Ro)}startObject(t){this.notNested(),this.vtable==null&&(this.vtable=[]),this.vtable_in_use=t;for(let e=0;e<t;e++)this.vtable[e]=0;this.isNested=!0,this.object_start=this.offset()}endObject(){if(this.vtable==null||!this.isNested)throw new Error("FlatBuffers: endObject called without startObject");this.addInt32(0);const t=this.offset();let e=this.vtable_in_use-1;for(;e>=0&&this.vtable[e]==0;e--);const r=e+1;for(;e>=0;e--)this.addInt16(this.vtable[e]!=0?t-this.vtable[e]:0);const i=2;this.addInt16(t-this.object_start);const o=(r+i)*vy;this.addInt16(o);let a=0;const s=this.space;e:for(e=0;e<this.vtables.length;e++){const l=this.bb.capacity()-this.vtables[e];if(o==this.bb.readInt16(l)){for(let u=vy;u<o;u+=vy)if(this.bb.readInt16(s+u)!=this.bb.readInt16(l+u))continue e;a=this.vtables[e];break}}return a?(this.space=this.bb.capacity()-t,this.bb.writeInt32(this.space,a-t)):(this.vtables.push(this.offset()),this.bb.writeInt32(this.bb.capacity()-t,this.offset()-t)),this.isNested=!1,t}finish(t,e,r){const i=r?Nt:0;if(e){const o=e;if(this.prep(this.minalign,Ro+ua+i),o.length!=ua)throw new Error("FlatBuffers: file identifier must be length "+ua);for(let a=ua-1;a>=0;a--)this.writeInt8(o.charCodeAt(a))}this.prep(this.minalign,Ro+i),this.addOffset(t),i&&this.addInt32(this.bb.capacity()-this.space),this.bb.setPosition(this.space)}finishSizePrefixed(t,e){this.finish(t,e,!0)}requiredField(t,e){const r=this.bb.capacity()-t,i=r-this.bb.readInt32(r);if(!(this.bb.readInt16(i+e)!=0))throw new Error("FlatBuffers: field "+e+" must be set")}startVector(t,e,r){this.notNested(),this.vector_num_elems=e,this.prep(Ro,t*e),this.prep(r,t*e)}endVector(){return this.writeInt32(this.vector_num_elems),this.offset()}createSharedString(t){if(!t)return 0;if(this.string_maps||(this.string_maps=new Map),this.string_maps.has(t))return this.string_maps.get(t);const e=this.createString(t);return this.string_maps.set(t,e),e}createString(t){if(!t)return 0;let e;if(t instanceof Uint8Array)e=t;else{e=[];let r=0;for(;r<t.length;){let i;const o=t.charCodeAt(r++);if(o<55296||o>=56320)i=o;else{const a=t.charCodeAt(r++);i=(o<<10)+a+(65536-(55296<<10)-56320)}i<128?e.push(i):(i<2048?e.push(i>>6&31|192):(i<65536?e.push(i>>12&15|224):e.push(i>>18&7|240,i>>12&63|128),e.push(i>>6&63|128)),e.push(i&63|128))}}this.addInt8(0),this.startVector(1,e.length,1),this.bb.setPosition(this.space-=e.length);for(let r=0,i=this.space,o=this.bb.bytes();r<e.length;r++)o[i++]=e[r];return this.endVector()}createLong(t,e){return Fi.create(t,e)}createObjectOffset(t){return t===null?0:typeof t=="string"?this.createString(t):t.pack(this)}createObjectOffsetList(t){const e=[];for(let r=0;r<t.length;++r){const i=t[r];if(i!==null)e.push(this.createObjectOffset(i));else throw new Error("FlatBuffers: Argument for createObjectOffsetList cannot contain null.")}return e}createStructOffsetList(t,e){return e(this,t.length),this.createObjectOffsetList(t),this.endVector()}}class gr{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsKeyValue(t,e){return(e||new gr).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsKeyValue(t,e){return t.setPosition(t.position()+Nt),(e||new gr).__init(t.readInt32(t.position())+t.position(),t)}key(t){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.__string(this.bb_pos+e,t):null}value(t){const e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__string(this.bb_pos+e,t):null}static startKeyValue(t){t.startObject(2)}static addKey(t,e){t.addFieldOffset(0,e,0)}static addValue(t,e){t.addFieldOffset(1,e,0)}static endKeyValue(t){return t.endObject()}static createKeyValue(t,e,r){return gr.startKeyValue(t),gr.addKey(t,e),gr.addValue(t,r),gr.endKeyValue(t)}}var Rc;(function(n){n[n.V1=0]="V1",n[n.V2=1]="V2",n[n.V3=2]="V3",n[n.V4=3]="V4",n[n.V5=4]="V5"})(Rc||(Rc={}));var Pc;(function(n){n[n.Little=0]="Little",n[n.Big=1]="Big"})(Pc||(Pc={}));var Ag;(function(n){n[n.DenseArray=0]="DenseArray"})(Ag||(Ag={}));class Qn{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsInt(t,e){return(e||new Qn).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsInt(t,e){return t.setPosition(t.position()+Nt),(e||new Qn).__init(t.readInt32(t.position())+t.position(),t)}bitWidth(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt32(this.bb_pos+t):0}isSigned(){const t=this.bb.__offset(this.bb_pos,6);return t?!!this.bb.readInt8(this.bb_pos+t):!1}static startInt(t){t.startObject(2)}static addBitWidth(t,e){t.addFieldInt32(0,e,0)}static addIsSigned(t,e){t.addFieldInt8(1,+e,0)}static endInt(t){return t.endObject()}static createInt(t,e,r){return Qn.startInt(t),Qn.addBitWidth(t,e),Qn.addIsSigned(t,r),Qn.endInt(t)}}class ca{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsDictionaryEncoding(t,e){return(e||new ca).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsDictionaryEncoding(t,e){return t.setPosition(t.position()+Nt),(e||new ca).__init(t.readInt32(t.position())+t.position(),t)}id(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt64(this.bb_pos+t):this.bb.createLong(0,0)}indexType(t){const e=this.bb.__offset(this.bb_pos,6);return e?(t||new Qn).__init(this.bb.__indirect(this.bb_pos+e),this.bb):null}isOrdered(){const t=this.bb.__offset(this.bb_pos,8);return t?!!this.bb.readInt8(this.bb_pos+t):!1}dictionaryKind(){const t=this.bb.__offset(this.bb_pos,10);return t?this.bb.readInt16(this.bb_pos+t):Ag.DenseArray}static startDictionaryEncoding(t){t.startObject(4)}static addId(t,e){t.addFieldInt64(0,e,t.createLong(0,0))}static addIndexType(t,e){t.addFieldOffset(1,e,0)}static addIsOrdered(t,e){t.addFieldInt8(2,+e,0)}static addDictionaryKind(t,e){t.addFieldInt16(3,e,Ag.DenseArray)}static endDictionaryEncoding(t){return t.endObject()}}class Rl{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsBinary(t,e){return(e||new Rl).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsBinary(t,e){return t.setPosition(t.position()+Nt),(e||new Rl).__init(t.readInt32(t.position())+t.position(),t)}static startBinary(t){t.startObject(0)}static endBinary(t){return t.endObject()}static createBinary(t){return Rl.startBinary(t),Rl.endBinary(t)}}class Pl{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsBool(t,e){return(e||new Pl).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsBool(t,e){return t.setPosition(t.position()+Nt),(e||new Pl).__init(t.readInt32(t.position())+t.position(),t)}static startBool(t){t.startObject(0)}static endBool(t){return t.endObject()}static createBool(t){return Pl.startBool(t),Pl.endBool(t)}}var Dg;(function(n){n[n.DAY=0]="DAY",n[n.MILLISECOND=1]="MILLISECOND"})(Dg||(Dg={}));class Po{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsDate(t,e){return(e||new Po).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsDate(t,e){return t.setPosition(t.position()+Nt),(e||new Po).__init(t.readInt32(t.position())+t.position(),t)}unit(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):Dg.MILLISECOND}static startDate(t){t.startObject(1)}static addUnit(t,e){t.addFieldInt16(0,e,Dg.MILLISECOND)}static endDate(t){return t.endObject()}static createDate(t,e){return Po.startDate(t),Po.addUnit(t,e),Po.endDate(t)}}class Sn{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsDecimal(t,e){return(e||new Sn).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsDecimal(t,e){return t.setPosition(t.position()+Nt),(e||new Sn).__init(t.readInt32(t.position())+t.position(),t)}precision(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt32(this.bb_pos+t):0}scale(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readInt32(this.bb_pos+t):0}bitWidth(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.readInt32(this.bb_pos+t):128}static startDecimal(t){t.startObject(3)}static addPrecision(t,e){t.addFieldInt32(0,e,0)}static addScale(t,e){t.addFieldInt32(1,e,0)}static addBitWidth(t,e){t.addFieldInt32(2,e,128)}static endDecimal(t){return t.endObject()}static createDecimal(t,e,r,i){return Sn.startDecimal(t),Sn.addPrecision(t,e),Sn.addScale(t,r),Sn.addBitWidth(t,i),Sn.endDecimal(t)}}var Ac;(function(n){n[n.SECOND=0]="SECOND",n[n.MILLISECOND=1]="MILLISECOND",n[n.MICROSECOND=2]="MICROSECOND",n[n.NANOSECOND=3]="NANOSECOND"})(Ac||(Ac={}));class Ao{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsFixedSizeBinary(t,e){return(e||new Ao).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsFixedSizeBinary(t,e){return t.setPosition(t.position()+Nt),(e||new Ao).__init(t.readInt32(t.position())+t.position(),t)}byteWidth(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt32(this.bb_pos+t):0}static startFixedSizeBinary(t){t.startObject(1)}static addByteWidth(t,e){t.addFieldInt32(0,e,0)}static endFixedSizeBinary(t){return t.endObject()}static createFixedSizeBinary(t,e){return Ao.startFixedSizeBinary(t),Ao.addByteWidth(t,e),Ao.endFixedSizeBinary(t)}}class Do{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsFixedSizeList(t,e){return(e||new Do).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsFixedSizeList(t,e){return t.setPosition(t.position()+Nt),(e||new Do).__init(t.readInt32(t.position())+t.position(),t)}listSize(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt32(this.bb_pos+t):0}static startFixedSizeList(t){t.startObject(1)}static addListSize(t,e){t.addFieldInt32(0,e,0)}static endFixedSizeList(t){return t.endObject()}static createFixedSizeList(t,e){return Do.startFixedSizeList(t),Do.addListSize(t,e),Do.endFixedSizeList(t)}}var Mg;(function(n){n[n.HALF=0]="HALF",n[n.SINGLE=1]="SINGLE",n[n.DOUBLE=2]="DOUBLE"})(Mg||(Mg={}));class Mo{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsFloatingPoint(t,e){return(e||new Mo).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsFloatingPoint(t,e){return t.setPosition(t.position()+Nt),(e||new Mo).__init(t.readInt32(t.position())+t.position(),t)}precision(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):Mg.HALF}static startFloatingPoint(t){t.startObject(1)}static addPrecision(t,e){t.addFieldInt16(0,e,Mg.HALF)}static endFloatingPoint(t){return t.endObject()}static createFloatingPoint(t,e){return Mo.startFloatingPoint(t),Mo.addPrecision(t,e),Mo.endFloatingPoint(t)}}var Fg;(function(n){n[n.YEAR_MONTH=0]="YEAR_MONTH",n[n.DAY_TIME=1]="DAY_TIME",n[n.MONTH_DAY_NANO=2]="MONTH_DAY_NANO"})(Fg||(Fg={}));class Fo{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsInterval(t,e){return(e||new Fo).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsInterval(t,e){return t.setPosition(t.position()+Nt),(e||new Fo).__init(t.readInt32(t.position())+t.position(),t)}unit(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):Fg.YEAR_MONTH}static startInterval(t){t.startObject(1)}static addUnit(t,e){t.addFieldInt16(0,e,Fg.YEAR_MONTH)}static endInterval(t){return t.endObject()}static createInterval(t,e){return Fo.startInterval(t),Fo.addUnit(t,e),Fo.endInterval(t)}}class Al{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsList(t,e){return(e||new Al).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsList(t,e){return t.setPosition(t.position()+Nt),(e||new Al).__init(t.readInt32(t.position())+t.position(),t)}static startList(t){t.startObject(0)}static endList(t){return t.endObject()}static createList(t){return Al.startList(t),Al.endList(t)}}class Io{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsMap(t,e){return(e||new Io).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsMap(t,e){return t.setPosition(t.position()+Nt),(e||new Io).__init(t.readInt32(t.position())+t.position(),t)}keysSorted(){const t=this.bb.__offset(this.bb_pos,4);return t?!!this.bb.readInt8(this.bb_pos+t):!1}static startMap(t){t.startObject(1)}static addKeysSorted(t,e){t.addFieldInt8(0,+e,0)}static endMap(t){return t.endObject()}static createMap(t,e){return Io.startMap(t),Io.addKeysSorted(t,e),Io.endMap(t)}}class Dl{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsNull(t,e){return(e||new Dl).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsNull(t,e){return t.setPosition(t.position()+Nt),(e||new Dl).__init(t.readInt32(t.position())+t.position(),t)}static startNull(t){t.startObject(0)}static endNull(t){return t.endObject()}static createNull(t){return Dl.startNull(t),Dl.endNull(t)}}class Ml{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsStruct_(t,e){return(e||new Ml).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsStruct_(t,e){return t.setPosition(t.position()+Nt),(e||new Ml).__init(t.readInt32(t.position())+t.position(),t)}static startStruct_(t){t.startObject(0)}static endStruct_(t){return t.endObject()}static createStruct_(t){return Ml.startStruct_(t),Ml.endStruct_(t)}}class Ci{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsTime(t,e){return(e||new Ci).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsTime(t,e){return t.setPosition(t.position()+Nt),(e||new Ci).__init(t.readInt32(t.position())+t.position(),t)}unit(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):Ac.MILLISECOND}bitWidth(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readInt32(this.bb_pos+t):32}static startTime(t){t.startObject(2)}static addUnit(t,e){t.addFieldInt16(0,e,Ac.MILLISECOND)}static addBitWidth(t,e){t.addFieldInt32(1,e,32)}static endTime(t){return t.endObject()}static createTime(t,e,r){return Ci.startTime(t),Ci.addUnit(t,e),Ci.addBitWidth(t,r),Ci.endTime(t)}}class bi{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsTimestamp(t,e){return(e||new bi).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsTimestamp(t,e){return t.setPosition(t.position()+Nt),(e||new bi).__init(t.readInt32(t.position())+t.position(),t)}unit(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):Ac.SECOND}timezone(t){const e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__string(this.bb_pos+e,t):null}static startTimestamp(t){t.startObject(2)}static addUnit(t,e){t.addFieldInt16(0,e,Ac.SECOND)}static addTimezone(t,e){t.addFieldOffset(1,e,0)}static endTimestamp(t){return t.endObject()}static createTimestamp(t,e,r){return bi.startTimestamp(t),bi.addUnit(t,e),bi.addTimezone(t,r),bi.endTimestamp(t)}}var Ig;(function(n){n[n.Sparse=0]="Sparse",n[n.Dense=1]="Dense"})(Ig||(Ig={}));class Tn{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsUnion(t,e){return(e||new Tn).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsUnion(t,e){return t.setPosition(t.position()+Nt),(e||new Tn).__init(t.readInt32(t.position())+t.position(),t)}mode(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):Ig.Sparse}typeIds(t){const e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readInt32(this.bb.__vector(this.bb_pos+e)+t*4):0}typeIdsLength(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__vector_len(this.bb_pos+t):0}typeIdsArray(){const t=this.bb.__offset(this.bb_pos,6);return t?new Int32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+t),this.bb.__vector_len(this.bb_pos+t)):null}static startUnion(t){t.startObject(2)}static addMode(t,e){t.addFieldInt16(0,e,Ig.Sparse)}static addTypeIds(t,e){t.addFieldOffset(1,e,0)}static createTypeIdsVector(t,e){t.startVector(4,e.length,4);for(let r=e.length-1;r>=0;r--)t.addInt32(e[r]);return t.endVector()}static startTypeIdsVector(t,e){t.startVector(4,e,4)}static endUnion(t){return t.endObject()}static createUnion(t,e,r){return Tn.startUnion(t),Tn.addMode(t,e),Tn.addTypeIds(t,r),Tn.endUnion(t)}}class Fl{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsUtf8(t,e){return(e||new Fl).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsUtf8(t,e){return t.setPosition(t.position()+Nt),(e||new Fl).__init(t.readInt32(t.position())+t.position(),t)}static startUtf8(t){t.startObject(0)}static endUtf8(t){return t.endObject()}static createUtf8(t){return Fl.startUtf8(t),Fl.endUtf8(t)}}var Zt;(function(n){n[n.NONE=0]="NONE",n[n.Null=1]="Null",n[n.Int=2]="Int",n[n.FloatingPoint=3]="FloatingPoint",n[n.Binary=4]="Binary",n[n.Utf8=5]="Utf8",n[n.Bool=6]="Bool",n[n.Decimal=7]="Decimal",n[n.Date=8]="Date",n[n.Time=9]="Time",n[n.Timestamp=10]="Timestamp",n[n.Interval=11]="Interval",n[n.List=12]="List",n[n.Struct_=13]="Struct_",n[n.Union=14]="Union",n[n.FixedSizeBinary=15]="FixedSizeBinary",n[n.FixedSizeList=16]="FixedSizeList",n[n.Map=17]="Map",n[n.Duration=18]="Duration",n[n.LargeBinary=19]="LargeBinary",n[n.LargeUtf8=20]="LargeUtf8",n[n.LargeList=21]="LargeList"})(Zt||(Zt={}));class Ur{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsField(t,e){return(e||new Ur).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsField(t,e){return t.setPosition(t.position()+Nt),(e||new Ur).__init(t.readInt32(t.position())+t.position(),t)}name(t){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.__string(this.bb_pos+e,t):null}nullable(){const t=this.bb.__offset(this.bb_pos,6);return t?!!this.bb.readInt8(this.bb_pos+t):!1}typeType(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.readUint8(this.bb_pos+t):Zt.NONE}type(t){const e=this.bb.__offset(this.bb_pos,10);return e?this.bb.__union(t,this.bb_pos+e):null}dictionary(t){const e=this.bb.__offset(this.bb_pos,12);return e?(t||new ca).__init(this.bb.__indirect(this.bb_pos+e),this.bb):null}children(t,e){const r=this.bb.__offset(this.bb_pos,14);return r?(e||new Ur).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+t*4),this.bb):null}childrenLength(){const t=this.bb.__offset(this.bb_pos,14);return t?this.bb.__vector_len(this.bb_pos+t):0}customMetadata(t,e){const r=this.bb.__offset(this.bb_pos,16);return r?(e||new gr).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+t*4),this.bb):null}customMetadataLength(){const t=this.bb.__offset(this.bb_pos,16);return t?this.bb.__vector_len(this.bb_pos+t):0}static startField(t){t.startObject(7)}static addName(t,e){t.addFieldOffset(0,e,0)}static addNullable(t,e){t.addFieldInt8(1,+e,0)}static addTypeType(t,e){t.addFieldInt8(2,e,Zt.NONE)}static addType(t,e){t.addFieldOffset(3,e,0)}static addDictionary(t,e){t.addFieldOffset(4,e,0)}static addChildren(t,e){t.addFieldOffset(5,e,0)}static createChildrenVector(t,e){t.startVector(4,e.length,4);for(let r=e.length-1;r>=0;r--)t.addOffset(e[r]);return t.endVector()}static startChildrenVector(t,e){t.startVector(4,e,4)}static addCustomMetadata(t,e){t.addFieldOffset(6,e,0)}static createCustomMetadataVector(t,e){t.startVector(4,e.length,4);for(let r=e.length-1;r>=0;r--)t.addOffset(e[r]);return t.endVector()}static startCustomMetadataVector(t,e){t.startVector(4,e,4)}static endField(t){return t.endObject()}}class fr{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsSchema(t,e){return(e||new fr).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsSchema(t,e){return t.setPosition(t.position()+Nt),(e||new fr).__init(t.readInt32(t.position())+t.position(),t)}endianness(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):Pc.Little}fields(t,e){const r=this.bb.__offset(this.bb_pos,6);return r?(e||new Ur).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+t*4),this.bb):null}fieldsLength(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__vector_len(this.bb_pos+t):0}customMetadata(t,e){const r=this.bb.__offset(this.bb_pos,8);return r?(e||new gr).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+t*4),this.bb):null}customMetadataLength(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__vector_len(this.bb_pos+t):0}features(t){const e=this.bb.__offset(this.bb_pos,10);return e?this.bb.readInt64(this.bb.__vector(this.bb_pos+e)+t*8):this.bb.createLong(0,0)}featuresLength(){const t=this.bb.__offset(this.bb_pos,10);return t?this.bb.__vector_len(this.bb_pos+t):0}static startSchema(t){t.startObject(4)}static addEndianness(t,e){t.addFieldInt16(0,e,Pc.Little)}static addFields(t,e){t.addFieldOffset(1,e,0)}static createFieldsVector(t,e){t.startVector(4,e.length,4);for(let r=e.length-1;r>=0;r--)t.addOffset(e[r]);return t.endVector()}static startFieldsVector(t,e){t.startVector(4,e,4)}static addCustomMetadata(t,e){t.addFieldOffset(2,e,0)}static createCustomMetadataVector(t,e){t.startVector(4,e.length,4);for(let r=e.length-1;r>=0;r--)t.addOffset(e[r]);return t.endVector()}static startCustomMetadataVector(t,e){t.startVector(4,e,4)}static addFeatures(t,e){t.addFieldOffset(3,e,0)}static createFeaturesVector(t,e){t.startVector(8,e.length,8);for(let r=e.length-1;r>=0;r--)t.addInt64(e[r]);return t.endVector()}static startFeaturesVector(t,e){t.startVector(8,e,8)}static endSchema(t){return t.endObject()}static finishSchemaBuffer(t,e){t.finish(e)}static finishSizePrefixedSchemaBuffer(t,e){t.finish(e,void 0,!0)}static createSchema(t,e,r,i,o){return fr.startSchema(t),fr.addEndianness(t,e),fr.addFields(t,r),fr.addCustomMetadata(t,i),fr.addFeatures(t,o),fr.endSchema(t)}}class zn{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsFooter(t,e){return(e||new zn).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsFooter(t,e){return t.setPosition(t.position()+Nt),(e||new zn).__init(t.readInt32(t.position())+t.position(),t)}version(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):Rc.V1}schema(t){const e=this.bb.__offset(this.bb_pos,6);return e?(t||new fr).__init(this.bb.__indirect(this.bb_pos+e),this.bb):null}dictionaries(t,e){const r=this.bb.__offset(this.bb_pos,8);return r?(e||new ew).__init(this.bb.__vector(this.bb_pos+r)+t*24,this.bb):null}dictionariesLength(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__vector_len(this.bb_pos+t):0}recordBatches(t,e){const r=this.bb.__offset(this.bb_pos,10);return r?(e||new ew).__init(this.bb.__vector(this.bb_pos+r)+t*24,this.bb):null}recordBatchesLength(){const t=this.bb.__offset(this.bb_pos,10);return t?this.bb.__vector_len(this.bb_pos+t):0}customMetadata(t,e){const r=this.bb.__offset(this.bb_pos,12);return r?(e||new gr).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+t*4),this.bb):null}customMetadataLength(){const t=this.bb.__offset(this.bb_pos,12);return t?this.bb.__vector_len(this.bb_pos+t):0}static startFooter(t){t.startObject(5)}static addVersion(t,e){t.addFieldInt16(0,e,Rc.V1)}static addSchema(t,e){t.addFieldOffset(1,e,0)}static addDictionaries(t,e){t.addFieldOffset(2,e,0)}static startDictionariesVector(t,e){t.startVector(24,e,8)}static addRecordBatches(t,e){t.addFieldOffset(3,e,0)}static startRecordBatchesVector(t,e){t.startVector(24,e,8)}static addCustomMetadata(t,e){t.addFieldOffset(4,e,0)}static createCustomMetadataVector(t,e){t.startVector(4,e.length,4);for(let r=e.length-1;r>=0;r--)t.addOffset(e[r]);return t.endVector()}static startCustomMetadataVector(t,e){t.startVector(4,e,4)}static endFooter(t){return t.endObject()}static finishFooterBuffer(t,e){t.finish(e)}static finishSizePrefixedFooterBuffer(t,e){t.finish(e,void 0,!0)}}class ft{constructor(t=[],e,r){this.fields=t||[],this.metadata=e||new Map,r||(r=rw(t)),this.dictionaries=r}get[Symbol.toStringTag](){return"Schema"}get names(){return this.fields.map(t=>t.name)}toString(){return`Schema<{ ${this.fields.map((t,e)=>`${e}: ${t}`).join(", ")} }>`}select(t){const e=new Set(t),r=this.fields.filter(i=>e.has(i.name));return new ft(r,this.metadata)}selectAt(t){const e=t.map(r=>this.fields[r]).filter(Boolean);return new ft(e,this.metadata)}assign(...t){const e=t[0]instanceof ft?t[0]:Array.isArray(t[0])?new ft(t[0]):new ft(t),r=[...this.fields],i=Id(Id(new Map,this.metadata),e.metadata),o=e.fields.filter(s=>{const l=r.findIndex(u=>u.name===s.name);return~l?(r[l]=s.clone({metadata:Id(Id(new Map,r[l].metadata),s.metadata)}))&&!1:!0}),a=rw(o,new Map);return new ft([...r,...o],i,new Map([...this.dictionaries,...a]))}}ft.prototype.fields=null;ft.prototype.metadata=null;ft.prototype.dictionaries=null;class Kt{constructor(t,e,r=!1,i){this.name=t,this.type=e,this.nullable=r,this.metadata=i||new Map}static new(...t){let[e,r,i,o]=t;return t[0]&&typeof t[0]=="object"&&({name:e}=t[0],r===void 0&&(r=t[0].type),i===void 0&&(i=t[0].nullable),o===void 0&&(o=t[0].metadata)),new Kt(`${e}`,r,i,o)}get typeId(){return this.type.typeId}get[Symbol.toStringTag](){return"Field"}toString(){return`${this.name}: ${this.type}`}clone(...t){let[e,r,i,o]=t;return!t[0]||typeof t[0]!="object"?[e=this.name,r=this.type,i=this.nullable,o=this.metadata]=t:{name:e=this.name,type:r=this.type,nullable:i=this.nullable,metadata:o=this.metadata}=t[0],Kt.new(e,r,i,o)}}Kt.prototype.type=null;Kt.prototype.name=null;Kt.prototype.nullable=null;Kt.prototype.metadata=null;function Id(n,t){return new Map([...n||new Map,...t||new Map])}function rw(n,t=new Map){for(let e=-1,r=n.length;++e<r;){const o=n[e].type;if(ze.isDictionary(o)){if(!t.has(o.id))t.set(o.id,o.dictionary);else if(t.get(o.id)!==o.dictionary)throw new Error("Cannot create Schema containing two different dictionaries with the same Id")}o.children&&o.children.length>0&&rw(o.children,t)}return t}var qx=Fi,zB=rm,$B=Gs;class eS{constructor(t,e=xi.V4,r,i){this.schema=t,this.version=e,r&&(this._recordBatches=r),i&&(this._dictionaryBatches=i)}static decode(t){t=new $B(dt(t));const e=zn.getRootAsFooter(t),r=ft.decode(e.schema());return new KB(r,e)}static encode(t){const e=new zB,r=ft.encode(e,t.schema);zn.startRecordBatchesVector(e,t.numRecordBatches);for(const a of[...t.recordBatches()].slice().reverse())Dc.encode(e,a);const i=e.endVector();zn.startDictionariesVector(e,t.numDictionaries);for(const a of[...t.dictionaryBatches()].slice().reverse())Dc.encode(e,a);const o=e.endVector();return zn.startFooter(e),zn.addSchema(e,r),zn.addVersion(e,xi.V4),zn.addRecordBatches(e,i),zn.addDictionaries(e,o),zn.finishFooterBuffer(e,zn.endFooter(e)),e.asUint8Array()}get numRecordBatches(){return this._recordBatches.length}get numDictionaries(){return this._dictionaryBatches.length}*recordBatches(){for(let t,e=-1,r=this.numRecordBatches;++e<r;)(t=this.getRecordBatch(e))&&(yield t)}*dictionaryBatches(){for(let t,e=-1,r=this.numDictionaries;++e<r;)(t=this.getDictionaryBatch(e))&&(yield t)}getRecordBatch(t){return t>=0&&t<this.numRecordBatches&&this._recordBatches[t]||null}getDictionaryBatch(t){return t>=0&&t<this.numDictionaries&&this._dictionaryBatches[t]||null}}class KB extends eS{constructor(t,e){super(t,e.version()),this._footer=e}get numRecordBatches(){return this._footer.recordBatchesLength()}get numDictionaries(){return this._footer.dictionariesLength()}getRecordBatch(t){if(t>=0&&t<this.numRecordBatches){const e=this._footer.recordBatches(t);if(e)return Dc.decode(e)}return null}getDictionaryBatch(t){if(t>=0&&t<this.numDictionaries){const e=this._footer.dictionaries(t);if(e)return Dc.decode(e)}return null}}class Dc{constructor(t,e,r){this.metaDataLength=t,this.offset=typeof r=="number"?r:r.low,this.bodyLength=typeof e=="number"?e:e.low}static decode(t){return new Dc(t.metaDataLength(),t.bodyLength(),t.offset())}static encode(t,e){const{metaDataLength:r}=e,i=new qx(e.offset,0),o=new qx(e.bodyLength,0);return ew.createBlock(t,i,r,o)}}const Qt=Object.freeze({done:!0,value:void 0});class Zx{constructor(t){this._json=t}get schema(){return this._json.schema}get batches(){return this._json.batches||[]}get dictionaries(){return this._json.dictionaries||[]}}class OD{tee(){return this._getDOMStream().tee()}pipe(t,e){return this._getNodeStream().pipe(t,e)}pipeTo(t,e){return this._getDOMStream().pipeTo(t,e)}pipeThrough(t,e){return this._getDOMStream().pipeThrough(t,e)}_getDOMStream(){return this._DOMStream||(this._DOMStream=this.toDOMStream())}_getNodeStream(){return this._nodeStream||(this._nodeStream=this.toNodeStream())}}class YB extends OD{constructor(){super(),this._values=[],this.resolvers=[],this._closedPromise=new Promise(t=>this._closedPromiseResolve=t)}get closed(){return this._closedPromise}cancel(t){return Ae(this,void 0,void 0,function*(){yield this.return(t)})}write(t){this._ensureOpen()&&(this.resolvers.length<=0?this._values.push(t):this.resolvers.shift().resolve({done:!1,value:t}))}abort(t){this._closedPromiseResolve&&(this.resolvers.length<=0?this._error={error:t}:this.resolvers.shift().reject({done:!0,value:t}))}close(){if(this._closedPromiseResolve){const{resolvers:t}=this;for(;t.length>0;)t.shift().resolve(Qt);this._closedPromiseResolve(),this._closedPromiseResolve=void 0}}[Symbol.asyncIterator](){return this}toDOMStream(t){return mi.toDOMStream(this._closedPromiseResolve||this._error?this:this._values,t)}toNodeStream(t){return mi.toNodeStream(this._closedPromiseResolve||this._error?this:this._values,t)}throw(t){return Ae(this,void 0,void 0,function*(){return yield this.abort(t),Qt})}return(t){return Ae(this,void 0,void 0,function*(){return yield this.close(),Qt})}read(t){return Ae(this,void 0,void 0,function*(){return(yield this.next(t,"read")).value})}peek(t){return Ae(this,void 0,void 0,function*(){return(yield this.next(t,"peek")).value})}next(...t){return this._values.length>0?Promise.resolve({done:!1,value:this._values.shift()}):this._error?Promise.reject({done:!0,value:this._error.error}):this._closedPromiseResolve?new Promise((e,r)=>{this.resolvers.push({resolve:e,reject:r})}):Promise.resolve(Qt)}_ensureOpen(){if(this._closedPromiseResolve)return!0;throw new Error("AsyncQueue is closed")}}class XB extends YB{write(t){if((t=dt(t)).byteLength>0)return super.write(t)}toString(t=!1){return t?Yb(this.toUint8Array(!0)):this.toUint8Array(!1).then(Yb)}toUint8Array(t=!1){return t?Ko(this._values)[0]:(()=>Ae(this,void 0,void 0,function*(){var e,r;const i=[];let o=0;try{for(var a=fc(this),s;s=yield a.next(),!s.done;){const l=s.value;i.push(l),o+=l.byteLength}}catch(l){e={error:l}}finally{try{s&&!s.done&&(r=a.return)&&(yield r.call(a))}finally{if(e)throw e.error}}return Ko(i,o)[0]}))()}}class Lg{constructor(t){t&&(this.source=new qB(mi.fromIterable(t)))}[Symbol.iterator](){return this}next(t){return this.source.next(t)}throw(t){return this.source.throw(t)}return(t){return this.source.return(t)}peek(t){return this.source.peek(t)}read(t){return this.source.read(t)}}class Mc{constructor(t){t instanceof Mc?this.source=t.source:t instanceof XB?this.source=new Zs(mi.fromAsyncIterable(t)):cA(t)?this.source=new Zs(mi.fromNodeStream(t)):H_(t)?this.source=new Zs(mi.fromDOMStream(t)):lA(t)?this.source=new Zs(mi.fromDOMStream(t.body)):em(t)?this.source=new Zs(mi.fromIterable(t)):Mh(t)?this.source=new Zs(mi.fromAsyncIterable(t)):W_(t)&&(this.source=new Zs(mi.fromAsyncIterable(t)))}[Symbol.asyncIterator](){return this}next(t){return this.source.next(t)}throw(t){return this.source.throw(t)}return(t){return this.source.return(t)}get closed(){return this.source.closed}cancel(t){return this.source.cancel(t)}peek(t){return this.source.peek(t)}read(t){return this.source.read(t)}}class qB{constructor(t){this.source=t}cancel(t){this.return(t)}peek(t){return this.next(t,"peek").value}read(t){return this.next(t,"read").value}next(t,e="read"){return this.source.next({cmd:e,size:t})}throw(t){return Object.create(this.source.throw&&this.source.throw(t)||Qt)}return(t){return Object.create(this.source.return&&this.source.return(t)||Qt)}}class Zs{constructor(t){this.source=t,this._closedPromise=new Promise(e=>this._closedPromiseResolve=e)}cancel(t){return Ae(this,void 0,void 0,function*(){yield this.return(t)})}get closed(){return this._closedPromise}read(t){return Ae(this,void 0,void 0,function*(){return(yield this.next(t,"read")).value})}peek(t){return Ae(this,void 0,void 0,function*(){return(yield this.next(t,"peek")).value})}next(t,e="read"){return Ae(this,void 0,void 0,function*(){return yield this.source.next({cmd:e,size:t})})}throw(t){return Ae(this,void 0,void 0,function*(){const e=this.source.throw&&(yield this.source.throw(t))||Qt;return this._closedPromiseResolve&&this._closedPromiseResolve(),this._closedPromiseResolve=void 0,Object.create(e)})}return(t){return Ae(this,void 0,void 0,function*(){const e=this.source.return&&(yield this.source.return(t))||Qt;return this._closedPromiseResolve&&this._closedPromiseResolve(),this._closedPromiseResolve=void 0,Object.create(e)})}}class Qx extends Lg{constructor(t,e){super(),this.position=0,this.buffer=dt(t),this.size=typeof e=="undefined"?this.buffer.byteLength:e}readInt32(t){const{buffer:e,byteOffset:r}=this.readAt(t,4);return new DataView(e,r).getInt32(0,!0)}seek(t){return this.position=Math.min(t,this.size),t<this.size}read(t){const{buffer:e,size:r,position:i}=this;return e&&i<r?(typeof t!="number"&&(t=Number.POSITIVE_INFINITY),this.position=Math.min(r,i+Math.min(r-i,t)),e.subarray(i,this.position)):null}readAt(t,e){const r=this.buffer,i=Math.min(this.size,t+e);return r?r.subarray(t,i):new Uint8Array(e)}close(){this.buffer&&(this.buffer=null)}throw(t){return this.close(),{done:!0,value:t}}return(t){return this.close(),{done:!0,value:t}}}class Ng extends Mc{constructor(t,e){super(),this.position=0,this._handle=t,typeof e=="number"?this.size=e:this._pending=(()=>Ae(this,void 0,void 0,function*(){this.size=(yield t.stat()).size,delete this._pending}))()}readInt32(t){return Ae(this,void 0,void 0,function*(){const{buffer:e,byteOffset:r}=yield this.readAt(t,4);return new DataView(e,r).getInt32(0,!0)})}seek(t){return Ae(this,void 0,void 0,function*(){return this._pending&&(yield this._pending),this.position=Math.min(t,this.size),t<this.size})}read(t){return Ae(this,void 0,void 0,function*(){this._pending&&(yield this._pending);const{_handle:e,size:r,position:i}=this;if(e&&i<r){typeof t!="number"&&(t=Number.POSITIVE_INFINITY);let o=i,a=0,s=0;const l=Math.min(r,o+Math.min(r-o,t)),u=new Uint8Array(Math.max(0,(this.position=l)-o));for(;(o+=s)<l&&(a+=s)<u.byteLength;)({bytesRead:s}=yield e.read(u,a,u.byteLength-a,o));return u}return null})}readAt(t,e){return Ae(this,void 0,void 0,function*(){this._pending&&(yield this._pending);const{_handle:r,size:i}=this;if(r&&t+e<i){const o=Math.min(i,t+e),a=new Uint8Array(o-t);return(yield r.read(a,0,e,t)).buffer}return new Uint8Array(e)})}close(){return Ae(this,void 0,void 0,function*(){const t=this._handle;this._handle=null,t&&(yield t.close())})}throw(t){return Ae(this,void 0,void 0,function*(){return yield this.close(),{done:!0,value:t}})}return(t){return Ae(this,void 0,void 0,function*(){return yield this.close(),{done:!0,value:t}})}}const ZB=1<<16;function ic(n){return n<0&&(n=4294967295+n+1),`0x${n.toString(16)}`}const Fc=8,tS=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8];class ED{constructor(t){this.buffer=t}high(){return this.buffer[1]}low(){return this.buffer[0]}_times(t){const e=new Uint32Array([this.buffer[1]>>>16,this.buffer[1]&65535,this.buffer[0]>>>16,this.buffer[0]&65535]),r=new Uint32Array([t.buffer[1]>>>16,t.buffer[1]&65535,t.buffer[0]>>>16,t.buffer[0]&65535]);let i=e[3]*r[3];this.buffer[0]=i&65535;let o=i>>>16;return i=e[2]*r[3],o+=i,i=e[3]*r[2]>>>0,o+=i,this.buffer[0]+=o<<16,this.buffer[1]=o>>>0<i?ZB:0,this.buffer[1]+=o>>>16,this.buffer[1]+=e[1]*r[3]+e[2]*r[2]+e[3]*r[1],this.buffer[1]+=e[0]*r[3]+e[1]*r[2]+e[2]*r[1]+e[3]*r[0]<<16,this}_plus(t){const e=this.buffer[0]+t.buffer[0]>>>0;this.buffer[1]+=t.buffer[1],e<this.buffer[0]>>>0&&++this.buffer[1],this.buffer[0]=e}lessThan(t){return this.buffer[1]<t.buffer[1]||this.buffer[1]===t.buffer[1]&&this.buffer[0]<t.buffer[0]}equals(t){return this.buffer[1]===t.buffer[1]&&this.buffer[0]==t.buffer[0]}greaterThan(t){return t.lessThan(this)}hex(){return`${ic(this.buffer[1])} ${ic(this.buffer[0])}`}}class Ct extends ED{times(t){return this._times(t),this}plus(t){return this._plus(t),this}static from(t,e=new Uint32Array(2)){return Ct.fromString(typeof t=="string"?t:t.toString(),e)}static fromNumber(t,e=new Uint32Array(2)){return Ct.fromString(t.toString(),e)}static fromString(t,e=new Uint32Array(2)){const r=t.length,i=new Ct(e);for(let o=0;o<r;){const a=Fc<r-o?Fc:r-o,s=new Ct(new Uint32Array([Number.parseInt(t.slice(o,o+a),10),0])),l=new Ct(new Uint32Array([tS[a],0]));i.times(l),i.plus(s),o+=a}return i}static convertArray(t){const e=new Uint32Array(t.length*2);for(let r=-1,i=t.length;++r<i;)Ct.from(t[r],new Uint32Array(e.buffer,e.byteOffset+2*r*4,2));return e}static multiply(t,e){return new Ct(new Uint32Array(t.buffer)).times(e)}static add(t,e){return new Ct(new Uint32Array(t.buffer)).plus(e)}}class _n extends ED{negate(){return this.buffer[0]=~this.buffer[0]+1,this.buffer[1]=~this.buffer[1],this.buffer[0]==0&&++this.buffer[1],this}times(t){return this._times(t),this}plus(t){return this._plus(t),this}lessThan(t){const e=this.buffer[1]<<0,r=t.buffer[1]<<0;return e<r||e===r&&this.buffer[0]<t.buffer[0]}static from(t,e=new Uint32Array(2)){return _n.fromString(typeof t=="string"?t:t.toString(),e)}static fromNumber(t,e=new Uint32Array(2)){return _n.fromString(t.toString(),e)}static fromString(t,e=new Uint32Array(2)){const r=t.startsWith("-"),i=t.length,o=new _n(e);for(let a=r?1:0;a<i;){const s=Fc<i-a?Fc:i-a,l=new _n(new Uint32Array([Number.parseInt(t.slice(a,a+s),10),0])),u=new _n(new Uint32Array([tS[s],0]));o.times(u),o.plus(l),a+=s}return r?o.negate():o}static convertArray(t){const e=new Uint32Array(t.length*2);for(let r=-1,i=t.length;++r<i;)_n.from(t[r],new Uint32Array(e.buffer,e.byteOffset+2*r*4,2));return e}static multiply(t,e){return new _n(new Uint32Array(t.buffer)).times(e)}static add(t,e){return new _n(new Uint32Array(t.buffer)).plus(e)}}class _o{constructor(t){this.buffer=t}high(){return new _n(new Uint32Array(this.buffer.buffer,this.buffer.byteOffset+8,2))}low(){return new _n(new Uint32Array(this.buffer.buffer,this.buffer.byteOffset,2))}negate(){return this.buffer[0]=~this.buffer[0]+1,this.buffer[1]=~this.buffer[1],this.buffer[2]=~this.buffer[2],this.buffer[3]=~this.buffer[3],this.buffer[0]==0&&++this.buffer[1],this.buffer[1]==0&&++this.buffer[2],this.buffer[2]==0&&++this.buffer[3],this}times(t){const e=new Ct(new Uint32Array([this.buffer[3],0])),r=new Ct(new Uint32Array([this.buffer[2],0])),i=new Ct(new Uint32Array([this.buffer[1],0])),o=new Ct(new Uint32Array([this.buffer[0],0])),a=new Ct(new Uint32Array([t.buffer[3],0])),s=new Ct(new Uint32Array([t.buffer[2],0])),l=new Ct(new Uint32Array([t.buffer[1],0])),u=new Ct(new Uint32Array([t.buffer[0],0]));let c=Ct.multiply(o,u);this.buffer[0]=c.low();const p=new Ct(new Uint32Array([c.high(),0]));return c=Ct.multiply(i,u),p.plus(c),c=Ct.multiply(o,l),p.plus(c),this.buffer[1]=p.low(),this.buffer[3]=p.lessThan(c)?1:0,this.buffer[2]=p.high(),new Ct(new Uint32Array(this.buffer.buffer,this.buffer.byteOffset+8,2)).plus(Ct.multiply(r,u)).plus(Ct.multiply(i,l)).plus(Ct.multiply(o,s)),this.buffer[3]+=Ct.multiply(e,u).plus(Ct.multiply(r,l)).plus(Ct.multiply(i,s)).plus(Ct.multiply(o,a)).low(),this}plus(t){const e=new Uint32Array(4);return e[3]=this.buffer[3]+t.buffer[3]>>>0,e[2]=this.buffer[2]+t.buffer[2]>>>0,e[1]=this.buffer[1]+t.buffer[1]>>>0,e[0]=this.buffer[0]+t.buffer[0]>>>0,e[0]<this.buffer[0]>>>0&&++e[1],e[1]<this.buffer[1]>>>0&&++e[2],e[2]<this.buffer[2]>>>0&&++e[3],this.buffer[3]=e[3],this.buffer[2]=e[2],this.buffer[1]=e[1],this.buffer[0]=e[0],this}hex(){return`${ic(this.buffer[3])} ${ic(this.buffer[2])} ${ic(this.buffer[1])} ${ic(this.buffer[0])}`}static multiply(t,e){return new _o(new Uint32Array(t.buffer)).times(e)}static add(t,e){return new _o(new Uint32Array(t.buffer)).plus(e)}static from(t,e=new Uint32Array(4)){return _o.fromString(typeof t=="string"?t:t.toString(),e)}static fromNumber(t,e=new Uint32Array(4)){return _o.fromString(t.toString(),e)}static fromString(t,e=new Uint32Array(4)){const r=t.startsWith("-"),i=t.length,o=new _o(e);for(let a=r?1:0;a<i;){const s=Fc<i-a?Fc:i-a,l=new _o(new Uint32Array([Number.parseInt(t.slice(a,a+s),10),0,0,0])),u=new _o(new Uint32Array([tS[s],0,0,0]));o.times(u),o.plus(l),a+=s}return r?o.negate():o}static convertArray(t){const e=new Uint32Array(t.length*4);for(let r=-1,i=t.length;++r<i;)_o.from(t[r],new Uint32Array(e.buffer,e.byteOffset+4*4*r,4));return e}}class RD extends st{constructor(t,e,r,i){super(),this.nodesIndex=-1,this.buffersIndex=-1,this.bytes=t,this.nodes=e,this.buffers=r,this.dictionaries=i}visit(t){return super.visit(t instanceof Kt?t.type:t)}visitNull(t,{length:e}=this.nextFieldNode()){return it({type:t,length:e})}visitBool(t,{length:e,nullCount:r}=this.nextFieldNode()){return it({type:t,length:e,nullCount:r,nullBitmap:this.readNullBitmap(t,r),data:this.readData(t)})}visitInt(t,{length:e,nullCount:r}=this.nextFieldNode()){return it({type:t,length:e,nullCount:r,nullBitmap:this.readNullBitmap(t,r),data:this.readData(t)})}visitFloat(t,{length:e,nullCount:r}=this.nextFieldNode()){return it({type:t,length:e,nullCount:r,nullBitmap:this.readNullBitmap(t,r),data:this.readData(t)})}visitUtf8(t,{length:e,nullCount:r}=this.nextFieldNode()){return it({type:t,length:e,nullCount:r,nullBitmap:this.readNullBitmap(t,r),valueOffsets:this.readOffsets(t),data:this.readData(t)})}visitBinary(t,{length:e,nullCount:r}=this.nextFieldNode()){return it({type:t,length:e,nullCount:r,nullBitmap:this.readNullBitmap(t,r),valueOffsets:this.readOffsets(t),data:this.readData(t)})}visitFixedSizeBinary(t,{length:e,nullCount:r}=this.nextFieldNode()){return it({type:t,length:e,nullCount:r,nullBitmap:this.readNullBitmap(t,r),data:this.readData(t)})}visitDate(t,{length:e,nullCount:r}=this.nextFieldNode()){return it({type:t,length:e,nullCount:r,nullBitmap:this.readNullBitmap(t,r),data:this.readData(t)})}visitTimestamp(t,{length:e,nullCount:r}=this.nextFieldNode()){return it({type:t,length:e,nullCount:r,nullBitmap:this.readNullBitmap(t,r),data:this.readData(t)})}visitTime(t,{length:e,nullCount:r}=this.nextFieldNode()){return it({type:t,length:e,nullCount:r,nullBitmap:this.readNullBitmap(t,r),data:this.readData(t)})}visitDecimal(t,{length:e,nullCount:r}=this.nextFieldNode()){return it({type:t,length:e,nullCount:r,nullBitmap:this.readNullBitmap(t,r),data:this.readData(t)})}visitList(t,{length:e,nullCount:r}=this.nextFieldNode()){return it({type:t,length:e,nullCount:r,nullBitmap:this.readNullBitmap(t,r),valueOffsets:this.readOffsets(t),child:this.visit(t.children[0])})}visitStruct(t,{length:e,nullCount:r}=this.nextFieldNode()){return it({type:t,length:e,nullCount:r,nullBitmap:this.readNullBitmap(t,r),children:this.visitMany(t.children)})}visitUnion(t){return t.mode===no.Sparse?this.visitSparseUnion(t):this.visitDenseUnion(t)}visitDenseUnion(t,{length:e,nullCount:r}=this.nextFieldNode()){return it({type:t,length:e,nullCount:r,nullBitmap:this.readNullBitmap(t,r),typeIds:this.readTypeIds(t),valueOffsets:this.readOffsets(t),children:this.visitMany(t.children)})}visitSparseUnion(t,{length:e,nullCount:r}=this.nextFieldNode()){return it({type:t,length:e,nullCount:r,nullBitmap:this.readNullBitmap(t,r),typeIds:this.readTypeIds(t),children:this.visitMany(t.children)})}visitDictionary(t,{length:e,nullCount:r}=this.nextFieldNode()){return it({type:t,length:e,nullCount:r,nullBitmap:this.readNullBitmap(t,r),data:this.readData(t.indices),dictionary:this.readDictionary(t)})}visitInterval(t,{length:e,nullCount:r}=this.nextFieldNode()){return it({type:t,length:e,nullCount:r,nullBitmap:this.readNullBitmap(t,r),data:this.readData(t)})}visitFixedSizeList(t,{length:e,nullCount:r}=this.nextFieldNode()){return it({type:t,length:e,nullCount:r,nullBitmap:this.readNullBitmap(t,r),child:this.visit(t.children[0])})}visitMap(t,{length:e,nullCount:r}=this.nextFieldNode()){return it({type:t,length:e,nullCount:r,nullBitmap:this.readNullBitmap(t,r),valueOffsets:this.readOffsets(t),child:this.visit(t.children[0])})}nextFieldNode(){return this.nodes[++this.nodesIndex]}nextBufferRange(){return this.buffers[++this.buffersIndex]}readNullBitmap(t,e,r=this.nextBufferRange()){return e>0&&this.readData(t,r)||new Uint8Array(0)}readOffsets(t,e){return this.readData(t,e)}readTypeIds(t,e){return this.readData(t,e)}readData(t,{length:e,offset:r}=this.nextBufferRange()){return this.bytes.subarray(r,r+e)}readDictionary(t){return this.dictionaries.get(t.id)}}class QB extends RD{constructor(t,e,r,i){super(new Uint8Array(0),e,r,i),this.sources=t}readNullBitmap(t,e,{offset:r}=this.nextBufferRange()){return e<=0?new Uint8Array(0):Qb(this.sources[r])}readOffsets(t,{offset:e}=this.nextBufferRange()){return Mt(Uint8Array,Mt(Int32Array,this.sources[e]))}readTypeIds(t,{offset:e}=this.nextBufferRange()){return Mt(Uint8Array,Mt(t.ArrayType,this.sources[e]))}readData(t,{offset:e}=this.nextBufferRange()){const{sources:r}=this;return ze.isTimestamp(t)||(ze.isInt(t)||ze.isTime(t))&&t.bitWidth===64||ze.isDate(t)&&t.unit===Aa.MILLISECOND?Mt(Uint8Array,_n.convertArray(r[e])):ze.isDecimal(t)?Mt(Uint8Array,_o.convertArray(r[e])):ze.isBinary(t)||ze.isFixedSizeBinary(t)?JB(r[e]):ze.isBool(t)?Qb(r[e]):ze.isUtf8(t)?B_(r[e].join("")):Mt(Uint8Array,Mt(t.ArrayType,r[e].map(i=>+i)))}}function JB(n){const t=n.join(""),e=new Uint8Array(t.length/2);for(let r=0;r<t.length;r+=2)e[r>>1]=Number.parseInt(t.slice(r,r+2),16);return e}class ke extends st{compareSchemas(t,e){return t===e||e instanceof t.constructor&&this.compareManyFields(t.fields,e.fields)}compareManyFields(t,e){return t===e||Array.isArray(t)&&Array.isArray(e)&&t.length===e.length&&t.every((r,i)=>this.compareFields(r,e[i]))}compareFields(t,e){return t===e||e instanceof t.constructor&&t.name===e.name&&t.nullable===e.nullable&&this.visit(t.type,e.type)}}function Fn(n,t){return t instanceof n.constructor}function nd(n,t){return n===t||Fn(n,t)}function Va(n,t){return n===t||Fn(n,t)&&n.bitWidth===t.bitWidth&&n.isSigned===t.isSigned}function nm(n,t){return n===t||Fn(n,t)&&n.precision===t.precision}function e3(n,t){return n===t||Fn(n,t)&&n.byteWidth===t.byteWidth}function rS(n,t){return n===t||Fn(n,t)&&n.unit===t.unit}function id(n,t){return n===t||Fn(n,t)&&n.unit===t.unit&&n.timezone===t.timezone}function od(n,t){return n===t||Fn(n,t)&&n.unit===t.unit&&n.bitWidth===t.bitWidth}function t3(n,t){return n===t||Fn(n,t)&&n.children.length===t.children.length&&Bs.compareManyFields(n.children,t.children)}function r3(n,t){return n===t||Fn(n,t)&&n.children.length===t.children.length&&Bs.compareManyFields(n.children,t.children)}function nS(n,t){return n===t||Fn(n,t)&&n.mode===t.mode&&n.typeIds.every((e,r)=>e===t.typeIds[r])&&Bs.compareManyFields(n.children,t.children)}function n3(n,t){return n===t||Fn(n,t)&&n.id===t.id&&n.isOrdered===t.isOrdered&&Bs.visit(n.indices,t.indices)&&Bs.visit(n.dictionary,t.dictionary)}function iS(n,t){return n===t||Fn(n,t)&&n.unit===t.unit}function i3(n,t){return n===t||Fn(n,t)&&n.listSize===t.listSize&&n.children.length===t.children.length&&Bs.compareManyFields(n.children,t.children)}function o3(n,t){return n===t||Fn(n,t)&&n.keysSorted===t.keysSorted&&n.children.length===t.children.length&&Bs.compareManyFields(n.children,t.children)}ke.prototype.visitNull=nd;ke.prototype.visitBool=nd;ke.prototype.visitInt=Va;ke.prototype.visitInt8=Va;ke.prototype.visitInt16=Va;ke.prototype.visitInt32=Va;ke.prototype.visitInt64=Va;ke.prototype.visitUint8=Va;ke.prototype.visitUint16=Va;ke.prototype.visitUint32=Va;ke.prototype.visitUint64=Va;ke.prototype.visitFloat=nm;ke.prototype.visitFloat16=nm;ke.prototype.visitFloat32=nm;ke.prototype.visitFloat64=nm;ke.prototype.visitUtf8=nd;ke.prototype.visitBinary=nd;ke.prototype.visitFixedSizeBinary=e3;ke.prototype.visitDate=rS;ke.prototype.visitDateDay=rS;ke.prototype.visitDateMillisecond=rS;ke.prototype.visitTimestamp=id;ke.prototype.visitTimestampSecond=id;ke.prototype.visitTimestampMillisecond=id;ke.prototype.visitTimestampMicrosecond=id;ke.prototype.visitTimestampNanosecond=id;ke.prototype.visitTime=od;ke.prototype.visitTimeSecond=od;ke.prototype.visitTimeMillisecond=od;ke.prototype.visitTimeMicrosecond=od;ke.prototype.visitTimeNanosecond=od;ke.prototype.visitDecimal=nd;ke.prototype.visitList=t3;ke.prototype.visitStruct=r3;ke.prototype.visitUnion=nS;ke.prototype.visitDenseUnion=nS;ke.prototype.visitSparseUnion=nS;ke.prototype.visitDictionary=n3;ke.prototype.visitInterval=iS;ke.prototype.visitIntervalDayTime=iS;ke.prototype.visitIntervalYearMonth=iS;ke.prototype.visitFixedSizeList=i3;ke.prototype.visitMap=o3;const Bs=new ke;function a3(n,t){return Bs.compareSchemas(n,t)}function my(n,t){return s3(n,t.map(e=>e.data.concat()))}function s3(n,t){const e=[...n.fields],r=[],i={numBatches:t.reduce((p,h)=>Math.max(p,h.length),0)};let o=0,a=0,s=-1;const l=t.length;let u,c=[];for(;i.numBatches-- >0;){for(a=Number.POSITIVE_INFINITY,s=-1;++s<l;)c[s]=u=t[s].shift(),a=Math.min(a,u?u.length:a);Number.isFinite(a)&&(c=l3(e,a,c,t,i),a>0&&(r[o++]=it({type:new sn(e),length:a,nullCount:0,children:c.slice()})))}return[n=n.assign(e),r.map(p=>new Kr(n,p))]}function l3(n,t,e,r,i){var o;const a=(t+63&-64)>>3;for(let s=-1,l=r.length;++s<l;){const u=e[s],c=u==null?void 0:u.length;if(c>=t)c===t?e[s]=u:(e[s]=u.slice(0,t),i.numBatches=Math.max(i.numBatches,r[s].unshift(u.slice(t,c-t))));else{const p=n[s];n[s]=p.clone({nullable:!0}),e[s]=(o=u==null?void 0:u._changeLengthAndBackfillNullBitmap(t))!==null&&o!==void 0?o:it({type:p.type,length:t,nullCount:t,nullBitmap:new Uint8Array(a)})}}return e}var PD;class wi{constructor(...t){var e,r;if(t.length===0)return this.batches=[],this.schema=new ft([]),this._offsets=[0],this;let i,o;t[0]instanceof ft&&(i=t.shift()),t[t.length-1]instanceof Uint32Array&&(o=t.pop());const a=l=>{if(l){if(l instanceof Kr)return[l];if(l instanceof wi)return l.batches;if(l instanceof Gt){if(l.type instanceof sn)return[new Kr(new ft(l.type.children),l)]}else{if(Array.isArray(l))return l.flatMap(u=>a(u));if(typeof l[Symbol.iterator]=="function")return[...l].flatMap(u=>a(u));if(typeof l=="object"){const u=Object.keys(l),c=u.map(d=>new At([l[d]])),p=new ft(u.map((d,f)=>new Kt(String(d),c[f].type))),[,h]=my(p,c);return h.length===0?[new Kr(l)]:h}}}return[]},s=t.flatMap(l=>a(l));if(i=(r=i!=null?i:(e=s[0])===null||e===void 0?void 0:e.schema)!==null&&r!==void 0?r:new ft([]),!(i instanceof ft))throw new TypeError("Table constructor expects a [Schema, RecordBatch[]] pair.");for(const l of s){if(!(l instanceof Kr))throw new TypeError("Table constructor expects a [Schema, RecordBatch[]] pair.");if(!a3(i,l.schema))throw new TypeError("Table and inner RecordBatch schemas must be equivalent.")}this.schema=i,this.batches=s,this._offsets=o!=null?o:vD(this.data)}get data(){return this.batches.map(({data:t})=>t)}get numCols(){return this.schema.fields.length}get numRows(){return this.data.reduce((t,e)=>t+e.length,0)}get nullCount(){return this._nullCount===-1&&(this._nullCount=gD(this.data)),this._nullCount}isValid(t){return!1}get(t){return null}set(t,e){}indexOf(t,e){return-1}getByteLength(t){return 0}[Symbol.iterator](){return J_.visit(new At(this.data))}toArray(){return[...this]}toString(){return`[
  ${this.toArray().join(`,
  `)}
]`}concat(...t){const e=this.schema,r=this.data.concat(t.flatMap(({data:i})=>i));return new wi(e,r.map(i=>new Kr(e,i)))}slice(t,e){const r=this.schema;[t,e]=dD({length:this.numRows},t,e);const i=mD(this.data,this._offsets,t,e);return new wi(r,i.map(o=>new Kr(r,o)))}getChild(t){return this.getChildAt(this.schema.fields.findIndex(e=>e.name===t))}getChildAt(t){if(t>-1&&t<this.schema.fields.length){const e=this.data.map(r=>r.children[t]);if(e.length===0){const{type:r}=this.schema.fields[t],i=it({type:r,length:0,nullCount:0});e.push(i._changeLengthAndBackfillNullBitmap(this.numRows))}return new At(e)}return null}setChild(t,e){var r;return this.setChildAt((r=this.schema.fields)===null||r===void 0?void 0:r.findIndex(i=>i.name===t),e)}setChildAt(t,e){let r=this.schema,i=[...this.batches];if(t>-1&&t<this.numCols){e||(e=new At([it({type:new Ns,length:this.numRows})]));const o=r.fields.slice(),a=o[t].clone({type:e.type}),s=this.schema.fields.map((l,u)=>this.getChildAt(u));[o[t],s[t]]=[a,e],[r,i]=my(r,s)}return new wi(r,i)}select(t){const e=this.schema.fields.reduce((r,i,o)=>r.set(i.name,o),new Map);return this.selectAt(t.map(r=>e.get(r)).filter(r=>r>-1))}selectAt(t){const e=this.schema.selectAt(t),r=this.batches.map(i=>i.selectAt(t));return new wi(e,r)}assign(t){const e=this.schema.fields,[r,i]=t.schema.fields.reduce((s,l,u)=>{const[c,p]=s,h=e.findIndex(d=>d.name===l.name);return~h?p[h]=u:c.push(u),s},[[],[]]),o=this.schema.assign(t.schema),a=[...e.map((s,l)=>[l,i[l]]).map(([s,l])=>l===void 0?this.getChildAt(s):t.getChildAt(l)),...r.map(s=>t.getChildAt(s))].filter(Boolean);return new wi(...my(o,a))}}PD=Symbol.toStringTag;wi[PD]=(n=>(n.schema=null,n.batches=[],n._offsets=new Uint32Array([0]),n._nullCount=-1,n[Symbol.isConcatSpreadable]=!0,n.isValid=bc(Q_),n.get=bc(Dn.getVisitFn(W.Struct)),n.set=yD(Ii.getVisitFn(W.Struct)),n.indexOf=CD(Rg.getVisitFn(W.Struct)),n.getByteLength=bc(Yo.getVisitFn(W.Struct)),"Table"))(wi.prototype);var AD;class Kr{constructor(...t){switch(t.length){case 2:{if([this.schema]=t,!(this.schema instanceof ft))throw new TypeError("RecordBatch constructor expects a [Schema, Data] pair.");if([,this.data=it({nullCount:0,type:new sn(this.schema.fields),children:this.schema.fields.map(e=>it({type:e.type,nullCount:0}))})]=t,!(this.data instanceof Gt))throw new TypeError("RecordBatch constructor expects a [Schema, Data] pair.");[this.schema,this.data]=Jx(this.schema,this.data.children);break}case 1:{const[e]=t,{fields:r,children:i,length:o}=Object.keys(e).reduce((l,u,c)=>(l.children[c]=e[u],l.length=Math.max(l.length,e[u].length),l.fields[c]=Kt.new({name:u,type:e[u].type,nullable:!0}),l),{length:0,fields:new Array,children:new Array}),a=new ft(r),s=it({type:new sn(r),length:o,children:i,nullCount:0});[this.schema,this.data]=Jx(a,s.children,o);break}default:throw new TypeError("RecordBatch constructor expects an Object mapping names to child Data, or a [Schema, Data] pair.")}}get dictionaries(){return this._dictionaries||(this._dictionaries=DD(this.schema.fields,this.data.children))}get numCols(){return this.schema.fields.length}get numRows(){return this.data.length}get nullCount(){return this.data.nullCount}isValid(t){return this.data.getValid(t)}get(t){return Dn.visit(this.data,t)}set(t,e){return Ii.visit(this.data,t,e)}indexOf(t,e){return Rg.visit(this.data,t,e)}getByteLength(t){return Yo.visit(this.data,t)}[Symbol.iterator](){return J_.visit(new At([this.data]))}toArray(){return[...this]}concat(...t){return new wi(this.schema,[this,...t])}slice(t,e){const[r]=new At([this.data]).slice(t,e).data;return new Kr(this.schema,r)}getChild(t){var e;return this.getChildAt((e=this.schema.fields)===null||e===void 0?void 0:e.findIndex(r=>r.name===t))}getChildAt(t){return t>-1&&t<this.schema.fields.length?new At([this.data.children[t]]):null}setChild(t,e){var r;return this.setChildAt((r=this.schema.fields)===null||r===void 0?void 0:r.findIndex(i=>i.name===t),e)}setChildAt(t,e){let r=this.schema,i=this.data;if(t>-1&&t<this.numCols){e||(e=new At([it({type:new Ns,length:this.numRows})]));const o=r.fields.slice(),a=i.children.slice(),s=o[t].clone({type:e.type});[o[t],a[t]]=[s,e.data[0]],r=new ft(o,new Map(this.schema.metadata)),i=it({type:new sn(o),children:a})}return new Kr(r,i)}select(t){const e=this.schema.select(t),r=new sn(e.fields),i=[];for(const o of t){const a=this.schema.fields.findIndex(s=>s.name===o);~a&&(i[a]=this.data.children[a])}return new Kr(e,it({type:r,length:this.numRows,children:i}))}selectAt(t){const e=this.schema.selectAt(t),r=t.map(o=>this.data.children[o]).filter(Boolean),i=it({type:new sn(e.fields),length:this.numRows,children:r});return new Kr(e,i)}}AD=Symbol.toStringTag;Kr[AD]=(n=>(n._nullCount=-1,n[Symbol.isConcatSpreadable]=!0,"RecordBatch"))(Kr.prototype);function Jx(n,t,e=t.reduce((r,i)=>Math.max(r,i.length),0)){var r;const i=[...n.fields],o=[...t],a=(e+63&-64)>>3;for(const[s,l]of n.fields.entries()){const u=t[s];(!u||u.length!==e)&&(i[s]=l.clone({nullable:!0}),o[s]=(r=u==null?void 0:u._changeLengthAndBackfillNullBitmap(e))!==null&&r!==void 0?r:it({type:l.type,length:e,nullCount:e,nullBitmap:new Uint8Array(a)}))}return[n.assign(i),it({type:new sn(i),length:e,children:o})]}function DD(n,t,e=new Map){for(let r=-1,i=n.length;++r<i;){const a=n[r].type,s=t[r];if(ze.isDictionary(a)){if(!e.has(a.id))s.dictionary&&e.set(a.id,s.dictionary);else if(e.get(a.id)!==s.dictionary)throw new Error("Cannot create Schema containing two different dictionaries with the same Id")}a.children&&a.children.length>0&&DD(a.children,s.children,e)}return e}class MD extends Kr{constructor(t){const e=t.fields.map(i=>it({type:i.type})),r=it({type:new sn(t.fields),nullCount:0,children:e});super(t,r)}}var kg;(function(n){n[n.BUFFER=0]="BUFFER"})(kg||(kg={}));var Gg;(function(n){n[n.LZ4_FRAME=0]="LZ4_FRAME",n[n.ZSTD=1]="ZSTD"})(Gg||(Gg={}));class os{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsBodyCompression(t,e){return(e||new os).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsBodyCompression(t,e){return t.setPosition(t.position()+Nt),(e||new os).__init(t.readInt32(t.position())+t.position(),t)}codec(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt8(this.bb_pos+t):Gg.LZ4_FRAME}method(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readInt8(this.bb_pos+t):kg.BUFFER}static startBodyCompression(t){t.startObject(2)}static addCodec(t,e){t.addFieldInt8(0,e,Gg.LZ4_FRAME)}static addMethod(t,e){t.addFieldInt8(1,e,kg.BUFFER)}static endBodyCompression(t){return t.endObject()}static createBodyCompression(t,e,r){return os.startBodyCompression(t),os.addCodec(t,e),os.addMethod(t,r),os.endBodyCompression(t)}}class FD{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}offset(){return this.bb.readInt64(this.bb_pos)}length(){return this.bb.readInt64(this.bb_pos+8)}static sizeOf(){return 16}static createBuffer(t,e,r){return t.prep(8,16),t.writeInt64(r),t.writeInt64(e),t.offset()}}class ID{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}length(){return this.bb.readInt64(this.bb_pos)}nullCount(){return this.bb.readInt64(this.bb_pos+8)}static sizeOf(){return 16}static createFieldNode(t,e,r){return t.prep(8,16),t.writeInt64(r),t.writeInt64(e),t.offset()}}class yi{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsRecordBatch(t,e){return(e||new yi).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsRecordBatch(t,e){return t.setPosition(t.position()+Nt),(e||new yi).__init(t.readInt32(t.position())+t.position(),t)}length(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt64(this.bb_pos+t):this.bb.createLong(0,0)}nodes(t,e){const r=this.bb.__offset(this.bb_pos,6);return r?(e||new ID).__init(this.bb.__vector(this.bb_pos+r)+t*16,this.bb):null}nodesLength(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__vector_len(this.bb_pos+t):0}buffers(t,e){const r=this.bb.__offset(this.bb_pos,8);return r?(e||new FD).__init(this.bb.__vector(this.bb_pos+r)+t*16,this.bb):null}buffersLength(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__vector_len(this.bb_pos+t):0}compression(t){const e=this.bb.__offset(this.bb_pos,10);return e?(t||new os).__init(this.bb.__indirect(this.bb_pos+e),this.bb):null}static startRecordBatch(t){t.startObject(4)}static addLength(t,e){t.addFieldInt64(0,e,t.createLong(0,0))}static addNodes(t,e){t.addFieldOffset(1,e,0)}static startNodesVector(t,e){t.startVector(16,e,8)}static addBuffers(t,e){t.addFieldOffset(2,e,0)}static startBuffersVector(t,e){t.startVector(16,e,8)}static addCompression(t,e){t.addFieldOffset(3,e,0)}static endRecordBatch(t){return t.endObject()}}class pa{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsDictionaryBatch(t,e){return(e||new pa).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsDictionaryBatch(t,e){return t.setPosition(t.position()+Nt),(e||new pa).__init(t.readInt32(t.position())+t.position(),t)}id(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt64(this.bb_pos+t):this.bb.createLong(0,0)}data(t){const e=this.bb.__offset(this.bb_pos,6);return e?(t||new yi).__init(this.bb.__indirect(this.bb_pos+e),this.bb):null}isDelta(){const t=this.bb.__offset(this.bb_pos,8);return t?!!this.bb.readInt8(this.bb_pos+t):!1}static startDictionaryBatch(t){t.startObject(3)}static addId(t,e){t.addFieldInt64(0,e,t.createLong(0,0))}static addData(t,e){t.addFieldOffset(1,e,0)}static addIsDelta(t,e){t.addFieldInt8(2,+e,0)}static endDictionaryBatch(t){return t.endObject()}}var Bg;(function(n){n[n.NONE=0]="NONE",n[n.Schema=1]="Schema",n[n.DictionaryBatch=2]="DictionaryBatch",n[n.RecordBatch=3]="RecordBatch",n[n.Tensor=4]="Tensor",n[n.SparseTensor=5]="SparseTensor"})(Bg||(Bg={}));class wr{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsMessage(t,e){return(e||new wr).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsMessage(t,e){return t.setPosition(t.position()+Nt),(e||new wr).__init(t.readInt32(t.position())+t.position(),t)}version(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):Rc.V1}headerType(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readUint8(this.bb_pos+t):Bg.NONE}header(t){const e=this.bb.__offset(this.bb_pos,8);return e?this.bb.__union(t,this.bb_pos+e):null}bodyLength(){const t=this.bb.__offset(this.bb_pos,10);return t?this.bb.readInt64(this.bb_pos+t):this.bb.createLong(0,0)}customMetadata(t,e){const r=this.bb.__offset(this.bb_pos,12);return r?(e||new gr).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+t*4),this.bb):null}customMetadataLength(){const t=this.bb.__offset(this.bb_pos,12);return t?this.bb.__vector_len(this.bb_pos+t):0}static startMessage(t){t.startObject(5)}static addVersion(t,e){t.addFieldInt16(0,e,Rc.V1)}static addHeaderType(t,e){t.addFieldInt8(1,e,Bg.NONE)}static addHeader(t,e){t.addFieldOffset(2,e,0)}static addBodyLength(t,e){t.addFieldInt64(3,e,t.createLong(0,0))}static addCustomMetadata(t,e){t.addFieldOffset(4,e,0)}static createCustomMetadataVector(t,e){t.startVector(4,e.length,4);for(let r=e.length-1;r>=0;r--)t.addOffset(e[r]);return t.endVector()}static startCustomMetadataVector(t,e){t.startVector(4,e,4)}static endMessage(t){return t.endObject()}static finishMessageBuffer(t,e){t.finish(e)}static finishSizePrefixedMessageBuffer(t,e){t.finish(e,void 0,!0)}static createMessage(t,e,r,i,o,a){return wr.startMessage(t),wr.addVersion(t,e),wr.addHeaderType(t,r),wr.addHeader(t,i),wr.addBodyLength(t,o),wr.addCustomMetadata(t,a),wr.endMessage(t)}}var u3=Fi;class c3 extends st{visit(t,e){return t==null||e==null?void 0:super.visit(t,e)}visitNull(t,e){return Dl.startNull(e),Dl.endNull(e)}visitInt(t,e){return Qn.startInt(e),Qn.addBitWidth(e,t.bitWidth),Qn.addIsSigned(e,t.isSigned),Qn.endInt(e)}visitFloat(t,e){return Mo.startFloatingPoint(e),Mo.addPrecision(e,t.precision),Mo.endFloatingPoint(e)}visitBinary(t,e){return Rl.startBinary(e),Rl.endBinary(e)}visitBool(t,e){return Pl.startBool(e),Pl.endBool(e)}visitUtf8(t,e){return Fl.startUtf8(e),Fl.endUtf8(e)}visitDecimal(t,e){return Sn.startDecimal(e),Sn.addScale(e,t.scale),Sn.addPrecision(e,t.precision),Sn.addBitWidth(e,t.bitWidth),Sn.endDecimal(e)}visitDate(t,e){return Po.startDate(e),Po.addUnit(e,t.unit),Po.endDate(e)}visitTime(t,e){return Ci.startTime(e),Ci.addUnit(e,t.unit),Ci.addBitWidth(e,t.bitWidth),Ci.endTime(e)}visitTimestamp(t,e){const r=t.timezone&&e.createString(t.timezone)||void 0;return bi.startTimestamp(e),bi.addUnit(e,t.unit),r!==void 0&&bi.addTimezone(e,r),bi.endTimestamp(e)}visitInterval(t,e){return Fo.startInterval(e),Fo.addUnit(e,t.unit),Fo.endInterval(e)}visitList(t,e){return Al.startList(e),Al.endList(e)}visitStruct(t,e){return Ml.startStruct_(e),Ml.endStruct_(e)}visitUnion(t,e){Tn.startTypeIdsVector(e,t.typeIds.length);const r=Tn.createTypeIdsVector(e,t.typeIds);return Tn.startUnion(e),Tn.addMode(e,t.mode),Tn.addTypeIds(e,r),Tn.endUnion(e)}visitDictionary(t,e){const r=this.visit(t.indices,e);return ca.startDictionaryEncoding(e),ca.addId(e,new u3(t.id,0)),ca.addIsOrdered(e,t.isOrdered),r!==void 0&&ca.addIndexType(e,r),ca.endDictionaryEncoding(e)}visitFixedSizeBinary(t,e){return Ao.startFixedSizeBinary(e),Ao.addByteWidth(e,t.byteWidth),Ao.endFixedSizeBinary(e)}visitFixedSizeList(t,e){return Do.startFixedSizeList(e),Do.addListSize(e,t.listSize),Do.endFixedSizeList(e)}visitMap(t,e){return Io.startMap(e),Io.addKeysSorted(e,t.keysSorted),Io.endMap(e)}}const yy=new c3;function p3(n,t=new Map){return new ft(d3(n,t),Kf(n.customMetadata),t)}function LD(n){return new io(n.count,ND(n.columns),kD(n.columns))}function h3(n){return new Da(LD(n.data),n.id,n.isDelta)}function d3(n,t){return(n.fields||[]).filter(Boolean).map(e=>Kt.fromJSON(e,t))}function eT(n,t){return(n.children||[]).filter(Boolean).map(e=>Kt.fromJSON(e,t))}function ND(n){return(n||[]).reduce((t,e)=>[...t,new Yc(e.count,f3(e.VALIDITY)),...ND(e.children)],[])}function kD(n,t=[]){for(let e=-1,r=(n||[]).length;++e<r;){const i=n[e];i.VALIDITY&&t.push(new ya(t.length,i.VALIDITY.length)),i.TYPE&&t.push(new ya(t.length,i.TYPE.length)),i.OFFSET&&t.push(new ya(t.length,i.OFFSET.length)),i.DATA&&t.push(new ya(t.length,i.DATA.length)),t=kD(i.children,t)}return t}function f3(n){return(n||[]).reduce((t,e)=>t+ +(e===0),0)}function g3(n,t){let e,r,i,o,a,s;return!t||!(o=n.dictionary)?(a=rT(n,eT(n,t)),i=new Kt(n.name,a,n.nullable,Kf(n.customMetadata))):t.has(e=o.id)?(r=(r=o.indexType)?tT(r):new Lh,s=new Ec(t.get(e),r,e,o.isOrdered),i=new Kt(n.name,s,n.nullable,Kf(n.customMetadata))):(r=(r=o.indexType)?tT(r):new Lh,t.set(e,a=rT(n,eT(n,t))),s=new Ec(a,r,e,o.isOrdered),i=new Kt(n.name,s,n.nullable,Kf(n.customMetadata))),i||null}function Kf(n){return new Map(Object.entries(n||{}))}function tT(n){return new ks(n.isSigned,n.bitWidth)}function rT(n,t){const e=n.type.name;switch(e){case"NONE":return new Ns;case"null":return new Ns;case"binary":return new mg;case"utf8":return new yg;case"bool":return new Cg;case"list":return new Sg((t||[])[0]);case"struct":return new sn(t||[]);case"struct_":return new sn(t||[])}switch(e){case"int":{const r=n.type;return new ks(r.isSigned,r.bitWidth)}case"floatingpoint":{const r=n.type;return new Oc(An[r.precision])}case"decimal":{const r=n.type;return new bg(r.scale,r.precision,r.bitWidth)}case"date":{const r=n.type;return new wg(Aa[r.unit])}case"time":{const r=n.type;return new Nh(lt[r.unit],r.bitWidth)}case"timestamp":{const r=n.type;return new kh(lt[r.unit],r.timezone)}case"interval":{const r=n.type;return new _g(Ls[r.unit])}case"union":{const r=n.type;return new xg(no[r.mode],r.typeIds||[],t||[])}case"fixedsizebinary":{const r=n.type;return new Tg(r.byteWidth)}case"fixedsizelist":{const r=n.type;return new Og(r.listSize,(t||[])[0])}case"map":{const r=n.type;return new Eg((t||[])[0],r.keysSorted)}}throw new Error(`Unrecognized type: "${e}"`)}var Xl=Fi,v3=rm,m3=Gs;class Ki{constructor(t,e,r,i){this._version=e,this._headerType=r,this.body=new Uint8Array(0),i&&(this._createHeader=()=>i),this._bodyLength=typeof t=="number"?t:t.low}static fromJSON(t,e){const r=new Ki(0,xi.V4,e);return r._createHeader=y3(t,e),r}static decode(t){t=new m3(dt(t));const e=wr.getRootAsMessage(t),r=e.bodyLength(),i=e.version(),o=e.headerType(),a=new Ki(r,i,o);return a._createHeader=C3(e,o),a}static encode(t){const e=new v3;let r=-1;return t.isSchema()?r=ft.encode(e,t.header()):t.isRecordBatch()?r=io.encode(e,t.header()):t.isDictionaryBatch()&&(r=Da.encode(e,t.header())),wr.startMessage(e),wr.addVersion(e,xi.V4),wr.addHeader(e,r),wr.addHeaderType(e,t.headerType),wr.addBodyLength(e,new Xl(t.bodyLength,0)),wr.finishMessageBuffer(e,wr.endMessage(e)),e.asUint8Array()}static from(t,e=0){if(t instanceof ft)return new Ki(0,xi.V4,Pt.Schema,t);if(t instanceof io)return new Ki(e,xi.V4,Pt.RecordBatch,t);if(t instanceof Da)return new Ki(e,xi.V4,Pt.DictionaryBatch,t);throw new Error(`Unrecognized Message header: ${t}`)}get type(){return this.headerType}get version(){return this._version}get headerType(){return this._headerType}get bodyLength(){return this._bodyLength}header(){return this._createHeader()}isSchema(){return this.headerType===Pt.Schema}isRecordBatch(){return this.headerType===Pt.RecordBatch}isDictionaryBatch(){return this.headerType===Pt.DictionaryBatch}}class io{constructor(t,e,r){this._nodes=e,this._buffers=r,this._length=typeof t=="number"?t:t.low}get nodes(){return this._nodes}get length(){return this._length}get buffers(){return this._buffers}}class Da{constructor(t,e,r=!1){this._data=t,this._isDelta=r,this._id=typeof e=="number"?e:e.low}get id(){return this._id}get data(){return this._data}get isDelta(){return this._isDelta}get length(){return this.data.length}get nodes(){return this.data.nodes}get buffers(){return this.data.buffers}}class ya{constructor(t,e){this.offset=typeof t=="number"?t:t.low,this.length=typeof e=="number"?e:e.low}}class Yc{constructor(t,e){this.length=typeof t=="number"?t:t.low,this.nullCount=typeof e=="number"?e:e.low}}function y3(n,t){return()=>{switch(t){case Pt.Schema:return ft.fromJSON(n);case Pt.RecordBatch:return io.fromJSON(n);case Pt.DictionaryBatch:return Da.fromJSON(n)}throw new Error(`Unrecognized Message type: { name: ${Pt[t]}, type: ${t} }`)}}function C3(n,t){return()=>{switch(t){case Pt.Schema:return ft.decode(n.header(new fr));case Pt.RecordBatch:return io.decode(n.header(new yi),n.version());case Pt.DictionaryBatch:return Da.decode(n.header(new pa),n.version())}throw new Error(`Unrecognized Message type: { name: ${Pt[t]}, type: ${t} }`)}}Kt.encode=A3;Kt.decode=R3;Kt.fromJSON=g3;ft.encode=P3;ft.decode=b3;ft.fromJSON=p3;io.encode=D3;io.decode=w3;io.fromJSON=LD;Da.encode=M3;Da.decode=_3;Da.fromJSON=h3;Yc.encode=F3;Yc.decode=x3;ya.encode=I3;ya.decode=S3;function b3(n,t=new Map){const e=E3(n,t);return new ft(e,Yf(n),t)}function w3(n,t=xi.V4){if(n.compression()!==null)throw new Error("Record batch compression not implemented");return new io(n.length(),T3(n),O3(n,t))}function _3(n,t=xi.V4){return new Da(io.decode(n.data(),t),n.id(),n.isDelta())}function S3(n){return new ya(n.offset(),n.length())}function x3(n){return new Yc(n.length(),n.nullCount())}function T3(n){const t=[];for(let e,r=-1,i=-1,o=n.nodesLength();++r<o;)(e=n.nodes(r))&&(t[++i]=Yc.decode(e));return t}function O3(n,t){const e=[];for(let r,i=-1,o=-1,a=n.buffersLength();++i<a;)(r=n.buffers(i))&&(t<xi.V4&&(r.bb_pos+=8*(i+1)),e[++o]=ya.decode(r));return e}function E3(n,t){const e=[];for(let r,i=-1,o=-1,a=n.fieldsLength();++i<a;)(r=n.fields(i))&&(e[++o]=Kt.decode(r,t));return e}function nT(n,t){const e=[];for(let r,i=-1,o=-1,a=n.childrenLength();++i<a;)(r=n.children(i))&&(e[++o]=Kt.decode(r,t));return e}function R3(n,t){let e,r,i,o,a,s;return!t||!(s=n.dictionary())?(i=oT(n,nT(n,t)),r=new Kt(n.name(),i,n.nullable(),Yf(n))):t.has(e=s.id().low)?(o=(o=s.indexType())?iT(o):new Lh,a=new Ec(t.get(e),o,e,s.isOrdered()),r=new Kt(n.name(),a,n.nullable(),Yf(n))):(o=(o=s.indexType())?iT(o):new Lh,t.set(e,i=oT(n,nT(n,t))),a=new Ec(i,o,e,s.isOrdered()),r=new Kt(n.name(),a,n.nullable(),Yf(n))),r||null}function Yf(n){const t=new Map;if(n)for(let e,r,i=-1,o=Math.trunc(n.customMetadataLength());++i<o;)(e=n.customMetadata(i))&&(r=e.key())!=null&&t.set(r,e.value());return t}function iT(n){return new ks(n.isSigned(),n.bitWidth())}function oT(n,t){const e=n.typeType();switch(e){case Zt.NONE:return new Ns;case Zt.Null:return new Ns;case Zt.Binary:return new mg;case Zt.Utf8:return new yg;case Zt.Bool:return new Cg;case Zt.List:return new Sg((t||[])[0]);case Zt.Struct_:return new sn(t||[])}switch(e){case Zt.Int:{const r=n.type(new Qn);return new ks(r.isSigned(),r.bitWidth())}case Zt.FloatingPoint:{const r=n.type(new Mo);return new Oc(r.precision())}case Zt.Decimal:{const r=n.type(new Sn);return new bg(r.scale(),r.precision(),r.bitWidth())}case Zt.Date:{const r=n.type(new Po);return new wg(r.unit())}case Zt.Time:{const r=n.type(new Ci);return new Nh(r.unit(),r.bitWidth())}case Zt.Timestamp:{const r=n.type(new bi);return new kh(r.unit(),r.timezone())}case Zt.Interval:{const r=n.type(new Fo);return new _g(r.unit())}case Zt.Union:{const r=n.type(new Tn);return new xg(r.mode(),r.typeIdsArray()||[],t||[])}case Zt.FixedSizeBinary:{const r=n.type(new Ao);return new Tg(r.byteWidth())}case Zt.FixedSizeList:{const r=n.type(new Do);return new Og(r.listSize(),(t||[])[0])}case Zt.Map:{const r=n.type(new Io);return new Eg((t||[])[0],r.keysSorted())}}throw new Error(`Unrecognized type: "${Zt[e]}" (${e})`)}function P3(n,t){const e=t.fields.map(o=>Kt.encode(n,o));fr.startFieldsVector(n,e.length);const r=fr.createFieldsVector(n,e),i=t.metadata&&t.metadata.size>0?fr.createCustomMetadataVector(n,[...t.metadata].map(([o,a])=>{const s=n.createString(`${o}`),l=n.createString(`${a}`);return gr.startKeyValue(n),gr.addKey(n,s),gr.addValue(n,l),gr.endKeyValue(n)})):-1;return fr.startSchema(n),fr.addFields(n,r),fr.addEndianness(n,L3?Pc.Little:Pc.Big),i!==-1&&fr.addCustomMetadata(n,i),fr.endSchema(n)}function A3(n,t){let e=-1,r=-1,i=-1;const o=t.type;let a=t.typeId;ze.isDictionary(o)?(a=o.dictionary.typeId,i=yy.visit(o,n),r=yy.visit(o.dictionary,n)):r=yy.visit(o,n);const s=(o.children||[]).map(c=>Kt.encode(n,c)),l=Ur.createChildrenVector(n,s),u=t.metadata&&t.metadata.size>0?Ur.createCustomMetadataVector(n,[...t.metadata].map(([c,p])=>{const h=n.createString(`${c}`),d=n.createString(`${p}`);return gr.startKeyValue(n),gr.addKey(n,h),gr.addValue(n,d),gr.endKeyValue(n)})):-1;return t.name&&(e=n.createString(t.name)),Ur.startField(n),Ur.addType(n,r),Ur.addTypeType(n,a),Ur.addChildren(n,l),Ur.addNullable(n,!!t.nullable),e!==-1&&Ur.addName(n,e),i!==-1&&Ur.addDictionary(n,i),u!==-1&&Ur.addCustomMetadata(n,u),Ur.endField(n)}function D3(n,t){const e=t.nodes||[],r=t.buffers||[];yi.startNodesVector(n,e.length);for(const a of e.slice().reverse())Yc.encode(n,a);const i=n.endVector();yi.startBuffersVector(n,r.length);for(const a of r.slice().reverse())ya.encode(n,a);const o=n.endVector();return yi.startRecordBatch(n),yi.addLength(n,new Xl(t.length,0)),yi.addNodes(n,i),yi.addBuffers(n,o),yi.endRecordBatch(n)}function M3(n,t){const e=io.encode(n,t.data);return pa.startDictionaryBatch(n),pa.addId(n,new Xl(t.id,0)),pa.addIsDelta(n,t.isDelta),pa.addData(n,e),pa.endDictionaryBatch(n)}function F3(n,t){return ID.createFieldNode(n,new Xl(t.length,0),new Xl(t.nullCount,0))}function I3(n,t){return FD.createBuffer(n,new Xl(t.offset,0),new Xl(t.length,0))}const L3=(()=>{const n=new ArrayBuffer(2);return new DataView(n).setInt16(0,256,!0),new Int16Array(n)[0]===256})(),oS=n=>`Expected ${Pt[n]} Message in stream, but was null or length 0.`,aS=n=>`Header pointer of flatbuffer-encoded ${Pt[n]} Message is null or length 0.`,GD=(n,t)=>`Expected to read ${n} metadata bytes, but only read ${t}.`,BD=(n,t)=>`Expected to read ${n} bytes for message body, but only read ${t}.`;class VD{constructor(t){this.source=t instanceof Lg?t:new Lg(t)}[Symbol.iterator](){return this}next(){let t;return(t=this.readMetadataLength()).done||t.value===-1&&(t=this.readMetadataLength()).done||(t=this.readMetadata(t.value)).done?Qt:t}throw(t){return this.source.throw(t)}return(t){return this.source.return(t)}readMessage(t){let e;if((e=this.next()).done)return null;if(t!=null&&e.value.headerType!==t)throw new Error(oS(t));return e.value}readMessageBody(t){if(t<=0)return new Uint8Array(0);const e=dt(this.source.read(t));if(e.byteLength<t)throw new Error(BD(t,e.byteLength));return e.byteOffset%8===0&&e.byteOffset+e.byteLength<=e.buffer.byteLength?e:e.slice()}readSchema(t=!1){const e=Pt.Schema,r=this.readMessage(e),i=r==null?void 0:r.header();if(t&&!i)throw new Error(aS(e));return i}readMetadataLength(){const t=this.source.read(im),e=t&&new Gs(t),r=(e==null?void 0:e.readInt32(0))||0;return{done:r===0,value:r}}readMetadata(t){const e=this.source.read(t);if(!e)return Qt;if(e.byteLength<t)throw new Error(GD(t,e.byteLength));return{done:!1,value:Ki.decode(e)}}}class N3{constructor(t,e){this.source=t instanceof Mc?t:sA(t)?new Ng(t,e):new Mc(t)}[Symbol.asyncIterator](){return this}next(){return Ae(this,void 0,void 0,function*(){let t;return(t=yield this.readMetadataLength()).done||t.value===-1&&(t=yield this.readMetadataLength()).done||(t=yield this.readMetadata(t.value)).done?Qt:t})}throw(t){return Ae(this,void 0,void 0,function*(){return yield this.source.throw(t)})}return(t){return Ae(this,void 0,void 0,function*(){return yield this.source.return(t)})}readMessage(t){return Ae(this,void 0,void 0,function*(){let e;if((e=yield this.next()).done)return null;if(t!=null&&e.value.headerType!==t)throw new Error(oS(t));return e.value})}readMessageBody(t){return Ae(this,void 0,void 0,function*(){if(t<=0)return new Uint8Array(0);const e=dt(yield this.source.read(t));if(e.byteLength<t)throw new Error(BD(t,e.byteLength));return e.byteOffset%8===0&&e.byteOffset+e.byteLength<=e.buffer.byteLength?e:e.slice()})}readSchema(t=!1){return Ae(this,void 0,void 0,function*(){const e=Pt.Schema,r=yield this.readMessage(e),i=r==null?void 0:r.header();if(t&&!i)throw new Error(aS(e));return i})}readMetadataLength(){return Ae(this,void 0,void 0,function*(){const t=yield this.source.read(im),e=t&&new Gs(t),r=(e==null?void 0:e.readInt32(0))||0;return{done:r===0,value:r}})}readMetadata(t){return Ae(this,void 0,void 0,function*(){const e=yield this.source.read(t);if(!e)return Qt;if(e.byteLength<t)throw new Error(GD(t,e.byteLength));return{done:!1,value:Ki.decode(e)}})}}class k3 extends VD{constructor(t){super(new Uint8Array(0)),this._schema=!1,this._body=[],this._batchIndex=0,this._dictionaryIndex=0,this._json=t instanceof Zx?t:new Zx(t)}next(){const{_json:t}=this;if(!this._schema){this._schema=!0;const e=Ki.fromJSON(t.schema,Pt.Schema);return{done:!1,value:e}}if(this._dictionaryIndex<t.dictionaries.length){const e=t.dictionaries[this._dictionaryIndex++];this._body=e.data.columns;const r=Ki.fromJSON(e,Pt.DictionaryBatch);return{done:!1,value:r}}if(this._batchIndex<t.batches.length){const e=t.batches[this._batchIndex++];this._body=e.columns;const r=Ki.fromJSON(e,Pt.RecordBatch);return{done:!1,value:r}}return this._body=[],Qt}readMessageBody(t){return e(this._body);function e(r){return(r||[]).reduce((i,o)=>[...i,...o.VALIDITY&&[o.VALIDITY]||[],...o.TYPE&&[o.TYPE]||[],...o.OFFSET&&[o.OFFSET]||[],...o.DATA&&[o.DATA]||[],...e(o.children)],[])}}readMessage(t){let e;if((e=this.next()).done)return null;if(t!=null&&e.value.headerType!==t)throw new Error(oS(t));return e.value}readSchema(){const t=Pt.Schema,e=this.readMessage(t),r=e==null?void 0:e.header();if(!e||!r)throw new Error(aS(t));return r}}const im=4,nw="ARROW1",Vg=new Uint8Array(nw.length);for(let n=0;n<nw.length;n+=1)Vg[n]=nw.codePointAt(n);function sS(n,t=0){for(let e=-1,r=Vg.length;++e<r;)if(Vg[e]!==n[t+e])return!1;return!0}const ad=Vg.length,WD=ad+im,G3=ad*2+im;class _a extends OD{constructor(t){super(),this._impl=t}get closed(){return this._impl.closed}get schema(){return this._impl.schema}get autoDestroy(){return this._impl.autoDestroy}get dictionaries(){return this._impl.dictionaries}get numDictionaries(){return this._impl.numDictionaries}get numRecordBatches(){return this._impl.numRecordBatches}get footer(){return this._impl.isFile()?this._impl.footer:null}isSync(){return this._impl.isSync()}isAsync(){return this._impl.isAsync()}isFile(){return this._impl.isFile()}isStream(){return this._impl.isStream()}next(){return this._impl.next()}throw(t){return this._impl.throw(t)}return(t){return this._impl.return(t)}cancel(){return this._impl.cancel()}reset(t){return this._impl.reset(t),this._DOMStream=void 0,this._nodeStream=void 0,this}open(t){const e=this._impl.open(t);return Mh(e)?e.then(()=>this):this}readRecordBatch(t){return this._impl.isFile()?this._impl.readRecordBatch(t):null}[Symbol.iterator](){return this._impl[Symbol.iterator]()}[Symbol.asyncIterator](){return this._impl[Symbol.asyncIterator]()}toDOMStream(){return mi.toDOMStream(this.isSync()?{[Symbol.iterator]:()=>this}:{[Symbol.asyncIterator]:()=>this})}toNodeStream(){return mi.toNodeStream(this.isSync()?{[Symbol.iterator]:()=>this}:{[Symbol.asyncIterator]:()=>this},{objectMode:!0})}static throughNode(t){throw new Error('"throughNode" not available in this environment')}static throughDOM(t,e){throw new Error('"throughDOM" not available in this environment')}static from(t){return t instanceof _a?t:Xb(t)?H3(t):sA(t)?z3(t):Mh(t)?(()=>Ae(this,void 0,void 0,function*(){return yield _a.from(yield t)}))():lA(t)||H_(t)||cA(t)||W_(t)?U3(new Mc(t)):j3(new Lg(t))}static readAll(t){return t instanceof _a?t.isSync()?aT(t):sT(t):Xb(t)||ArrayBuffer.isView(t)||em(t)||aA(t)?aT(t):sT(t)}}class Wg extends _a{constructor(t){super(t),this._impl=t}readAll(){return[...this]}[Symbol.iterator](){return this._impl[Symbol.iterator]()}[Symbol.asyncIterator](){return ko(this,arguments,function*(){yield tt(yield*Wf(fc(this[Symbol.iterator]())))})}}class Hg extends _a{constructor(t){super(t),this._impl=t}readAll(){var t,e;return Ae(this,void 0,void 0,function*(){const r=new Array;try{for(var i=fc(this),o;o=yield i.next(),!o.done;){const a=o.value;r.push(a)}}catch(a){t={error:a}}finally{try{o&&!o.done&&(e=i.return)&&(yield e.call(i))}finally{if(t)throw t.error}}return r})}[Symbol.iterator](){throw new Error("AsyncRecordBatchStreamReader is not Iterable")}[Symbol.asyncIterator](){return this._impl[Symbol.asyncIterator]()}}class HD extends Wg{constructor(t){super(t),this._impl=t}}class B3 extends Hg{constructor(t){super(t),this._impl=t}}class jD{constructor(t=new Map){this.closed=!1,this.autoDestroy=!0,this._dictionaryIndex=0,this._recordBatchIndex=0,this.dictionaries=t}get numDictionaries(){return this._dictionaryIndex}get numRecordBatches(){return this._recordBatchIndex}isSync(){return!1}isAsync(){return!1}isFile(){return!1}isStream(){return!1}reset(t){return this._dictionaryIndex=0,this._recordBatchIndex=0,this.schema=t,this.dictionaries=new Map,this}_loadRecordBatch(t,e){const r=this._loadVectors(t,e,this.schema.fields),i=it({type:new sn(this.schema.fields),length:t.length,children:r});return new Kr(this.schema,i)}_loadDictionaryBatch(t,e){const{id:r,isDelta:i}=t,{dictionaries:o,schema:a}=this,s=o.get(r);if(i||!s){const l=a.dictionaries.get(r),u=this._loadVectors(t.data,e,[l]);return(s&&i?s.concat(new At(u)):new At(u)).memoize()}return s.memoize()}_loadVectors(t,e,r){return new RD(e,t.nodes,t.buffers,this.dictionaries).visitMany(r)}}class jg extends jD{constructor(t,e){super(e),this._reader=Xb(t)?new k3(this._handle=t):new VD(this._handle=t)}isSync(){return!0}isStream(){return!0}[Symbol.iterator](){return this}cancel(){!this.closed&&(this.closed=!0)&&(this.reset()._reader.return(),this._reader=null,this.dictionaries=null)}open(t){return this.closed||(this.autoDestroy=zD(this,t),this.schema||(this.schema=this._reader.readSchema())||this.cancel()),this}throw(t){return!this.closed&&this.autoDestroy&&(this.closed=!0)?this.reset()._reader.throw(t):Qt}return(t){return!this.closed&&this.autoDestroy&&(this.closed=!0)?this.reset()._reader.return(t):Qt}next(){if(this.closed)return Qt;let t;const{_reader:e}=this;for(;t=this._readNextMessageAndValidate();)if(t.isSchema())this.reset(t.header());else if(t.isRecordBatch()){this._recordBatchIndex++;const r=t.header(),i=e.readMessageBody(t.bodyLength),o=this._loadRecordBatch(r,i);return{done:!1,value:o}}else if(t.isDictionaryBatch()){this._dictionaryIndex++;const r=t.header(),i=e.readMessageBody(t.bodyLength),o=this._loadDictionaryBatch(r,i);this.dictionaries.set(r.id,o)}return this.schema&&this._recordBatchIndex===0?(this._recordBatchIndex++,{done:!1,value:new MD(this.schema)}):this.return()}_readNextMessageAndValidate(t){return this._reader.readMessage(t)}}class Ug extends jD{constructor(t,e){super(e),this._reader=new N3(this._handle=t)}isAsync(){return!0}isStream(){return!0}[Symbol.asyncIterator](){return this}cancel(){return Ae(this,void 0,void 0,function*(){!this.closed&&(this.closed=!0)&&(yield this.reset()._reader.return(),this._reader=null,this.dictionaries=null)})}open(t){return Ae(this,void 0,void 0,function*(){return this.closed||(this.autoDestroy=zD(this,t),this.schema||(this.schema=yield this._reader.readSchema())||(yield this.cancel())),this})}throw(t){return Ae(this,void 0,void 0,function*(){return!this.closed&&this.autoDestroy&&(this.closed=!0)?yield this.reset()._reader.throw(t):Qt})}return(t){return Ae(this,void 0,void 0,function*(){return!this.closed&&this.autoDestroy&&(this.closed=!0)?yield this.reset()._reader.return(t):Qt})}next(){return Ae(this,void 0,void 0,function*(){if(this.closed)return Qt;let t;const{_reader:e}=this;for(;t=yield this._readNextMessageAndValidate();)if(t.isSchema())yield this.reset(t.header());else if(t.isRecordBatch()){this._recordBatchIndex++;const r=t.header(),i=yield e.readMessageBody(t.bodyLength),o=this._loadRecordBatch(r,i);return{done:!1,value:o}}else if(t.isDictionaryBatch()){this._dictionaryIndex++;const r=t.header(),i=yield e.readMessageBody(t.bodyLength),o=this._loadDictionaryBatch(r,i);this.dictionaries.set(r.id,o)}return this.schema&&this._recordBatchIndex===0?(this._recordBatchIndex++,{done:!1,value:new MD(this.schema)}):yield this.return()})}_readNextMessageAndValidate(t){return Ae(this,void 0,void 0,function*(){return yield this._reader.readMessage(t)})}}class UD extends jg{constructor(t,e){super(t instanceof Qx?t:new Qx(t),e)}get footer(){return this._footer}get numDictionaries(){return this._footer?this._footer.numDictionaries:0}get numRecordBatches(){return this._footer?this._footer.numRecordBatches:0}isSync(){return!0}isFile(){return!0}open(t){if(!this.closed&&!this._footer){this.schema=(this._footer=this._readFooter()).schema;for(const e of this._footer.dictionaryBatches())e&&this._readDictionaryBatch(this._dictionaryIndex++)}return super.open(t)}readRecordBatch(t){var e;if(this.closed)return null;this._footer||this.open();const r=(e=this._footer)===null||e===void 0?void 0:e.getRecordBatch(t);if(r&&this._handle.seek(r.offset)){const i=this._reader.readMessage(Pt.RecordBatch);if(i!=null&&i.isRecordBatch()){const o=i.header(),a=this._reader.readMessageBody(i.bodyLength);return this._loadRecordBatch(o,a)}}return null}_readDictionaryBatch(t){var e;const r=(e=this._footer)===null||e===void 0?void 0:e.getDictionaryBatch(t);if(r&&this._handle.seek(r.offset)){const i=this._reader.readMessage(Pt.DictionaryBatch);if(i!=null&&i.isDictionaryBatch()){const o=i.header(),a=this._reader.readMessageBody(i.bodyLength),s=this._loadDictionaryBatch(o,a);this.dictionaries.set(o.id,s)}}}_readFooter(){const{_handle:t}=this,e=t.size-WD,r=t.readInt32(e),i=t.readAt(e-r,r);return eS.decode(i)}_readNextMessageAndValidate(t){var e;if(this._footer||this.open(),this._footer&&this._recordBatchIndex<this.numRecordBatches){const r=(e=this._footer)===null||e===void 0?void 0:e.getRecordBatch(this._recordBatchIndex);if(r&&this._handle.seek(r.offset))return this._reader.readMessage(t)}return null}}class V3 extends Ug{constructor(t,...e){const r=typeof e[0]!="number"?e.shift():void 0,i=e[0]instanceof Map?e.shift():void 0;super(t instanceof Ng?t:new Ng(t,r),i)}get footer(){return this._footer}get numDictionaries(){return this._footer?this._footer.numDictionaries:0}get numRecordBatches(){return this._footer?this._footer.numRecordBatches:0}isFile(){return!0}isAsync(){return!0}open(t){const e=Object.create(null,{open:{get:()=>super.open}});return Ae(this,void 0,void 0,function*(){if(!this.closed&&!this._footer){this.schema=(this._footer=yield this._readFooter()).schema;for(const r of this._footer.dictionaryBatches())r&&(yield this._readDictionaryBatch(this._dictionaryIndex++))}return yield e.open.call(this,t)})}readRecordBatch(t){var e;return Ae(this,void 0,void 0,function*(){if(this.closed)return null;this._footer||(yield this.open());const r=(e=this._footer)===null||e===void 0?void 0:e.getRecordBatch(t);if(r&&(yield this._handle.seek(r.offset))){const i=yield this._reader.readMessage(Pt.RecordBatch);if(i!=null&&i.isRecordBatch()){const o=i.header(),a=yield this._reader.readMessageBody(i.bodyLength);return this._loadRecordBatch(o,a)}}return null})}_readDictionaryBatch(t){var e;return Ae(this,void 0,void 0,function*(){const r=(e=this._footer)===null||e===void 0?void 0:e.getDictionaryBatch(t);if(r&&(yield this._handle.seek(r.offset))){const i=yield this._reader.readMessage(Pt.DictionaryBatch);if(i!=null&&i.isDictionaryBatch()){const o=i.header(),a=yield this._reader.readMessageBody(i.bodyLength),s=this._loadDictionaryBatch(o,a);this.dictionaries.set(o.id,s)}}})}_readFooter(){return Ae(this,void 0,void 0,function*(){const{_handle:t}=this;t._pending&&(yield t._pending);const e=t.size-WD,r=yield t.readInt32(e),i=yield t.readAt(e-r,r);return eS.decode(i)})}_readNextMessageAndValidate(t){return Ae(this,void 0,void 0,function*(){if(this._footer||(yield this.open()),this._footer&&this._recordBatchIndex<this.numRecordBatches){const e=this._footer.getRecordBatch(this._recordBatchIndex);if(e&&(yield this._handle.seek(e.offset)))return yield this._reader.readMessage(t)}return null})}}class W3 extends jg{constructor(t,e){super(t,e)}_loadVectors(t,e,r){return new QB(e,t.nodes,t.buffers,this.dictionaries).visitMany(r)}}function zD(n,t){return t&&typeof t.autoDestroy=="boolean"?t.autoDestroy:n.autoDestroy}function*aT(n){const t=_a.from(n);try{if(!t.open({autoDestroy:!1}).closed)do yield t;while(!t.reset().open().closed)}finally{t.cancel()}}function sT(n){return ko(this,arguments,function*(){const e=yield tt(_a.from(n));try{if(!(yield tt(e.open({autoDestroy:!1}))).closed)do yield yield tt(e);while(!(yield tt(e.reset().open())).closed)}finally{yield tt(e.cancel())}})}function H3(n){return new Wg(new W3(n))}function j3(n){const t=n.peek(ad+7&-8);return t&&t.byteLength>=4?sS(t)?new HD(new UD(n.read())):new Wg(new jg(n)):new Wg(new jg(function*(){}()))}function U3(n){return Ae(this,void 0,void 0,function*(){const t=yield n.peek(ad+7&-8);return t&&t.byteLength>=4?sS(t)?new HD(new UD(yield n.read())):new Hg(new Ug(n)):new Hg(new Ug(function(){return ko(this,arguments,function*(){})}()))})}function z3(n){return Ae(this,void 0,void 0,function*(){const{size:t}=yield n.stat(),e=new Ng(n,t);return t>=G3&&sS(yield e.readAt(0,ad+7&-8))?new B3(new V3(e)):new Hg(new Ug(e))})}function $3(n){const t=_a.from(n);return Mh(t)?(()=>Ae(this,void 0,void 0,function*(){return new wi(yield(yield t).readAll())}))():new wi(t.readAll())}const lT=Xt("div",{borderRadius:"4px",padding:"$1 $2",width:"fit-content",border:"2px solid transparent",variants:{intent:{info:{background:"$gray2",color:"$white"},danger:{background:"#831D1D",color:"$white"},success:{background:"$cardCircleGreen",color:"$white"}}},defaultVariants:{intent:"info"}});var lS={},uS={};/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v27.3.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */function Ts(n){return n==null||n===""?null:n}function Z(n,t){return t===void 0&&(t=!1),n!=null&&(n!==""||t)}function ye(n){return!Z(n)}function Jn(n){return n==null||n.length===0}function cS(n){return n!=null&&typeof n.toString=="function"?n.toString():null}function Ri(n){if(n!==void 0){if(n===null||n==="")return null;if(typeof n=="number")return isNaN(n)?void 0:n;var t=parseInt(n,10);return isNaN(t)?void 0:t}}function ha(n){if(n!==void 0)return n===null||n===""?!1:typeof n=="boolean"?n:/true/i.test(n)}function K3(n){if(!(n==null||n===""))return n}function Y3(n,t){return n==null&&t==null?!0:n==null&&t!=null||n!=null&&t==null?!1:n===t}function X3(n,t){var e=n?JSON.stringify(n):null,r=t?JSON.stringify(t):null;return e===r}function iw(n,t,e){e===void 0&&(e=!1);var r=n==null,i=t==null;if(n&&n.toNumber&&(n=n.toNumber()),t&&t.toNumber&&(t=t.toNumber()),r&&i)return 0;if(r)return-1;if(i)return 1;function o(a,s){return a>s?1:a<s?-1:0}if(typeof n!="string"||!e)return o(n,t);try{return n.localeCompare(t)}catch{return o(n,t)}}function au(n){if(n instanceof Set||n instanceof Map){var t=[];return n.forEach(function(e){return t.push(e)}),t}return Object.values(n)}var q3=Object.freeze(Object.defineProperty({__proto__:null,makeNull:Ts,exists:Z,missing:ye,missingOrEmpty:Jn,toStringOrNull:cS,attrToNumber:Ri,attrToBoolean:ha,attrToString:K3,referenceCompare:Y3,jsonEquals:X3,defaultComparator:iw,values:au},Symbol.toStringTag,{value:"Module"}));/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v27.3.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */var $D=function(){function n(){this.existingKeys={}}return n.prototype.addExistingKeys=function(t){for(var e=0;e<t.length;e++)this.existingKeys[t[e]]=!0},n.prototype.getUniqueKey=function(t,e){t=cS(t);for(var r=0;;){var i=void 0;if(t?(i=t,r!==0&&(i+="_"+r)):e?(i=e,r!==0&&(i+="_"+r)):i=""+r,!this.existingKeys[i])return this.existingKeys[i]=!0,i;r++}},n}();/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v27.3.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */function ut(n,t){n!=null&&(Array.isArray(n)?n.forEach(function(e,r){return t(""+r,e)}):Object.keys(n).forEach(function(e){return t(e,n[e])}))}function pS(n){for(var t={},e=Object.keys(n),r=0;r<e.length;r++){var i=e[r],o=n[i];t[i]=o}return t}function Z3(n){return JSON.parse(JSON.stringify(n))}function zg(n,t){if(!!n){var e=n,r={};return Object.keys(e).forEach(function(i){if(!(t&&t.indexOf(i)>=0)){var o=e[i],a=Ic(o)&&o.constructor===Object;a?r[i]=zg(o):r[i]=o}}),r}}function KD(n,t){return n[t]}function YD(n,t,e){n[t]=e}function Q3(n,t){for(var e=[],r=2;r<arguments.length;r++)e[r-2]=arguments[r];e.forEach(function(i){return XD(n,t,i)})}function XD(n,t,e,r){var i=KD(n,e);i!==void 0&&YD(t,e,r?r(i):i)}function qD(n){var t={};return n.filter(function(e){return e!=null}).forEach(function(e){Object.keys(e).forEach(function(r){return t[r]=null})}),Object.keys(t)}function Zi(n){if(!n)return[];var t=Object;if(typeof t.values=="function")return t.values(n);var e=[];for(var r in n)n.hasOwnProperty(r)&&n.propertyIsEnumerable(r)&&e.push(n[r]);return e}function Pi(n,t,e,r){e===void 0&&(e=!0),r===void 0&&(r=!1),Z(t)&&ut(t,function(i,o){var a=n[i];if(a!==o){if(r){var s=a==null&&o!=null;if(s){var l=typeof o=="object"&&o.constructor===Object,u=l;u&&(a={},n[i]=a)}}Ic(o)&&Ic(a)&&!Array.isArray(a)?Pi(a,o,e,r):(e||o!==void 0)&&(n[i]=o)}})}function J3(n){return ye(n)||Object.keys(n).length===0}function eV(n,t,e){if(n==null)return e;for(var r=t.split("."),i=n;r.length>1;)if(i=i[r.shift()],i==null)return e;var o=i[r[0]];return o!=null?o:e}function tV(n,t,e){if(n!=null){for(var r=t.split("."),i=n;r.length>1;)if(i=i[r.shift()],i==null)return;i[r[0]]=e}}function ZD(n){return Object.freeze(n),au(n).forEach(function(t){(Ic(t)||typeof t=="function")&&ZD(t)}),n}function $g(n,t,e){if(!(!t||!n)){if(!e)return n[t];for(var r=t.split("."),i=n,o=0;o<r.length;o++){if(i==null)return;i=i[r[o]]}return i}}function QD(n,t){Object.keys(n).forEach(function(i){var o=n[i];typeof o=="object"&&(n[i]=void 0)});var e=Object.getPrototypeOf(n),r={};Object.keys(e).forEach(function(i){var o=e[i];if(typeof o=="function"){var a=function(){console.warn("AG Grid: "+t+" function "+i+`() cannot be called as the grid has been destroyed.
                     Please don't call grid API functions on destroyed grids - as a matter of fact you shouldn't
                     be keeping the API reference, your application has a memory leak! Remove the API reference
                     when the grid is destroyed.`)};r[i]={value:a,writable:!0}}}),Object.defineProperties(n,r)}function Ic(n){return typeof n=="object"&&n!==null}var rV=Object.freeze(Object.defineProperty({__proto__:null,iterateObject:ut,cloneObject:pS,deepCloneObject:Z3,deepCloneDefinition:zg,getProperty:KD,setProperty:YD,copyPropertiesIfPresent:Q3,copyPropertyIfPresent:XD,getAllKeysInObjects:qD,getAllValuesInObject:Zi,mergeDeep:Pi,missingOrEmptyObject:J3,get:eV,set:tV,deepFreeze:ZD,getValueUsingField:$g,removeAllReferences:QD,isNonNullObject:Ic},Symbol.toStringTag,{value:"Module"}));/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v27.3.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */var nV=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/mg,iV=/([^\s,]+)/g,uT={};function ct(n,t){uT[t]||(n(),uT[t]=!0)}function om(n){if(n.name)return n.name;var t=/function\s+([^\(]+)/.exec(n.toString());return t&&t.length===2?t[1].trim():null}function oV(n){var t=n.toString().replace(nV,"");return t.slice(t.indexOf("(")+1,t.indexOf(")")).match(iV)||[]}function hS(n){return!!(n&&n.constructor&&n.call&&n.apply)}function JD(n){eM(n,400)}var Cy=[],by=!1;function ow(n){Cy.push(n),!by&&(by=!0,window.setTimeout(function(){var t=Cy.slice();Cy.length=0,by=!1,t.forEach(function(e){return e()})},0))}function eM(n,t){t===void 0&&(t=0),n.length>0&&window.setTimeout(function(){return n.forEach(function(e){return e()})},t)}function Ma(n,t,e){e===void 0&&(e=!1);var r;return function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];var a=this,s=e&&!r;window.clearTimeout(r),r=window.setTimeout(function(){r=null,e||n.apply(a,i)},t),s&&n.apply(a,i)}}function aw(n,t){var e=0;return function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];var o=this,a=new Date().getTime();a-e<t||(e=a,n.apply(o,r))}}function tM(n,t,e,r){e===void 0&&(e=100);var i=new Date().getTime(),o=null,a=!1,s=function(){var l=new Date().getTime()-i>e;(n()||l)&&(t(),a=!0,o!=null&&(window.clearInterval(o),o=null),l&&r&&console.warn(r))};s(),a||(o=window.setInterval(s,10))}function aV(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];return function(e){return n.reduce(function(r,i){return i(r)},e)}}function rM(n){n&&n()}var sV=Object.freeze(Object.defineProperty({__proto__:null,doOnce:ct,getFunctionName:om,getFunctionParameters:oV,isFunction:hS,executeInAWhile:JD,executeNextVMTurn:ow,executeAfter:eM,debounce:Ma,throttle:aw,waitUntil:tM,compose:aV,callIfPresent:rM},Symbol.toStringTag,{value:"Module"}));/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v27.3.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */var nM=function(){function n(t,e){if(this.beanWrappers={},this.destroyed=!1,!(!t||!t.beanClasses)){this.contextParams=t,this.logger=e,this.logger.log(">> creating ag-Application Context"),this.createBeans();var r=this.getBeanInstances();this.wireBeans(r),this.logger.log(">> ag-Application Context ready - component is alive")}}return n.prototype.getBeanInstances=function(){return au(this.beanWrappers).map(function(t){return t.beanInstance})},n.prototype.createBean=function(t,e){if(!t)throw Error("Can't wire to bean since it is null");return this.wireBeans([t],e),t},n.prototype.wireBeans=function(t,e){this.autoWireBeans(t),this.methodWireBeans(t),this.callLifeCycleMethods(t,"preConstructMethods"),Z(e)&&t.forEach(e),this.callLifeCycleMethods(t,"postConstructMethods")},n.prototype.createBeans=function(){var t=this;this.contextParams.beanClasses.forEach(this.createBeanWrapper.bind(this)),ut(this.beanWrappers,function(r,i){var o;i.bean.__agBeanMetaData&&i.bean.__agBeanMetaData.autowireMethods&&i.bean.__agBeanMetaData.autowireMethods.agConstructor&&(o=i.bean.__agBeanMetaData.autowireMethods.agConstructor);var a=t.getBeansForParameters(o,i.bean.name),s=lV(i.bean,a);i.beanInstance=s});var e=Object.keys(this.beanWrappers).join(", ");this.logger.log("created beans: "+e)},n.prototype.createBeanWrapper=function(t){var e=t.__agBeanMetaData;if(!e){var r=void 0;t.prototype.constructor?r=om(t.prototype.constructor):r=""+t,console.error("Context item "+r+" is not a bean");return}var i={bean:t,beanInstance:null,beanName:e.beanName};this.beanWrappers[e.beanName]=i},n.prototype.autoWireBeans=function(t){var e=this;t.forEach(function(r){e.forEachMetaDataInHierarchy(r,function(i,o){var a=i.agClassAttributes;!a||a.forEach(function(s){var l=e.lookupBeanInstance(o,s.beanName,s.optional);r[s.attributeName]=l})})})},n.prototype.methodWireBeans=function(t){var e=this;t.forEach(function(r){e.forEachMetaDataInHierarchy(r,function(i,o){ut(i.autowireMethods,function(a,s){if(a!=="agConstructor"){var l=e.getBeansForParameters(s,o);r[a].apply(r,l)}})})})},n.prototype.forEachMetaDataInHierarchy=function(t,e){for(var r=Object.getPrototypeOf(t);r!=null;){var i=r.constructor;if(i.hasOwnProperty("__agBeanMetaData")){var o=i.__agBeanMetaData,a=this.getBeanName(i);e(o,a)}r=Object.getPrototypeOf(r)}},n.prototype.getBeanName=function(t){if(t.__agBeanMetaData&&t.__agBeanMetaData.beanName)return t.__agBeanMetaData.beanName;var e=t.toString(),r=e.substring(9,e.indexOf("("));return r},n.prototype.getBeansForParameters=function(t,e){var r=this,i=[];return t&&ut(t,function(o,a){var s=r.lookupBeanInstance(e,a);i[Number(o)]=s}),i},n.prototype.lookupBeanInstance=function(t,e,r){if(r===void 0&&(r=!1),e==="context")return this;if(this.contextParams.providedBeanInstances&&this.contextParams.providedBeanInstances.hasOwnProperty(e))return this.contextParams.providedBeanInstances[e];var i=this.beanWrappers[e];return i?i.beanInstance:(r||console.error("AG Grid: unable to find bean reference "+e+" while initialising "+t),null)},n.prototype.callLifeCycleMethods=function(t,e){var r=this;t.forEach(function(i){return r.callLifeCycleMethodsOnBean(i,e)})},n.prototype.callLifeCycleMethodsOnBean=function(t,e,r){var i={};this.forEachMetaDataInHierarchy(t,function(a){var s=a[e];s&&s.forEach(function(l){l!=r&&(i[l]=!0)})});var o=Object.keys(i);o.forEach(function(a){return t[a]()})},n.prototype.getBean=function(t){return this.lookupBeanInstance("getBean",t,!0)},n.prototype.destroy=function(){if(!this.destroyed){this.logger.log(">> Shutting down ag-Application Context");var t=this.getBeanInstances();this.destroyBeans(t),this.contextParams.providedBeanInstances=null,this.destroyed=!0,this.logger.log(">> ag-Application Context shut down - component is dead")}},n.prototype.destroyBean=function(t){!t||this.destroyBeans([t])},n.prototype.destroyBeans=function(t){var e=this;return t?(t.forEach(function(r){e.callLifeCycleMethodsOnBean(r,"preDestroyMethods","destroy");var i=r;typeof i.destroy=="function"&&i.destroy()}),[]):[]},n}();function lV(n,t){var e=[null].concat(t),r=n.bind.apply(n,e);return new r}function ql(n,t,e){var r=Zl(n.constructor);r.preConstructMethods||(r.preConstructMethods=[]),r.preConstructMethods.push(t)}function H(n,t,e){var r=Zl(n.constructor);r.postConstructMethods||(r.postConstructMethods=[]),r.postConstructMethods.push(t)}function _t(n,t,e){var r=Zl(n.constructor);r.preDestroyMethods||(r.preDestroyMethods=[]),r.preDestroyMethods.push(t)}function J(n){return function(t){var e=Zl(t);e.beanName=n}}function y(n){return function(t,e,r){iM(t,n,!1,t,e,null)}}function Fe(n){return function(t,e,r){iM(t,n,!0,t,e,null)}}function iM(n,t,e,r,i,o){if(t===null){console.error("AG Grid: Autowired name should not be null");return}if(typeof o=="number"){console.error("AG Grid: Autowired should be on an attribute");return}var a=Zl(n.constructor);a.agClassAttributes||(a.agClassAttributes=[]),a.agClassAttributes.push({attributeName:i,beanName:t,optional:e})}function xr(n){return function(t,e,r){var i=typeof t=="function"?t:t.constructor,o;if(typeof r=="number"){var a=void 0;e?(o=Zl(i),a=e):(o=Zl(i),a="agConstructor"),o.autowireMethods||(o.autowireMethods={}),o.autowireMethods[a]||(o.autowireMethods[a]={}),o.autowireMethods[a][r]=n}}}function Zl(n){return n.hasOwnProperty("__agBeanMetaData")||(n.__agBeanMetaData={}),n.__agBeanMetaData}/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v27.3.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */var cT=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Ld=globalThis&&globalThis.__param||function(n,t){return function(e,r){t(e,r,n)}},so=function(){function n(){this.allSyncListeners=new Map,this.allAsyncListeners=new Map,this.globalSyncListeners=new Set,this.globalAsyncListeners=new Set,this.asyncFunctionsQueue=[],this.scheduled=!1,this.firedEvents={}}return n.prototype.setBeans=function(t,e,r,i){if(i===void 0&&(i=null),this.frameworkOverrides=r,i){var o=e.useAsyncEvents();this.addGlobalListener(i,o)}},n.prototype.getListeners=function(t,e,r){var i=e?this.allAsyncListeners:this.allSyncListeners,o=i.get(t);return!o&&r&&(o=new Set,i.set(t,o)),o},n.prototype.noRegisteredListenersExist=function(){return this.allSyncListeners.size===0&&this.allAsyncListeners.size===0&&this.globalSyncListeners.size===0&&this.globalAsyncListeners.size===0},n.prototype.addEventListener=function(t,e,r){r===void 0&&(r=!1),this.getListeners(t,r,!0).add(e)},n.prototype.removeEventListener=function(t,e,r){r===void 0&&(r=!1);var i=this.getListeners(t,r,!1);if(!!i&&(i.delete(e),i.size===0)){var o=r?this.allAsyncListeners:this.allSyncListeners;o.delete(t)}},n.prototype.addGlobalListener=function(t,e){e===void 0&&(e=!1),(e?this.globalAsyncListeners:this.globalSyncListeners).add(t)},n.prototype.removeGlobalListener=function(t,e){e===void 0&&(e=!1),(e?this.globalAsyncListeners:this.globalSyncListeners).delete(t)},n.prototype.dispatchEvent=function(t){this.dispatchToListeners(t,!0),this.dispatchToListeners(t,!1),this.firedEvents[t.type]=!0},n.prototype.dispatchEventOnce=function(t){this.firedEvents[t.type]||this.dispatchEvent(t)},n.prototype.dispatchToListeners=function(t,e){var r=this,i=t.type,o=function(l){return l.forEach(function(u){e?r.dispatchAsync(function(){return u(t)}):u(t)})},a=this.getListeners(i,e,!1);a&&o(a);var s=e?this.globalAsyncListeners:this.globalSyncListeners;s.forEach(function(l){e?r.dispatchAsync(function(){return r.frameworkOverrides.dispatchEvent(i,function(){return l(i,t)},!0)}):r.frameworkOverrides.dispatchEvent(i,function(){return l(i,t)},!0)})},n.prototype.dispatchAsync=function(t){this.asyncFunctionsQueue.push(t),this.scheduled||(window.setTimeout(this.flushAsyncQueue.bind(this),0),this.scheduled=!0)},n.prototype.flushAsyncQueue=function(){this.scheduled=!1;var t=this.asyncFunctionsQueue.slice();this.asyncFunctionsQueue=[],t.forEach(function(e){return e()})},cT([Ld(0,xr("loggerFactory")),Ld(1,xr("gridOptionsWrapper")),Ld(2,xr("frameworkOverrides")),Ld(3,xr("globalEventListener"))],n.prototype,"setBeans",null),n=cT([J("eventService")],n),n}();/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v27.3.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */var L=function(){function n(){}return n.ROW_BUFFER_SIZE=10,n.LAYOUT_INTERVAL=500,n.BATCH_WAIT_MILLIS=50,n.EXPORT_TYPE_DRAG_COPY="dragCopy",n.EXPORT_TYPE_CLIPBOARD="clipboard",n.EXPORT_TYPE_EXCEL="excel",n.EXPORT_TYPE_CSV="csv",n.ROW_MODEL_TYPE_INFINITE="infinite",n.ROW_MODEL_TYPE_VIEWPORT="viewport",n.ROW_MODEL_TYPE_CLIENT_SIDE="clientSide",n.ROW_MODEL_TYPE_SERVER_SIDE="serverSide",n.ALWAYS="always",n.ONLY_WHEN_GROUPING="onlyWhenGrouping",n.PINNED_TOP="top",n.PINNED_BOTTOM="bottom",n.DOM_LAYOUT_NORMAL="normal",n.DOM_LAYOUT_PRINT="print",n.DOM_LAYOUT_AUTO_HEIGHT="autoHeight",n.GROUP_AUTO_COLUMN_ID="ag-Grid-AutoColumn",n.SOURCE_PASTE="paste",n.PINNED_RIGHT="right",n.PINNED_LEFT="left",n.SORT_ASC="asc",n.SORT_DESC="desc",n.INPUT_SELECTOR="input, select, button, textarea",n.FOCUSABLE_SELECTOR="[tabindex], input, select, button, textarea",n.FOCUSABLE_EXCLUDE=".ag-hidden, .ag-hidden *, [disabled], .ag-disabled, .ag-disabled *",n}();/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v27.3.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */var ae;(function(n){n.CommunityCoreModule="@ag-grid-community/core",n.CommunityAllModules="@ag-grid-community/all",n.InfiniteRowModelModule="@ag-grid-community/infinite-row-model",n.ClientSideRowModelModule="@ag-grid-community/client-side-row-model",n.CsvExportModule="@ag-grid-community/csv-export",n.EnterpriseCoreModule="@ag-grid-enterprise/core",n.EnterpriseAllModules="@ag-grid-enterprise/all",n.RowGroupingModule="@ag-grid-enterprise/row-grouping",n.ColumnToolPanelModule="@ag-grid-enterprise/column-tool-panel",n.FiltersToolPanelModule="@ag-grid-enterprise/filter-tool-panel",n.MenuModule="@ag-grid-enterprise/menu",n.SetFilterModule="@ag-grid-enterprise/set-filter",n.MultiFilterModule="@ag-grid-enterprise/multi-filter",n.StatusBarModule="@ag-grid-enterprise/status-bar",n.SideBarModule="@ag-grid-enterprise/side-bar",n.RangeSelectionModule="@ag-grid-enterprise/range-selection",n.MasterDetailModule="@ag-grid-enterprise/master-detail",n.RichSelectModule="@ag-grid-enterprise/rich-select",n.GridChartsModule="@ag-grid-enterprise/charts",n.ViewportRowModelModule="@ag-grid-enterprise/viewport-row-model",n.ServerSideRowModelModule="@ag-grid-enterprise/server-side-row-model",n.ExcelExportModule="@ag-grid-enterprise/excel-export",n.ClipboardModule="@ag-grid-enterprise/clipboard",n.SparklinesModule="@ag-grid-enterprise/sparklines",n.AngularModule="@ag-grid-community/angular",n.ReactModule="@ag-grid-community/react",n.VueModule="@ag-grid-community/vue",n.PolymerModule="@ag-grid-community/polymer"})(ae||(ae={}));/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v27.3.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */var ve=function(){function n(){}return n.register=function(t,e){e===void 0&&(e=!0),n.modulesMap[t.moduleName]=t,n.moduleBased===void 0?n.moduleBased=e:n.moduleBased!==e&&ct(function(){console.warn("AG Grid: You are mixing modules (i.e. @ag-grid-community/core) and packages (ag-grid-community) - you can only use one or the other of these mechanisms."),console.warn("Please see https://www.ag-grid.com/javascript-grid/packages-modules/ for more information.")},"ModulePackageCheck")},n.registerModules=function(t,e){e===void 0&&(e=!0),t&&t.forEach(function(r){return n.register(r,e)})},n.assertRegistered=function(t,e){if(this.isRegistered(t))return!0;var r=e+t,i;return n.moduleBased?i="AG Grid: unable to use "+e+" as module "+t+" is not present. Please see: https://www.ag-grid.com/javascript-grid/modules/":i="AG Grid: unable to use "+e+" as package 'ag-grid-enterprise' is not present. Please see: https://www.ag-grid.com/javascript-grid/packages/",ct(function(){console.warn(i)},r),!1},n.isRegistered=function(t){return!!n.modulesMap[t]},n.getRegisteredModules=function(){return au(n.modulesMap)},n.isPackageBased=function(){return!n.moduleBased},n.modulesMap={},n}();/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v27.3.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */var bu=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},uV=0,Se=function(){function n(t,e,r,i){this.instanceId=uV++,this.moving=!1,this.menuVisible=!1,this.filterActive=!1,this.eventService=new so,this.rowGroupActive=!1,this.pivotActive=!1,this.aggregationActive=!1,this.colDef=t,this.userProvidedColDef=e,this.colId=r,this.primary=i,this.setState(t)}return n.prototype.getInstanceId=function(){return this.instanceId},n.prototype.setState=function(t){t.sort!==void 0?(t.sort===L.SORT_ASC||t.sort===L.SORT_DESC)&&(this.sort=t.sort):(t.initialSort===L.SORT_ASC||t.initialSort===L.SORT_DESC)&&(this.sort=t.initialSort);var e=Ri(t.sortIndex),r=Ri(t.initialSortIndex);e!==void 0?e!==null&&(this.sortIndex=e):r!==null&&(this.sortIndex=r);var i=ha(t.hide),o=ha(t.initialHide);i!==void 0?this.visible=!i:this.visible=!o,t.pinned!==void 0?this.setPinned(t.pinned):this.setPinned(t.initialPinned);var a=Ri(t.flex),s=Ri(t.initialFlex);a!==void 0?this.flex=a:s!==void 0&&(this.flex=s)},n.prototype.setColDef=function(t,e){this.colDef=t,this.userProvidedColDef=e,this.initMinAndMaxWidths(),this.initDotNotation()},n.prototype.getUserProvidedColDef=function(){return this.userProvidedColDef},n.prototype.setParent=function(t){this.parent=t},n.prototype.getParent=function(){return this.parent},n.prototype.setOriginalParent=function(t){this.originalParent=t},n.prototype.getOriginalParent=function(){return this.originalParent},n.prototype.initialise=function(){this.initMinAndMaxWidths(),this.resetActualWidth("gridInitializing"),this.initDotNotation(),this.validate()},n.prototype.initDotNotation=function(){var t=this.gridOptionsWrapper.isSuppressFieldDotNotation();this.fieldContainsDots=Z(this.colDef.field)&&this.colDef.field.indexOf(".")>=0&&!t,this.tooltipFieldContainsDots=Z(this.colDef.tooltipField)&&this.colDef.tooltipField.indexOf(".")>=0&&!t},n.prototype.initMinAndMaxWidths=function(){var t=this.colDef;this.minWidth=this.columnUtils.calculateColMinWidth(t),this.maxWidth=this.columnUtils.calculateColMaxWidth(t)},n.prototype.resetActualWidth=function(t){t===void 0&&(t="api");var e=this.columnUtils.calculateColInitialWidth(this.colDef);this.setActualWidth(e,t,!0)},n.prototype.isEmptyGroup=function(){return!1},n.prototype.isRowGroupDisplayed=function(t){if(ye(this.colDef)||ye(this.colDef.showRowGroup))return!1;var e=this.colDef.showRowGroup===!0,r=this.colDef.showRowGroup===t;return e||r},n.prototype.isPrimary=function(){return this.primary},n.prototype.isFilterAllowed=function(){var t=!!this.colDef.filter||!!this.colDef.filterFramework;return t},n.prototype.isFieldContainsDots=function(){return this.fieldContainsDots},n.prototype.isTooltipFieldContainsDots=function(){return this.tooltipFieldContainsDots},n.prototype.validate=function(){var t=this.colDef;function e(a,s,l){ct(function(){l?console.warn(a,l):ct(function(){return console.warn(a)},s)},s)}var r=this.gridOptionsWrapper.isRowModelDefault();if(r&&!ve.isRegistered(ae.RowGroupingModule)){var i=["enableRowGroup","rowGroup","rowGroupIndex","enablePivot","enableValue","pivot","pivotIndex","aggFunc"];i.forEach(function(a){Z(t[a])&&(ve.isPackageBased()?e("AG Grid: "+a+" is only valid in ag-grid-enterprise, your column definition should not have "+a,"ColumnRowGroupingMissing"+a):e("AG Grid: "+a+" is only valid with AG Grid Enterprise Module "+ae.RowGroupingModule+" - your column definition should not have "+a,"ColumnRowGroupingMissing"+a))})}if(ve.isRegistered(ae.RichSelectModule)||this.colDef.cellEditor==="agRichSelect"&&(ve.isPackageBased()?e("AG Grid: "+this.colDef.cellEditor+" can only be used with ag-grid-enterprise","ColumnRichSelectMissing"):e("AG Grid: "+this.colDef.cellEditor+" can only be used with AG Grid Enterprise Module "+ae.RichSelectModule,"ColumnRichSelectMissing")),this.gridOptionsWrapper.isTreeData()){var o=["rowGroup","rowGroupIndex","pivot","pivotIndex"];o.forEach(function(a){Z(t[a])&&e("AG Grid: "+a+" is not possible when doing tree data, your column definition should not have "+a,"TreeDataCannotRowGroup")})}Z(this.colDef.width)&&typeof this.colDef.width!="number"&&e("AG Grid: colDef.width should be a number, not "+typeof this.colDef.width,"ColumnCheck_asdfawef"),t.pinnedRowCellRenderer&&e("AG Grid: pinnedRowCellRenderer no longer exists, use cellRendererSelector if you want a different Cell Renderer for pinned rows. Check params.node.rowPinned. This was an unfortunate (but necessary) change we had to do to allow future plans we have of re-skinng the data grid in frameworks such as React, Angular and Vue. See https://www.ag-grid.com/javascript-grid/cell-rendering/#many-renderers-one-column","colDef.pinnedRowCellRenderer-deprecated"),t.pinnedRowCellRendererParams&&e("AG Grid: pinnedRowCellRenderer no longer exists, use cellRendererSelector if you want a different Cell Renderer for pinned rows. Check params.node.rowPinned. This was an unfortunate (but necessary) change we had to do to allow future plans we have of re-skinng the data grid in frameworks such as React, Angular and Vue. See https://www.ag-grid.com/javascript-grid/cell-rendering/#many-renderers-one-column","colDef.pinnedRowCellRenderer-deprecated"),t.pinnedRowCellRendererFramework&&e("AG Grid: pinnedRowCellRenderer no longer exists, use cellRendererSelector if you want a different Cell Renderer for pinned rows. Check params.node.rowPinned. This was an unfortunate (but necessary) change we had to do to allow future plans we have of re-skinng the data grid in frameworks such as React, Angular and Vue. See https://www.ag-grid.com/javascript-grid/cell-rendering/#many-renderers-one-column","colDef.pinnedRowCellRenderer-deprecated"),t.pinnedRowValueGetter&&e("AG Grid: pinnedRowCellRenderer is deprecated, use cellRendererSelector if you want a different Cell Renderer for pinned rows. Check params.node.rowPinned. This was an unfortunate (but necessary) change we had to do to allow future plans we have of re-skinng the data grid in frameworks such as React, Angular and Vue.","colDef.pinnedRowCellRenderer-deprecated")},n.prototype.addEventListener=function(t,e){this.eventService.addEventListener(t,e)},n.prototype.removeEventListener=function(t,e){this.eventService.removeEventListener(t,e)},n.prototype.createColumnFunctionCallbackParams=function(t){return{node:t,data:t.data,column:this,colDef:this.colDef,context:this.gridOptionsWrapper.getContext(),api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi()}},n.prototype.isSuppressNavigable=function(t){if(typeof this.colDef.suppressNavigable=="boolean")return this.colDef.suppressNavigable;if(typeof this.colDef.suppressNavigable=="function"){var e=this.createColumnFunctionCallbackParams(t),r=this.colDef.suppressNavigable;return r(e)}return!1},n.prototype.isCellEditable=function(t){return t.group&&!this.gridOptionsWrapper.isEnableGroupEdit()?!1:this.isColumnFunc(t,this.colDef.editable)},n.prototype.isSuppressFillHandle=function(){return!!ha(this.colDef.suppressFillHandle)},n.prototype.isAutoHeight=function(){return!!ha(this.colDef.autoHeight)},n.prototype.isRowDrag=function(t){return this.isColumnFunc(t,this.colDef.rowDrag)},n.prototype.isDndSource=function(t){return this.isColumnFunc(t,this.colDef.dndSource)},n.prototype.isCellCheckboxSelection=function(t){return this.isColumnFunc(t,this.colDef.checkboxSelection)},n.prototype.isSuppressPaste=function(t){return this.isColumnFunc(t,this.colDef?this.colDef.suppressPaste:null)},n.prototype.isResizable=function(){return!!ha(this.colDef.resizable)},n.prototype.isColumnFunc=function(t,e){if(typeof e=="boolean")return e;if(typeof e=="function"){var r=this.createColumnFunctionCallbackParams(t),i=e;return i(r)}return!1},n.prototype.setMoving=function(t,e){e===void 0&&(e="api"),this.moving=t,this.eventService.dispatchEvent(this.createColumnEvent(n.EVENT_MOVING_CHANGED,e))},n.prototype.createColumnEvent=function(t,e){return{api:this.gridApi,columnApi:this.columnApi,type:t,column:this,columns:[this],source:e}},n.prototype.isMoving=function(){return this.moving},n.prototype.getSort=function(){return this.sort},n.prototype.setSort=function(t,e){e===void 0&&(e="api"),this.sort!==t&&(this.sort=t,this.eventService.dispatchEvent(this.createColumnEvent(n.EVENT_SORT_CHANGED,e)))},n.prototype.setMenuVisible=function(t,e){e===void 0&&(e="api"),this.menuVisible!==t&&(this.menuVisible=t,this.eventService.dispatchEvent(this.createColumnEvent(n.EVENT_MENU_VISIBLE_CHANGED,e)))},n.prototype.isMenuVisible=function(){return this.menuVisible},n.prototype.isSortAscending=function(){return this.sort===L.SORT_ASC},n.prototype.isSortDescending=function(){return this.sort===L.SORT_DESC},n.prototype.isSortNone=function(){return ye(this.sort)},n.prototype.isSorting=function(){return Z(this.sort)},n.prototype.getSortIndex=function(){return this.sortIndex},n.prototype.setSortIndex=function(t){this.sortIndex=t},n.prototype.setAggFunc=function(t){this.aggFunc=t},n.prototype.getAggFunc=function(){return this.aggFunc},n.prototype.getLeft=function(){return this.left},n.prototype.getOldLeft=function(){return this.oldLeft},n.prototype.getRight=function(){return this.left+this.actualWidth},n.prototype.setLeft=function(t,e){e===void 0&&(e="api"),this.oldLeft=this.left,this.left!==t&&(this.left=t,this.eventService.dispatchEvent(this.createColumnEvent(n.EVENT_LEFT_CHANGED,e)))},n.prototype.isFilterActive=function(){return this.filterActive},n.prototype.setFilterActive=function(t,e,r){e===void 0&&(e="api"),this.filterActive!==t&&(this.filterActive=t,this.eventService.dispatchEvent(this.createColumnEvent(n.EVENT_FILTER_ACTIVE_CHANGED,e)));var i=this.createColumnEvent(n.EVENT_FILTER_CHANGED,e);r&&Pi(i,r),this.eventService.dispatchEvent(i)},n.prototype.setPinned=function(t){t===!0||t===L.PINNED_LEFT?this.pinned=L.PINNED_LEFT:t===L.PINNED_RIGHT?this.pinned=L.PINNED_RIGHT:this.pinned=null},n.prototype.setFirstRightPinned=function(t,e){e===void 0&&(e="api"),this.firstRightPinned!==t&&(this.firstRightPinned=t,this.eventService.dispatchEvent(this.createColumnEvent(n.EVENT_FIRST_RIGHT_PINNED_CHANGED,e)))},n.prototype.setLastLeftPinned=function(t,e){e===void 0&&(e="api"),this.lastLeftPinned!==t&&(this.lastLeftPinned=t,this.eventService.dispatchEvent(this.createColumnEvent(n.EVENT_LAST_LEFT_PINNED_CHANGED,e)))},n.prototype.isFirstRightPinned=function(){return this.firstRightPinned},n.prototype.isLastLeftPinned=function(){return this.lastLeftPinned},n.prototype.isPinned=function(){return this.pinned===L.PINNED_LEFT||this.pinned===L.PINNED_RIGHT},n.prototype.isPinnedLeft=function(){return this.pinned===L.PINNED_LEFT},n.prototype.isPinnedRight=function(){return this.pinned===L.PINNED_RIGHT},n.prototype.getPinned=function(){return this.pinned},n.prototype.setVisible=function(t,e){e===void 0&&(e="api");var r=t===!0;this.visible!==r&&(this.visible=r,this.eventService.dispatchEvent(this.createColumnEvent(n.EVENT_VISIBLE_CHANGED,e)))},n.prototype.isVisible=function(){return this.visible},n.prototype.getColDef=function(){return this.colDef},n.prototype.getColumnGroupShow=function(){return this.colDef.columnGroupShow},n.prototype.getColId=function(){return this.colId},n.prototype.getId=function(){return this.getColId()},n.prototype.getUniqueId=function(){return this.getId()},n.prototype.getDefinition=function(){return this.colDef},n.prototype.getActualWidth=function(){return this.actualWidth},n.prototype.createBaseColDefParams=function(t){var e={node:t,data:t.data,colDef:this.colDef,column:this,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()};return e},n.prototype.getColSpan=function(t){if(ye(this.colDef.colSpan))return 1;var e=this.createBaseColDefParams(t),r=this.colDef.colSpan(e);return Math.max(r,1)},n.prototype.getRowSpan=function(t){if(ye(this.colDef.rowSpan))return 1;var e=this.createBaseColDefParams(t),r=this.colDef.rowSpan(e);return Math.max(r,1)},n.prototype.setActualWidth=function(t,e,r){e===void 0&&(e="api"),r===void 0&&(r=!1),this.minWidth!=null&&(t=Math.max(t,this.minWidth)),this.maxWidth!=null&&(t=Math.min(t,this.maxWidth)),this.actualWidth!==t&&(this.actualWidth=t,this.flex&&e!=="flex"&&e!=="gridInitializing"&&(this.flex=null),r||this.fireColumnWidthChangedEvent(e))},n.prototype.fireColumnWidthChangedEvent=function(t){this.eventService.dispatchEvent(this.createColumnEvent(n.EVENT_WIDTH_CHANGED,t))},n.prototype.isGreaterThanMax=function(t){return this.maxWidth!=null?t>this.maxWidth:!1},n.prototype.getMinWidth=function(){return this.minWidth},n.prototype.getMaxWidth=function(){return this.maxWidth},n.prototype.getFlex=function(){return this.flex||0},n.prototype.setFlex=function(t){this.flex!==t&&(this.flex=t)},n.prototype.setMinimum=function(t){t===void 0&&(t="api"),Z(this.minWidth)&&this.setActualWidth(this.minWidth,t)},n.prototype.setRowGroupActive=function(t,e){e===void 0&&(e="api"),this.rowGroupActive!==t&&(this.rowGroupActive=t,this.eventService.dispatchEvent(this.createColumnEvent(n.EVENT_ROW_GROUP_CHANGED,e)))},n.prototype.isRowGroupActive=function(){return this.rowGroupActive},n.prototype.setPivotActive=function(t,e){e===void 0&&(e="api"),this.pivotActive!==t&&(this.pivotActive=t,this.eventService.dispatchEvent(this.createColumnEvent(n.EVENT_PIVOT_CHANGED,e)))},n.prototype.isPivotActive=function(){return this.pivotActive},n.prototype.isAnyFunctionActive=function(){return this.isPivotActive()||this.isRowGroupActive()||this.isValueActive()},n.prototype.isAnyFunctionAllowed=function(){return this.isAllowPivot()||this.isAllowRowGroup()||this.isAllowValue()},n.prototype.setValueActive=function(t,e){e===void 0&&(e="api"),this.aggregationActive!==t&&(this.aggregationActive=t,this.eventService.dispatchEvent(this.createColumnEvent(n.EVENT_VALUE_CHANGED,e)))},n.prototype.isValueActive=function(){return this.aggregationActive},n.prototype.isAllowPivot=function(){return this.colDef.enablePivot===!0},n.prototype.isAllowValue=function(){return this.colDef.enableValue===!0},n.prototype.isAllowRowGroup=function(){return this.colDef.enableRowGroup===!0},n.prototype.getMenuTabs=function(t){var e=this.getColDef().menuTabs;return e==null&&(e=t),e},n.prototype.isLockPosition=function(){return console.warn("AG Grid: since v21, col.isLockPosition() should not be used, please use col.getColDef().lockPosition instead."),this.colDef?!!this.colDef.lockPosition:!1},n.prototype.isLockVisible=function(){return console.warn("AG Grid: since v21, col.isLockVisible() should not be used, please use col.getColDef().lockVisible instead."),this.colDef?!!this.colDef.lockVisible:!1},n.prototype.isLockPinned=function(){return console.warn("AG Grid: since v21, col.isLockPinned() should not be used, please use col.getColDef().lockPinned instead."),this.colDef?!!this.colDef.lockPinned:!1},n.EVENT_MOVING_CHANGED="movingChanged",n.EVENT_LEFT_CHANGED="leftChanged",n.EVENT_WIDTH_CHANGED="widthChanged",n.EVENT_LAST_LEFT_PINNED_CHANGED="lastLeftPinnedChanged",n.EVENT_FIRST_RIGHT_PINNED_CHANGED="firstRightPinnedChanged",n.EVENT_VISIBLE_CHANGED="visibleChanged",n.EVENT_FILTER_CHANGED="filterChanged",n.EVENT_FILTER_ACTIVE_CHANGED="filterActiveChanged",n.EVENT_SORT_CHANGED="sortChanged",n.EVENT_MENU_VISIBLE_CHANGED="menuVisibleChanged",n.EVENT_ROW_GROUP_CHANGED="columnRowGroupChanged",n.EVENT_PIVOT_CHANGED="columnPivotChanged",n.EVENT_VALUE_CHANGED="columnValueChanged",bu([y("gridOptionsWrapper")],n.prototype,"gridOptionsWrapper",void 0),bu([y("columnUtils")],n.prototype,"columnUtils",void 0),bu([y("columnApi")],n.prototype,"columnApi",void 0),bu([y("gridApi")],n.prototype,"gridApi",void 0),bu([y("context")],n.prototype,"context",void 0),bu([H],n.prototype,"initialise",null),n}();/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v27.3.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */function oM(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];for(var e=0;e<n.length;e++){var r=n[e];if(Z(r))return r}return null}function cV(n){return n!=null&&n.length>0}function wt(n){if(!(!n||!n.length))return n[n.length-1]}function Hl(n,t,e){return n==null&&t==null?!0:n!=null&&t!=null&&n.length===t.length&&n.every(function(r,i){return e?e(r,t[i]):t[i]===r})}function pV(n,t){return Hl(n,t)}function hV(n,t){return Hl(n,t)}function aM(n){return n.sort(function(t,e){return t-e})}function dV(n,t){if(!!n)for(var e=n.length-2;e>=0;e--){var r=n[e]===t,i=n[e+1]===t;r&&i&&n.splice(e+1,1)}}function $r(n,t){var e=n.indexOf(t);e>=0&&n.splice(e,1)}function dS(n,t){t.forEach(function(e){return $r(n,e)})}function Gh(n,t,e){n.splice(e,0,t)}function fV(n,t,e){if(!(n==null||t==null))for(var r=t.length-1;r>=0;r--){var i=t[r];Gh(n,i,e)}}function sw(n,t,e){dS(n,t),t.slice().reverse().forEach(function(r){return Gh(n,r,e)})}function ri(n,t){return n.indexOf(t)>-1}function gV(n){return[].concat.apply([],n)}function lw(n,t){t==null||n==null||t.forEach(function(e){return n.push(e)})}function vV(n){return n.map(cS)}function mV(n,t){if(n!=null)for(var e=n.length-1;e>=0;e--)t(n[e],e)}var yV=Object.freeze(Object.defineProperty({__proto__:null,firstExistingValue:oM,existsAndNotEmpty:cV,last:wt,areEqual:Hl,compareArrays:pV,shallowCompare:hV,sortNumerically:aM,removeRepeatsFromArray:dV,removeFromArray:$r,removeAllFromArray:dS,insertIntoArray:Gh,insertArrayIntoArray:fV,moveInArray:sw,includes:ri,flatten:gV,pushAll:lw,toStrings:vV,forEachReverse:mV},Symbol.toStringTag,{value:"Module"}));/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v27.3.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */var CV=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},kr=function(){function n(t,e,r,i){this.displayedChildren=[],this.localEventService=new so,this.groupId=e,this.instanceId=r,this.providedColumnGroup=t,this.pinned=i}return n.createUniqueId=function(t,e){return t+"_"+e},n.prototype.reset=function(){this.parent=null,this.children=null,this.displayedChildren=null},n.prototype.getParent=function(){return this.parent},n.prototype.setParent=function(t){this.parent=t},n.prototype.getUniqueId=function(){return n.createUniqueId(this.groupId,this.instanceId)},n.prototype.isEmptyGroup=function(){return this.displayedChildren.length===0},n.prototype.isMoving=function(){var t=this.getProvidedColumnGroup().getLeafColumns();return!t||t.length===0?!1:t.every(function(e){return e.isMoving()})},n.prototype.checkLeft=function(){if(this.displayedChildren.forEach(function(i){i instanceof n&&i.checkLeft()}),this.displayedChildren.length>0)if(this.gridOptionsWrapper.isEnableRtl()){var t=wt(this.displayedChildren),e=t.getLeft();this.setLeft(e)}else{var r=this.displayedChildren[0].getLeft();this.setLeft(r)}else this.setLeft(null)},n.prototype.getLeft=function(){return this.left},n.prototype.getOldLeft=function(){return this.oldLeft},n.prototype.setLeft=function(t){this.oldLeft=t,this.left!==t&&(this.left=t,this.localEventService.dispatchEvent(this.createAgEvent(n.EVENT_LEFT_CHANGED)))},n.prototype.getPinned=function(){return this.pinned},n.prototype.createAgEvent=function(t){return{type:t}},n.prototype.addEventListener=function(t,e){this.localEventService.addEventListener(t,e)},n.prototype.removeEventListener=function(t,e){this.localEventService.removeEventListener(t,e)},n.prototype.getGroupId=function(){return this.groupId},n.prototype.getInstanceId=function(){return this.instanceId},n.prototype.isChildInThisGroupDeepSearch=function(t){var e=!1;return this.children.forEach(function(r){t===r&&(e=!0),r instanceof n&&r.isChildInThisGroupDeepSearch(t)&&(e=!0)}),e},n.prototype.getActualWidth=function(){var t=0;return this.displayedChildren&&this.displayedChildren.forEach(function(e){t+=e.getActualWidth()}),t},n.prototype.isResizable=function(){if(!this.displayedChildren)return!1;var t=!1;return this.displayedChildren.forEach(function(e){e.isResizable()&&(t=!0)}),t},n.prototype.getMinWidth=function(){var t=0;return this.displayedChildren.forEach(function(e){t+=e.getMinWidth()||0}),t},n.prototype.addChild=function(t){this.children||(this.children=[]),this.children.push(t)},n.prototype.getDisplayedChildren=function(){return this.displayedChildren},n.prototype.getLeafColumns=function(){var t=[];return this.addLeafColumns(t),t},n.prototype.getDisplayedLeafColumns=function(){var t=[];return this.addDisplayedLeafColumns(t),t},n.prototype.getDefinition=function(){return this.providedColumnGroup.getColGroupDef()},n.prototype.getColGroupDef=function(){return this.providedColumnGroup.getColGroupDef()},n.prototype.isPadding=function(){return this.providedColumnGroup.isPadding()},n.prototype.isExpandable=function(){return this.providedColumnGroup.isExpandable()},n.prototype.isExpanded=function(){return this.providedColumnGroup.isExpanded()},n.prototype.setExpanded=function(t){this.providedColumnGroup.setExpanded(t)},n.prototype.addDisplayedLeafColumns=function(t){this.displayedChildren.forEach(function(e){e instanceof Se?t.push(e):e instanceof n&&e.addDisplayedLeafColumns(t)})},n.prototype.addLeafColumns=function(t){this.children.forEach(function(e){e instanceof Se?t.push(e):e instanceof n&&e.addLeafColumns(t)})},n.prototype.getChildren=function(){return this.children},n.prototype.getColumnGroupShow=function(){return this.providedColumnGroup.getColumnGroupShow()},n.prototype.getProvidedColumnGroup=function(){return this.providedColumnGroup},n.prototype.getOriginalColumnGroup=function(){return console.warn("AG Grid: columnGroup.getOriginalColumnGroup() is deprecated due to a method rename, use columnGroup.getProvidedColumnGroup() instead"),this.getProvidedColumnGroup()},n.prototype.getPaddingLevel=function(){var t=this.getParent();return!this.isPadding()||!t||!t.isPadding()?0:1+t.getPaddingLevel()},n.prototype.calculateDisplayedColumns=function(){var t=this;this.displayedChildren=[];for(var e=this;e!=null&&e.isPadding();)e=e.getParent();var r=e?e.providedColumnGroup.isExpandable():!1;if(!r){this.displayedChildren=this.children,this.localEventService.dispatchEvent(this.createAgEvent(n.EVENT_DISPLAYED_CHILDREN_CHANGED));return}this.children.forEach(function(i){var o=i instanceof n&&(!i.displayedChildren||!i.displayedChildren.length);if(!o){var a=i.getColumnGroupShow();switch(a){case n.HEADER_GROUP_SHOW_OPEN:e.providedColumnGroup.isExpanded()&&t.displayedChildren.push(i);break;case n.HEADER_GROUP_SHOW_CLOSED:e.providedColumnGroup.isExpanded()||t.displayedChildren.push(i);break;default:t.displayedChildren.push(i);break}}}),this.localEventService.dispatchEvent(this.createAgEvent(n.EVENT_DISPLAYED_CHILDREN_CHANGED))},n.HEADER_GROUP_SHOW_OPEN="open",n.HEADER_GROUP_SHOW_CLOSED="closed",n.EVENT_LEFT_CHANGED="leftChanged",n.EVENT_DISPLAYED_CHILDREN_CHANGED="displayedChildrenChanged",CV([y("gridOptionsWrapper")],n.prototype,"gridOptionsWrapper",void 0),n}();/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v27.3.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */var at=function(){function n(t,e,r,i){this.localEventService=new so,this.expandable=!1,this.colGroupDef=t,this.groupId=e,this.expanded=!!t&&!!t.openByDefault,this.padding=r,this.level=i}return n.prototype.setOriginalParent=function(t){this.originalParent=t},n.prototype.getOriginalParent=function(){return this.originalParent},n.prototype.getLevel=function(){return this.level},n.prototype.isVisible=function(){return this.children?this.children.some(function(t){return t.isVisible()}):!1},n.prototype.isPadding=function(){return this.padding},n.prototype.setExpanded=function(t){this.expanded=t===void 0?!1:t;var e={type:n.EVENT_EXPANDED_CHANGED};this.localEventService.dispatchEvent(e)},n.prototype.isExpandable=function(){return this.expandable},n.prototype.isExpanded=function(){return this.expanded},n.prototype.getGroupId=function(){return this.groupId},n.prototype.getId=function(){return this.getGroupId()},n.prototype.setChildren=function(t){this.children=t},n.prototype.getChildren=function(){return this.children},n.prototype.getColGroupDef=function(){return this.colGroupDef},n.prototype.getLeafColumns=function(){var t=[];return this.addLeafColumns(t),t},n.prototype.addLeafColumns=function(t){!this.children||this.children.forEach(function(e){e instanceof Se?t.push(e):e instanceof n&&e.addLeafColumns(t)})},n.prototype.getColumnGroupShow=function(){var t=this.colGroupDef;if(!!t)return t.columnGroupShow},n.prototype.setupExpandable=function(){var t=this;this.setExpandable(),this.getLeafColumns().forEach(function(e){return e.addEventListener(Se.EVENT_VISIBLE_CHANGED,t.onColumnVisibilityChanged.bind(t))})},n.prototype.setExpandable=function(){if(!this.isPadding()){for(var t=!1,e=!1,r=!1,i=this.findChildrenRemovingPadding(),o=0,a=i.length;o<a;o++){var s=i[o];if(!!s.isVisible()){var l=s.getColumnGroupShow();l===kr.HEADER_GROUP_SHOW_OPEN?(t=!0,r=!0):l===kr.HEADER_GROUP_SHOW_CLOSED?(e=!0,r=!0):(t=!0,e=!0)}}var u=t&&e&&r;if(this.expandable!==u){this.expandable=u;var c={type:n.EVENT_EXPANDABLE_CHANGED};this.localEventService.dispatchEvent(c)}}},n.prototype.findChildrenRemovingPadding=function(){var t=[],e=function(r){r.forEach(function(i){var o=i instanceof n&&i.isPadding();o?e(i.children):t.push(i)})};return e(this.children),t},n.prototype.onColumnVisibilityChanged=function(){this.setExpandable()},n.prototype.addEventListener=function(t,e){this.localEventService.addEventListener(t,e)},n.prototype.removeEventListener=function(t,e){this.localEventService.removeEventListener(t,e)},n.EVENT_EXPANDED_CHANGED="expandedChanged",n.EVENT_EXPANDABLE_CHANGED="expandableChanged",n}();/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v27.3.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */var bV={numericColumn:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"},rightAligned:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"}};/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v27.3.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */var sM="__ag_Grid_Stop_Propagation",wV=["touchstart","touchend","touchmove","touchcancel"],wy={};function Lc(n){n[sM]=!0}function jo(n){return n[sM]===!0}var fS=function(){var n={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"},t=function(e){if(typeof wy[e]=="boolean")return wy[e];var r=document.createElement(n[e]||"div");return e="on"+e,wy[e]=e in r};return t}();function Kg(n,t,e){for(var r=t.target;r;){var i=n.getDomData(r,e);if(i)return i;r=r.parentElement}return null}function _V(n,t){n.addEventListener("changed",t),n.addEventListener("paste",t),n.addEventListener("input",t)}function Yg(n,t){return!t||!n?!1:gS(t).indexOf(n)>=0}function lM(n){for(var t=[],e=n.target;e;)t.push(e),e=e.parentElement;return t}function SV(n){n.__agGridEventPath=gS(n)}function gS(n){var t=n;return t.path?t.path:t.composedPath?t.composedPath():t.__agGridEventPath?t.__agGridEventPath:lM(n)}function uM(n,t,e,r){var i=ri(wV,e),o=i?{passive:!0}:void 0;n&&n.addEventListener&&n.addEventListener(t,e,r,o)}var xV=Object.freeze(Object.defineProperty({__proto__:null,stopPropagationForAgGrid:Lc,isStopPropagationForAgGrid:jo,isEventSupported:fS,getCtrlForEvent:Kg,addChangeListener:_V,isElementInEventPath:Yg,createEventPath:lM,addAgGridEventPath:SV,getEventPath:gS,addSafePassiveEventListener:uM},Symbol.toStringTag,{value:"Module"}));/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v27.3.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */var hp=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},j=function(){function n(){var t=this;this.destroyFunctions=[],this.destroyed=!1,this.__v_skip=!0,this.isAlive=function(){return!t.destroyed}}return n.prototype.getFrameworkOverrides=function(){return this.frameworkOverrides},n.prototype.getContext=function(){return this.context},n.prototype.destroy=function(){this.destroyFunctions.forEach(function(t){return t()}),this.destroyFunctions.length=0,this.destroyed=!0,this.dispatchEvent({type:n.EVENT_DESTROYED})},n.prototype.addEventListener=function(t,e){this.localEventService||(this.localEventService=new so),this.localEventService.addEventListener(t,e)},n.prototype.removeEventListener=function(t,e){this.localEventService&&this.localEventService.removeEventListener(t,e)},n.prototype.dispatchEventAsync=function(t){var e=this;window.setTimeout(function(){return e.dispatchEvent(t)},0)},n.prototype.dispatchEvent=function(t){this.localEventService&&this.localEventService.dispatchEvent(t)},n.prototype.addManagedListener=function(t,e,r){var i=this;if(!this.destroyed){t instanceof HTMLElement?uM(this.getFrameworkOverrides(),t,e,r):t.addEventListener(e,r);var o=function(){return t.removeEventListener(e,r),i.destroyFunctions=i.destroyFunctions.filter(function(a){return a!==o}),null};return this.destroyFunctions.push(o),o}},n.prototype.addDestroyFunc=function(t){this.isAlive()?this.destroyFunctions.push(t):t()},n.prototype.createManagedBean=function(t,e){var r=this.createBean(t,e);return this.addDestroyFunc(this.destroyBean.bind(this,t,e)),r},n.prototype.createBean=function(t,e,r){return(e||this.getContext()).createBean(t,r)},n.prototype.destroyBean=function(t,e){return(e||this.getContext()).destroyBean(t)},n.prototype.destroyBeans=function(t,e){var r=this;return t&&t.forEach(function(i){return r.destroyBean(i,e)}),[]},n.EVENT_DESTROYED="destroyed",hp([y("frameworkOverrides")],n.prototype,"frameworkOverrides",void 0),hp([y("context")],n.prototype,"context",void 0),hp([y("eventService")],n.prototype,"eventService",void 0),hp([y("gridOptionsWrapper")],n.prototype,"gridOptionsWrapper",void 0),hp([_t],n.prototype,"destroy",null),n}();/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v27.3.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */var TV=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),_y=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},OV=globalThis&&globalThis.__param||function(n,t){return function(e,r){t(e,r,n)}},cM=function(n){TV(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.setBeans=function(e){this.logger=e.create("ColumnFactory")},t.prototype.createColumnTree=function(e,r,i){var o=new $D,a=this.extractExistingTreeData(i),s=a.existingCols,l=a.existingGroups,u=a.existingColKeys;o.addExistingKeys(u);var c=this.recursivelyCreateColumns(e,0,r,s,o,l),p=this.findMaxDept(c,0);this.logger.log("Number of levels for grouped columns is "+p);var h=this.balanceColumnTree(c,0,p,o),d=function(f,g){f instanceof at&&f.setupExpandable(),f.setOriginalParent(g)};return this.columnUtils.depthFirstOriginalTreeSearch(null,h,d),{columnTree:h,treeDept:p}},t.prototype.extractExistingTreeData=function(e){var r=[],i=[],o=[];return e&&this.columnUtils.depthFirstOriginalTreeSearch(null,e,function(a){if(a instanceof at){var s=a;i.push(s)}else{var l=a;o.push(l.getId()),r.push(l)}}),{existingCols:r,existingGroups:i,existingColKeys:o}},t.prototype.createForAutoGroups=function(e,r){var i=this;return e.map(function(o){return i.createAutoGroupTreeItem(r,o)})},t.prototype.createAutoGroupTreeItem=function(e,r){for(var i=this.findDepth(e),o=r,a=i-1;a>=0;a--){var s=new at(null,"FAKE_PATH_"+r.getId()+"}_"+a,!0,a);this.context.createBean(s),s.setChildren([o]),o.setOriginalParent(s),o=s}return o},t.prototype.findDepth=function(e){for(var r=0,i=e;i&&i[0]&&i[0]instanceof at;)r++,i=i[0].getChildren();return r},t.prototype.balanceColumnTree=function(e,r,i,o){for(var a=[],s=0;s<e.length;s++){var l=e[s];if(l instanceof at){var u=l,c=this.balanceColumnTree(u.getChildren(),r+1,i,o);u.setChildren(c),a.push(u)}else{for(var p=void 0,h=void 0,d=i-1;d>=r;d--){var f=o.getUniqueKey(null,null),g=this.createMergedColGroupDef(null),v=new at(g,f,!0,r);this.context.createBean(v),h&&h.setChildren([v]),h=v,p||(p=h)}if(p&&h){a.push(p);var m=e.some(function(C){return C instanceof at});if(m){h.setChildren([l]);continue}else{h.setChildren(e);break}}a.push(l)}}return a},t.prototype.findMaxDept=function(e,r){for(var i=r,o=0;o<e.length;o++){var a=e[o];if(a instanceof at){var s=a,l=this.findMaxDept(s.getChildren(),r+1);i<l&&(i=l)}}return i},t.prototype.recursivelyCreateColumns=function(e,r,i,o,a,s){var l=this;return(e||[]).map(function(u){return l.isColumnGroup(u)?l.createColumnGroup(i,u,r,o,a,s):l.createColumn(i,u,o,a)})},t.prototype.createColumnGroup=function(e,r,i,o,a,s){var l=this.createMergedColGroupDef(r),u=a.getUniqueKey(l.groupId||null,null),c=new at(l,u,!1,i);this.context.createBean(c);var p=this.findExistingGroup(r,s);p&&$r(s,p),p&&p.isExpanded()&&c.setExpanded(!0);var h=this.recursivelyCreateColumns(l.children,i+1,e,o,a,s);return c.setChildren(h),c},t.prototype.createMergedColGroupDef=function(e){var r={};return Object.assign(r,this.gridOptionsWrapper.getDefaultColGroupDef()),Object.assign(r,e),this.checkForDeprecatedItems(r),r},t.prototype.createColumn=function(e,r,i,o){var a=this.mergeColDefs(r);this.checkForDeprecatedItems(a);var s=this.findExistingColumn(r,i);if(i&&s&&$r(i,s),s)s.setColDef(a,r),this.applyColumnState(s,a);else{var l=o.getUniqueKey(a.colId,a.field);s=new Se(a,r,l,e),this.context.createBean(s)}return s},t.prototype.applyColumnState=function(e,r){var i=Ri(r.flex);i!==void 0&&e.setFlex(i);var o=e.getFlex()<=0;if(o){var a=Ri(r.width);if(a!=null)e.setActualWidth(a);else{var s=e.getActualWidth();e.setActualWidth(s)}}r.sort!==void 0&&(r.sort==L.SORT_ASC||r.sort==L.SORT_DESC?e.setSort(r.sort):e.setSort(void 0));var l=Ri(r.sortIndex);l!==void 0&&e.setSortIndex(l);var u=ha(r.hide);u!==void 0&&e.setVisible(!u),r.pinned!==void 0&&e.setPinned(r.pinned)},t.prototype.findExistingColumn=function(e,r){return(r||[]).find(function(i){var o=i.getUserProvidedColDef();if(!o)return!1;var a=e.colId!=null,s=e.field!=null;return a?i.getId()===e.colId:s?o.field===e.field:o===e})},t.prototype.findExistingGroup=function(e,r){return r.find(function(i){var o=i.getColGroupDef();if(!o)return!1;var a=e.groupId!=null;return a?i.getId()===e.groupId:!1})},t.prototype.mergeColDefs=function(e){var r={},i=this.gridOptionsWrapper.getDefaultColDef();Pi(r,i,!1,!0);var o=e.type;return o||(o=i&&i.type),o&&this.assignColumnTypes(o,r),Pi(r,e,!1,!0),r},t.prototype.assignColumnTypes=function(e,r){var i=[];if(e instanceof Array){var o=e.some(function(l){return typeof l!="string"});o?console.warn("AG Grid: if colDef.type is supplied an array it should be of type 'string[]'"):i=e}else if(typeof e=="string")i=e.split(",");else{console.warn("AG Grid: colDef.type should be of type 'string' | 'string[]'");return}var a=Object.assign({},bV),s=this.gridOptionsWrapper.getColumnTypes()||{};ut(s,function(l,u){l in a?console.warn("AG Grid: the column type '"+l+"' is a default column type and cannot be overridden."):a[l]=u}),i.forEach(function(l){var u=a[l.trim()];u?Pi(r,u,!1,!0):console.warn("AG Grid: colDef.type '"+l+"' does not correspond to defined gridOptions.columnTypes")})},t.prototype.checkForDeprecatedItems=function(e){if(e){var r=e;r.group!==void 0&&console.warn("AG Grid: colDef.group is invalid, please check documentation on how to do grouping as it changed in version 3"),r.headerGroup!==void 0&&console.warn("AG Grid: colDef.headerGroup is invalid, please check documentation on how to do grouping as it changed in version 3"),r.headerGroupShow!==void 0&&console.warn("AG Grid: colDef.headerGroupShow is invalid, should be columnGroupShow, please check documentation on how to do grouping as it changed in version 3"),r.suppressRowGroup!==void 0&&console.warn("AG Grid: colDef.suppressRowGroup is deprecated, please use colDef.type instead"),r.suppressAggregation!==void 0&&console.warn("AG Grid: colDef.suppressAggregation is deprecated, please use colDef.type instead"),(r.suppressRowGroup||r.suppressAggregation)&&console.warn("AG Grid: colDef.suppressAggregation and colDef.suppressRowGroup are deprecated, use allowRowGroup, allowPivot and allowValue instead"),r.displayName&&(console.warn("AG Grid: Found displayName "+r.displayName+", please use headerName instead, displayName is deprecated."),r.headerName=r.displayName)}},t.prototype.isColumnGroup=function(e){return e.children!==void 0},_y([y("columnUtils")],t.prototype,"columnUtils",void 0),_y([OV(0,xr("loggerFactory"))],t.prototype,"setBeans",null),t=_y([J("columnFactory")],t),t}(j);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v27.3.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */var x=function(){function n(){}return n.EVENT_COLUMN_EVERYTHING_CHANGED="columnEverythingChanged",n.EVENT_NEW_COLUMNS_LOADED="newColumnsLoaded",n.EVENT_COLUMN_PIVOT_MODE_CHANGED="columnPivotModeChanged",n.EVENT_COLUMN_ROW_GROUP_CHANGED="columnRowGroupChanged",n.EVENT_EXPAND_COLLAPSE_ALL="expandOrCollapseAll",n.EVENT_COLUMN_PIVOT_CHANGED="columnPivotChanged",n.EVENT_GRID_COLUMNS_CHANGED="gridColumnsChanged",n.EVENT_COLUMN_VALUE_CHANGED="columnValueChanged",n.EVENT_COLUMN_MOVED="columnMoved",n.EVENT_COLUMN_VISIBLE="columnVisible",n.EVENT_COLUMN_PINNED="columnPinned",n.EVENT_COLUMN_GROUP_OPENED="columnGroupOpened",n.EVENT_COLUMN_RESIZED="columnResized",n.EVENT_DISPLAYED_COLUMNS_CHANGED="displayedColumnsChanged",n.EVENT_VIRTUAL_COLUMNS_CHANGED="virtualColumnsChanged",n.EVENT_ASYNC_TRANSACTIONS_FLUSHED="asyncTransactionsFlushed",n.EVENT_ROW_GROUP_OPENED="rowGroupOpened",n.EVENT_ROW_DATA_CHANGED="rowDataChanged",n.EVENT_ROW_DATA_UPDATED="rowDataUpdated",n.EVENT_PINNED_ROW_DATA_CHANGED="pinnedRowDataChanged",n.EVENT_RANGE_SELECTION_CHANGED="rangeSelectionChanged",n.EVENT_CHART_CREATED="chartCreated",n.EVENT_CHART_RANGE_SELECTION_CHANGED="chartRangeSelectionChanged",n.EVENT_CHART_OPTIONS_CHANGED="chartOptionsChanged",n.EVENT_CHART_DESTROYED="chartDestroyed",n.EVENT_TOOL_PANEL_VISIBLE_CHANGED="toolPanelVisibleChanged",n.EVENT_COLUMN_PANEL_ITEM_DRAG_START="columnPanelItemDragStart",n.EVENT_COLUMN_PANEL_ITEM_DRAG_END="columnPanelItemDragEnd",n.EVENT_MODEL_UPDATED="modelUpdated",n.EVENT_PASTE_START="pasteStart",n.EVENT_PASTE_END="pasteEnd",n.EVENT_FILL_START="fillStart",n.EVENT_FILL_END="fillEnd",n.EVENT_CELL_CLICKED="cellClicked",n.EVENT_CELL_DOUBLE_CLICKED="cellDoubleClicked",n.EVENT_CELL_MOUSE_DOWN="cellMouseDown",n.EVENT_CELL_CONTEXT_MENU="cellContextMenu",n.EVENT_CELL_VALUE_CHANGED="cellValueChanged",n.EVENT_CELL_EDIT_REQUEST="cellEditRequest",n.EVENT_ROW_VALUE_CHANGED="rowValueChanged",n.EVENT_CELL_FOCUSED="cellFocused",n.EVENT_FULL_WIDTH_ROW_FOCUSED="fullWidthRowFocused",n.EVENT_ROW_SELECTED="rowSelected",n.EVENT_SELECTION_CHANGED="selectionChanged",n.EVENT_CELL_KEY_DOWN="cellKeyDown",n.EVENT_CELL_KEY_PRESS="cellKeyPress",n.EVENT_CELL_MOUSE_OVER="cellMouseOver",n.EVENT_CELL_MOUSE_OUT="cellMouseOut",n.EVENT_FILTER_CHANGED="filterChanged",n.EVENT_FILTER_MODIFIED="filterModified",n.EVENT_FILTER_OPENED="filterOpened",n.EVENT_SORT_CHANGED="sortChanged",n.EVENT_VIRTUAL_ROW_REMOVED="virtualRowRemoved",n.EVENT_ROW_CLICKED="rowClicked",n.EVENT_ROW_DOUBLE_CLICKED="rowDoubleClicked",n.EVENT_GRID_READY="gridReady",n.EVENT_GRID_SIZE_CHANGED="gridSizeChanged",n.EVENT_VIEWPORT_CHANGED="viewportChanged",n.EVENT_SCROLLBAR_WIDTH_CHANGED="scrollbarWidthChanged",n.EVENT_FIRST_DATA_RENDERED="firstDataRendered",n.EVENT_DRAG_STARTED="dragStarted",n.EVENT_DRAG_STOPPED="dragStopped",n.EVENT_CHECKBOX_CHANGED="checkboxChanged",n.EVENT_ROW_EDITING_STARTED="rowEditingStarted",n.EVENT_ROW_EDITING_STOPPED="rowEditingStopped",n.EVENT_CELL_EDITING_STARTED="cellEditingStarted",n.EVENT_CELL_EDITING_STOPPED="cellEditingStopped",n.EVENT_BODY_SCROLL="bodyScroll",n.EVENT_BODY_SCROLL_END="bodyScrollEnd",n.EVENT_HEIGHT_SCALE_CHANGED="heightScaleChanged",n.EVENT_PAGINATION_CHANGED="paginationChanged",n.EVENT_COMPONENT_STATE_CHANGED="componentStateChanged",n.EVENT_BODY_HEIGHT_CHANGED="bodyHeightChanged",n.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED="displayedColumnsWidthChanged",n.EVENT_SCROLL_VISIBILITY_CHANGED="scrollVisibilityChanged",n.EVENT_COLUMN_HOVER_CHANGED="columnHoverChanged",n.EVENT_FLASH_CELLS="flashCells",n.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED="paginationPixelOffsetChanged",n.EVENT_DISPLAYED_ROWS_CHANGED="displayedRowsChanged",n.EVENT_LEFT_PINNED_WIDTH_CHANGED="leftPinnedWidthChanged",n.EVENT_RIGHT_PINNED_WIDTH_CHANGED="rightPinnedWidthChanged",n.EVENT_ROW_CONTAINER_HEIGHT_CHANGED="rowContainerHeightChanged",n.EVENT_ROW_DRAG_ENTER="rowDragEnter",n.EVENT_ROW_DRAG_MOVE="rowDragMove",n.EVENT_ROW_DRAG_LEAVE="rowDragLeave",n.EVENT_ROW_DRAG_END="rowDragEnd",n.EVENT_POPUP_TO_FRONT="popupToFront",n.EVENT_COLUMN_ROW_GROUP_CHANGE_REQUEST="columnRowGroupChangeRequest",n.EVENT_COLUMN_PIVOT_CHANGE_REQUEST="columnPivotChangeRequest",n.EVENT_COLUMN_VALUE_CHANGE_REQUEST="columnValueChangeRequest",n.EVENT_COLUMN_AGG_FUNC_CHANGE_REQUEST="columnAggFuncChangeRequest",n.EVENT_KEYBOARD_FOCUS="keyboardFocus",n.EVENT_MOUSE_FOCUS="mouseFocus",n.EVENT_STORE_UPDATED="storeUpdated",n}();/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v27.3.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */var vS=function(){function n(){this.existingIds={}}return n.prototype.getInstanceIdForKey=function(t){var e=this.existingIds[t],r;return typeof e!="number"?r=0:r=e+1,this.existingIds[t]=r,r},n}();/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v27.3.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */var EV=/[&<>"']/g,RV={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function PV(n){var t=String.fromCharCode;function e(p){var h=[];if(!p)return[];for(var d=p.length,f=0,g,v;f<d;)g=p.charCodeAt(f++),g>=55296&&g<=56319&&f<d?(v=p.charCodeAt(f++),(v&64512)==56320?h.push(((g&1023)<<10)+(v&1023)+65536):(h.push(g),f--)):h.push(g);return h}function r(p){if(p>=55296&&p<=57343)throw Error("Lone surrogate U+"+p.toString(16).toUpperCase()+" is not a scalar value")}function i(p,h){return t(p>>h&63|128)}function o(p){if(p>=0&&p<=31&&p!==10){var h=p.toString(16).toUpperCase(),d=h.padStart(4,"0");return"_x"+d+"_"}if((p&4294967168)==0)return t(p);var f="";return(p&4294965248)==0?f=t(p>>6&31|192):(p&4294901760)==0?(r(p),f=t(p>>12&15|224),f+=i(p,6)):(p&4292870144)==0&&(f=t(p>>18&7|240),f+=i(p,12),f+=i(p,6)),f+=t(p&63|128),f}for(var a=e(n),s=a.length,l=-1,u,c="";++l<s;)u=a[l],c+=o(u);return c}function pM(n){return n==null?null:n.replace(/([A-Z])/g,function(t){return"-"+t[0].toLowerCase()})}function hM(n){return n==null?null:n.replace(/-([a-z])/g,function(t){return t[1].toUpperCase()})}function uw(n){return n[0].toUpperCase()+n.substr(1).toLowerCase()}function Xo(n){return n==null?null:n.toString().toString().replace(EV,function(t){return RV[t]})}function mS(n){if(!n||n==null)return null;var t=/([A-Z])([A-Z])([a-z])|([a-z])([A-Z])/g,e=n.replace(t,"$1$4 $2$3$5").replace("."," ").split(" ");return e.map(function(r){return r.substring(0,1).toUpperCase()+(r.length>1?r.substring(1,r.length):"")}).join(" ")}var AV=Object.freeze(Object.defineProperty({__proto__:null,utf8_encode:PV,camelCaseToHyphen:pM,hyphenToCamelCase:hM,capitalise:uw,escapeString:Xo,camelCaseToHumanText:mS},Symbol.toStringTag,{value:"Module"}));/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v27.3.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */function ms(n){var t=new Map;return n.forEach(function(e){return t.set(e[0],e[1])}),t}function DV(n,t){var e=new Map;return n.forEach(function(r){return e.set(t(r),r)}),e}function MV(n){var t=[];return n.forEach(function(e,r){return t.push(r)}),t}var FV=Object.freeze(Object.defineProperty({__proto__:null,convertToMap:ms,mapById:DV,keys:MV},Symbol.toStringTag,{value:"Module"}));/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v27.3.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */var IV=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),pr=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},LV=globalThis&&globalThis.__param||function(n,t){return function(e,r){t(e,r,n)}},pT=globalThis&&globalThis.__values||function(n){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},NV=globalThis&&globalThis.__read||function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},dp=globalThis&&globalThis.__spread||function(){for(var n=[],t=0;t<arguments.length;t++)n=n.concat(NV(arguments[t]));return n},dM=function(n){IV(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.primaryHeaderRowCount=0,e.secondaryHeaderRowCount=0,e.gridHeaderRowCount=0,e.displayedColumnsLeft=[],e.displayedColumnsRight=[],e.displayedColumnsCenter=[],e.displayedColumns=[],e.displayedColumnsAndGroupsMap={},e.viewportColumns=[],e.viewportColumnsCenter=[],e.autoHeightActiveAtLeastOnce=!1,e.rowGroupColumns=[],e.valueColumns=[],e.pivotColumns=[],e.ready=!1,e.autoGroupsNeedBuilding=!1,e.forceRecreateAutoGroups=!1,e.pivotMode=!1,e.bodyWidth=0,e.leftWidth=0,e.rightWidth=0,e.bodyWidthDirty=!0,e.colDefVersion=0,e.flexColsCalculatedAtLestOnce=!1,e}return t.prototype.init=function(){var e=this;this.suppressColumnVirtualisation=this.gridOptionsWrapper.isSuppressColumnVirtualisation();var r=this.gridOptionsWrapper.isPivotMode();this.isPivotSettingAllowed(r)&&(this.pivotMode=r),this.usingTreeData=this.gridOptionsWrapper.isTreeData(),this.addManagedListener(this.gridOptionsWrapper,"autoGroupColumnDef",function(){return e.onAutoGroupColumnDefChanged()}),this.addManagedListener(this.gridOptionsWrapper,"defaultColDef",function(){return e.onDefaultColDefChanged()})},t.prototype.onAutoGroupColumnDefChanged=function(){this.autoGroupsNeedBuilding=!0,this.forceRecreateAutoGroups=!0,this.updateGridColumns(),this.updateDisplayedColumns("gridOptionsChanged")},t.prototype.onDefaultColDefChanged=function(){this.colDefVersion++,this.forceRecreateAutoGroups=!0,this.createColumnsFromColumnDefs(!0)},t.prototype.getColDefVersion=function(){return this.colDefVersion},t.prototype.setColumnDefs=function(e,r){r===void 0&&(r="api");var i=!!this.columnDefs;this.colDefVersion++,this.columnDefs=e,this.createColumnsFromColumnDefs(i,r)},t.prototype.createColumnsFromColumnDefs=function(e,r){var i=this;r===void 0&&(r="api");var o=e?this.compareColumnStatesAndRaiseEvents(r):void 0;this.valueCache.expire(),this.autoGroupsNeedBuilding=!0;var a=this.primaryColumns,s=this.primaryColumnTree,l=this.columnFactory.createColumnTree(this.columnDefs,!0,s);this.primaryColumnTree=l.columnTree,this.primaryHeaderRowCount=l.treeDept+1,this.primaryColumns=this.getColumnsFromTree(this.primaryColumnTree),this.primaryColumnsMap={},this.primaryColumns.forEach(function(p){return i.primaryColumnsMap[p.getId()]=p}),this.extractRowGroupColumns(r,a),this.extractPivotColumns(r,a),this.extractValueColumns(r,a),this.ready=!0;var u=this.gridColsArePrimary===void 0,c=this.gridColsArePrimary||u;c&&(this.updateGridColumns(),e&&!this.gridOptionsWrapper.isMaintainColumnOrder()&&this.orderGridColumnsLikePrimary(),this.updateDisplayedColumns(r),this.checkViewportColumns()),this.dispatchEverythingChanged(r),o&&o(),this.dispatchNewColumnsLoaded()},t.prototype.dispatchNewColumnsLoaded=function(){var e={type:x.EVENT_NEW_COLUMNS_LOADED,api:this.gridApi,columnApi:this.columnApi};this.eventService.dispatchEvent(e)},t.prototype.dispatchEverythingChanged=function(e){e===void 0&&(e="api");var r={type:x.EVENT_COLUMN_EVERYTHING_CHANGED,api:this.gridApi,columnApi:this.columnApi,source:e};this.eventService.dispatchEvent(r)},t.prototype.orderGridColumnsLikePrimary=function(){var e=this,r=this.primaryColumns;!r||this.gridColumns.sort(function(i,o){var a=r.indexOf(i),s=r.indexOf(o),l=a>=0,u=s>=0;if(l&&u)return a-s;if(l)return 1;if(u)return-1;var c=e.gridColumns.indexOf(i),p=e.gridColumns.indexOf(o);return c-p})},t.prototype.getAllDisplayedAutoHeightCols=function(){return this.displayedAutoHeightCols},t.prototype.setViewport=function(){this.gridOptionsWrapper.isEnableRtl()?(this.viewportLeft=this.bodyWidth-this.scrollPosition-this.scrollWidth,this.viewportRight=this.bodyWidth-this.scrollPosition):(this.viewportLeft=this.scrollPosition,this.viewportRight=this.scrollWidth+this.scrollPosition)},t.prototype.getDisplayedColumnsStartingAt=function(e){for(var r=e,i=[];r!=null;)i.push(r),r=this.getDisplayedColAfter(r);return i},t.prototype.checkViewportColumns=function(){if(this.displayedColumnsCenter!=null){var e=this.viewportColumns.map(function(o){return o.getId()}).join("#");this.extractViewport();var r=this.viewportColumns.map(function(o){return o.getId()}).join("#");if(e!==r){var i={type:x.EVENT_VIRTUAL_COLUMNS_CHANGED,api:this.gridApi,columnApi:this.columnApi};this.eventService.dispatchEvent(i)}}},t.prototype.setViewportPosition=function(e,r){(e!==this.scrollWidth||r!==this.scrollPosition||this.bodyWidthDirty)&&(this.scrollWidth=e,this.scrollPosition=r,this.bodyWidthDirty=!0,this.setViewport(),this.ready&&this.checkViewportColumns())},t.prototype.isPivotMode=function(){return this.pivotMode},t.prototype.isPivotSettingAllowed=function(e){return e&&this.gridOptionsWrapper.isTreeData()?(console.warn("AG Grid: Pivot mode not available in conjunction Tree Data i.e. 'gridOptions.treeData: true'"),!1):!0},t.prototype.setPivotMode=function(e,r){if(r===void 0&&(r="api"),!(e===this.pivotMode||!this.isPivotSettingAllowed(this.pivotMode))){this.pivotMode=e,this.autoGroupsNeedBuilding=!0,this.updateGridColumns(),this.updateDisplayedColumns(r);var i={type:x.EVENT_COLUMN_PIVOT_MODE_CHANGED,api:this.gridApi,columnApi:this.columnApi};this.eventService.dispatchEvent(i)}},t.prototype.getSecondaryPivotColumn=function(e,r){if(ye(this.secondaryColumns))return null;var i=this.getPrimaryColumn(r),o=null;return this.secondaryColumns.forEach(function(a){var s=a.getColDef().pivotKeys,l=a.getColDef().pivotValueColumn,u=Hl(s,e),c=l===i;u&&c&&(o=a)}),o},t.prototype.setBeans=function(e){this.logger=e.create("columnModel")},t.prototype.setFirstRightAndLastLeftPinned=function(e){var r,i;this.gridOptionsWrapper.isEnableRtl()?(r=this.displayedColumnsLeft?this.displayedColumnsLeft[0]:null,i=this.displayedColumnsRight?wt(this.displayedColumnsRight):null):(r=this.displayedColumnsLeft?wt(this.displayedColumnsLeft):null,i=this.displayedColumnsRight?this.displayedColumnsRight[0]:null),this.gridColumns.forEach(function(o){o.setLastLeftPinned(o===r,e),o.setFirstRightPinned(o===i,e)})},t.prototype.autoSizeColumns=function(e){var r=this,i=e.columns,o=e.skipHeader,a=e.skipHeaderGroups,s=e.stopAtGroup,l=e.source,u=l===void 0?"api":l;this.animationFrameService.flushAllFrames();for(var c=[],p=-1,h=o!=null?o:this.gridOptionsWrapper.isSkipHeaderOnAutoSize(),d=a!=null?a:h;p!==0;)p=0,this.actionOnGridColumns(i,function(f){if(c.indexOf(f)>=0)return!1;var g=r.autoWidthCalculator.getPreferredWidthForColumn(f,h);if(g>0){var v=r.normaliseColumnWidth(f,g);f.setActualWidth(v,u),c.push(f),p++}return!0},u);d||this.autoSizeColumnGroupsByColumns(i,s),this.fireColumnResizedEvent(c,!0,"autosizeColumns")},t.prototype.fireColumnResizedEvent=function(e,r,i,o){if(o===void 0&&(o=null),e&&e.length){var a={type:x.EVENT_COLUMN_RESIZED,columns:e,column:e.length===1?e[0]:null,flexColumns:o,finished:r,api:this.gridApi,columnApi:this.columnApi,source:i};this.eventService.dispatchEvent(a)}},t.prototype.autoSizeColumn=function(e,r,i){i===void 0&&(i="api"),e&&this.autoSizeColumns({columns:[e],skipHeader:r,skipHeaderGroups:!0,source:i})},t.prototype.autoSizeColumnGroupsByColumns=function(e,r){var i,o,a,s,l=new Set,u=this.getGridColumns(e);u.forEach(function(C){for(var b=C.getParent();b&&b!=r;)b.isPadding()||l.add(b),b=b.getParent()});var c,p=[];try{for(var h=pT(l),d=h.next();!d.done;d=h.next()){var f=d.value;try{for(var g=(a=void 0,pT(this.ctrlsService.getHeaderRowContainerCtrls())),v=g.next();!v.done;v=g.next()){var m=v.value;if(c=m.getHeaderCtrlForColumn(f),c)break}}catch(C){a={error:C}}finally{try{v&&!v.done&&(s=g.return)&&s.call(g)}finally{if(a)throw a.error}}c&&c.resizeLeafColumnsToFit()}}catch(C){i={error:C}}finally{try{d&&!d.done&&(o=h.return)&&o.call(h)}finally{if(i)throw i.error}}return p},t.prototype.autoSizeAllColumns=function(e,r){r===void 0&&(r="api");var i=this.getAllDisplayedColumns();this.autoSizeColumns({columns:i,skipHeader:e,source:r})},t.prototype.getColumnsFromTree=function(e){var r=[],i=function(o){for(var a=0;a<o.length;a++){var s=o[a];s instanceof Se?r.push(s):s instanceof at&&i(s.getChildren())}};return i(e),r},t.prototype.getAllDisplayedTrees=function(){return this.displayedTreeLeft&&this.displayedTreeRight&&this.displayedTreeCentre?this.displayedTreeLeft.concat(this.displayedTreeCentre).concat(this.displayedTreeRight):null},t.prototype.getPrimaryColumnTree=function(){return this.primaryColumnTree},t.prototype.getHeaderRowCount=function(){return this.gridHeaderRowCount},t.prototype.getDisplayedTreeLeft=function(){return this.displayedTreeLeft},t.prototype.getDisplayedTreeRight=function(){return this.displayedTreeRight},t.prototype.getDisplayedTreeCentre=function(){return this.displayedTreeCentre},t.prototype.isColumnDisplayed=function(e){return this.getAllDisplayedColumns().indexOf(e)>=0},t.prototype.getAllDisplayedColumns=function(){return this.displayedColumns},t.prototype.getViewportColumns=function(){return this.viewportColumns},t.prototype.getDisplayedLeftColumnsForRow=function(e){return this.colSpanActive?this.getDisplayedColumnsForRow(e,this.displayedColumnsLeft):this.displayedColumnsLeft},t.prototype.getDisplayedRightColumnsForRow=function(e){return this.colSpanActive?this.getDisplayedColumnsForRow(e,this.displayedColumnsRight):this.displayedColumnsRight},t.prototype.getDisplayedColumnsForRow=function(e,r,i,o){for(var a=[],s=null,l=function(p){var h=r[p],d=r.length-p,f=Math.min(h.getColSpan(e),d),g=[h];if(f>1){for(var v=f-1,m=1;m<=v;m++)g.push(r[p+m]);p+=v}var C;if(i?(C=!1,g.forEach(function(w){i(w)&&(C=!0)})):C=!0,C){if(a.length===0&&s){var b=o?o(h):!1;b&&a.push(s)}a.push(h)}s=h,u=p},u,c=0;c<r.length;c++)l(c),c=u;return a},t.prototype.getViewportCenterColumnsForRow=function(e){var r=this;if(!this.colSpanActive)return this.viewportColumnsCenter;var i=function(a){var s=a.getLeft();return Z(s)&&s>r.viewportLeft},o=this.suppressColumnVirtualisation?null:this.isColumnInViewport.bind(this);return this.getDisplayedColumnsForRow(e,this.displayedColumnsCenter,o,i)},t.prototype.getAriaColumnIndex=function(e){return this.getAllGridColumns().indexOf(e)+1},t.prototype.isColumnInViewport=function(e){if(e.isAutoHeight())return!0;var r=e.getLeft()||0,i=r+e.getActualWidth(),o=this.viewportLeft-200,a=this.viewportRight+200,s=r<o&&i<o,l=r>a&&i>a;return!s&&!l},t.prototype.getDisplayedColumnsLeftWidth=function(){return this.getWidthOfColsInList(this.displayedColumnsLeft)},t.prototype.getDisplayedColumnsRightWidth=function(){return this.getWidthOfColsInList(this.displayedColumnsRight)},t.prototype.updatePrimaryColumnList=function(e,r,i,o,a,s){var l=this;if(s===void 0&&(s="api"),!(!e||Jn(e))){var u=!1;if(e.forEach(function(p){var h=l.getPrimaryColumn(p);if(!!h){if(i){if(r.indexOf(h)>=0)return;r.push(h)}else{if(r.indexOf(h)<0)return;$r(r,h)}o(h),u=!0}}),!!u){this.autoGroupsNeedBuilding&&this.updateGridColumns(),this.updateDisplayedColumns(s);var c={type:a,columns:r,column:r.length===1?r[0]:null,api:this.gridApi,columnApi:this.columnApi,source:s};this.eventService.dispatchEvent(c)}}},t.prototype.setRowGroupColumns=function(e,r){r===void 0&&(r="api"),this.autoGroupsNeedBuilding=!0,this.setPrimaryColumnList(e,this.rowGroupColumns,x.EVENT_COLUMN_ROW_GROUP_CHANGED,this.setRowGroupActive.bind(this),r)},t.prototype.setRowGroupActive=function(e,r,i){e!==r.isRowGroupActive()&&(r.setRowGroupActive(e,i),!e&&!this.gridOptionsWrapper.isSuppressMakeColumnVisibleAfterUnGroup()&&r.setVisible(!0,i))},t.prototype.addRowGroupColumn=function(e,r){r===void 0&&(r="api"),e&&this.addRowGroupColumns([e],r)},t.prototype.addRowGroupColumns=function(e,r){r===void 0&&(r="api"),this.autoGroupsNeedBuilding=!0,this.updatePrimaryColumnList(e,this.rowGroupColumns,!0,this.setRowGroupActive.bind(this,!0),x.EVENT_COLUMN_ROW_GROUP_CHANGED,r)},t.prototype.removeRowGroupColumns=function(e,r){r===void 0&&(r="api"),this.autoGroupsNeedBuilding=!0,this.updatePrimaryColumnList(e,this.rowGroupColumns,!1,this.setRowGroupActive.bind(this,!1),x.EVENT_COLUMN_ROW_GROUP_CHANGED,r)},t.prototype.removeRowGroupColumn=function(e,r){r===void 0&&(r="api"),e&&this.removeRowGroupColumns([e],r)},t.prototype.addPivotColumns=function(e,r){r===void 0&&(r="api"),this.updatePrimaryColumnList(e,this.pivotColumns,!0,function(i){return i.setPivotActive(!0,r)},x.EVENT_COLUMN_PIVOT_CHANGED,r)},t.prototype.setPivotColumns=function(e,r){r===void 0&&(r="api"),this.setPrimaryColumnList(e,this.pivotColumns,x.EVENT_COLUMN_PIVOT_CHANGED,function(i,o){o.setPivotActive(i,r)},r)},t.prototype.addPivotColumn=function(e,r){r===void 0&&(r="api"),this.addPivotColumns([e],r)},t.prototype.removePivotColumns=function(e,r){r===void 0&&(r="api"),this.updatePrimaryColumnList(e,this.pivotColumns,!1,function(i){return i.setPivotActive(!1,r)},x.EVENT_COLUMN_PIVOT_CHANGED,r)},t.prototype.removePivotColumn=function(e,r){r===void 0&&(r="api"),this.removePivotColumns([e],r)},t.prototype.setPrimaryColumnList=function(e,r,i,o,a){var s=this;r.length=0,Z(e)&&e.forEach(function(l){var u=s.getPrimaryColumn(l);u&&r.push(u)}),(this.primaryColumns||[]).forEach(function(l){var u=r.indexOf(l)>=0;o(u,l)}),this.autoGroupsNeedBuilding&&this.updateGridColumns(),this.updateDisplayedColumns(a),this.fireColumnEvent(i,r,a)},t.prototype.setValueColumns=function(e,r){r===void 0&&(r="api"),this.setPrimaryColumnList(e,this.valueColumns,x.EVENT_COLUMN_VALUE_CHANGED,this.setValueActive.bind(this),r)},t.prototype.setValueActive=function(e,r,i){if(e!==r.isValueActive()&&(r.setValueActive(e,i),e&&!r.getAggFunc())){var o=this.aggFuncService.getDefaultAggFunc(r);r.setAggFunc(o)}},t.prototype.addValueColumns=function(e,r){r===void 0&&(r="api"),this.updatePrimaryColumnList(e,this.valueColumns,!0,this.setValueActive.bind(this,!0),x.EVENT_COLUMN_VALUE_CHANGED,r)},t.prototype.addValueColumn=function(e,r){r===void 0&&(r="api"),e&&this.addValueColumns([e],r)},t.prototype.removeValueColumn=function(e,r){r===void 0&&(r="api"),this.removeValueColumns([e],r)},t.prototype.removeValueColumns=function(e,r){r===void 0&&(r="api"),this.updatePrimaryColumnList(e,this.valueColumns,!1,this.setValueActive.bind(this,!1),x.EVENT_COLUMN_VALUE_CHANGED,r)},t.prototype.normaliseColumnWidth=function(e,r){var i=e.getMinWidth();Z(i)&&r<i&&(r=i);var o=e.getMaxWidth();return Z(o)&&e.isGreaterThanMax(r)&&(r=o),r},t.prototype.getPrimaryOrGridColumn=function(e){var r=this.getPrimaryColumn(e);return r||this.getGridColumn(e)},t.prototype.setColumnWidths=function(e,r,i,o){var a=this;o===void 0&&(o="api");var s=[];e.forEach(function(l){var u=a.getPrimaryOrGridColumn(l.key);if(!!u){s.push({width:l.newWidth,ratios:[1],columns:[u]});var c=a.gridOptionsWrapper.getColResizeDefault()==="shift";if(c&&(r=!r),r){var p=a.getDisplayedColAfter(u);if(!p)return;var h=u.getActualWidth()-l.newWidth,d=p.getActualWidth()+h;s.push({width:d,ratios:[1],columns:[p]})}}}),s.length!==0&&this.resizeColumnSets({resizeSets:s,finished:i,source:o})},t.prototype.checkMinAndMaxWidthsForSet=function(e){var r=e.columns,i=e.width,o=0,a=0,s=!0;r.forEach(function(c){var p=c.getMinWidth();o+=p||0;var h=c.getMaxWidth();Z(h)&&h>0?a+=h:s=!1});var l=i>=o,u=!s||i<=a;return l&&u},t.prototype.resizeColumnSets=function(e){var r=this,i=e.resizeSets,o=e.finished,a=e.source,s=!i||i.every(function(f){return r.checkMinAndMaxWidthsForSet(f)});if(!s){if(o){var l=i&&i.length>0?i[0].columns:null;this.fireColumnResizedEvent(l,o,a)}return}var u=[],c=[];i.forEach(function(f){var g=f.width,v=f.columns,m=f.ratios,C={},b={};v.forEach(function(P){return c.push(P)});for(var w=!0,S=0,T=function(){if(S++,S>1e3)return console.error("AG Grid: infinite loop in resizeColumnSets"),"break";w=!1;var P=[],R=0,M=g;v.forEach(function(B,k){var G=b[B.getId()];if(G)M-=C[B.getId()];else{P.push(B);var V=m[k];R+=V}});var N=1/R;P.forEach(function(B,k){var G=k===P.length-1,V;G?V=M:(V=Math.round(m[k]*g*N),M-=V);var z=B.getMinWidth(),ee=B.getMaxWidth();Z(z)&&V<z?(V=z,b[B.getId()]=!0,w=!0):Z(ee)&&ee>0&&V>ee&&(V=ee,b[B.getId()]=!0,w=!0),C[B.getId()]=V})};w;){var E=T();if(E==="break")break}v.forEach(function(P){var R=C[P.getId()],M=P.getActualWidth();M!==R&&(P.setActualWidth(R,a),u.push(P))})});var p=u.length>0,h=[];p&&(h=this.refreshFlexedColumns({resizingCols:c,skipSetLeft:!0}),this.setLeftValues(a),this.updateBodyWidths(),this.checkViewportColumns());var d=c.concat(h);(p||o)&&this.fireColumnResizedEvent(d,o,a,h)},t.prototype.setColumnAggFunc=function(e,r,i){if(i===void 0&&(i="api"),!!e){var o=this.getPrimaryColumn(e);!o||(o.setAggFunc(r),this.fireColumnEvent(x.EVENT_COLUMN_VALUE_CHANGED,[o],i))}},t.prototype.fireColumnEvent=function(e,r,i){var o={type:e,columns:r,column:r&&r.length==1?r[0]:null,api:this.gridApi,columnApi:this.columnApi,source:i};this.eventService.dispatchEvent(o)},t.prototype.moveRowGroupColumn=function(e,r,i){i===void 0&&(i="api");var o=this.rowGroupColumns[e];this.rowGroupColumns.splice(e,1),this.rowGroupColumns.splice(r,0,o);var a={type:x.EVENT_COLUMN_ROW_GROUP_CHANGED,columns:this.rowGroupColumns,column:this.rowGroupColumns.length===1?this.rowGroupColumns[0]:null,api:this.gridApi,columnApi:this.columnApi,source:i};this.eventService.dispatchEvent(a)},t.prototype.moveColumns=function(e,r,i){if(i===void 0&&(i="api"),this.columnAnimationService.start(),r>this.gridColumns.length-e.length){console.warn("AG Grid: tried to insert columns in invalid location, toIndex = "+r),console.warn("AG Grid: remember that you should not count the moving columns when calculating the new index");return}var o=this.getGridColumns(e),a=!this.doesMovePassRules(o,r);if(!a){sw(this.gridColumns,o,r),this.updateDisplayedColumns(i);var s={type:x.EVENT_COLUMN_MOVED,columns:o,column:o.length===1?o[0]:null,toIndex:r,api:this.gridApi,columnApi:this.columnApi,source:i};this.eventService.dispatchEvent(s),this.columnAnimationService.finish()}},t.prototype.doesMovePassRules=function(e,r){var i=this.gridColumns.slice();return sw(i,e,r),!(!this.doesMovePassMarryChildren(i)||!this.doesMovePassLockedPositions(i))},t.prototype.sortColumnsLikeGridColumns=function(e){var r=this;if(!(!e||e.length<=1)){var i=e.filter(function(o){return r.gridColumns.indexOf(o)<0}).length>0;i||e.sort(function(o,a){var s=r.gridColumns.indexOf(o),l=r.gridColumns.indexOf(a);return s-l})}},t.prototype.doesMovePassLockedPositions=function(e){var r=0,i=!0,o=function(a){return a?a===!0||a==="left"?0:2:1};return e.forEach(function(a){var s=o(a.getColDef().lockPosition);s<r&&(i=!1),r=s}),i},t.prototype.doesMovePassMarryChildren=function(e){var r=!0;return this.columnUtils.depthFirstOriginalTreeSearch(null,this.gridBalancedTree,function(i){if(i instanceof at){var o=i,a=o.getColGroupDef(),s=a&&a.marryChildren;if(!!s){var l=[];o.getLeafColumns().forEach(function(d){var f=e.indexOf(d);l.push(f)});var u=Math.max.apply(Math,l),c=Math.min.apply(Math,l),p=u-c,h=o.getLeafColumns().length-1;p>h&&(r=!1)}}}),r},t.prototype.moveColumn=function(e,r,i){i===void 0&&(i="api"),this.moveColumns([e],r,i)},t.prototype.moveColumnByIndex=function(e,r,i){i===void 0&&(i="api");var o=this.gridColumns[e];this.moveColumn(o,r,i)},t.prototype.getColumnDefs=function(){var e=this;if(!!this.primaryColumns){var r=this.primaryColumns.slice();return this.gridColsArePrimary?r.sort(function(i,o){return e.gridColumns.indexOf(i)-e.gridColumns.indexOf(o)}):this.lastPrimaryOrder&&r.sort(function(i,o){return e.lastPrimaryOrder.indexOf(i)-e.lastPrimaryOrder.indexOf(o)}),this.columnDefFactory.buildColumnDefs(r,this.rowGroupColumns,this.pivotColumns)}},t.prototype.getBodyContainerWidth=function(){return this.bodyWidth},t.prototype.getContainerWidth=function(e){switch(e){case L.PINNED_LEFT:return this.leftWidth;case L.PINNED_RIGHT:return this.rightWidth;default:return this.bodyWidth}},t.prototype.updateBodyWidths=function(){var e=this.getWidthOfColsInList(this.displayedColumnsCenter),r=this.getWidthOfColsInList(this.displayedColumnsLeft),i=this.getWidthOfColsInList(this.displayedColumnsRight);this.bodyWidthDirty=this.bodyWidth!==e;var o=this.bodyWidth!==e||this.leftWidth!==r||this.rightWidth!==i;if(o){this.bodyWidth=e,this.leftWidth=r,this.rightWidth=i;var a={type:x.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,api:this.gridApi,columnApi:this.columnApi};this.eventService.dispatchEvent(a)}},t.prototype.getValueColumns=function(){return this.valueColumns?this.valueColumns:[]},t.prototype.getPivotColumns=function(){return this.pivotColumns?this.pivotColumns:[]},t.prototype.isPivotActive=function(){return this.pivotColumns&&this.pivotColumns.length>0&&this.pivotMode},t.prototype.getRowGroupColumns=function(){return this.rowGroupColumns?this.rowGroupColumns:[]},t.prototype.getDisplayedCenterColumns=function(){return this.displayedColumnsCenter},t.prototype.getDisplayedLeftColumns=function(){return this.displayedColumnsLeft},t.prototype.getDisplayedRightColumns=function(){return this.displayedColumnsRight},t.prototype.getDisplayedColumns=function(e){switch(e){case L.PINNED_LEFT:return this.getDisplayedLeftColumns();case L.PINNED_RIGHT:return this.getDisplayedRightColumns();default:return this.getDisplayedCenterColumns()}},t.prototype.getAllPrimaryColumns=function(){return this.primaryColumns?this.primaryColumns.slice():null},t.prototype.getSecondaryColumns=function(){return this.secondaryColumns?this.secondaryColumns.slice():null},t.prototype.getAllColumnsForQuickFilter=function(){return this.columnsForQuickFilter},t.prototype.getAllGridColumns=function(){return this.gridColumns},t.prototype.isEmpty=function(){return Jn(this.gridColumns)},t.prototype.isRowGroupEmpty=function(){return Jn(this.rowGroupColumns)},t.prototype.setColumnVisible=function(e,r,i){i===void 0&&(i="api"),this.setColumnsVisible([e],r,i)},t.prototype.setColumnsVisible=function(e,r,i){var o=this;r===void 0&&(r=!1),i===void 0&&(i="api"),this.columnAnimationService.start(),this.actionOnGridColumns(e,function(a){return a.isVisible()!==r?(a.setVisible(r,i),!0):!1},i,function(){var a={type:x.EVENT_COLUMN_VISIBLE,visible:r,column:null,columns:null,api:o.gridApi,columnApi:o.columnApi,source:i};return a}),this.columnAnimationService.finish()},t.prototype.setColumnPinned=function(e,r,i){i===void 0&&(i="api"),e&&this.setColumnsPinned([e],r,i)},t.prototype.setColumnsPinned=function(e,r,i){var o=this;if(i===void 0&&(i="api"),this.gridOptionsWrapper.getDomLayout()==="print"){console.warn("Changing the column pinning status is not allowed with domLayout='print'");return}this.columnAnimationService.start();var a;r===!0||r===L.PINNED_LEFT?a=L.PINNED_LEFT:r===L.PINNED_RIGHT?a=L.PINNED_RIGHT:a=null,this.actionOnGridColumns(e,function(s){return s.getPinned()!==a?(s.setPinned(a),!0):!1},i,function(){var s={type:x.EVENT_COLUMN_PINNED,pinned:a,column:null,columns:null,api:o.gridApi,columnApi:o.columnApi,source:i};return s}),this.columnAnimationService.finish()},t.prototype.actionOnGridColumns=function(e,r,i,o){var a=this;if(!Jn(e)){var s=[];if(e.forEach(function(u){var c=a.getGridColumn(u);if(!!c){var p=r(c);p!==!1&&s.push(c)}}),!!s.length&&(this.updateDisplayedColumns(i),Z(o)&&o)){var l=o();l.columns=s,l.column=s.length===1?s[0]:null,this.eventService.dispatchEvent(l)}}},t.prototype.getDisplayedColBefore=function(e){var r=this.getAllDisplayedColumns(),i=r.indexOf(e);return i>0?r[i-1]:null},t.prototype.getDisplayedColAfter=function(e){var r=this.getAllDisplayedColumns(),i=r.indexOf(e);return i<r.length-1?r[i+1]:null},t.prototype.getDisplayedGroupAfter=function(e){return this.getDisplayedGroupAtDirection(e,"After")},t.prototype.getDisplayedGroupBefore=function(e){return this.getDisplayedGroupAtDirection(e,"Before")},t.prototype.getDisplayedGroupAtDirection=function(e,r){for(var i=e.getProvidedColumnGroup().getLevel()+e.getPaddingLevel(),o=e.getDisplayedLeafColumns(),a=r==="After"?wt(o):o[0],s="getDisplayedCol"+r;;){var l=this[s](a);if(!l)return null;var u=this.getColumnGroupAtLevel(l,i);if(u!==e)return u}},t.prototype.getColumnGroupAtLevel=function(e,r){for(var i=e.getParent(),o,a;;){var s=i.getProvidedColumnGroup();if(o=s.getLevel(),a=i.getPaddingLevel(),o+a<=r)break;i=i.getParent()}return i},t.prototype.isPinningLeft=function(){return this.displayedColumnsLeft.length>0},t.prototype.isPinningRight=function(){return this.displayedColumnsRight.length>0},t.prototype.getPrimaryAndSecondaryAndAutoColumns=function(){var e;return(e=[]).concat.apply(e,dp([this.primaryColumns||[],this.groupAutoColumns||[],this.secondaryColumns||[]]))},t.prototype.getPrimaryAndAutoGroupCols=function(){var e;return(e=[]).concat.apply(e,dp([this.primaryColumns||[],this.groupAutoColumns||[]]))},t.prototype.getPrimaryAndSecondaryColumns=function(){var e;return(e=[]).concat.apply(e,dp([this.primaryColumns||[],this.secondaryColumns||[]]))},t.prototype.createStateItemFromColumn=function(e){var r=e.isRowGroupActive()?this.rowGroupColumns.indexOf(e):null,i=e.isPivotActive()?this.pivotColumns.indexOf(e):null,o=e.isValueActive()?e.getAggFunc():null,a=e.getSort()!=null?e.getSort():null,s=e.getSortIndex()!=null?e.getSortIndex():null,l=e.getFlex()!=null&&e.getFlex()>0?e.getFlex():null,u={colId:e.getColId(),width:e.getActualWidth(),hide:!e.isVisible(),pinned:e.getPinned(),sort:a,sortIndex:s,aggFunc:o,rowGroup:e.isRowGroupActive(),rowGroupIndex:r,pivot:e.isPivotActive(),pivotIndex:i,flex:l};return u},t.prototype.getColumnState=function(){if(ye(this.primaryColumns)||!this.isAlive())return[];var e=this.getPrimaryAndSecondaryAndAutoColumns(),r=e.map(this.createStateItemFromColumn.bind(this));return this.orderColumnStateList(r),r},t.prototype.orderColumnStateList=function(e){var r=ms(this.gridColumns.map(function(i,o){return[i.getColId(),o]}));e.sort(function(i,o){var a=r.has(i.colId)?r.get(i.colId):-1,s=r.has(o.colId)?r.get(o.colId):-1;return a-s})},t.prototype.resetColumnState=function(e){e===void 0&&(e="api");var r=this.getColumnsFromTree(this.primaryColumnTree),i=[],o=1e3,a=1e3,s=[];this.groupAutoColumns&&(s=s.concat(this.groupAutoColumns)),r&&(s=s.concat(r)),s.forEach(function(l){var u=function(E,P){return E!=null?E:P!=null?P:null},c=l.getColDef(),p=u(c.sort,c.initialSort),h=u(c.sortIndex,c.initialSortIndex),d=u(c.hide,c.initialHide),f=u(c.pinned,c.initialPinned),g=u(c.width,c.initialWidth),v=u(c.flex,c.initialFlex),m=u(c.rowGroupIndex,c.initialRowGroupIndex),C=u(c.rowGroup,c.initialRowGroup);m==null&&(C==null||C==!1)&&(m=null,C=null);var b=u(c.pivotIndex,c.initialPivotIndex),w=u(c.pivot,c.initialPivot);b==null&&(w==null||w==!1)&&(b=null,w=null);var S=u(c.aggFunc,c.initialAggFunc),T={colId:l.getColId(),sort:p,sortIndex:h,hide:d,pinned:f,width:g,flex:v,rowGroup:C,rowGroupIndex:m,pivot:w,pivotIndex:b,aggFunc:S};ye(m)&&C&&(T.rowGroupIndex=o++),ye(b)&&w&&(T.pivotIndex=a++),i.push(T)}),this.applyColumnState({state:i,applyOrder:!0},e)},t.prototype.applyColumnState=function(e,r){var i=this;if(r===void 0&&(r="api"),Jn(this.primaryColumns))return!1;if(e&&e.state&&!e.state.forEach)return console.warn("AG Grid: applyColumnState() - the state attribute should be an array, however an array was not found. Please provide an array of items (one for each col you want to change) for state."),!1;var o=function(u,c,p){var h=i.compareColumnStatesAndRaiseEvents(r);i.autoGroupsNeedBuilding=!0;var d=c.slice(),f={},g={},v=[],m=[],C=0,b=i.rowGroupColumns.slice(),w=i.pivotColumns.slice();u.forEach(function(P){var R=P.colId||"",M=R.startsWith(L.GROUP_AUTO_COLUMN_ID);if(M){v.push(P),m.push(P);return}var N=p(R);N?(i.syncColumnWithStateItem(N,P,e.defaultState,f,g,!1,r),$r(d,N)):(m.push(P),C+=1)});var S=function(P){return i.syncColumnWithStateItem(P,null,e.defaultState,f,g,!1,r)};d.forEach(S);var T=function(P,R,M,N){var B=P[M.getId()],k=P[N.getId()],G=B!=null,V=k!=null;if(G&&V)return B-k;if(G)return-1;if(V)return 1;var z=R.indexOf(M),ee=R.indexOf(N),Q=z>=0,ue=ee>=0;return Q&&ue?z-ee:Q?-1:1};i.rowGroupColumns.sort(T.bind(i,f,b)),i.pivotColumns.sort(T.bind(i,g,w)),i.updateGridColumns();var E=i.groupAutoColumns?i.groupAutoColumns.slice():[];return v.forEach(function(P){var R=i.getAutoColumn(P.colId);$r(E,R),i.syncColumnWithStateItem(R,P,e.defaultState,null,null,!0,r)}),E.forEach(S),i.applyOrderAfterApplyState(e),i.updateDisplayedColumns(r),i.dispatchEverythingChanged(r),h(),{unmatchedAndAutoStates:m,unmatchedCount:C}};this.columnAnimationService.start();var a=o(e.state||[],this.primaryColumns||[],function(u){return i.getPrimaryColumn(u)}),s=a.unmatchedAndAutoStates,l=a.unmatchedCount;return(s.length>0||Z(e.defaultState))&&(l=o(s,this.secondaryColumns||[],function(u){return i.getSecondaryColumn(u)}).unmatchedCount),this.columnAnimationService.finish(),l===0},t.prototype.applyOrderAfterApplyState=function(e){var r=this;if(!(!e.applyOrder||!e.state)){var i=[],o={};e.state.forEach(function(s){if(!(!s.colId||o[s.colId])){var l=r.gridColumnsMap[s.colId];l&&(i.push(l),o[s.colId]=!0)}});var a=0;if(this.gridColumns.forEach(function(s){var l=s.getColId(),u=o[l]!=null;if(!u){var c=l.startsWith(L.GROUP_AUTO_COLUMN_ID);c?Gh(i,s,a++):i.push(s)}}),i=this.placeLockedColumns(i),!this.doesMovePassMarryChildren(i)){console.warn("AG Grid: Applying column order broke a group where columns should be married together. Applying new order has been discarded.");return}this.gridColumns=i}},t.prototype.compareColumnStatesAndRaiseEvents=function(e){var r=this,i={rowGroupColumns:this.rowGroupColumns.slice(),pivotColumns:this.pivotColumns.slice(),valueColumns:this.valueColumns.slice()},o=this.getColumnState(),a={};return o.forEach(function(s){a[s.colId]=s}),function(){if(!r.gridOptionsWrapper.isSuppressColumnStateEvents()){var s=r.getPrimaryAndSecondaryAndAutoColumns(),l=function(m,C,b,w){var S=C.map(w),T=b.map(w),E=Hl(S,T);if(!E){var P={type:m,columns:b,column:b.length===1?b[0]:null,api:r.gridApi,columnApi:r.columnApi,source:e};r.eventService.dispatchEvent(P)}},u=function(m){var C=[];return s.forEach(function(b){var w=a[b.getColId()];w&&m(w,b)&&C.push(b)}),C},c=function(m){return m.getColId()};l(x.EVENT_COLUMN_ROW_GROUP_CHANGED,i.rowGroupColumns,r.rowGroupColumns,c),l(x.EVENT_COLUMN_PIVOT_CHANGED,i.pivotColumns,r.pivotColumns,c);var p=function(m,C){var b=m.aggFunc!=null,w=b!=C.isValueActive(),S=b&&m.aggFunc!=C.getAggFunc();return w||S},h=u(p);h.length>0&&r.fireColumnEvent(x.EVENT_COLUMN_VALUE_CHANGED,r.valueColumns,e);var d=function(m,C){return m.width!=C.getActualWidth()};r.fireColumnResizedEvent(u(d),!0,e);var f=function(m,C){return m.pinned!=C.getPinned()};r.raiseColumnPinnedEvent(u(f),e);var g=function(m,C){return m.hide==C.isVisible()};r.raiseColumnVisibleEvent(u(g),e);var v=function(m,C){return m.sort!=C.getSort()||m.sortIndex!=C.getSortIndex()};u(v).length>0&&r.sortController.dispatchSortChangedEvents(e),r.raiseColumnMovedEvent(o,e)}}},t.prototype.raiseColumnPinnedEvent=function(e,r){if(!!e.length){var i=e.length===1?e[0]:null,o=this.getCommonValue(e,function(s){return s.getPinned()}),a={type:x.EVENT_COLUMN_PINNED,pinned:o!=null?o:null,columns:e,column:i,api:this.gridApi,columnApi:this.columnApi,source:r};this.eventService.dispatchEvent(a)}},t.prototype.getCommonValue=function(e,r){if(!(!e||e.length==0)){for(var i=r(e[0]),o=1;o<e.length;o++)if(i!==r(e[o]))return;return i}},t.prototype.raiseColumnVisibleEvent=function(e,r){if(!!e.length){var i=e.length===1?e[0]:null,o=this.getCommonValue(e,function(s){return s.isVisible()}),a={type:x.EVENT_COLUMN_VISIBLE,visible:o,columns:e,column:i,api:this.gridApi,columnApi:this.columnApi,source:r};this.eventService.dispatchEvent(a)}},t.prototype.raiseColumnMovedEvent=function(e,r){var i=this,o=this.getColumnState(),a={};o.forEach(function(h){return a[h.colId]=h});var s={};e.forEach(function(h){a[h.colId]&&(s[h.colId]=!0)});var l=e.filter(function(h){return s[h.colId]}),u=o.filter(function(h){return s[h.colId]}),c=[];if(u.forEach(function(h,d){var f=l&&l[d];if(f&&f.colId!==h.colId){var g=i.getGridColumn(f.colId);g&&c.push(g)}}),!!c.length){var p={type:x.EVENT_COLUMN_MOVED,columns:c,column:null,api:this.gridApi,columnApi:this.columnApi,source:r};this.eventService.dispatchEvent(p)}},t.prototype.syncColumnWithStateItem=function(e,r,i,o,a,s,l){if(!!e){var u=function(R,M){var N={value1:void 0,value2:void 0},B=!1;return r&&(r[R]!==void 0&&(N.value1=r[R],B=!0),Z(M)&&r[M]!==void 0&&(N.value2=r[M],B=!0)),!B&&i&&(i[R]!==void 0&&(N.value1=i[R]),Z(M)&&i[M]!==void 0&&(N.value2=i[M])),N},c=u("hide").value1;c!==void 0&&e.setVisible(!c,l);var p=u("pinned").value1;p!==void 0&&e.setPinned(p);var h=this.columnUtils.calculateColMinWidth(e.getColDef()),d=u("flex").value1;d!==void 0&&e.setFlex(d);var f=e.getFlex()<=0;if(f){var g=u("width").value1;g!=null&&h!=null&&g>=h&&e.setActualWidth(g,l)}var v=u("sort").value1;v!==void 0&&(v===L.SORT_DESC||v===L.SORT_ASC?e.setSort(v,l):e.setSort(void 0,l));var m=u("sortIndex").value1;if(m!==void 0&&e.setSortIndex(m),!(s||!e.isPrimary())){var C=u("aggFunc").value1;C!==void 0&&(typeof C=="string"?(e.setAggFunc(C),e.isValueActive()||(e.setValueActive(!0,l),this.valueColumns.push(e))):(Z(C)&&console.warn("AG Grid: stateItem.aggFunc must be a string. if using your own aggregation functions, register the functions first before using them in get/set state. This is because it is intended for the column state to be stored and retrieved as simple JSON."),e.isValueActive()&&(e.setValueActive(!1,l),$r(this.valueColumns,e))));var b=u("rowGroup","rowGroupIndex"),w=b.value1,S=b.value2;(w!==void 0||S!==void 0)&&(typeof S=="number"||w?(e.isRowGroupActive()||(e.setRowGroupActive(!0,l),this.rowGroupColumns.push(e)),o&&typeof S=="number"&&(o[e.getId()]=S)):e.isRowGroupActive()&&(e.setRowGroupActive(!1,l),$r(this.rowGroupColumns,e)));var T=u("pivot","pivotIndex"),E=T.value1,P=T.value2;(E!==void 0||P!==void 0)&&(typeof P=="number"||E?(e.isPivotActive()||(e.setPivotActive(!0,l),this.pivotColumns.push(e)),a&&typeof P=="number"&&(a[e.getId()]=P)):e.isPivotActive()&&(e.setPivotActive(!1,l),$r(this.pivotColumns,e)))}}},t.prototype.getGridColumns=function(e){return this.getColumns(e,this.getGridColumn.bind(this))},t.prototype.getColumns=function(e,r){var i=[];return e&&e.forEach(function(o){var a=r(o);a&&i.push(a)}),i},t.prototype.getColumnWithValidation=function(e){if(e==null)return null;var r=this.getGridColumn(e);return r||console.warn("AG Grid: could not find column "+e),r},t.prototype.getPrimaryColumn=function(e){return this.primaryColumns?this.getColumn(e,this.primaryColumns,this.primaryColumnsMap):null},t.prototype.getGridColumn=function(e){return this.getColumn(e,this.gridColumns,this.gridColumnsMap)},t.prototype.getSecondaryColumn=function(e){return this.secondaryColumns?this.getColumn(e,this.secondaryColumns,this.secondaryColumnsMap):null},t.prototype.getColumn=function(e,r,i){if(!e)return null;if(typeof e=="string"&&i[e])return i[e];for(var o=0;o<r.length;o++)if(this.columnsMatch(r[o],e))return r[o];return this.getAutoColumn(e)},t.prototype.getAutoColumn=function(e){var r=this;return!this.groupAutoColumns||!Z(this.groupAutoColumns)||ye(this.groupAutoColumns)?null:this.groupAutoColumns.find(function(i){return r.columnsMatch(i,e)})||null},t.prototype.columnsMatch=function(e,r){var i=e===r,o=e.getColDef()===r,a=e.getColId()==r;return i||o||a},t.prototype.getDisplayNameForColumn=function(e,r,i){if(i===void 0&&(i=!1),!e)return null;var o=this.getHeaderName(e.getColDef(),e,null,null,r);return i?this.wrapHeaderNameWithAggFunc(e,o):o},t.prototype.getDisplayNameForProvidedColumnGroup=function(e,r,i){var o=r?r.getColGroupDef():null;return o?this.getHeaderName(o,null,e,r,i):null},t.prototype.getDisplayNameForColumnGroup=function(e,r){return this.getDisplayNameForProvidedColumnGroup(e,e.getProvidedColumnGroup(),r)},t.prototype.getHeaderName=function(e,r,i,o,a){var s=e.headerValueGetter;if(s){var l={colDef:e,column:r,columnGroup:i,providedColumnGroup:o,location:a,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()};return typeof s=="function"?s(l):typeof s=="string"?this.expressionService.evaluate(s,l):(console.warn("ag-grid: headerValueGetter must be a function or a string"),"")}else{if(e.headerName!=null)return e.headerName;if(e.field)return mS(e.field)}return""},t.prototype.wrapHeaderNameWithAggFunc=function(e,r){if(this.gridOptionsWrapper.isSuppressAggFuncInHeader())return r;var i=e.getColDef().pivotValueColumn,o=Z(i),a=null,s;if(o){var l=this.gridOptionsWrapper.isRemovePivotHeaderRowWhenSingleValueColumn()&&this.valueColumns.length===1,u=e.getColDef().pivotTotalColumnIds!==void 0;if(l&&!u)return r;a=i?i.getAggFunc():null,s=!0}else{var c=e.isValueActive(),p=this.pivotMode||!this.isRowGroupEmpty();c&&p?(a=e.getAggFunc(),s=!0):s=!1}if(s){var h=typeof a=="string"?a:"func",d=this.gridOptionsWrapper.getLocaleTextFunc(),f=d(h,h);return f+"("+r+")"}return r},t.prototype.getColumnGroup=function(e,r){if(!e)return null;if(e instanceof kr)return e;var i=this.getAllDisplayedTrees(),o=typeof r=="number",a=null;return this.columnUtils.depthFirstAllColumnTreeSearch(i,function(s){if(s instanceof kr){var l=s,u=void 0;o?u=e===l.getGroupId()&&r===l.getInstanceId():u=e===l.getGroupId(),u&&(a=l)}}),a},t.prototype.isReady=function(){return this.ready},t.prototype.extractValueColumns=function(e,r){this.valueColumns=this.extractColumns(r,this.valueColumns,function(i,o){return i.setValueActive(o,e)},function(){},function(){},function(i){var o=i.aggFunc;if(o===null||o==="")return null;if(o!==void 0)return!!o},function(i){return i.initialAggFunc!=null&&i.initialAggFunc!=""}),this.valueColumns.forEach(function(i){var o=i.getColDef();o.aggFunc!=null&&o.aggFunc!=""?i.setAggFunc(o.aggFunc):i.getAggFunc()||i.setAggFunc(o.initialAggFunc)})},t.prototype.extractRowGroupColumns=function(e,r){this.rowGroupColumns=this.extractColumns(r,this.rowGroupColumns,function(i,o){return i.setRowGroupActive(o,e)},function(i){return i.rowGroupIndex},function(i){return i.initialRowGroupIndex},function(i){return i.rowGroup},function(i){return i.initialRowGroup})},t.prototype.extractColumns=function(e,r,i,o,a,s,l){e===void 0&&(e=[]),r===void 0&&(r=[]);var u=[],c=[];(this.primaryColumns||[]).forEach(function(d){var f=e.indexOf(d)<0,g=d.getColDef(),v=ha(s(g)),m=ha(l(g)),C=Ri(o(g)),b=Ri(a(g)),w,S=v!==void 0,T=C!==void 0,E=m!==void 0,P=b!==void 0;if(S?w=v:T?C===null?w=!1:w=C>=0:f?E?w=m:P?w=b!=null&&b>=0:w=!1:w=r.indexOf(d)>=0,w){var R=f?C!=null||b!=null:C!=null;R?u.push(d):c.push(d)}});var p=function(d){var f=o(d.getColDef()),g=a(d.getColDef());return f!=null?f:g};u.sort(function(d,f){var g=p(d),v=p(f);return g===v?0:g<v?-1:1});var h=[].concat(u);return r.forEach(function(d){c.indexOf(d)>=0&&h.push(d)}),c.forEach(function(d){h.indexOf(d)<0&&h.push(d)}),r.forEach(function(d){h.indexOf(d)<0&&i(d,!1)}),h.forEach(function(d){r.indexOf(d)<0&&i(d,!0)}),h},t.prototype.extractPivotColumns=function(e,r){this.pivotColumns=this.extractColumns(r,this.pivotColumns,function(i,o){return i.setPivotActive(o,e)},function(i){return i.pivotIndex},function(i){return i.initialPivotIndex},function(i){return i.pivot},function(i){return i.initialPivot})},t.prototype.resetColumnGroupState=function(e){e===void 0&&(e="api");var r=[];this.columnUtils.depthFirstOriginalTreeSearch(null,this.primaryColumnTree,function(i){if(i instanceof at){var o=i.getColGroupDef(),a={groupId:i.getGroupId(),open:o?o.openByDefault:void 0};r.push(a)}}),this.setColumnGroupState(r,e)},t.prototype.getColumnGroupState=function(){var e=[];return this.columnUtils.depthFirstOriginalTreeSearch(null,this.gridBalancedTree,function(r){r instanceof at&&e.push({groupId:r.getGroupId(),open:r.isExpanded()})}),e},t.prototype.setColumnGroupState=function(e,r){var i=this;r===void 0&&(r="api"),this.columnAnimationService.start();var o=[];e.forEach(function(a){var s=a.groupId,l=a.open,u=i.getProvidedColumnGroup(s);!u||u.isExpanded()!==l&&(i.logger.log("columnGroupOpened("+u.getGroupId()+","+l+")"),u.setExpanded(l),o.push(u))}),this.updateGroupsAndDisplayedColumns(r),this.setFirstRightAndLastLeftPinned(r),o.forEach(function(a){var s={type:x.EVENT_COLUMN_GROUP_OPENED,columnGroup:a,api:i.gridApi,columnApi:i.columnApi};i.eventService.dispatchEvent(s)}),this.columnAnimationService.finish()},t.prototype.setColumnGroupOpened=function(e,r,i){i===void 0&&(i="api");var o;e instanceof at?o=e.getId():o=e||"",this.setColumnGroupState([{groupId:o,open:r}],i)},t.prototype.getProvidedColumnGroup=function(e){typeof e!="string"&&console.error("AG Grid: group key must be a string");var r=null;return this.columnUtils.depthFirstOriginalTreeSearch(null,this.gridBalancedTree,function(i){i instanceof at&&i.getId()===e&&(r=i)}),r},t.prototype.calculateColumnsForDisplay=function(){var e=this,r;return this.pivotMode&&ye(this.secondaryColumns)?r=this.gridColumns.filter(function(i){var o=e.groupAutoColumns&&ri(e.groupAutoColumns,i),a=e.valueColumns&&ri(e.valueColumns,i);return o||a}):r=this.gridColumns.filter(function(i){var o=e.groupAutoColumns&&ri(e.groupAutoColumns,i);return o||i.isVisible()}),r},t.prototype.checkColSpanActiveInCols=function(e){var r=!1;return e.forEach(function(i){Z(i.getColDef().colSpan)&&(r=!0)}),r},t.prototype.calculateColumnsForGroupDisplay=function(){var e=this;this.groupDisplayColumns=[];var r=function(i){var o=i.getColDef();o&&Z(o.showRowGroup)&&e.groupDisplayColumns.push(i)};this.gridColumns.forEach(r),this.groupAutoColumns&&this.groupAutoColumns.forEach(r)},t.prototype.getGroupDisplayColumns=function(){return this.groupDisplayColumns},t.prototype.updateDisplayedColumns=function(e){var r=this.calculateColumnsForDisplay();this.buildDisplayedTrees(r),this.calculateColumnsForGroupDisplay(),this.updateGroupsAndDisplayedColumns(e),this.setFirstRightAndLastLeftPinned(e)},t.prototype.isSecondaryColumnsPresent=function(){return Z(this.secondaryColumns)},t.prototype.setSecondaryColumns=function(e,r){var i=this;r===void 0&&(r="api");var o=e&&e.length>0;if(!(!o&&ye(this.secondaryColumns))){if(o){this.processSecondaryColumnDefinitions(e);var a=this.columnFactory.createColumnTree(e,!1,this.secondaryBalancedTree||this.previousSecondaryColumns||void 0);this.secondaryBalancedTree=a.columnTree,this.secondaryHeaderRowCount=a.treeDept+1,this.secondaryColumns=this.getColumnsFromTree(this.secondaryBalancedTree),this.secondaryColumnsMap={},this.secondaryColumns.forEach(function(s){return i.secondaryColumnsMap[s.getId()]=s}),this.previousSecondaryColumns=null}else this.previousSecondaryColumns=this.secondaryBalancedTree,this.secondaryBalancedTree=null,this.secondaryHeaderRowCount=-1,this.secondaryColumns=null,this.secondaryColumnsMap={};this.updateGridColumns(),this.updateDisplayedColumns(r)}},t.prototype.processSecondaryColumnDefinitions=function(e){var r=this.gridOptionsWrapper.getProcessSecondaryColDefFunc(),i=this.gridOptionsWrapper.getProcessSecondaryColGroupDefFunc();if(!(!r&&!i)){var o=function(a){a.forEach(function(s){var l=Z(s.children);if(l){var u=s;i&&i(u),o(u.children)}else{var c=s;r&&r(c)}})};e&&o(e)}},t.prototype.updateGridColumns=function(){var e=this;if(this.gridColsArePrimary?this.lastPrimaryOrder=this.gridColumns:this.lastSecondaryOrder=this.gridColumns,this.secondaryColumns&&this.secondaryBalancedTree){var r=this.secondaryColumns.every(function(o){return e.gridColumnsMap[o.getColId()]!==void 0});this.gridBalancedTree=this.secondaryBalancedTree.slice(),this.gridHeaderRowCount=this.secondaryHeaderRowCount,this.gridColumns=this.secondaryColumns.slice(),this.gridColsArePrimary=!1,r&&this.orderGridColsLike(this.lastSecondaryOrder)}else this.primaryColumns&&(this.gridBalancedTree=this.primaryColumnTree.slice(),this.gridHeaderRowCount=this.primaryHeaderRowCount,this.gridColumns=this.primaryColumns.slice(),this.gridColsArePrimary=!0,this.orderGridColsLike(this.lastPrimaryOrder));this.addAutoGroupToGridColumns(),this.gridColumns=this.placeLockedColumns(this.gridColumns),this.setupQuickFilterColumns(),this.clearDisplayedAndViewportColumns(),this.colSpanActive=this.checkColSpanActiveInCols(this.gridColumns),this.gridColumnsMap={},this.gridColumns.forEach(function(o){return e.gridColumnsMap[o.getId()]=o}),this.setAutoHeightActive();var i={type:x.EVENT_GRID_COLUMNS_CHANGED,api:this.gridApi,columnApi:this.columnApi};this.eventService.dispatchEvent(i)},t.prototype.setAutoHeightActive=function(){if(this.autoHeightActive=this.gridColumns.filter(function(o){return o.isAutoHeight()}).length>0,this.autoHeightActive){this.autoHeightActiveAtLeastOnce=!0;var e=this.rowModel.getType(),r=e===L.ROW_MODEL_TYPE_CLIENT_SIDE||e===L.ROW_MODEL_TYPE_SERVER_SIDE;if(!r){var i="AG Grid - autoHeight columns only work with Client Side Row Model and Server Side Row Model.";ct(function(){return console.warn(i)},"autoHeightActive.wrongRowModel")}}},t.prototype.orderGridColsLike=function(e){if(!ye(e)){var r=ms(e.map(function(c,p){return[c,p]})),i=!0;if(this.gridColumns.forEach(function(c){r.has(c)&&(i=!1)}),!i){var o=ms(this.gridColumns.map(function(c){return[c,!0]})),a=e.filter(function(c){return o.has(c)}),s=ms(a.map(function(c){return[c,!0]})),l=this.gridColumns.filter(function(c){return!s.has(c)}),u=a.slice();l.forEach(function(c){var p=c.getOriginalParent();if(!p){u.push(c);return}for(var h=[];!h.length&&p;){var d=p.getLeafColumns();d.forEach(function(v){var m=u.indexOf(v)>=0,C=h.indexOf(v)<0;m&&C&&h.push(v)}),p=p.getOriginalParent()}if(!h.length){u.push(c);return}var f=h.map(function(v){return u.indexOf(v)}),g=Math.max.apply(Math,dp(f));Gh(u,c,g+1)}),this.gridColumns=u}}},t.prototype.isPrimaryColumnGroupsPresent=function(){return this.primaryHeaderRowCount>1},t.prototype.setupQuickFilterColumns=function(){this.groupAutoColumns?this.columnsForQuickFilter=(this.primaryColumns||[]).concat(this.groupAutoColumns):this.primaryColumns&&(this.columnsForQuickFilter=this.primaryColumns)},t.prototype.placeLockedColumns=function(e){var r=[],i=[],o=[];return e.forEach(function(a){var s=a.getColDef().lockPosition;s==="right"?o.push(a):s==="left"||s===!0?r.push(a):i.push(a)}),dp(r,i,o)},t.prototype.addAutoGroupToGridColumns=function(){if(this.createGroupAutoColumnsIfNeeded(),!ye(this.groupAutoColumns)){this.gridColumns=this.groupAutoColumns?this.groupAutoColumns.concat(this.gridColumns):this.gridColumns;var e=this.columnFactory.createForAutoGroups(this.groupAutoColumns,this.gridBalancedTree);this.gridBalancedTree=e.concat(this.gridBalancedTree)}},t.prototype.clearDisplayedAndViewportColumns=function(){this.displayedTreeLeft=[],this.displayedTreeRight=[],this.displayedTreeCentre=[],this.viewportRowLeft={},this.viewportRowRight={},this.viewportRowCenter={},this.displayedColumnsLeft=[],this.displayedColumnsRight=[],this.displayedColumnsCenter=[],this.displayedColumns=[],this.viewportColumns=[]},t.prototype.updateGroupsAndDisplayedColumns=function(e){this.updateOpenClosedVisibilityInColumnGroups(),this.deriveDisplayedColumns(e),this.refreshFlexedColumns(),this.extractViewport(),this.updateBodyWidths();var r={type:x.EVENT_DISPLAYED_COLUMNS_CHANGED,api:this.gridApi,columnApi:this.columnApi};this.eventService.dispatchEvent(r)},t.prototype.deriveDisplayedColumns=function(e){this.derivedDisplayedColumnsFromDisplayedTree(this.displayedTreeLeft,this.displayedColumnsLeft),this.derivedDisplayedColumnsFromDisplayedTree(this.displayedTreeCentre,this.displayedColumnsCenter),this.derivedDisplayedColumnsFromDisplayedTree(this.displayedTreeRight,this.displayedColumnsRight),this.joinDisplayedColumns(),this.setLeftValues(e),this.displayedAutoHeightCols=this.displayedColumns.filter(function(r){return r.isAutoHeight()})},t.prototype.isAutoRowHeightActive=function(){return this.autoHeightActive},t.prototype.wasAutoRowHeightEverActive=function(){return this.autoHeightActiveAtLeastOnce},t.prototype.joinDisplayedColumns=function(){this.gridOptionsWrapper.isEnableRtl()?this.displayedColumns=this.displayedColumnsRight.concat(this.displayedColumnsCenter).concat(this.displayedColumnsLeft):this.displayedColumns=this.displayedColumnsLeft.concat(this.displayedColumnsCenter).concat(this.displayedColumnsRight)},t.prototype.setLeftValues=function(e){this.setLeftValuesOfColumns(e),this.setLeftValuesOfGroups()},t.prototype.setLeftValuesOfColumns=function(e){var r=this;if(!!this.primaryColumns){var i=this.primaryColumns.slice(0),o=this.gridOptionsWrapper.isEnableRtl();[this.displayedColumnsLeft,this.displayedColumnsRight,this.displayedColumnsCenter].forEach(function(a){if(o){var s=r.getWidthOfColsInList(a);a.forEach(function(u){s-=u.getActualWidth(),u.setLeft(s,e)})}else{var l=0;a.forEach(function(u){u.setLeft(l,e),l+=u.getActualWidth()})}dS(i,a)}),i.forEach(function(a){a.setLeft(null,e)})}},t.prototype.setLeftValuesOfGroups=function(){[this.displayedTreeLeft,this.displayedTreeRight,this.displayedTreeCentre].forEach(function(e){e.forEach(function(r){if(r instanceof kr){var i=r;i.checkLeft()}})})},t.prototype.derivedDisplayedColumnsFromDisplayedTree=function(e,r){r.length=0,this.columnUtils.depthFirstDisplayedColumnTreeSearch(e,function(i){i instanceof Se&&r.push(i)})},t.prototype.extractViewportColumns=function(){this.suppressColumnVirtualisation?this.viewportColumnsCenter=this.displayedColumnsCenter:this.viewportColumnsCenter=this.filterOutColumnsWithinViewport(),this.viewportColumns=this.viewportColumnsCenter.concat(this.displayedColumnsLeft).concat(this.displayedColumnsRight)},t.prototype.getVirtualHeaderGroupRow=function(e,r){var i;switch(e){case L.PINNED_LEFT:i=this.viewportRowLeft[r];break;case L.PINNED_RIGHT:i=this.viewportRowRight[r];break;default:i=this.viewportRowCenter[r];break}return ye(i)&&(i=[]),i},t.prototype.extractViewportRows=function(){this.viewportRowLeft={},this.viewportRowRight={},this.viewportRowCenter={};var e={};this.viewportColumns.forEach(function(i){return e[i.getId()]=!0});var r=function(i,o,a){for(var s=!1,l=0;l<i.length;l++){var u=i[l],c=!1;if(u instanceof Se)c=e[u.getId()]===!0;else{var p=u,h=p.getDisplayedChildren();h&&(c=r(h,o,a+1))}c&&(s=!0,o[a]||(o[a]=[]),o[a].push(u))}return s};r(this.displayedTreeLeft,this.viewportRowLeft,0),r(this.displayedTreeRight,this.viewportRowRight,0),r(this.displayedTreeCentre,this.viewportRowCenter,0)},t.prototype.extractViewport=function(){this.extractViewportColumns(),this.extractViewportRows()},t.prototype.filterOutColumnsWithinViewport=function(){return this.displayedColumnsCenter.filter(this.isColumnInViewport.bind(this))},t.prototype.refreshFlexedColumns=function(e){var r=this;e===void 0&&(e={});var i=e.source?e.source:"flex";if(e.viewportWidth!=null&&(this.flexViewportWidth=e.viewportWidth),!this.flexViewportWidth)return[];var o=-1;e.resizingCols&&e.resizingCols.forEach(function(w){var S=r.displayedColumnsCenter.indexOf(w);o<S&&(o=S)});var a=function(w){var S=r.displayedColumnsCenter.indexOf(w)>o;return w.getFlex()&&S},s=this.displayedColumnsCenter.filter(function(w){return!a(w)}),l=this.displayedColumnsCenter.filter(function(w){return a(w)}),u=[];if(!l.length)return[];var c=[],p;e:for(;;){var h=l.reduce(function(w,S){return w+S.getFlex()},0);p=this.flexViewportWidth-this.getWidthOfColsInList(s);for(var d=0;d<l.length;d++){var f=l[d],g=p*f.getFlex()/h,v=0,m=f.getMinWidth(),C=f.getMaxWidth();if(Z(m)&&g<m?v=m:Z(C)&&g>C&&(v=C),v){f.setActualWidth(v,i),$r(l,f),u.push(f),s.push(f);continue e}c[d]=Math.round(g)}break}var b=p;return l.forEach(function(w,S){w.setActualWidth(Math.min(c[S],b),i),u.push(w),b-=c[S]}),e.skipSetLeft||this.setLeftValues(i),e.updateBodyWidths&&this.updateBodyWidths(),e.fireResizedEvent&&this.fireColumnResizedEvent(u,!0,i,l),this.flexColsCalculatedAtLestOnce||(this.gridOptionsWrapper.isRowModelDefault()&&this.rowModel.resetRowHeights(),this.flexColsCalculatedAtLestOnce=!0),l},t.prototype.sizeColumnsToFit=function(e,r,i){r===void 0&&(r="sizeColumnsToFit");var o=this.getAllDisplayedColumns();if(!(e<=0||!o.length)){var a=[],s=[];o.forEach(function(b){b.getColDef().suppressSizeToFit===!0?s.push(b):a.push(b)});var l=a.slice(0),u=!1,c=function(b){$r(a,b),s.push(b)};for(a.forEach(function(b){return b.resetActualWidth(r)});!u;){u=!0;var p=e-this.getWidthOfColsInList(s);if(p<=0)a.forEach(function(b){b.setMinimum(r)});else for(var h=p/this.getWidthOfColsInList(a),d=p,f=a.length-1;f>=0;f--){var g=a[f],v=g.getMinWidth(),m=g.getMaxWidth(),C=Math.round(g.getActualWidth()*h);Z(v)&&C<v?(C=v,c(g),u=!1):Z(m)&&g.isGreaterThanMax(C)?(C=m,c(g),u=!1):f===0&&(C=d),g.setActualWidth(C,r,!0),d-=C}}l.forEach(function(b){b.fireColumnWidthChangedEvent(r)}),this.setLeftValues(r),this.updateBodyWidths(),!i&&this.fireColumnResizedEvent(l,!0,r)}},t.prototype.buildDisplayedTrees=function(e){var r=[],i=[],o=[];e.forEach(function(s){switch(s.getPinned()){case"left":r.push(s);break;case"right":i.push(s);break;default:o.push(s);break}});var a=new vS;this.displayedTreeLeft=this.displayedGroupCreator.createDisplayedGroups(r,this.gridBalancedTree,a,L.PINNED_LEFT,this.displayedTreeLeft),this.displayedTreeRight=this.displayedGroupCreator.createDisplayedGroups(i,this.gridBalancedTree,a,L.PINNED_RIGHT,this.displayedTreeRight),this.displayedTreeCentre=this.displayedGroupCreator.createDisplayedGroups(o,this.gridBalancedTree,a,null,this.displayedTreeCentre),this.updateDisplayedMap()},t.prototype.updateDisplayedMap=function(){var e=this;this.displayedColumnsAndGroupsMap={};var r=function(i){e.displayedColumnsAndGroupsMap[i.getUniqueId()]=i};this.columnUtils.depthFirstAllColumnTreeSearch(this.displayedTreeCentre,r),this.columnUtils.depthFirstAllColumnTreeSearch(this.displayedTreeLeft,r),this.columnUtils.depthFirstAllColumnTreeSearch(this.displayedTreeRight,r)},t.prototype.isDisplayed=function(e){var r=this.displayedColumnsAndGroupsMap[e.getUniqueId()];return r===e},t.prototype.updateOpenClosedVisibilityInColumnGroups=function(){var e=this.getAllDisplayedTrees();this.columnUtils.depthFirstAllColumnTreeSearch(e,function(r){if(r instanceof kr){var i=r;i.calculateDisplayedColumns()}})},t.prototype.getGroupAutoColumns=function(){return this.groupAutoColumns},t.prototype.createGroupAutoColumnsIfNeeded=function(){if(!!this.autoGroupsNeedBuilding){this.autoGroupsNeedBuilding=!1;var e=this.gridOptionsWrapper.isGroupUseEntireRow(this.pivotMode),r=this.pivotMode?this.gridOptionsWrapper.isPivotSuppressAutoColumn():this.gridOptionsWrapper.isGroupSuppressAutoColumn(),i=this.rowGroupColumns.length>0||this.usingTreeData,o=i&&!r&&!e;if(o){var a=this.groupAutoColumns||[],s=this.autoGroupColService.createAutoGroupColumns(a,this.rowGroupColumns),l=!this.autoColsEqual(s,this.groupAutoColumns);(l||this.forceRecreateAutoGroups)&&(this.groupAutoColumns=s)}else this.groupAutoColumns=null}},t.prototype.autoColsEqual=function(e,r){return Hl(e,r,function(i,o){return i.getColId()===o.getColId()})},t.prototype.getWidthOfColsInList=function(e){return e.reduce(function(r,i){return r+i.getActualWidth()},0)},t.prototype.getGridBalancedTree=function(){return this.gridBalancedTree},t.prototype.hasFloatingFilters=function(){if(!this.gridColumns)return!1;var e=this.gridColumns.some(function(r){return r.getColDef().floatingFilter});return e},t.prototype.getFirstDisplayedColumn=function(){var e=this.gridOptionsWrapper.isEnableRtl(),r=["getDisplayedLeftColumns","getDisplayedCenterColumns","getDisplayedRightColumns"];e&&r.reverse();for(var i=0;i<r.length;i++){var o=this[r[i]]();if(o.length)return e?wt(o):o[0]}return null},pr([y("expressionService")],t.prototype,"expressionService",void 0),pr([y("columnFactory")],t.prototype,"columnFactory",void 0),pr([y("displayedGroupCreator")],t.prototype,"displayedGroupCreator",void 0),pr([y("ctrlsService")],t.prototype,"ctrlsService",void 0),pr([y("autoWidthCalculator")],t.prototype,"autoWidthCalculator",void 0),pr([y("columnUtils")],t.prototype,"columnUtils",void 0),pr([y("columnAnimationService")],t.prototype,"columnAnimationService",void 0),pr([y("autoGroupColService")],t.prototype,"autoGroupColService",void 0),pr([Fe("aggFuncService")],t.prototype,"aggFuncService",void 0),pr([Fe("valueCache")],t.prototype,"valueCache",void 0),pr([Fe("animationFrameService")],t.prototype,"animationFrameService",void 0),pr([y("rowModel")],t.prototype,"rowModel",void 0),pr([y("columnApi")],t.prototype,"columnApi",void 0),pr([y("gridApi")],t.prototype,"gridApi",void 0),pr([y("sortController")],t.prototype,"sortController",void 0),pr([y("columnDefFactory")],t.prototype,"columnDefFactory",void 0),pr([H],t.prototype,"init",null),pr([LV(0,xr("loggerFactory"))],t.prototype,"setBeans",null),t=pr([J("columnModel")],t),t}(j);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v27.3.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */var kV=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),GV=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},fM=function(n){kV(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.calculateColMinWidth=function(e){return e.minWidth!=null?e.minWidth:this.gridOptionsWrapper.getMinColWidth()},t.prototype.calculateColMaxWidth=function(e){return e.maxWidth!=null?e.maxWidth:this.gridOptionsWrapper.getMaxColWidth()||Number.MAX_SAFE_INTEGER},t.prototype.calculateColInitialWidth=function(e){var r=this.calculateColMinWidth(e),i=this.calculateColMaxWidth(e),o,a=Ri(e.width),s=Ri(e.initialWidth);return a!=null?o=a:s!=null?o=s:o=this.gridOptionsWrapper.getColWidth(),Math.max(Math.min(o,i),r)},t.prototype.getOriginalPathForColumn=function(e,r){var i=[],o=!1,a=function(s,l){for(var u=0;u<s.length;u++){if(o)return;var c=s[u];if(c instanceof at){var p=c;a(p.getChildren(),l+1),i[l]=c}else c===e&&(o=!0)}};return a(r,0),o?i:null},t.prototype.depthFirstOriginalTreeSearch=function(e,r,i){var o=this;!r||r.forEach(function(a){a instanceof at&&o.depthFirstOriginalTreeSearch(a,a.getChildren(),i),i(a,e)})},t.prototype.depthFirstAllColumnTreeSearch=function(e,r){var i=this;!e||e.forEach(function(o){o instanceof kr&&i.depthFirstAllColumnTreeSearch(o.getChildren(),r),r(o)})},t.prototype.depthFirstDisplayedColumnTreeSearch=function(e,r){var i=this;!e||e.forEach(function(o){o instanceof kr&&i.depthFirstDisplayedColumnTreeSearch(o.getDisplayedChildren(),r),r(o)})},t=GV([J("columnUtils")],t),t}(j);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v27.3.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */var BV=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),VV=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},gM=function(n){BV(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.createDisplayedGroups=function(e,r,i,o,a){var s=this,l=[],u,c,p=this.mapOldGroupsById(a);return e.forEach(function(h){for(var d=s.getOriginalPathForColumn(r,h),f=[],g=!c,v=0;v<d.length;v++)if(g||d[v]!==c[v]){var m=s.createColumnGroup(d[v],i,p,o);f[v]=m,v==0?l.push(m):f[v-1].addChild(m)}else f[v]=u[v];var C=f.length===0;if(C)l.push(h);else{var b=wt(f);b.addChild(h)}u=f,c=d}),this.setupParentsIntoColumns(l,null),l},t.prototype.createColumnGroup=function(e,r,i,o){var a=e.getGroupId(),s=r.getInstanceIdForKey(a),l=kr.createUniqueId(a,s),u=i[l];return u&&u.getProvidedColumnGroup()!==e&&(u=null),Z(u)?u.reset():(u=new kr(e,a,s,o),this.context.createBean(u)),u},t.prototype.mapOldGroupsById=function(e){var r={},i=function(o){o.forEach(function(a){if(a instanceof kr){var s=a;r[a.getUniqueId()]=s,i(s.getChildren())}})};return e&&i(e),r},t.prototype.setupParentsIntoColumns=function(e,r){var i=this;e.forEach(function(o){if(o.setParent(r),o instanceof kr){var a=o;i.setupParentsIntoColumns(a.getChildren(),a)}})},t.prototype.getOriginalPathForColumn=function(e,r){var i=[],o=!1,a=function(s,l){for(var u=0;u<s.length;u++){if(o)return;var c=s[u];c instanceof at?(a(c.getChildren(),l+1),i[l]=c):c===r&&(o=!0)}};return a(e,0),o?i:(console.warn("AG Grid: could not get path"),null)},t=VV([J("displayedGroupCreator")],t),t}(j);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v27.3.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */var WV=globalThis&&globalThis.__read||function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},HV=globalThis&&globalThis.__spread||function(){for(var n=[],t=0;t<arguments.length;t++)n=n.concat(WV(arguments[t]));return n},To=function(){function n(){}return n.STRING_PROPERTIES=["sortingOrder","rowClass","rowSelection","overlayLoadingTemplate","overlayNoRowsTemplate","quickFilterText","rowModelType","editType","domLayout","clipboardDelimiter","rowGroupPanelShow","multiSortKey","pivotColumnGroupTotals","pivotRowTotals","pivotPanelShow","fillHandleDirection","serverSideStoreType","groupDisplayType","treeDataDisplayType"],n.OBJECT_PROPERTIES=["components","frameworkComponents","rowStyle","context","autoGroupColumnDef","localeText","icons","datasource","serverSideDatasource","viewportDatasource","groupRowRendererParams","aggFuncs","fullWidthCellRendererParams","defaultColGroupDef","defaultColDef","defaultExportParams","defaultCsvExportParams","defaultExcelExportParams","columnTypes","rowClassRules","detailCellRendererParams","loadingCellRendererParams","loadingOverlayComponentParams","noRowsOverlayComponentParams","popupParent","colResizeDefault","statusBar","sideBar","chartThemeOverrides","customChartThemes"],n.ARRAY_PROPERTIES=["alignedGrids","rowData","columnDefs","excelStyles","pinnedTopRowData","pinnedBottomRowData","chartThemes"],n.NUMBER_PROPERTIES=["rowHeight","detailRowHeight","rowBuffer","colWidth","headerHeight","groupHeaderHeight","floatingFiltersHeight","pivotHeaderHeight","pivotGroupHeaderHeight","groupDefaultExpanded","minColWidth","maxColWidth","viewportRowModelPageSize","viewportRowModelBufferSize","autoSizePadding","maxBlocksInCache","maxConcurrentDatasourceRequests","tooltipShowDelay","tooltipHideDelay","cacheOverflowSize","paginationPageSize","cacheBlockSize","infiniteInitialRowCount","scrollbarWidth","batchUpdateWaitMillis","asyncTransactionWaitMillis","blockLoadDebounceMillis","keepDetailRowsCount","undoRedoCellEditingLimit","cellFlashDelay","cellFadeDelay","tabIndex"],n.BOOLEAN_PROPERTIES=["suppressMakeColumnVisibleAfterUnGroup","suppressRowClickSelection","suppressCellSelection","suppressCellFocus","suppressHorizontalScroll","alwaysShowHorizontalScroll","alwaysShowVerticalScroll","debug","enableBrowserTooltips","enableCellExpressions","angularCompileRows","angularCompileFilters","groupSuppressAutoColumn","groupSelectsChildren","groupIncludeFooter","groupIncludeTotalFooter","groupUseEntireRow","groupSuppressBlankHeader","suppressMenuHide","suppressRowDeselection","unSortIcon","suppressMultiSort","alwaysMultiSort","singleClickEdit","suppressLoadingOverlay","suppressNoRowsOverlay","suppressAutoSize","skipHeaderOnAutoSize","suppressParentsInRowNodes","suppressColumnMoveAnimation","suppressMovableColumns","suppressFieldDotNotation","enableRangeSelection","enableRangeHandle","enableFillHandle","suppressClearOnFillReduction","deltaSort","suppressTouch","suppressAsyncEvents","allowContextMenuWithControlKey","suppressContextMenu","rememberGroupStateWhenNewData","enableCellChangeFlash","suppressDragLeaveHidesColumns","suppressMiddleClickScrolls","suppressPreventDefaultOnMouseWheel","suppressCopyRowsToClipboard","copyHeadersToClipboard","copyGroupHeadersToClipboard","pivotMode","suppressAggFuncInHeader","suppressColumnVirtualisation","suppressAggAtRootLevel","suppressFocusAfterRefresh","functionsPassive","functionsReadOnly","animateRows","groupSelectsFiltered","groupRemoveSingleChildren","groupRemoveLowestSingleChildren","enableRtl","suppressClickEdit","rowDragEntireRow","rowDragManaged","suppressRowDrag","suppressMoveWhenRowDragging","rowDragMultiRow","enableGroupEdit","embedFullWidthRows","deprecatedEmbedFullWidthRows","suppressPaginationPanel","groupHideOpenParents","groupMultiAutoColumn","pagination","stopEditingWhenGridLosesFocus","paginationAutoPageSize","suppressScrollOnNewData","suppressScrollWhenPopupsAreOpen","purgeClosedRowNodes","cacheQuickFilter","deltaRowDataMode","ensureDomOrder","accentedSort","suppressChangeDetection","valueCache","valueCacheNeverExpires","aggregateOnlyChangedColumns","suppressAnimationFrame","suppressExcelExport","suppressCsvExport","treeData","masterDetail","suppressMultiRangeSelection","enterMovesDownAfterEdit","enterMovesDown","suppressPropertyNamesCheck","rowMultiSelectWithClick","suppressEnterpriseResetOnNewColumns","suppressRowHoverHighlight","suppressRowTransform","suppressClipboardPaste","suppressLastEmptyLineOnPaste","serverSideSortingAlwaysResets","suppressSetColumnStateEvents","suppressColumnStateEvents","enableCharts","deltaColumnMode","suppressMaintainUnsortedOrder","enableCellTextSelection","suppressBrowserResizeObserver","suppressMaxRenderedRowRestriction","excludeChildrenWhenTreeDataFiltering","tooltipMouseTrack","keepDetailRows","paginateChildRows","preventDefaultOnContextMenu","undoRedoCellEditing","allowDragFromColumnsToolPanel","immutableData","immutableColumns","pivotSuppressAutoColumn","suppressExpandablePivotGroups","applyColumnDefOrder","debounceVerticalScrollbar","detailRowAutoHeight","serverSideFilteringAlwaysResets","suppressAggFilteredOnly","showOpenedGroup","suppressClipboardApi","suppressModelUpdateAfterUpdateTransaction","stopEditingWhenCellsLoseFocus","maintainColumnOrder","groupMaintainOrder","columnHoverHighlight","reactUi","suppressReactUi","readOnlyEdit","suppressRowVirtualisation","resetRowDataOnUpdate","removePivotHeaderRowWhenSingleValueColumn","suppressCopySingleCellRanges"],n.FUNCTION_PROPERTIES=["localeTextFunc","getLocaleText","groupRowInnerRenderer","groupRowInnerRendererFramework","groupRowRenderer","groupRowRendererFramework","isExternalFilterPresent","getRowHeight","doesExternalFilterPass","getRowClass","getRowStyle","getContextMenuItems","getMainMenuItems","processRowPostCreate","processCellForClipboard","groupRowAggNodes","getGroupRowAgg","getRowNodeId","isFullWidthCell","isFullWidthRow","fullWidthCellRenderer","fullWidthCellRendererFramework","processSecondaryColDef","processSecondaryColGroupDef","getBusinessKeyForNode","sendToClipboard","navigateToNextHeader","tabToNextHeader","navigateToNextCell","tabToNextCell","processCellFromClipboard","getDocument","postProcessPopup","getChildCount","getDataPath","loadingCellRenderer","loadingCellRendererFramework","loadingOverlayComponent","loadingOverlayComponentFramework","noRowsOverlayComponent","noRowsOverlayComponentFramework","detailCellRenderer","detailCellRendererFramework","isRowMaster","isRowSelectable","postSort","postSortRows","processHeaderForClipboard","processGroupHeaderForClipboard","paginationNumberFormatter","processDataFromClipboard","getServerSideGroupKey","isServerSideGroup","suppressKeyboardEvent","createChartContainer","getChartToolbarItems","fillOperation","isApplyServerSideTransaction","getServerSideStoreParams","isServerSideGroupOpenByDefault","isGroupOpenByDefault","defaultGroupSortComparator","defaultGroupOrderComparator","initialGroupOrderComparator","loadingCellRendererSelector","getRowId","groupAggFiltering"],n.ALL_PROPERTIES=HV(n.ARRAY_PROPERTIES,n.OBJECT_PROPERTIES,n.STRING_PROPERTIES,n.NUMBER_PROPERTIES,n.FUNCTION_PROPERTIES,n.BOOLEAN_PROPERTIES),n.FRAMEWORK_PROPERTIES=["__ob__","__v_skip","__metadata__","mappedColumnProperties","hasChildColumns","toColDef","createColDefFromGridColumn"],n}();/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v27.3.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */var cw=globalThis&&globalThis.__assign||function(){return cw=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},cw.apply(this,arguments)},jV=globalThis&&globalThis.__read||function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},hT=globalThis&&globalThis.__spread||function(){for(var n=[],t=0;t<arguments.length;t++)n=n.concat(jV(arguments[t]));return n},Os=function(){function n(){}return n.getEventCallbacks=function(){return n.EVENT_CALLBACKS||(n.EVENT_CALLBACKS=n.EVENTS.map(function(t){return n.getCallbackForEvent(t)})),n.EVENT_CALLBACKS},n.copyAttributesToGridOptions=function(t,e,r){typeof t!="object"&&(t={});var i=t,o=function(a){return typeof e[a]!="undefined"};return o("groupAggFiltering")&&typeof e.groupAggFiltering!="function"&&(i.groupAggFiltering=n.toBoolean(e.groupAggFiltering),delete e.groupAggFiltering),hT(n.ARRAY_PROPERTIES,n.STRING_PROPERTIES,n.OBJECT_PROPERTIES,n.FUNCTION_PROPERTIES,n.getEventCallbacks()).filter(o).forEach(function(a){return i[a]=e[a]}),n.BOOLEAN_PROPERTIES.filter(o).forEach(function(a){return i[a]=n.toBoolean(e[a])}),n.NUMBER_PROPERTIES.filter(o).forEach(function(a){return i[a]=n.toNumber(e[a])}),t},n.getCallbackForEvent=function(t){return!t||t.length<2?t:"on"+t[0].toUpperCase()+t.substr(1)},n.processOnChange=function(t,e,r,i){if(!!t){var o=cw({},t),a=e,s=function(c){return o[c]};s("groupAggFiltering")&&(typeof o.groupAggFiltering=="function"?a.groupAggFiltering=o.groupAggFiltering:a.groupAggFiltering=n.toBoolean(o.groupAggFiltering),delete o.groupAggFiltering),o.rowClass&&(r.setRowClass(o.rowClass.currentValue),delete o.rowClass),hT(n.ARRAY_PROPERTIES,n.OBJECT_PROPERTIES,n.STRING_PROPERTIES,n.getEventCallbacks()).filter(s).forEach(function(c){return a[c]=o[c].currentValue}),n.BOOLEAN_PROPERTIES.filter(s).forEach(function(c){return a[c]=n.toBoolean(o[c].currentValue)}),n.NUMBER_PROPERTIES.filter(s).forEach(function(c){return a[c]=n.toNumber(o[c].currentValue)}),o.enableCellTextSelection&&(r.setEnableCellTextSelection(n.toBoolean(o.enableCellTextSelection.currentValue)),delete o.enableCellTextSelection),o.quickFilterText&&(r.setQuickFilter(o.quickFilterText.currentValue),delete o.quickFilterText),o.autoGroupColumnDef&&(r.setAutoGroupColumnDef(o.autoGroupColumnDef.currentValue,"gridOptionsChanged"),delete o.autoGroupColumnDef),o.columnDefs&&(r.setColumnDefs(o.columnDefs.currentValue,"gridOptionsChanged"),delete o.columnDefs),o.defaultColDef&&(r.setDefaultColDef(o.defaultColDef.currentValue,"gridOptionsChanged"),delete o.defaultColDef),o.paginationPageSize&&(r.paginationSetPageSize(n.toNumber(o.paginationPageSize.currentValue)),delete o.paginationPageSize),o.pivotMode&&(i.setPivotMode(n.toBoolean(o.pivotMode.currentValue)),delete o.pivotMode),o.groupRemoveSingleChildren&&(r.setGroupRemoveSingleChildren(n.toBoolean(o.groupRemoveSingleChildren.currentValue)),delete o.groupRemoveSingleChildren),o.suppressRowDrag&&(r.setSuppressRowDrag(n.toBoolean(o.suppressRowDrag.currentValue)),delete o.suppressRowDrag),o.suppressMoveWhenRowDragging&&(r.setSuppressMoveWhenRowDragging(n.toBoolean(o.suppressMoveWhenRowDragging.currentValue)),delete o.suppressMoveWhenRowDragging),o.suppressRowClickSelection&&(r.setSuppressRowClickSelection(n.toBoolean(o.suppressRowClickSelection.currentValue)),delete o.suppressRowClickSelection),o.suppressClipboardPaste&&(r.setSuppressClipboardPaste(n.toBoolean(o.suppressClipboardPaste.currentValue)),delete o.suppressClipboardPaste),o.headerHeight&&(r.setHeaderHeight(n.toNumber(o.headerHeight.currentValue)),delete o.headerHeight);var l=r;Object.keys(o).forEach(function(c){var p="set"+c.charAt(0).toUpperCase()+c.substring(1);l[p]&&l[p](t[c].currentValue)});var u={type:x.EVENT_COMPONENT_STATE_CHANGED,api:e.api,columnApi:e.columnApi};ut(t,function(c,p){u[c]=p}),r.dispatchEvent(u)}},n.toBoolean=function(t){return typeof t=="boolean"?t:typeof t=="string"?t.toUpperCase()==="TRUE"||t=="":!1},n.toNumber=function(t){if(typeof t=="number")return t;if(typeof t=="string")return Number(t)},n.EVENTS=[],n.PUBLIC_EVENTS=[],n.EXCLUDED_INTERNAL_EVENTS=[],n.STRING_PROPERTIES=To.STRING_PROPERTIES,n.OBJECT_PROPERTIES=To.OBJECT_PROPERTIES,n.ARRAY_PROPERTIES=To.ARRAY_PROPERTIES,n.NUMBER_PROPERTIES=To.NUMBER_PROPERTIES,n.BOOLEAN_PROPERTIES=To.BOOLEAN_PROPERTIES,n.FUNCTION_PROPERTIES=To.FUNCTION_PROPERTIES,n.ALL_PROPERTIES=To.ALL_PROPERTIES,n}();Os.EVENTS=au(x);Os.EXCLUDED_INTERNAL_EVENTS=[x.EVENT_SCROLLBAR_WIDTH_CHANGED,x.EVENT_CHECKBOX_CHANGED,x.EVENT_HEIGHT_SCALE_CHANGED,x.EVENT_BODY_HEIGHT_CHANGED,x.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,x.EVENT_SCROLL_VISIBILITY_CHANGED,x.EVENT_COLUMN_HOVER_CHANGED,x.EVENT_FLASH_CELLS,x.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED,x.EVENT_DISPLAYED_ROWS_CHANGED,x.EVENT_LEFT_PINNED_WIDTH_CHANGED,x.EVENT_RIGHT_PINNED_WIDTH_CHANGED,x.EVENT_ROW_CONTAINER_HEIGHT_CHANGED,x.EVENT_POPUP_TO_FRONT,x.EVENT_KEYBOARD_FOCUS,x.EVENT_MOUSE_FOCUS,x.EVENT_STORE_UPDATED,x.EVENT_COLUMN_PANEL_ITEM_DRAG_START,x.EVENT_COLUMN_PANEL_ITEM_DRAG_END,x.EVENT_FILL_START,x.EVENT_FILL_END,x.EVENT_FULL_WIDTH_ROW_FOCUSED];Os.PUBLIC_EVENTS=Os.EVENTS.filter(function(n){return!ri(Os.EXCLUDED_INTERNAL_EVENTS,n)});/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v27.3.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */var UV=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),zV=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},vM=function(n){UV(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.componentsMappedByName={},e}return t.prototype.setupComponents=function(e){var r=this;e&&e.forEach(function(i){return r.addComponent(i)})},t.prototype.addComponent=function(e){var r=e.componentName.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),i=r.toUpperCase();this.componentsMappedByName[i]=e.componentClass},t.prototype.getComponentClass=function(e){return this.componentsMappedByName[e]},t=zV([J("agStackComponentsRegistry")],t),t}(j);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v27.3.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */var $V=globalThis&&globalThis.__read||function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},KV=globalThis&&globalThis.__spread||function(){for(var n=[],t=0;t<arguments.length;t++)n=n.concat($V(arguments[t]));return n},pw=function(){function n(){}return n.STRING_PROPERTIES=["headerName","columnGroupShow","headerClass","toolPanelClass","headerValueGetter","pivotKeys","groupId","colId","sort","initialSort","field","type","tooltipComponent","tooltipField","headerTooltip","cellClass","showRowGroup","filter","initialAggFunc","defaultAggFunc","aggFunc","pinned","initialPinned","chartDataType","cellEditorPopupPosition"],n.OBJECT_PROPERTIES=["headerGroupComponent","headerGroupComponentFramework","headerGroupComponentParams","cellStyle","cellRenderer","cellRendererParams","cellRendererFramework","cellEditor","cellEditorFramework","cellEditorParams","pinnedRowCellRendererFramework","pinnedRowCellRendererParams","filterFramework","filterParams","pivotValueColumn","headerComponent","headerComponentFramework","headerComponentParams","floatingFilterComponent","floatingFilterComponentParams","floatingFilterComponentFramework","floatingFilterFramework","tooltipComponent","tooltipComponentParams","tooltipComponentFramework","refData","columnsMenuParams"],n.ARRAY_PROPERTIES=["children","sortingOrder","allowedAggFuncs","menuTabs","pivotTotalColumnIds","cellClassRules","icons"],n.NUMBER_PROPERTIES=["sortedAt","sortIndex","initialSortIndex","flex","initialFlex","width","initialWidth","minWidth","maxWidth","rowGroupIndex","initialRowGroupIndex","pivotIndex","initialPivotIndex"],n.BOOLEAN_PROPERTIES=["suppressCellFlash","suppressColumnsToolPanel","suppressFiltersToolPanel","openByDefault","marryChildren","hide","initialHide","rowGroup","initialRowGroup","pivot","initialPivot","checkboxSelection","headerCheckboxSelection","headerCheckboxSelectionFilteredOnly","suppressMenu","suppressMovable","lockPosition","lockVisible","lockPinned","unSortIcon","suppressSizeToFit","suppressAutoSize","enableRowGroup","enablePivot","enableValue","editable","suppressPaste","suppressNavigable","enableCellChangeFlash","rowDrag","dndSource","autoHeight","wrapText","sortable","resizable","singleClickEdit","floatingFilter","cellEditorPopup","suppressFillHandle"],n.FUNCTION_PROPERTIES=["dndSourceOnRowDrag","valueGetter","valueSetter","filterValueGetter","keyCreator","pinnedRowCellRenderer","valueFormatter","pinnedRowValueFormatter","valueParser","comparator","equals","pivotComparator","suppressKeyboardEvent","suppressHeaderKeyboardEvent","colSpan","rowSpan","getQuickFilterText","newValueHandler","onCellValueChanged","onCellClicked","onCellDoubleClicked","onCellContextMenu","rowDragText","tooltipValueGetter","tooltipComponent","tooltipComponentFramework","cellRendererSelector","cellEditorSelector"],n.ALL_PROPERTIES=KV(n.ARRAY_PROPERTIES,n.OBJECT_PROPERTIES,n.STRING_PROPERTIES,n.NUMBER_PROPERTIES,n.FUNCTION_PROPERTIES,n.BOOLEAN_PROPERTIES),n.FRAMEWORK_PROPERTIES=["__ob__","__v_skip","__metadata__","mappedColumnProperties","hasChildColumns","toColDef","createColDefFromGridColumn"],n}();/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v27.3.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */var dT=globalThis&&globalThis.__read||function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},ds=function(){function n(t,e,r,i){i===void 0&&(i=1),this.r=Math.min(1,Math.max(0,t||0)),this.g=Math.min(1,Math.max(0,e||0)),this.b=Math.min(1,Math.max(0,r||0)),this.a=Math.min(1,Math.max(0,i||0))}return n.fromString=function(t){if(t.indexOf("#")>=0)return n.fromHexString(t);var e=n.nameToHex[t];if(e)return n.fromHexString(e);if(t.indexOf("rgb")>=0)return n.fromRgbaString(t);throw new Error("Invalid color string: '"+t+"'")},n.parseHex=function(t){t=t.replace(/ /g,"").slice(1);var e;switch(t.length){case 6:case 8:e=[];for(var r=0;r<t.length;r+=2)e.push(parseInt(""+t[r]+t[r+1],16));break;case 3:case 4:e=t.split("").map(function(i){return parseInt(i,16)}).map(function(i){return i+i*16});break}if(e.length>=3&&e.every(function(i){return i>=0}))return e.length===3&&e.push(255),e},n.fromHexString=function(t){var e=n.parseHex(t);if(e){var r=dT(e,4),i=r[0],o=r[1],a=r[2],s=r[3];return new n(i/255,o/255,a/255,s/255)}throw new Error("Malformed hexadecimal color string: '"+t+"'")},n.stringToRgba=function(t){for(var e=dT([NaN,NaN],2),r=e[0],i=e[1],o=0;o<t.length;o++){var a=t[o];if(!r&&a==="(")r=o;else if(a===")"){i=o;break}}var s=r&&i&&t.substring(r+1,i);if(!!s){for(var l=s.split(","),u=[],o=0;o<l.length;o++){var c=l[o],p=parseFloat(c);if(isNaN(p))return;c.indexOf("%")>=0?(p=Math.max(0,Math.min(100,p)),p/=100):o===3?p=Math.max(0,Math.min(1,p)):(p=Math.max(0,Math.min(255,p)),p/=255),u.push(p)}return u}},n.fromRgbaString=function(t){var e=n.stringToRgba(t);if(e){if(e.length===3)return new n(e[0],e[1],e[2]);if(e.length===4)return new n(e[0],e[1],e[2],e[3])}throw new Error("Malformed rgb/rgba color string: '"+t+"'")},n.fromArray=function(t){if(t.length===4)return new n(t[0],t[1],t[2],t[3]);if(t.length===3)return new n(t[0],t[1],t[2]);throw new Error("The given array should contain 3 or 4 color components (numbers).")},n.fromHSB=function(t,e,r,i){i===void 0&&(i=1);var o=n.HSBtoRGB(t,e,r);return new n(o[0],o[1],o[2],i)},n.padHex=function(t){return t.length===1?"0"+t:t},n.prototype.toHexString=function(){var t="#"+n.padHex(Math.round(this.r*255).toString(16))+n.padHex(Math.round(this.g*255).toString(16))+n.padHex(Math.round(this.b*255).toString(16));return this.a<1&&(t+=n.padHex(Math.round(this.a*255).toString(16))),t},n.prototype.toRgbaString=function(t){t===void 0&&(t=3);var e=[Math.round(this.r*255),Math.round(this.g*255),Math.round(this.b*255)],r=Math.pow(10,t);return this.a!==1?(e.push(Math.round(this.a*r)/r),"rgba("+e.join(", ")+")"):"rgb("+e.join(", ")+")"},n.prototype.toString=function(){return this.a===1?this.toHexString():this.toRgbaString()},n.prototype.toHSB=function(){return n.RGBtoHSB(this.r,this.g,this.b)},n.RGBtoHSB=function(t,e,r){var i=Math.min(t,e,r),o=Math.max(t,e,r),a=o!==0?(o-i)/o:0,s=NaN;if(i!==o){var l=o-i,u=(o-t)/l,c=(o-e)/l,p=(o-r)/l;t===o?s=p-c:e===o?s=2+u-p:s=4+c-u,s/=6,s<0&&(s=s+1)}return[s*360,a,o]},n.HSBtoRGB=function(t,e,r){isNaN(t)&&(t=0),t=(t%360+360)%360/360;var i=0,o=0,a=0;if(e===0)i=o=a=r;else{var s=(t-Math.floor(t))*6,l=s-Math.floor(s),u=r*(1-e),c=r*(1-e*l),p=r*(1-e*(1-l));switch(s>>0){case 0:i=r,o=p,a=u;break;case 1:i=c,o=r,a=u;break;case 2:i=u,o=r,a=p;break;case 3:i=u,o=c,a=r;break;case 4:i=p,o=u,a=r;break;case 5:i=r,o=u,a=c;break}}return[i,o,a]},n.prototype.derive=function(t,e,r,i){var o=n.RGBtoHSB(this.r,this.g,this.b),a=o[2];a==0&&r>1&&(a=.05);var s=((o[0]+t)%360+360)%360,l=Math.max(Math.min(o[1]*e,1),0);a=Math.max(Math.min(a*r,1),0);var u=Math.max(Math.min(this.a*i,1),0),c=n.HSBtoRGB(s,l,a);return c.push(u),n.fromArray(c)},n.prototype.brighter=function(){return this.derive(0,1,1/.7,1)},n.prototype.darker=function(){return this.derive(0,1,.7,1)},n.nameToHex=Object.freeze({aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#00FFFF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blue:"#0000FF",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgreen:"#006400",darkgrey:"#A9A9A9",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#FF00FF",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",green:"#008000",greenyellow:"#ADFF2F",grey:"#808080",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgray:"#D3D3D3",lightgreen:"#90EE90",lightgrey:"#D3D3D3",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#00FF00",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",rebeccapurple:"#663399",red:"#FF0000",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",white:"#FFFFFF",whitesmoke:"#F5F5F5",yellow:"#FFFF00",yellowgreen:"#9ACD32"}),n}();/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v27.3.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */function mM(n,t){t===void 0&&(t=",");var e=[],r=function(h){return h==="\r"||h===`
`},i=!1;if(n==="")return[[""]];for(var o=function(h,d,f){var g=n[f-1],v=n[f],m=n[f+1],C=function(){e[h]||(e[h]=[]),e[h][d]||(e[h][d]="")};if(C(),v==='"'){if(i)return m==='"'?(e[h][d]+='"',f++):i=!1,a=h,s=d,l=f,"continue";if(g===void 0||g===t||r(g))return i=!0,a=h,s=d,l=f,"continue"}if(!i){if(v===t)return d++,C(),a=h,s=d,l=f,"continue";if(r(v))return d=0,h++,C(),v==="\r"&&m===`
`&&f++,a=h,s=d,l=f,"continue"}e[h][d]+=v,a=h,s=d,l=f},a,s,l,u=0,c=0,p=0;p<n.length;p++)o(u,c,p),u=a,c=s,p=l;return e}var YV=Object.freeze(Object.defineProperty({__proto__:null,stringToArray:mM},Symbol.toStringTag,{value:"Module"}));/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v27.3.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */var XV=globalThis&&globalThis.__values||function(n){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Sy,xy,Ty,Oy,Ey,Ry,hw,dw;function qV(){return xy===void 0&&(xy=!!document.documentMode),xy}function am(){return Ty===void 0&&(Ty=!qV()&&!!window.StyleMedia),Ty}function sd(){return Sy===void 0&&(Sy=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)),Sy}function ld(){if(Oy===void 0){var n=window;Oy=!!n.chrome&&(!!n.chrome.webstore||!!n.chrome.runtime)||/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)}return Oy}function yS(){if(Ey===void 0){var n=window;Ey=typeof n.InstallTrigger!="undefined"}return Ey}function Xc(){return Ry===void 0&&(Ry=(/iPad|iPhone|iPod/.test(navigator.platform)||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1)&&!window.MSStream),Ry}function Xg(n){if(!n)return null;var t=n.tabIndex,e=n.getAttribute("tabIndex");return t===-1&&(e===null||e===""&&!yS())?null:t.toString()}function yM(){if(!document.body)return-1;var n=1e6,t=navigator.userAgent.toLowerCase().match(/firefox/)?6e6:1e9,e=document.createElement("div");for(document.body.appendChild(e);;){var r=n*2;if(e.style.height=r+"px",r>t||e.clientHeight!==r)break;n=r}return document.body.removeChild(e),n}function CM(){return dw==null&&bM(),dw}function bM(){var n=document.body,t=document.createElement("div");t.style.width=t.style.height="100px",t.style.opacity="0",t.style.overflow="scroll",t.style.msOverflowStyle="scrollbar",t.style.position="absolute",n.appendChild(t);var e=t.offsetWidth-t.clientWidth;e===0&&t.clientWidth===0&&(e=null),t.parentNode&&t.parentNode.removeChild(t),e!=null&&(dw=e,hw=e===0)}function wM(){return hw==null&&bM(),hw}function ZV(){var n,t,e=["webkit","moz","o","ms"],r=document.createElement("div"),i=document.getElementsByTagName("body")[0],o=!1,a;i.appendChild(r),r.setAttribute("style",e.map(function(c){return"-"+c+"-overflow-scrolling: touch"}).concat("overflow-scrolling: touch").join(";"));var s=window.getComputedStyle(r);if(s.overflowScrolling==="touch"&&(o=!0),!o)try{for(var l=XV(e),u=l.next();!u.done;u=l.next())if(a=u.value,s[a+"OverflowScrolling"]==="touch"){o=!0;break}}catch(c){n={error:c}}finally{try{u&&!u.done&&(t=l.return)&&t.call(l)}finally{if(n)throw n.error}}return r.parentNode&&r.parentNode.removeChild(r),o}function _M(){return document.body?document.body.clientWidth:window.innerHeight?window.innerWidth:document.documentElement&&document.documentElement.clientWidth?document.documentElement.clientWidth:-1}function SM(){return document.body?document.body.clientHeight:window.innerHeight?window.innerHeight:document.documentElement&&document.documentElement.clientHeight?document.documentElement.clientHeight:-1}var QV=Object.freeze(Object.defineProperty({__proto__:null,isBrowserEdge:am,isBrowserSafari:sd,isBrowserChrome:ld,isBrowserFirefox:yS,isIOSUserAgent:Xc,getTabIndex:Xg,getMaxDivHeight:yM,getScrollbarWidth:CM,isInvisibleScrollbar:wM,hasOverflowScrolling:ZV,getBodyWidth:_M,getBodyHeight:SM},Symbol.toStringTag,{value:"Module"}));/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v27.3.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */var Nd;function JV(n,t,e){for(var r=n.parentElement,i=r&&r.firstChild;i;)t&&i.classList.toggle(t,i===n),e&&i.classList.toggle(e,i!==n),i=i.nextSibling}function xM(n){var t=Element.prototype.matches||Element.prototype.msMatchesSelector,e=t.call(n,L.INPUT_SELECTOR),r=t.call(n,L.FOCUSABLE_EXCLUDE),i=Zc(n),o=e&&!r&&i;return o}function Ft(n,t){n.classList.toggle("ag-hidden",!t)}function TM(n,t){n.classList.toggle("ag-invisible",!t)}function Nc(n,t){var e="disabled",r=t?function(i){return i.setAttribute(e,"")}:function(i){return i.removeAttribute(e)};r(n),xS(n.querySelectorAll("input"),function(i){return r(i)})}function sm(n,t,e){for(var r=0;n;){if(n.classList.contains(t))return!0;if(n=n.parentElement,e&&++r>e)break}return!1}function qc(n){var t=window.getComputedStyle(n),e=t.height,r=t.width,i=t.paddingTop,o=t.paddingRight,a=t.paddingBottom,s=t.paddingLeft,l=t.marginTop,u=t.marginRight,c=t.marginBottom,p=t.marginLeft,h=t.boxSizing;return{height:parseFloat(e),width:parseFloat(r),paddingTop:parseFloat(i),paddingRight:parseFloat(o),paddingBottom:parseFloat(a),paddingLeft:parseFloat(s),marginTop:parseFloat(l),marginRight:parseFloat(u),marginBottom:parseFloat(c),marginLeft:parseFloat(p),boxSizing:h}}function ud(n){var t=qc(n);return t.boxSizing==="border-box"?t.height-t.paddingTop-t.paddingBottom:t.height}function lm(n){var t=qc(n);return t.boxSizing==="border-box"?t.width-t.paddingLeft-t.paddingRight:t.width}function CS(n){var t=qc(n),e=t.marginBottom+t.marginTop;return Math.ceil(n.offsetHeight+e)}function um(n){var t=qc(n),e=t.marginLeft+t.marginRight;return Math.ceil(n.offsetWidth+e)}function Bh(){if(typeof Nd=="boolean")return Nd;var n=document.createElement("div");return n.style.direction="rtl",n.style.width="1px",n.style.height="1px",n.style.position="fixed",n.style.top="0px",n.style.overflow="hidden",n.dir="rtl",n.innerHTML=`<div style="width: 2px">
            <span style="display: inline-block; width: 1px"></span>
            <span style="display: inline-block; width: 1px"></span>
        </div>`,document.body.appendChild(n),n.scrollLeft=1,Nd=Math.floor(n.scrollLeft)===0,document.body.removeChild(n),Nd}function Vh(n,t){var e=n.scrollLeft;return t&&(e=Math.abs(e),ld()&&!Bh()&&(e=n.scrollWidth-n.clientWidth-e)),e}function qg(n,t,e){e&&(Bh()?t*=-1:(sd()||ld())&&(t=n.scrollWidth-n.clientWidth-t)),n.scrollLeft=t}function ni(n){for(;n&&n.firstChild;)n.removeChild(n.firstChild)}function eW(n,t){Yi(n.querySelector(t))}function Yi(n){n&&n.parentNode&&n.parentNode.removeChild(n)}function Zc(n){return n.offsetParent!==null}function Sr(n){if(DOMParser!==null){var t=new DOMParser,e=t.parseFromString(n,"text/html");return e.body.firstChild}var r=document.createElement("div");return r.innerHTML=(n||"").trim(),r.firstChild}function tW(n,t){n.lastChild?n.insertAdjacentHTML("afterbegin",t):n.innerHTML=t}function rW(n,t){if(n.attributes&&n.attributes[t]){var e=n.attributes[t];return e.value}return null}function fw(n){return n&&n.clientHeight?n.clientHeight:0}function gw(n){return n&&n.clientWidth?n.clientWidth:0}function bS(n,t,e){e&&e.nextSibling===t||(e?e.nextSibling?n.insertBefore(t,e.nextSibling):n.appendChild(t):n.firstChild&&n.firstChild!==t&&n.insertAdjacentElement("afterbegin",t))}function wS(n,t){for(var e=0;e<t.length;e++){var r=t[e],i=n.children[e];i!==r&&n.insertBefore(r,i)}}function OM(n,t,e){e?e.insertAdjacentElement("afterend",t):n.firstChild?n.insertAdjacentElement("afterbegin",t):n.appendChild(t)}function nW(n,t){Z(n.firstChild)?n.insertBefore(t,n.firstChild):n.appendChild(t)}function _S(n,t){!t||Object.keys(t).forEach(function(e){var r=hM(e);r&&(n.style[r]=t[e])})}function vw(n){return n.clientWidth<n.scrollWidth}function EM(n){return n.clientHeight<n.scrollHeight}function cd(n,t){t==="flex"?(n.style.removeProperty("width"),n.style.removeProperty("minWidth"),n.style.removeProperty("maxWidth"),n.style.flex="1 1 auto"):qo(n,t)}function qo(n,t){t=SS(t),n.style.width=t.toString(),n.style.maxWidth=t.toString(),n.style.minWidth=t.toString()}function iW(n,t){t==="flex"?(n.style.removeProperty("height"),n.style.removeProperty("minHeight"),n.style.removeProperty("maxHeight"),n.style.flex="1 1 auto"):jl(n,t)}function jl(n,t){t=SS(t),n.style.height=t.toString(),n.style.maxHeight=t.toString(),n.style.minHeight=t.toString()}function SS(n){return typeof n=="number"?n+"px":n}function RM(n){return typeof Node=="function"?n instanceof Node:n&&typeof n=="object"&&typeof n.nodeType=="number"&&typeof n.nodeName=="string"}function PM(n){return typeof HTMLElement=="function"?n instanceof HTMLElement:n&&Ic(n)&&n.nodeType===1&&typeof n.nodeName=="string"}function pd(n){return RM(n)||PM(n)}function AM(n){if(n==null)return[];var t=[];return xS(n,function(e){return t.push(e)}),t}function DM(n,t){if(!!n)for(var e=0;e<n.length;e++){var r=n[e];t(r.name,r.value)}}function oW(n,t){typeof t=="boolean"?(n.checked=t,n.indeterminate=!1):n.indeterminate=!0}function vh(n,t,e){e==null?n.removeAttribute(t):n.setAttribute(t,e.toString())}function xS(n,t){if(n!=null)for(var e=0;e<n.length;e++)t(n[e])}var aW=Object.freeze(Object.defineProperty({__proto__:null,radioCssClass:JV,isFocusableFormField:xM,setDisplayed:Ft,setVisible:TM,setDisabled:Nc,isElementChildOfClass:sm,getElementSize:qc,getInnerHeight:ud,getInnerWidth:lm,getAbsoluteHeight:CS,getAbsoluteWidth:um,isRtlNegativeScroll:Bh,getScrollLeft:Vh,setScrollLeft:qg,clearElement:ni,removeElement:eW,removeFromParent:Yi,isVisible:Zc,loadTemplate:Sr,appendHtml:tW,getElementAttribute:rW,offsetHeight:fw,offsetWidth:gw,ensureDomOrder:bS,setDomChildOrder:wS,insertWithDomOrder:OM,prependDC:nW,addStylesToElement:_S,isHorizontalScrollShowing:vw,isVerticalScrollShowing:EM,setElementWidth:cd,setFixedWidth:qo,setElementHeight:iW,setFixedHeight:jl,formatSize:SS,isNode:RM,isElement:PM,isNodeOrElement:pd,copyNodeList:AM,iterateNamedNodeMap:DM,setCheckboxState:oW,addOrRemoveAttribute:vh,nodeListForEach:xS},Symbol.toStringTag,{value:"Module"}));/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v27.3.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */function sW(n){var t=/function (.{1,})\(/,e=n.toString(),r=t.exec(e);return r&&r.length>1?r[1]:""}function lW(n){var t=n.length,e=0;if(t<=1)return n;for(var r=0;r<n.length;r++){var i=n[r],o=i.toString().split("e-");if(o.length>1){e=Math.max(e,parseInt(o[1],10));continue}Math.floor(i)!==i&&(e=Math.max(e,i.toString().split(".")[1].length))}for(var a=0,s=0,l=0,u=0,c=0,p=0;p<t;p++)c=n[p],a+=p,s+=c,u+=p*p,l+=p*c;for(var h=(t*l-a*s)/(t*u-a*a),d=s/t-h*a/t,f=[],p=0;p<=t;p++)f.push(parseFloat((p*h+d).toFixed(e)));return f}function uW(n){if(!n)return"";var t=[];return ut(n,function(e,r){var i=pM(e);t.push(i+": "+r+";")}),t.join(" ")}function cW(n){var t=document.createElement("div"),e=document.querySelector("#__ag__message");if(t.innerHTML=n,!e){var r='<div id="__ag__message" style="display: inline-block; position: absolute; top: 0px; left: 0px; color: white; background-color: black; z-index: 20; padding: 2px; border: 1px solid darkred; height: 200px; overflow-y: auto;"></div>';e=Sr(r),document.body&&document.body.appendChild(e)}e.insertBefore(t,e.children[0])}function pW(n,t){n.then(function(e){var r=e.getGui();r!=null&&(typeof r=="object"?t.appendChild(r):t.innerHTML=r)})}var hW=Object.freeze(Object.defineProperty({__proto__:null,getNameOfClass:sW,findLineByLeastSquares:lW,cssStyleObjectToMarkup:uW,message:cW,bindCellRendererToHtmlElement:pW},Symbol.toStringTag,{value:"Module"}));/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v27.3.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */function Tr(n,t,e){n.setAttribute(MM(t),e.toString())}function su(n,t){n.removeAttribute(MM(t))}function MM(n){return"aria-"+n}function Jr(n,t){t?n.setAttribute("role",t):n.removeAttribute("role")}function FM(n){var t;return n.isSortAscending()?t="ascending":n.isSortDescending()?t="descending":t="none",t}function IM(n){return parseInt(n.getAttribute("aria-level"),10)}function LM(n){return parseInt(n.getAttribute("aria-posinset"),10)}function dW(n){return n.getAttribute("aria-describedby")||""}function lu(n,t){var e="label";t?Tr(n,e,t):su(n,e)}function TS(n,t){var e="labelledby";t?Tr(n,e,t):su(n,e)}function NM(n,t){var e="description";t?Tr(n,e,t):su(n,e)}function OS(n,t){var e="describedby";t?Tr(n,e,t):su(n,e)}function kM(n,t){Tr(n,"level",t)}function ES(n,t){Tr(n,"disabled",t)}function ti(n,t){Tr(n,"expanded",t)}function GM(n){su(n,"expanded")}function RS(n,t){Tr(n,"setsize",t)}function PS(n,t){Tr(n,"posinset",t)}function BM(n,t){Tr(n,"multiselectable",t)}function VM(n,t){Tr(n,"rowcount",t)}function AS(n,t){Tr(n,"rowindex",t)}function WM(n,t){Tr(n,"colcount",t)}function DS(n,t){Tr(n,"colindex",t)}function HM(n,t){Tr(n,"colspan",t)}function jM(n,t){Tr(n,"sort",t)}function UM(n){su(n,"sort")}function kc(n,t){var e="selected";t?Tr(n,e,t):su(n,e)}function zM(n,t){Tr(n,"checked",t===void 0?"mixed":t)}var fW=Object.freeze(Object.defineProperty({__proto__:null,setAriaRole:Jr,getAriaSortState:FM,getAriaLevel:IM,getAriaPosInSet:LM,getAriaDescribedBy:dW,setAriaLabel:lu,setAriaLabelledBy:TS,setAriaDescription:NM,setAriaDescribedBy:OS,setAriaLevel:kM,setAriaDisabled:ES,setAriaExpanded:ti,removeAriaExpanded:GM,setAriaSetSize:RS,setAriaPosInSet:PS,setAriaMultiSelectable:BM,setAriaRowCount:VM,setAriaRowIndex:AS,setAriaColCount:WM,setAriaColIndex:DS,setAriaColSpan:HM,setAriaSort:jM,removeAriaSort:UM,setAriaSelected:kc,setAriaChecked:zM},Symbol.toStringTag,{value:"Module"}));/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v27.3.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */function mw(n,t){return n.toString().padStart(t,"0")}function $M(n,t){for(var e=[],r=n;r<=t;r++)e.push(r);return e}function Zg(n){return n!==""&&!isNaN(parseFloat(n))&&isFinite(n)}function gW(n){return typeof n=="string"&&(n=parseInt(n,10)),typeof n=="number"?Math.floor(n):null}function vW(n,t){for(var e="",r=0;r<t;r++)e+=String.fromCharCode(n&255),n>>>=8;return e}function mW(n,t,e){return typeof n!="number"?"":MS(Math.round(n*100)/100,t,e)}function MS(n,t,e){return typeof n!="number"?"":n.toString().replace(".",e).replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+t)}function yW(n){return n==null?null:n.reduce(function(t,e){return t+e},0)}var CW=Object.freeze(Object.defineProperty({__proto__:null,padStartWidthZeros:mw,createArrayOfNumbers:$M,isNumeric:Zg,cleanNumber:gW,decToHex:vW,formatNumberTwoDecimalPlacesAndCommas:mW,formatNumberCommas:MS,sum:yW},Symbol.toStringTag,{value:"Module"}));/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v27.3.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */var Py=globalThis&&globalThis.__read||function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o};function ys(n,t,e){if(t===void 0&&(t=!0),e===void 0&&(e="-"),!n)return null;var r=[n.getFullYear(),n.getMonth()+1,n.getDate()].map(function(i){return mw(i,2)}).join(e);return t&&(r+=" "+[n.getHours(),n.getMinutes(),n.getSeconds()].map(function(i){return mw(i,2)}).join(":")),r}function Cs(n){if(!n)return null;var t=Py(n.split(" "),2),e=t[0],r=t[1];if(!e)return null;var i=e.split("-").map(function(f){return parseInt(f,10)});if(i.filter(function(f){return!isNaN(f)}).length!==3)return null;var o=Py(i,3),a=o[0],s=o[1],l=o[2],u=new Date(a,s-1,l);if(u.getFullYear()!==a||u.getMonth()!==s-1||u.getDate()!==l)return null;if(!r||r==="00:00:00")return u;var c=Py(r.split(":").map(function(f){return parseInt(f,10)}),3),p=c[0],h=c[1],d=c[2];return p>=0&&p<24&&u.setHours(p),h>=0&&h<60&&u.setMinutes(h),d>=0&&d<60&&u.setSeconds(d),u}var bW=Object.freeze(Object.defineProperty({__proto__:null,serialiseDate:ys,parseDateTimeFromString:Cs},Symbol.toStringTag,{value:"Module"}));/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v27.3.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */function KM(n,t,e){var r={},i=n.filter(function(o){return!t.some(function(a){return a===o})});return i.length>0&&i.forEach(function(o){return r[o]=YM(o,e)}),r}function YM(n,t,e,r){var i=r?qM:XM,o=t.map(function(a){return{value:a,relevance:i(n.toLowerCase(),a.toLocaleLowerCase())}});return o.sort(function(a,s){return s.relevance-a.relevance}),e&&(o=o.filter(function(a){return a.relevance!==0})),o.map(function(a){return a.value})}function yw(n){var t=n.toLowerCase(),e=new Array(t.length-1),r,i,o;for(r=i=0,o=e.length;i<=o;r=i+=1)e[r]=t.slice(r,r+2);return e}function XM(n,t){if(n.length===0&&t.length===0)return 0;var e=yw(n),r=yw(t),i=e.length+r.length,o=0,a,s;for(a=0,s=e.length;a<s;a++){var l=e[a],u=void 0,c=void 0;for(u=0,c=r.length;u<c;u++){var p=r[u];l===p&&o++}}return o>0?2*o/i:0}function qM(n,t){for(var e=n.replace(/\s/g,""),r=t.replace(/\s/g,""),i=0,o=0,a=0;a<e.length;a++){var s=r.indexOf(e[a],o);s!==-1&&(o=s,i+=100-o*100/1e4*100)}return i}var wW=Object.freeze(Object.defineProperty({__proto__:null,fuzzyCheckStrings:KM,fuzzySuggestions:YM,get_bigrams:yw,string_distances:XM,string_weighted_distances:qM},Symbol.toStringTag,{value:"Module"}));/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v27.3.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */var ZM={columnGroupOpened:"expanded",columnGroupClosed:"contracted",columnSelectClosed:"tree-closed",columnSelectOpen:"tree-open",columnSelectIndeterminate:"tree-indeterminate",columnMovePin:"pin",columnMoveHide:"eye-slash",columnMoveMove:"arrows",columnMoveLeft:"left",columnMoveRight:"right",columnMoveGroup:"group",columnMoveValue:"aggregation",columnMovePivot:"pivot",dropNotAllowed:"not-allowed",groupContracted:"tree-closed",groupExpanded:"tree-open",chart:"chart",close:"cross",cancel:"cancel",check:"tick",first:"first",previous:"previous",next:"next",last:"last",linked:"linked",unlinked:"unlinked",colorPicker:"color-picker",groupLoading:"loading",menu:"menu",filter:"filter",columns:"columns",maximize:"maximize",minimize:"minimize",menuPin:"pin",menuValue:"aggregation",menuAddRowGroup:"group",menuRemoveRowGroup:"group",clipboardCopy:"copy",clipboardPaste:"paste",pivotPanel:"pivot",rowGroupPanel:"group",valuePanel:"aggregation",columnDrag:"grip",rowDrag:"grip",save:"save",csvExport:"csv",excelExport:"excel",smallDown:"small-down",smallLeft:"small-left",smallRight:"small-right",smallUp:"small-up",sortAscending:"asc",sortDescending:"desc",sortUnSort:"none"};function di(n,t,e){var r=ar(n,t,e);if(r&&r.className.indexOf("ag-icon")>-1)return r;var i=document.createElement("span");return i.appendChild(r),i}function ar(n,t,e,r){var i=null,o=e&&e.getColDef().icons;if(o&&(i=o[n]),t&&!i){var a=t.getIcons();a&&(i=a[n])}if(i){var s=void 0;if(typeof i=="function")s=i();else if(typeof i=="string")s=i;else throw new Error("icon from grid options needs to be a string or a function");if(typeof s=="string")return Sr(s);if(pd(s))return s;console.warn("AG Grid: iconRenderer should return back a string or a dom object")}else{var l=document.createElement("span"),u=ZM[n];return u||(r?u=n:(console.warn("AG Grid: Did not find icon "+n),u="")),l.setAttribute("class","ag-icon ag-icon-"+u),l.setAttribute("unselectable","on"),Jr(l,"presentation"),l}}var _W=Object.freeze(Object.defineProperty({__proto__:null,iconNameClassMap:ZM,createIcon:di,createIconNoSpan:ar},Symbol.toStringTag,{value:"Module"}));/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v27.3.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */var SW="Del",xW=46;function QM(n){if(n.altKey||n.ctrlKey||n.metaKey)return!1;var t=n.key.length===1,e=TW(n);return t||e}function Qg(n,t,e,r,i){var o=n.getSuppressKeyboardEventFunc(),a=r?r.getColDef().suppressKeyboardEvent:void 0;if(!o&&!a)return!1;var s={event:t,editing:i,column:r,api:n.getApi(),node:e,data:e.data,colDef:r.getColDef(),context:n.getContext(),columnApi:n.getColumnApi()};if(a){var l=a(s);if(l)return!0}return o?o(s):!1}function JM(n,t,e,r){var i=r.getDefinition(),o=i&&i.suppressHeaderKeyboardEvent;if(!Z(o))return!1;var a={api:n.getApi(),columnApi:n.getColumnApi(),context:n.getContext(),colDef:i,column:r,headerRowIndex:e,event:t};return!!o(a)}function TW(n){return am()&&n.key===SW&&n.charCode===xW}var OW=Object.freeze(Object.defineProperty({__proto__:null,isEventFromPrintableCharacter:QM,isUserSuppressingKeyboardEvent:Qg,isUserSuppressingHeaderKeyboardEvent:JM},Symbol.toStringTag,{value:"Module"}));/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v27.3.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */function FS(n,t,e){if(e===0)return!1;var r=Math.abs(n.clientX-t.clientX),i=Math.abs(n.clientY-t.clientY);return Math.max(r,i)<=e}var EW=Object.freeze(Object.defineProperty({__proto__:null,areEventsNear:FS},Symbol.toStringTag,{value:"Module"}));/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v27.3.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */function RW(n,t){if(!!n){for(var e=function(s,l){var u=t[s.id],c=t[l.id],p=u!==void 0,h=c!==void 0,d=p&&h,f=!p&&!h;return d?u-c:f?s.__objectId-l.__objectId:p?1:-1},r,i,o=!1,a=0;a<n.length-1;a++)if(r=n[a],i=n[a+1],e(r,i)>0){o=!0;break}o&&n.sort(e)}}function PW(n,t){var e=[];r(n);function r(i){!i||i.forEach(function(o){if(o.group||o.hasChildren()){e.push(o.key);var a=e.join("|");t(o,a),r(o.childrenAfterGroup),e.pop()}})}}var AW=Object.freeze(Object.defineProperty({__proto__:null,sortRowNodesByOrder:RW,traverseNodesWithKey:PW},Symbol.toStringTag,{value:"Module"}));/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v27.3.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */function IS(n){var t=new Set;return n.forEach(function(e){return t.add(e)}),t}var DW=Object.freeze(Object.defineProperty({__proto__:null,convertToSet:IS},Symbol.toStringTag,{value:"Module"}));/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v27.3.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */var Jt=globalThis&&globalThis.__assign||function(){return Jt=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Jt.apply(this,arguments)},MW=Jt(Jt(Jt(Jt(Jt(Jt(Jt(Jt(Jt(Jt(Jt(Jt(Jt(Jt(Jt(Jt(Jt(Jt(Jt(Jt({},hW),fW),yV),QV),YV),bW),aW),xV),sV),wW),q3),_W),OW),FV),EW),CW),rV),AW),DW),AV),_=MW;/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v27.3.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */var vr=function(){function n(t,e){t===void 0&&(t=0),e===void 0&&(e=1),this.nextValue=t,this.step=e}return n.prototype.next=function(){var t=this.nextValue;return this.nextValue+=this.step,t},n.prototype.peek=function(){return this.nextValue},n.prototype.skip=function(t){this.nextValue+=t},n}();/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v27.3.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */var Il;(function(n){n[n.IN_PROGRESS=0]="IN_PROGRESS",n[n.RESOLVED=1]="RESOLVED"})(Il||(Il={}));var Dt=function(){function n(t){var e=this;this.status=Il.IN_PROGRESS,this.resolution=null,this.waiters=[],t(function(r){return e.onDone(r)},function(r){return e.onReject(r)})}return n.all=function(t){return new n(function(e){var r=t.length,i=new Array(r);t.forEach(function(o,a){o.then(function(s){i[a]=s,r--,r===0&&e(i)})})})},n.resolve=function(t){return t===void 0&&(t=null),new n(function(e){return e(t)})},n.prototype.then=function(t){var e=this;return new n(function(r){e.status===Il.RESOLVED?r(t(e.resolution)):e.waiters.push(function(i){return r(t(i))})})},n.prototype.resolveNow=function(t,e){return this.status===Il.RESOLVED?e(this.resolution):t},n.prototype.onDone=function(t){this.status=Il.RESOLVED,this.resolution=t,this.waiters.forEach(function(e){return e(t)})},n.prototype.onReject=function(t){console.warn("TBI")},n}();/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v27.3.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */var FW=function(){function n(){this.timestamp=new Date().getTime()}return n.prototype.print=function(t){var e=new Date().getTime()-this.timestamp;console.info(t+" = "+e),this.timestamp=new Date().getTime()},n}();/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v27.3.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */var IW=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Cw=globalThis&&globalThis.__assign||function(){return Cw=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Cw.apply(this,arguments)},fp=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Wi;(function(n){n[n.NOTHING=0]="NOTHING",n[n.WAITING_TO_SHOW=1]="WAITING_TO_SHOW",n[n.SHOWING=2]="SHOWING"})(Wi||(Wi={}));var cm=function(n){IW(t,n);function t(e){var r=n.call(this)||this;return r.DEFAULT_SHOW_TOOLTIP_DELAY=2e3,r.DEFAULT_HIDE_TOOLTIP_DELAY=1e4,r.SHOW_QUICK_TOOLTIP_DIFF=1e3,r.FADE_OUT_TOOLTIP_TIMEOUT=1e3,r.state=Wi.NOTHING,r.tooltipInstanceCount=0,r.tooltipMouseTrack=!1,r.parentComp=e,r}return t.prototype.postConstruct=function(){this.tooltipShowDelay=this.gridOptionsWrapper.getTooltipDelay("show")||this.DEFAULT_SHOW_TOOLTIP_DELAY,this.tooltipHideDelay=this.gridOptionsWrapper.getTooltipDelay("hide")||this.DEFAULT_HIDE_TOOLTIP_DELAY,this.tooltipMouseTrack=this.gridOptionsWrapper.isTooltipMouseTrack();var e=this.parentComp.getGui();this.addManagedListener(e,"mouseenter",this.onMouseEnter.bind(this)),this.addManagedListener(e,"mouseleave",this.onMouseLeave.bind(this)),this.addManagedListener(e,"mousemove",this.onMouseMove.bind(this)),this.addManagedListener(e,"mousedown",this.onMouseDown.bind(this)),this.addManagedListener(e,"keydown",this.onKeyDown.bind(this))},t.prototype.destroy=function(){this.setToDoNothing(),n.prototype.destroy.call(this)},t.prototype.onMouseEnter=function(e){if(!Xc()&&this.state==Wi.NOTHING){var r=this.isLastTooltipHiddenRecently()?200:this.tooltipShowDelay;this.showTooltipTimeoutId=window.setTimeout(this.showTooltip.bind(this),r),this.lastMouseEvent=e,this.state=Wi.WAITING_TO_SHOW}},t.prototype.onMouseLeave=function(){this.setToDoNothing()},t.prototype.onKeyDown=function(){this.setToDoNothing()},t.prototype.setToDoNothing=function(){this.state===Wi.SHOWING&&this.hideTooltip(),this.clearTimeouts(),this.state=Wi.NOTHING},t.prototype.onMouseMove=function(e){this.lastMouseEvent=e,this.tooltipMouseTrack&&this.state===Wi.SHOWING&&this.tooltipComp&&this.positionTooltipUnderLastMouseEvent()},t.prototype.onMouseDown=function(){this.setToDoNothing()},t.prototype.hideTooltip=function(){this.tooltipComp&&(this.destroyTooltipComp(),t.lastTooltipHideTime=new Date().getTime()),this.state=Wi.NOTHING},t.prototype.destroyTooltipComp=function(){var e=this;this.tooltipComp.getGui().classList.add("ag-tooltip-hiding");var r=this.tooltipPopupDestroyFunc,i=this.tooltipComp;window.setTimeout(function(){r(),e.getContext().destroyBean(i)},this.FADE_OUT_TOOLTIP_TIMEOUT),this.tooltipPopupDestroyFunc=void 0,this.tooltipComp=void 0},t.prototype.isLastTooltipHiddenRecently=function(){var e=new Date().getTime(),r=t.lastTooltipHideTime;return e-r<this.SHOW_QUICK_TOOLTIP_DIFF},t.prototype.showTooltip=function(){var e=Cw({},this.parentComp.getTooltipParams());if(!Z(e.value)){this.setToDoNothing();return}this.state=Wi.SHOWING,this.tooltipInstanceCount++;var r=this.newTooltipComponentCallback.bind(this,this.tooltipInstanceCount),i=this.userComponentFactory.getTooltipCompDetails(e);i.newAgStackInstance().then(r)},t.prototype.newTooltipComponentCallback=function(e,r){var i=this.state!==Wi.SHOWING||this.tooltipInstanceCount!==e;if(i){this.getContext().destroyBean(r);return}var o=r.getGui();this.tooltipComp=r,o.classList.contains("ag-tooltip")||o.classList.add("ag-tooltip-custom");var a=this.gridOptionsWrapper.getLocaleTextFunc(),s=this.popupService.addPopup({eChild:o,ariaLabel:a("ariaLabelTooltip","Tooltip")});s&&(this.tooltipPopupDestroyFunc=s.hideFunc),this.positionTooltipUnderLastMouseEvent(),this.hideTooltipTimeoutId=window.setTimeout(this.hideTooltip.bind(this),this.tooltipHideDelay)},t.prototype.positionTooltipUnderLastMouseEvent=function(){this.popupService.positionPopupUnderMouseEvent({type:"tooltip",mouseEvent:this.lastMouseEvent,ePopup:this.tooltipComp.getGui(),nudgeY:18})},t.prototype.clearTimeouts=function(){this.showTooltipTimeoutId&&(window.clearTimeout(this.showTooltipTimeoutId),this.showTooltipTimeoutId=void 0),this.hideTooltipTimeoutId&&(window.clearTimeout(this.hideTooltipTimeoutId),this.hideTooltipTimeoutId=void 0)},fp([y("popupService")],t.prototype,"popupService",void 0),fp([y("userComponentFactory")],t.prototype,"userComponentFactory",void 0),fp([y("columnApi")],t.prototype,"columnApi",void 0),fp([y("gridApi")],t.prototype,"gridApi",void 0),fp([H],t.prototype,"postConstruct",null),t}(j);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v27.3.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */var LW=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Ay=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},NW=new vr,e1=function(){function n(t){this.cssClassStates={},this.getGui=t}return n.prototype.addCssClass=function(t){var e=this,r=(t||"").split(" ");if(r.length>1){r.forEach(function(o){return e.addCssClass(o)});return}var i=this.cssClassStates[t]!==!0;i&&t.length&&(this.getGui().classList.add(t),this.cssClassStates[t]=!0)},n.prototype.removeCssClass=function(t){var e=this,r=(t||"").split(" ");if(r.length>1){r.forEach(function(o){return e.removeCssClass(o)});return}var i=this.cssClassStates[t]!==!1;i&&t.length&&(this.getGui().classList.remove(t),this.cssClassStates[t]=!1)},n.prototype.containsCssClass=function(t){return this.getGui().classList.contains(t)},n.prototype.addOrRemoveCssClass=function(t,e){var r=this,i=(t||"").split(" ");if(i.length>1){i.forEach(function(a){return r.addOrRemoveCssClass(a,e)});return}var o=this.cssClassStates[t]!==e;o&&t.length&&(this.getGui().classList.toggle(t,e),this.cssClassStates[t]=e)},n}(),te=function(n){LW(t,n);function t(e){var r=n.call(this)||this;return r.displayed=!0,r.visible=!0,r.compId=NW.next(),r.cssClassManager=new e1(function(){return r.eGui}),e&&r.setTemplate(e),r}return t.prototype.preConstructOnComponent=function(){this.usingBrowserTooltips=this.gridOptionsWrapper.isEnableBrowserTooltips()},t.prototype.getCompId=function(){return this.compId},t.prototype.getTooltipParams=function(){return{value:this.tooltipText,location:"UNKNOWN"}},t.prototype.setTooltip=function(e){var r=this,i=function(){r.usingBrowserTooltips?r.getGui().removeAttribute("title"):r.tooltipFeature=r.destroyBean(r.tooltipFeature)},o=function(){r.usingBrowserTooltips?r.getGui().setAttribute("title",r.tooltipText):r.tooltipFeature=r.createBean(new cm(r))};this.tooltipText!=e&&(this.tooltipText&&i(),e!=null&&(this.tooltipText=e,this.tooltipText&&o()))},t.prototype.createChildComponentsFromTags=function(e,r){var i=this,o=AM(e.childNodes);o.forEach(function(a){if(a instanceof HTMLElement){var s=i.createComponentFromElement(a,function(u){var c=u.getGui();c&&i.copyAttributesFromNode(a,u.getGui())},r);if(s){if(s.addItems&&a.children.length){i.createChildComponentsFromTags(a,r);var l=Array.prototype.slice.call(a.children);s.addItems(l)}i.swapComponentForNode(s,e,a)}else a.childNodes&&i.createChildComponentsFromTags(a,r)}})},t.prototype.createComponentFromElement=function(e,r,i){var o=e.nodeName,a=i?i[e.getAttribute("ref")]:void 0,s=this.agStackComponentsRegistry.getComponentClass(o);if(s){t.elementGettingCreated=e;var l=new s(a);return l.setParentComponent(this),this.createBean(l,null,r),l}return null},t.prototype.copyAttributesFromNode=function(e,r){DM(e.attributes,function(i,o){return r.setAttribute(i,o)})},t.prototype.swapComponentForNode=function(e,r,i){var o=e.getGui();r.replaceChild(o,i),r.insertBefore(document.createComment(i.nodeName),o),this.addDestroyFunc(this.destroyBean.bind(this,e)),this.swapInComponentForQuerySelectors(e,i)},t.prototype.swapInComponentForQuerySelectors=function(e,r){var i=this;this.iterateOverQuerySelectors(function(o){i[o.attributeName]===r&&(i[o.attributeName]=e)})},t.prototype.iterateOverQuerySelectors=function(e){for(var r=Object.getPrototypeOf(this);r!=null;){var i=r.__agComponentMetaData,o=om(r.constructor);i&&i[o]&&i[o].querySelectors&&i[o].querySelectors.forEach(function(a){return e(a)}),r=Object.getPrototypeOf(r)}},t.prototype.setTemplate=function(e,r){var i=Sr(e);this.setTemplateFromElement(i,r)},t.prototype.setTemplateFromElement=function(e,r){this.eGui=e,this.eGui.__agComponent=this,this.wireQuerySelectors(),this.getContext()&&this.createChildComponentsFromTags(this.getGui(),r)},t.prototype.createChildComponentsPreConstruct=function(){this.getGui()&&this.createChildComponentsFromTags(this.getGui())},t.prototype.wireQuerySelectors=function(){var e=this;if(!!this.eGui){var r=this;this.iterateOverQuerySelectors(function(i){var o=function(l){return r[i.attributeName]=l},a=i.refSelector&&e.eGui.getAttribute("ref")===i.refSelector;if(a)o(e.eGui);else{var s=e.eGui.querySelector(i.querySelector);s&&o(s.__agComponent||s)}})}},t.prototype.getGui=function(){return this.eGui},t.prototype.getFocusableElement=function(){return this.eGui},t.prototype.setParentComponent=function(e){this.parentComponent=e},t.prototype.getParentComponent=function(){return this.parentComponent},t.prototype.setGui=function(e){this.eGui=e},t.prototype.queryForHtmlElement=function(e){return this.eGui.querySelector(e)},t.prototype.queryForHtmlInputElement=function(e){return this.eGui.querySelector(e)},t.prototype.appendChild=function(e,r){if(r||(r=this.eGui),e!=null)if(pd(e))r.appendChild(e);else{var i=e;r.appendChild(i.getGui()),this.addDestroyFunc(this.destroyBean.bind(this,i))}},t.prototype.isDisplayed=function(){return this.displayed},t.prototype.setVisible=function(e){e!==this.visible&&(this.visible=e,TM(this.eGui,e))},t.prototype.setDisplayed=function(e){if(e!==this.displayed){this.displayed=e,Ft(this.eGui,e);var r={type:t.EVENT_DISPLAYED_CHANGED,visible:this.displayed};this.dispatchEvent(r)}},t.prototype.destroy=function(){this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature)),n.prototype.destroy.call(this)},t.prototype.addGuiEventListener=function(e,r){var i=this;this.eGui.addEventListener(e,r),this.addDestroyFunc(function(){return i.eGui.removeEventListener(e,r)})},t.prototype.addCssClass=function(e){this.cssClassManager.addCssClass(e)},t.prototype.removeCssClass=function(e){this.cssClassManager.removeCssClass(e)},t.prototype.containsCssClass=function(e){return this.cssClassManager.containsCssClass(e)},t.prototype.addOrRemoveCssClass=function(e,r){this.cssClassManager.addOrRemoveCssClass(e,r)},t.prototype.getAttribute=function(e){var r=this.eGui;return r?r.getAttribute(e):null},t.prototype.getRefElement=function(e){return this.queryForHtmlElement('[ref="'+e+'"]')},t.EVENT_DISPLAYED_CHANGED="displayedChanged",Ay([y("agStackComponentsRegistry")],t.prototype,"agStackComponentsRegistry",void 0),Ay([ql],t.prototype,"preConstructOnComponent",null),Ay([ql],t.prototype,"createChildComponentsPreConstruct",null),t}(j);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v27.3.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */function kW(n){return t1.bind(this,n,void 0)}function I(n){return t1.bind(this,"[ref="+n+"]",n)}function t1(n,t,e,r,i){if(n===null){console.error("AG Grid: QuerySelector selector should not be null");return}if(typeof i=="number"){console.error("AG Grid: QuerySelector should be on an attribute");return}GW(e,"querySelectors",{attributeName:r,querySelector:n,refSelector:t})}function GW(n,t,e){var r=BW(n,om(n.constructor));r[t]||(r[t]=[]),r[t].push(e)}function BW(n,t){return n.__agComponentMetaData||(n.__agComponentMetaData={}),n.__agComponentMetaData[t]||(n.__agComponentMetaData[t]={}),n.__agComponentMetaData[t]}/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v27.3.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */var VW=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),fT=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},WW=function(n){VW(t,n);function t(){return n.call(this,`
            <div class="ag-floating-filter-input" role="presentation">
                <ag-input-text-field ref="eFloatingFilterText"></ag-input-text-field>
            </div>`)||this}return t.prototype.destroy=function(){n.prototype.destroy.call(this)},t.prototype.init=function(e){this.params=e;var r=this.columnModel.getDisplayNameForColumn(e.column,"header",!0),i=this.gridOptionsWrapper.getLocaleTextFunc();this.eFloatingFilterText.setDisabled(!0).setInputAriaLabel(r+" "+i("ariaFilterInput","Filter Input"))},t.prototype.onParentModelChanged=function(e){var r=this;if(!e){this.eFloatingFilterText.setValue("");return}this.params.parentFilterInstance(function(i){if(i.getModelAsString){var o=i.getModelAsString(e);r.eFloatingFilterText.setValue(o)}})},fT([I("eFloatingFilterText")],t.prototype,"eFloatingFilterText",void 0),fT([y("columnModel")],t.prototype,"columnModel",void 0),t}(te);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v27.3.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */var r1=function(){function n(t,e,r,i){var o=this;this.alive=!0,this.context=t,this.eParent=i;var a=e.getDateCompDetails(r),s=a.newAgStackInstance();s.then(function(l){if(!o.alive){t.destroyBean(l);return}o.dateComp=l,l&&(i.appendChild(l.getGui()),l.afterGuiAttached&&l.afterGuiAttached(),o.tempValue&&l.setDate(o.tempValue),o.disabled!=null&&o.setDateCompDisabled(o.disabled))})}return n.prototype.destroy=function(){this.alive=!1,this.dateComp=this.context.destroyBean(this.dateComp)},n.prototype.getDate=function(){return this.dateComp?this.dateComp.getDate():this.tempValue},n.prototype.setDate=function(t){this.dateComp?this.dateComp.setDate(t):this.tempValue=t},n.prototype.setDisabled=function(t){this.dateComp?this.setDateCompDisabled(t):this.disabled=t},n.prototype.setDisplayed=function(t){Ft(this.eParent,t)},n.prototype.setInputPlaceholder=function(t){this.dateComp&&this.dateComp.setInputPlaceholder&&this.dateComp.setInputPlaceholder(t)},n.prototype.setInputAriaLabel=function(t){this.dateComp&&this.dateComp.setInputAriaLabel&&this.dateComp.setInputAriaLabel(t)},n.prototype.afterGuiAttached=function(t){this.dateComp&&typeof this.dateComp.afterGuiAttached=="function"&&this.dateComp.afterGuiAttached(t)},n.prototype.setDateCompDisabled=function(t){this.dateComp!=null&&this.dateComp.setDisabled!=null&&this.dateComp.setDisabled(t)},n}();/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v27.3.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */var bw=globalThis&&globalThis.__assign||function(){return bw=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},bw.apply(this,arguments)},n1=function(){function n(){this.customFilterOptions={}}return n.prototype.init=function(t,e){this.filterOptions=t.filterOptions||e,this.mapCustomOptions(),this.selectDefaultItem(t),this.checkForDeprecatedParams()},n.prototype.checkForDeprecatedParams=function(){this.filterOptions.some(function(t){return typeof t!="string"&&t.test!=null})&&console.warn("AG Grid: [IFilterOptionDef] since v26.2.0, test() has been replaced with predicate()."),this.filterOptions.some(function(t){return typeof t!="string"&&t.hideFilterInput!=null})&&console.warn("AG Grid: [IFilterOptionDef] since v26.2.0, useOfHideFilterInput has been replaced with numberOfInputs.")},n.prototype.getFilterOptions=function(){return this.filterOptions},n.prototype.mapCustomOptions=function(){var t=this;!this.filterOptions||this.filterOptions.forEach(function(e){if(typeof e!="string"){var r=[["displayKey"],["displayName"],["predicate","test"]],i=function(s){return s.some(function(l){return e[l]!=null})?!0:(console.warn("AG Grid: ignoring FilterOptionDef as it doesn't contain one of '"+s+"'"),!1)};if(!r.every(i)){t.filterOptions=t.filterOptions.filter(function(s){return s===e})||[];return}var o=e.test,a=bw({},e);o!=null&&e.predicate==null&&(a.predicate=function(s,l){return o(s[0],l)},delete a.test),a.hideFilterInput&&a.numberOfInputs==null&&(a.numberOfInputs=0,delete a.hideFilterInput),t.customFilterOptions[e.displayKey]=a}})},n.prototype.selectDefaultItem=function(t){if(t.defaultOption)this.defaultOption=t.defaultOption;else if(this.filterOptions.length>=1){var e=this.filterOptions[0];typeof e=="string"?this.defaultOption=e:e.displayKey?this.defaultOption=e.displayKey:console.warn("AG Grid: invalid FilterOptionDef supplied as it doesn't contain a 'displayKey'")}else console.warn("AG Grid: no filter options for filter")},n.prototype.getDefaultOption=function(){return this.defaultOption},n.prototype.getCustomOption=function(t){return this.customFilterOptions[t]},n}();/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v27.3.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */var HW={applyFilter:"Apply",clearFilter:"Clear",resetFilter:"Reset",cancelFilter:"Cancel",textFilter:"Text Filter",numberFilter:"Number Filter",dateFilter:"Date Filter",setFilter:"Set Filter",filterOoo:"Filter...",empty:"Choose One",equals:"Equals",notEqual:"Not equal",lessThan:"Less than",greaterThan:"Greater than",inRange:"In range",inRangeStart:"From",inRangeEnd:"To",lessThanOrEqual:"Less than or equals",greaterThanOrEqual:"Greater than or equals",contains:"Contains",notContains:"Not contains",startsWith:"Starts with",endsWith:"Ends with",blank:"Blank",notBlank:"Not blank",andCondition:"AND",orCondition:"OR",dateFormatOoo:"yyyy-mm-dd"};/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v27.3.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */var U=function(){function n(){}return n.BACKSPACE="Backspace",n.TAB="Tab",n.ENTER="Enter",n.ESCAPE="Escape",n.SPACE=" ",n.LEFT="ArrowLeft",n.UP="ArrowUp",n.RIGHT="ArrowRight",n.DOWN="ArrowDown",n.DELETE="Delete",n.F2="F2",n.PAGE_UP="PageUp",n.PAGE_DOWN="PageDown",n.PAGE_HOME="Home",n.PAGE_END="End",n.A="KeyA",n.C="KeyC",n.V="KeyV",n.D="KeyD",n.Z="KeyZ",n.Y="KeyY",n}();/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v27.3.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */var jW=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),ww=globalThis&&globalThis.__assign||function(){return ww=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},ww.apply(this,arguments)},gT=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},lo=function(n){jW(t,n);function t(e,r){r===void 0&&(r={});var i=n.call(this)||this;return i.eFocusableElement=e,i.callbacks=r,i.callbacks=ww({shouldStopEventPropagation:function(){return!1},onTabKeyDown:function(o){if(!o.defaultPrevented){var a=i.focusService.findNextFocusableElement(i.eFocusableElement,!1,o.shiftKey);!a||(a.focus(),o.preventDefault())}}},r),i}return t.prototype.postConstruct=function(){this.eFocusableElement.classList.add(t.FOCUS_MANAGED_CLASS),this.addKeyDownListeners(this.eFocusableElement),this.callbacks.onFocusIn&&this.addManagedListener(this.eFocusableElement,"focusin",this.callbacks.onFocusIn),this.callbacks.onFocusOut&&this.addManagedListener(this.eFocusableElement,"focusout",this.callbacks.onFocusOut)},t.prototype.addKeyDownListeners=function(e){var r=this;this.addManagedListener(e,"keydown",function(i){if(!(i.defaultPrevented||jo(i))){if(r.callbacks.shouldStopEventPropagation(i)){Lc(i);return}i.key===U.TAB?r.callbacks.onTabKeyDown(i):r.callbacks.handleKeyDown&&r.callbacks.handleKeyDown(i)}})},t.FOCUS_MANAGED_CLASS="ag-focus-managed",gT([y("focusService")],t.prototype,"focusService",void 0),gT([H],t.prototype,"postConstruct",null),t}(j);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v27.3.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */var UW=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Dy=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Ql=function(n){UW(t,n);function t(e){var r=n.call(this)||this;return r.filterNameKey=e,r.applyActive=!1,r.hidePopup=null,r.appliedModel=null,r}return t.prototype.postConstruct=function(){this.resetTemplate(),this.createManagedBean(new lo(this.getFocusableElement(),{handleKeyDown:this.handleKeyDown.bind(this)}))},t.prototype.handleKeyDown=function(e){},t.prototype.getFilterTitle=function(){return this.translate(this.filterNameKey)},t.prototype.isFilterActive=function(){return!!this.appliedModel},t.prototype.resetTemplate=function(e){var r=`
            <div class="ag-filter-wrapper">
                <div class="ag-filter-body-wrapper ag-`+this.getCssIdentifier()+`-body-wrapper">
                    `+this.createBodyTemplate()+`
                </div>
            </div>`;this.setTemplate(r,e)},t.prototype.isReadOnly=function(){return!!this.providedFilterParams.readOnly},t.prototype.init=function(e){var r=this;this.setParams(e),this.resetUiToDefaults(!0).then(function(){r.updateUiVisibility(),r.setupOnBtApplyDebounce()})},t.prototype.setParams=function(e){this.providedFilterParams=e,this.applyActive=t.isUseApplyButton(e),this.createButtonPanel()},t.prototype.createButtonPanel=function(){var e=this,r=this.providedFilterParams.buttons;if(!(!r||r.length<1||this.isReadOnly())){var i=document.createElement("div");i.classList.add("ag-filter-apply-panel");var o=function(a){var s,l;switch(a){case"apply":s=e.translate("applyFilter"),l=function(c){return e.onBtApply(!1,!1,c)};break;case"clear":s=e.translate("clearFilter"),l=function(){return e.onBtClear()};break;case"reset":s=e.translate("resetFilter"),l=function(){return e.onBtReset()};break;case"cancel":s=e.translate("cancelFilter"),l=function(c){e.onBtCancel(c)};break;default:console.warn("AG Grid: Unknown button type specified");return}var u=Sr(`<button
                    type="button"
                    ref="`+a+`FilterButton"
                    class="ag-standard-button ag-filter-apply-panel-button"
                >`+s+`
                </button>`);i.appendChild(u),e.addManagedListener(u,"click",l)};IS(r).forEach(function(a){return o(a)}),this.getGui().appendChild(i)}},t.prototype.getDefaultDebounceMs=function(){return 0},t.prototype.setupOnBtApplyDebounce=function(){var e=t.getDebounceMs(this.providedFilterParams,this.getDefaultDebounceMs());this.onBtApplyDebounce=Ma(this.onBtApply.bind(this),e)},t.prototype.getModel=function(){return this.appliedModel?this.appliedModel:null},t.prototype.setModel=function(e){var r=this,i=e!=null?this.setModelIntoUi(e):this.resetUiToDefaults();return i.then(function(){r.updateUiVisibility(),r.applyModel()})},t.prototype.onBtCancel=function(e){var r=this,i=this.getModel(),o=function(){r.onUiChanged(!1,"prevent"),r.providedFilterParams.closeOnApply&&r.close(e)};i!=null?this.setModelIntoUi(i).then(o):this.resetUiToDefaults().then(o)},t.prototype.onBtClear=function(){var e=this;this.resetUiToDefaults().then(function(){return e.onUiChanged()})},t.prototype.onBtReset=function(){this.onBtClear(),this.onBtApply()},t.prototype.applyModel=function(){var e=this.getModelFromUi();if(!this.isModelValid(e))return!1;var r=this.appliedModel;return this.appliedModel=e,!this.areModelsEqual(r,e)},t.prototype.isModelValid=function(e){return!0},t.prototype.onBtApply=function(e,r,i){e===void 0&&(e=!1),r===void 0&&(r=!1),this.applyModel()&&this.providedFilterParams.filterChangedCallback({afterFloatingFilter:e,afterDataChange:r});var o=this.providedFilterParams.closeOnApply;o&&this.applyActive&&!e&&!r&&this.close(i)},t.prototype.onNewRowsLoaded=function(){},t.prototype.close=function(e){if(!!this.hidePopup){var r=e,i=r&&r.key,o;(i==="Enter"||i==="Space")&&(o={keyboardEvent:r}),this.hidePopup(o),this.hidePopup=null}},t.prototype.onUiChanged=function(e,r){if(e===void 0&&(e=!1),this.updateUiVisibility(),this.providedFilterParams.filterModifiedCallback(),this.applyActive&&!this.isReadOnly){var i=this.isModelValid(this.getModelFromUi());Nc(this.getRefElement("applyFilterButton"),!i)}e&&!r||r==="immediately"?this.onBtApply(e):(!this.applyActive&&!r||r==="debounce")&&this.onBtApplyDebounce()},t.prototype.afterGuiAttached=function(e){e!=null&&(this.hidePopup=e.hidePopup)},t.getDebounceMs=function(e,r){return t.isUseApplyButton(e)?(e.debounceMs!=null&&console.warn("AG Grid: debounceMs is ignored when apply button is present"),0):e.debounceMs!=null?e.debounceMs:r},t.isUseApplyButton=function(e){return!!e.buttons&&e.buttons.indexOf("apply")>=0},t.prototype.destroy=function(){this.hidePopup=null,n.prototype.destroy.call(this)},t.prototype.translate=function(e){var r=this.gridOptionsWrapper.getLocaleTextFunc();return r(e,HW[e])},t.prototype.getCellValue=function(e){var r=this.providedFilterParams,i=r.api,o=r.colDef,a=r.column,s=r.columnApi,l=r.context;return this.providedFilterParams.valueGetter({api:i,colDef:o,column:a,columnApi:s,context:l,data:e.data,getValue:function(u){return e.data[u]},node:e})},Dy([y("rowModel")],t.prototype,"rowModel",void 0),Dy([y("valueService")],t.prototype,"valueService",void 0),Dy([H],t.prototype,"postConstruct",null),t}(te);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v27.3.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */var zW=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),$W=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},LS=function(n){zW(t,n);function t(e,r){var i=n.call(this,r)||this;return i.labelSeparator="",i.labelAlignment="left",i.label="",i.config=e||{},i}return t.prototype.postConstruct=function(){this.addCssClass("ag-labeled"),this.eLabel.classList.add("ag-label");var e=this.config,r=e.labelSeparator,i=e.label,o=e.labelWidth,a=e.labelAlignment;r!=null&&this.setLabelSeparator(r),i!=null&&this.setLabel(i),o!=null&&this.setLabelWidth(o),this.setLabelAlignment(a||this.labelAlignment),this.refreshLabel()},t.prototype.refreshLabel=function(){ni(this.eLabel),typeof this.label=="string"?this.eLabel.innerText=this.label+this.labelSeparator:this.label&&this.eLabel.appendChild(this.label),this.label===""?(this.eLabel.classList.add("ag-hidden"),Jr(this.eLabel,"presentation")):(this.eLabel.classList.remove("ag-hidden"),Jr(this.eLabel,null))},t.prototype.setLabelSeparator=function(e){return this.labelSeparator===e?this:(this.labelSeparator=e,this.label!=null&&this.refreshLabel(),this)},t.prototype.getLabelId=function(){return this.eLabel.id=this.eLabel.id||"ag-"+this.getCompId()+"-label",this.eLabel.id},t.prototype.getLabel=function(){return this.label},t.prototype.setLabel=function(e){return this.label===e?this:(this.label=e,this.refreshLabel(),this)},t.prototype.setLabelAlignment=function(e){var r=this.getGui(),i=r.classList;return i.toggle("ag-label-align-left",e==="left"),i.toggle("ag-label-align-right",e==="right"),i.toggle("ag-label-align-top",e==="top"),this},t.prototype.setLabelWidth=function(e){return this.label==null?this:(cd(this.eLabel,e),this)},$W([H],t.prototype,"postConstruct",null),t}(te);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v27.3.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */var KW=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Qi=function(n){KW(t,n);function t(e,r,i){var o=n.call(this,e,r)||this;return o.className=i,o.disabled=!1,o}return t.prototype.postConstruct=function(){n.prototype.postConstruct.call(this),this.className&&this.addCssClass(this.className)},t.prototype.onValueChange=function(e){var r=this;return this.addManagedListener(this,t.EVENT_CHANGED,function(){return e(r.getValue())}),this},t.prototype.getWidth=function(){return this.getGui().clientWidth},t.prototype.setWidth=function(e){return qo(this.getGui(),e),this},t.prototype.getPreviousValue=function(){return this.previousValue},t.prototype.getValue=function(){return this.value},t.prototype.setValue=function(e,r){return this.value===e?this:(this.previousValue=this.value,this.value=e,r||this.dispatchEvent({type:t.EVENT_CHANGED}),this)},t.prototype.setDisabled=function(e){e=!!e;var r=this.getGui();return Nc(r,e),r.classList.toggle("ag-disabled",e),this.disabled=e,this},t.prototype.isDisabled=function(){return!!this.disabled},t.EVENT_CHANGED="valueChange",t}(LS);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v27.3.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */var YW=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),kd=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},i1=function(n){YW(t,n);function t(e,r,i,o){var a=n.call(this,e,`<div class="ag-picker-field" role="presentation">
                <div ref="eLabel"></div>
                <div ref="eWrapper"
                    class="ag-wrapper ag-picker-field-wrapper"
                    tabIndex="-1"
                    aria-expanded="false"
                    `+(o?'role="'+o+'"':"")+`
                >
                    <div ref="eDisplayField" class="ag-picker-field-display"></div>
                    <div ref="eIcon" class="ag-picker-field-icon" aria-hidden="true"></div>
                </div>
            </div>`,r)||this;return a.pickerIcon=i,a.isPickerDisplayed=!1,a.isDestroyingPicker=!1,a.skipClick=!1,a}return t.prototype.postConstruct=function(){var e=this;n.prototype.postConstruct.call(this);var r=this.getCompId()+"-display";this.eDisplayField.setAttribute("id",r),OS(this.eWrapper,r);var i=function(){if(e.skipClick){e.skipClick=!1;return}e.isDisabled()||(e.pickerComponent=e.showPicker())},o=this.getGui();if(this.addManagedListener(o,"mousedown",function(s){!e.skipClick&&e.pickerComponent&&e.pickerComponent.isAlive()&&Zc(e.pickerComponent.getGui())&&o.contains(s.target)&&(e.skipClick=!0)}),this.addManagedListener(o,"keydown",function(s){switch(s.key){case U.UP:case U.DOWN:case U.ENTER:case U.SPACE:i();case U.ESCAPE:e.isPickerDisplayed&&s.preventDefault();break}}),this.addManagedListener(this.eWrapper,"click",i),this.addManagedListener(this.eLabel,"click",i),this.pickerIcon){var a=ar(this.pickerIcon,this.gridOptionsWrapper);a&&this.eIcon.appendChild(a)}},t.prototype.refreshLabel=function(){Z(this.getLabel())?TS(this.eWrapper,this.getLabelId()):this.eWrapper.removeAttribute("aria-labelledby"),n.prototype.refreshLabel.call(this)},t.prototype.setAriaLabel=function(e){return lu(this.eWrapper,e),this},t.prototype.setInputWidth=function(e){return cd(this.eWrapper,e),this},t.prototype.getFocusableElement=function(){return this.eWrapper},kd([I("eLabel")],t.prototype,"eLabel",void 0),kd([I("eWrapper")],t.prototype,"eWrapper",void 0),kd([I("eDisplayField")],t.prototype,"eDisplayField",void 0),kd([I("eIcon")],t.prototype,"eIcon",void 0),t}(Qi);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v27.3.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */var XW=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),qW=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},vT=function(n){XW(t,n);function t(e){e===void 0&&(e="default");var r=n.call(this,'<div class="ag-list ag-'+e+'-list" role="listbox"></div>')||this;return r.cssIdentifier=e,r.options=[],r.itemEls=[],r}return t.prototype.init=function(){this.addManagedListener(this.getGui(),"keydown",this.handleKeyDown.bind(this))},t.prototype.handleKeyDown=function(e){var r=e.key;switch(r){case U.ENTER:if(!this.highlightedEl)this.setValue(this.getValue());else{var i=this.itemEls.indexOf(this.highlightedEl);this.setValueByIndex(i)}break;case U.DOWN:case U.UP:var o=r===U.DOWN,a=void 0;if(e.preventDefault(),!this.highlightedEl)a=this.itemEls[o?0:this.itemEls.length-1];else{var s=this.itemEls.indexOf(this.highlightedEl),l=s+(o?1:-1);l=Math.min(Math.max(l,0),this.itemEls.length-1),a=this.itemEls[l]}this.highlightItem(a);break}},t.prototype.addOptions=function(e){var r=this;return e.forEach(function(i){return r.addOption(i)}),this},t.prototype.addOption=function(e){var r=e.value,i=e.text,o=Xo(i||r);return this.options.push({value:r,text:o}),this.renderOption(r,o),this.updateIndices(),this},t.prototype.updateIndices=function(){var e=this.getGui().querySelectorAll(".ag-list-item");e.forEach(function(r,i){PS(r,i+1),RS(r,e.length)})},t.prototype.renderOption=function(e,r){var i=this,o=document.createElement("div");Jr(o,"option"),o.classList.add("ag-list-item","ag-"+this.cssIdentifier+"-list-item"),o.innerHTML="<span>"+r+"</span>",o.tabIndex=-1,this.itemEls.push(o),this.addManagedListener(o,"mouseover",function(){return i.highlightItem(o)}),this.addManagedListener(o,"mouseleave",function(){return i.clearHighlighted()}),this.addManagedListener(o,"click",function(){return i.setValue(e)}),this.getGui().appendChild(o)},t.prototype.setValue=function(e,r){if(this.value===e)return this.fireItemSelected(),this;if(e==null)return this.reset(),this;var i=this.options.findIndex(function(a){return a.value===e});if(i!==-1){var o=this.options[i];this.value=o.value,this.displayValue=o.text!=null?o.text:o.value,this.highlightItem(this.itemEls[i]),r||this.fireChangeEvent()}return this},t.prototype.setValueByIndex=function(e){return this.setValue(this.options[e].value)},t.prototype.getValue=function(){return this.value},t.prototype.getDisplayValue=function(){return this.displayValue},t.prototype.refreshHighlighted=function(){var e=this;this.clearHighlighted();var r=this.options.findIndex(function(i){return i.value===e.value});r!==-1&&this.highlightItem(this.itemEls[r])},t.prototype.reset=function(){this.value=null,this.displayValue=null,this.clearHighlighted(),this.fireChangeEvent()},t.prototype.highlightItem=function(e){!e.offsetParent||(this.clearHighlighted(),this.highlightedEl=e,this.highlightedEl.classList.add(t.ACTIVE_CLASS),kc(this.highlightedEl,!0),this.highlightedEl.focus())},t.prototype.clearHighlighted=function(){!this.highlightedEl||!this.highlightedEl.offsetParent||(this.highlightedEl.classList.remove(t.ACTIVE_CLASS),kc(this.highlightedEl,!1),this.highlightedEl=null)},t.prototype.fireChangeEvent=function(){this.dispatchEvent({type:Qi.EVENT_CHANGED}),this.fireItemSelected()},t.prototype.fireItemSelected=function(){this.dispatchEvent({type:t.EVENT_ITEM_SELECTED})},t.EVENT_ITEM_SELECTED="selectedItem",t.ACTIVE_CLASS="ag-active-item",qW([H],t.prototype,"init",null),t}(te);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v27.3.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */var ZW=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),mT=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},hd=function(n){ZW(t,n);function t(e){return n.call(this,e,"ag-select","smallDown","listbox")||this}return t.prototype.init=function(){var e=this;this.listComponent=this.createBean(new vT("select")),this.listComponent.setParentComponent(this),this.eWrapper.tabIndex=0,this.listComponent.addManagedListener(this.listComponent,vT.EVENT_ITEM_SELECTED,function(){e.hideList&&e.hideList()}),this.listComponent.addManagedListener(this.listComponent,Qi.EVENT_CHANGED,function(){e.setValue(e.listComponent.getValue(),!1,!0),e.hideList&&e.hideList()})},t.prototype.showPicker=function(){var e=this,r=this.listComponent.getGui(),i=this.gridOptionsWrapper.getDocument(),o=this.addManagedListener(i.body,"wheel",function(u){!r.contains(u.target)&&e.hideList&&e.hideList()}),a=this.addManagedListener(r,"focusout",function(u){!r.contains(u.relatedTarget)&&e.hideList&&e.hideList()}),s=this.gridOptionsWrapper.getLocaleTextFunc(),l=this.popupService.addPopup({modal:!0,eChild:r,closeOnEsc:!0,closedCallback:function(){e.hideList=null,e.isPickerDisplayed=!1,a(),o(),e.isAlive()&&(ti(e.eWrapper,!1),e.getFocusableElement().focus())},ariaLabel:s("ariaLabelSelectField","Select Field")});return l&&(this.hideList=l.hideFunc),this.isPickerDisplayed=!0,cd(r,um(this.eWrapper)),ti(this.eWrapper,!0),r.style.maxHeight=ud(this.popupService.getPopupParent())+"px",r.style.position="absolute",this.popupService.positionPopupUnderComponent({type:"ag-list",eventSource:this.eWrapper,ePopup:r,keepWithinBounds:!0}),this.listComponent.refreshHighlighted(),this.listComponent},t.prototype.addOptions=function(e){var r=this;return e.forEach(function(i){return r.addOption(i)}),this},t.prototype.addOption=function(e){return this.listComponent.addOption(e),this},t.prototype.setValue=function(e,r,i){if(this.value===e)return this;i||this.listComponent.setValue(e,!0);var o=this.listComponent.getValue();return o===this.getValue()?this:(this.eDisplayField.innerHTML=this.listComponent.getDisplayValue(),n.prototype.setValue.call(this,e,r))},t.prototype.destroy=function(){this.hideList&&this.hideList(),this.destroyBean(this.listComponent),n.prototype.destroy.call(this)},mT([y("popupService")],t.prototype,"popupService",void 0),mT([H],t.prototype,"init",null),t}(i1);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v27.3.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */var QW=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),My=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},da=function(n){QW(t,n);function t(e,r,i,o){i===void 0&&(i="text"),o===void 0&&(o="input");var a=n.call(this,e,`
            <div role="presentation">
                <div ref="eLabel" class="ag-input-field-label"></div>
                <div ref="eWrapper" class="ag-wrapper ag-input-wrapper" role="presentation">
                    <`+o+' ref="eInput" class="ag-input-field-input"></'+o+`>
                </div>
            </div>`,r)||this;return a.inputType=i,a.displayFieldTag=o,a}return t.prototype.postConstruct=function(){n.prototype.postConstruct.call(this),this.setInputType(),this.eLabel.classList.add(this.className+"-label"),this.eWrapper.classList.add(this.className+"-input-wrapper"),this.eInput.classList.add(this.className+"-input"),this.addCssClass("ag-input-field"),this.eInput.id=this.eInput.id||"ag-"+this.getCompId()+"-input";var e=this.config,r=e.width,i=e.value;r!=null&&this.setWidth(r),i!=null&&this.setValue(i),this.addInputListeners()},t.prototype.refreshLabel=function(){Z(this.getLabel())?TS(this.eInput,this.getLabelId()):this.eInput.removeAttribute("aria-labelledby"),n.prototype.refreshLabel.call(this)},t.prototype.addInputListeners=function(){var e=this;this.addManagedListener(this.eInput,"input",function(r){return e.setValue(r.target.value)})},t.prototype.setInputType=function(){this.displayFieldTag==="input"&&this.eInput.setAttribute("type",this.inputType)},t.prototype.getInputElement=function(){return this.eInput},t.prototype.setInputWidth=function(e){return cd(this.eWrapper,e),this},t.prototype.setInputName=function(e){return this.getInputElement().setAttribute("name",e),this},t.prototype.getFocusableElement=function(){return this.eInput},t.prototype.setMaxLength=function(e){var r=this.eInput;return r.maxLength=e,this},t.prototype.setInputPlaceholder=function(e){return vh(this.eInput,"placeholder",e),this},t.prototype.setInputAriaLabel=function(e){return lu(this.eInput,e),this},t.prototype.setDisabled=function(e){return Nc(this.eInput,e),n.prototype.setDisabled.call(this,e)},My([I("eLabel")],t.prototype,"eLabel",void 0),My([I("eWrapper")],t.prototype,"eWrapper",void 0),My([I("eInput")],t.prototype,"eInput",void 0),t}(Qi);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v27.3.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */var JW=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Qs=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},zr;(function(n){n[n.One=0]="One",n[n.Two=1]="Two"})(zr||(zr={}));var er=function(n){JW(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.getNumberOfInputs=function(e){var r=this.optionsFactory.getCustomOption(e);if(r){var i=r.numberOfInputs;return i!=null?i:1}var o=[t.EMPTY,t.NOT_BLANK,t.BLANK];return e&&o.indexOf(e)>=0?0:e===t.IN_RANGE?2:1},t.prototype.onFloatingFilterChanged=function(e,r){this.setTypeFromFloatingFilter(e),this.setValueFromFloatingFilter(r),this.onUiChanged(!0)},t.prototype.setTypeFromFloatingFilter=function(e){this.eType1.setValue(e),this.eType2.setValue(this.optionsFactory.getDefaultOption()),(this.isDefaultOperator("AND")?this.eJoinOperatorAnd:this.eJoinOperatorOr).setValue(!0)},t.prototype.getModelFromUi=function(){return this.isConditionUiComplete(zr.One)?this.isAllowTwoConditions()&&this.isConditionUiComplete(zr.Two)?{filterType:this.getFilterType(),operator:this.getJoinOperator(),condition1:this.createCondition(zr.One),condition2:this.createCondition(zr.Two)}:this.createCondition(zr.One):null},t.prototype.getConditionTypes=function(){return[this.eType1.getValue(),this.eType2.getValue()]},t.prototype.getJoinOperator=function(){return this.eJoinOperatorOr.getValue()===!0?"OR":"AND"},t.prototype.areModelsEqual=function(e,r){if(!e&&!r)return!0;if(!e&&r||e&&!r)return!1;var i=!e.operator,o=!r.operator,a=!i&&o||i&&!o;if(a)return!1;var s;if(i){var l=e,u=r;s=this.areSimpleModelsEqual(l,u)}else{var c=e,p=r;s=c.operator===p.operator&&this.areSimpleModelsEqual(c.condition1,p.condition1)&&this.areSimpleModelsEqual(c.condition2,p.condition2)}return s},t.prototype.setModelIntoUi=function(e){var r=e.operator;if(r){var i=e,o=i.operator==="OR";this.eJoinOperatorAnd.setValue(!o),this.eJoinOperatorOr.setValue(o),this.eType1.setValue(i.condition1.type),this.eType2.setValue(i.condition2.type),this.setConditionIntoUi(i.condition1,zr.One),this.setConditionIntoUi(i.condition2,zr.Two)}else{var a=e;this.eJoinOperatorAnd.setValue(this.isDefaultOperator("AND")),this.eJoinOperatorOr.setValue(this.isDefaultOperator("OR")),this.eType1.setValue(a.type),this.eType2.setValue(this.optionsFactory.getDefaultOption()),this.setConditionIntoUi(a,zr.One),this.setConditionIntoUi(null,zr.Two)}return Dt.resolve()},t.prototype.doesFilterPass=function(e){var r=this,i=this.getModel();if(i==null)return!0;var o=i.operator,a=[];if(o){var s=i;a.push(s.condition1,s.condition2)}else a.push(i);var l=o&&o==="OR"?"some":"every";return a[l](function(u){return r.individualConditionPasses(e,u)})},t.prototype.setParams=function(e){n.prototype.setParams.call(this,e),this.optionsFactory=new n1,this.optionsFactory.init(e,this.getDefaultFilterOptions()),this.allowTwoConditions=!e.suppressAndOrCondition,this.alwaysShowBothConditions=!!e.alwaysShowBothConditions,this.defaultJoinOperator=this.getDefaultJoinOperator(e.defaultJoinOperator),this.putOptionsIntoDropdown(),this.addChangedListeners()},t.prototype.getDefaultJoinOperator=function(e){return ri(["AND","OR"],e)?e:"AND"},t.prototype.putOptionsIntoDropdown=function(){var e=this,r=this.optionsFactory.getFilterOptions(),i=[this.eType1,this.eType2];r.forEach(function(o){var a=typeof o=="string"?e.createBoilerplateListOption(o):e.createCustomListOption(o);i.forEach(function(s){return s.addOption(a)})}),i.forEach(function(o){return o.setDisabled(r.length<=1)})},t.prototype.createBoilerplateListOption=function(e){return{value:e,text:this.translate(e)}},t.prototype.createCustomListOption=function(e){var r=e.displayKey,i=this.optionsFactory.getCustomOption(e.displayKey);return{value:r,text:i?this.gridOptionsWrapper.getLocaleTextFunc()(i.displayKey,i.displayName):this.translate(r)}},t.prototype.isAllowTwoConditions=function(){return this.allowTwoConditions},t.prototype.createBodyTemplate=function(){return`
            <ag-select class="ag-filter-select" ref="eOptions1"></ag-select>
            `+this.createValueTemplate(zr.One)+`
            <div class="ag-filter-condition" ref="eJoinOperatorPanel">
               <ag-radio-button ref="eJoinOperatorAnd" class="ag-filter-condition-operator ag-filter-condition-operator-and"></ag-radio-button>
               <ag-radio-button ref="eJoinOperatorOr" class="ag-filter-condition-operator ag-filter-condition-operator-or"></ag-radio-button>
            </div>
            <ag-select class="ag-filter-select" ref="eOptions2"></ag-select>
            `+this.createValueTemplate(zr.Two)},t.prototype.getCssIdentifier=function(){return"simple-filter"},t.prototype.updateUiVisibility=function(){var e=this,r=[[this.eType1],[this.eType2,this.eJoinOperatorPanel,this.eJoinOperatorAnd,this.eJoinOperatorOr]],i=[this.eCondition1Body,this.eCondition2Body];r.forEach(function(o,a){var s=e.isConditionVisible(a),l=e.isConditionDisabled(a);o.forEach(function(u){u instanceof da||u instanceof hd?(u.setDisabled(l),u.setDisplayed(s)):(Nc(u,l),Ft(u,s))})}),i.forEach(function(o,a){Ft(o,e.isConditionBodyVisible(a))}),this.forEachInput(function(o,a,s,l){e.setElementDisplayed(o,a<l),e.setElementDisabled(o,e.isConditionDisabled(s))}),this.resetPlaceholder()},t.prototype.afterGuiAttached=function(e){if(n.prototype.afterGuiAttached.call(this,e),this.resetPlaceholder(),!e||!e.suppressFocus&&!this.isReadOnly()){var r=this.getInputs()[0][0];if(!r)return;r instanceof da&&r.getInputElement().focus()}},t.prototype.resetPlaceholder=function(){var e=this,r=this.gridOptionsWrapper.getLocaleTextFunc();this.forEachInput(function(i,o,a,s){if(i instanceof da){var l=o===0&&s>1?"inRangeStart":o===0?"filterOoo":"inRangeEnd",u=o===0&&s>1?r("ariaFilterFromValue","Filter from value"):o===0?r("ariaFilterValue","Filter Value"):r("ariaFilterToValue","Filter to Value");i.setInputPlaceholder(e.translate(l)),i.setInputAriaLabel(u)}})},t.prototype.setElementValue=function(e,r,i){e instanceof da&&e.setValue(r!=null?String(r):null,i)},t.prototype.setElementDisplayed=function(e,r){e instanceof te&&Ft(e.getGui(),r)},t.prototype.setElementDisabled=function(e,r){e instanceof te&&Nc(e.getGui(),r)},t.prototype.attachElementOnChange=function(e,r){e instanceof da&&e.onValueChange(r)},t.prototype.forEachInput=function(e){var r=this,i=this.getInputs();this.getConditionTypes().forEach(function(o,a){for(var s=r.getNumberOfInputs(o),l=0;l<i[a].length;l++){var u=i[a][l];u!=null&&e(u,l,a,s)}})},t.prototype.isConditionVisible=function(e){return e===0?!0:this.allowTwoConditions?this.isReadOnly()?this.isConditionUiComplete(e):this.alwaysShowBothConditions?!0:this.isConditionUiComplete(e-1):!1},t.prototype.isConditionDisabled=function(e){return this.isReadOnly()||!this.isConditionVisible(e)?!0:e===0?!1:!this.isConditionUiComplete(e-1)},t.prototype.isConditionBodyVisible=function(e){if(!this.isConditionVisible(e))return!1;var r=this.getConditionTypes()[e],i=this.getNumberOfInputs(r);return i>0},t.prototype.isConditionUiComplete=function(e){var r=this.getConditionTypes()[e];return!(r===t.EMPTY||this.getValues(e).some(function(i){return i==null}))},t.prototype.resetUiToDefaults=function(e){var r=this,i=this.gridOptionsWrapper.getLocaleTextFunc(),o=i("ariaFilteringOperator","Filtering operator"),a="ag-simple-filter-and-or-"+this.getCompId(),s=this.optionsFactory.getDefaultOption();return this.eType1.setValue(s,e).setAriaLabel(o).setDisabled(this.isReadOnly()),this.eType2.setValue(this.optionsFactory.getDefaultOption(),e).setAriaLabel(o).setDisabled(this.isReadOnly()),this.eJoinOperatorAnd.setValue(this.isDefaultOperator("AND"),e).setName(a).setLabel(this.translate("andCondition")).setDisabled(this.isReadOnly()),this.eJoinOperatorOr.setValue(this.isDefaultOperator("OR"),e).setName(a).setLabel(this.translate("orCondition")).setDisabled(this.isReadOnly()),this.forEachInput(function(l){r.setElementValue(l,null,e),r.setElementDisabled(l,r.isReadOnly())}),this.resetPlaceholder(),Dt.resolve()},t.prototype.setConditionIntoUi=function(e,r){var i=this,o=this.mapValuesFromModel(e);this.forEachInput(function(a,s,l,u){l===r&&i.setElementValue(a,o[s]!=null?o[s]:null)})},t.prototype.setValueFromFloatingFilter=function(e){var r=this;this.forEachInput(function(i,o,a,s){r.setElementValue(i,o===0&&a===0?e:null)})},t.prototype.isDefaultOperator=function(e){return e===this.defaultJoinOperator},t.prototype.addChangedListeners=function(){var e=this;if(!this.isReadOnly()){var r=function(){return e.onUiChanged()};this.eType1.onValueChange(r),this.eType2.onValueChange(r),this.eJoinOperatorOr.onValueChange(r),this.eJoinOperatorAnd.onValueChange(r),this.forEachInput(function(i){e.attachElementOnChange(i,r)})}},t.prototype.individualConditionPasses=function(e,r){var i=this.getCellValue(e.node),o=this.mapValuesFromModel(r),a=this.optionsFactory.getCustomOption(r.type),s=this.evaluateCustomFilter(a,o,i);return s!=null?s:i==null?this.evaluateNullValue(r.type):this.evaluateNonNullValue(o,i,r,e)},t.prototype.evaluateCustomFilter=function(e,r,i){if(e!=null){var o=e.predicate;if(o!=null&&!r.some(function(a){return a==null}))return o(r,i)}},t.prototype.isBlank=function(e){return e==null||typeof e=="string"&&e.trim().length===0},t.EMPTY="empty",t.BLANK="blank",t.NOT_BLANK="notBlank",t.EQUALS="equals",t.NOT_EQUAL="notEqual",t.LESS_THAN="lessThan",t.LESS_THAN_OR_EQUAL="lessThanOrEqual",t.GREATER_THAN="greaterThan",t.GREATER_THAN_OR_EQUAL="greaterThanOrEqual",t.IN_RANGE="inRange",t.CONTAINS="contains",t.NOT_CONTAINS="notContains",t.STARTS_WITH="startsWith",t.ENDS_WITH="endsWith",Qs([I("eOptions1")],t.prototype,"eType1",void 0),Qs([I("eOptions2")],t.prototype,"eType2",void 0),Qs([I("eJoinOperatorPanel")],t.prototype,"eJoinOperatorPanel",void 0),Qs([I("eJoinOperatorAnd")],t.prototype,"eJoinOperatorAnd",void 0),Qs([I("eJoinOperatorOr")],t.prototype,"eJoinOperatorOr",void 0),Qs([I("eCondition1Body")],t.prototype,"eCondition1Body",void 0),Qs([I("eCondition2Body")],t.prototype,"eCondition2Body",void 0),t}(Ql);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v27.3.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */var eH=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),dr=function(n){eH(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.setParams=function(e){n.prototype.setParams.call(this,e),this.scalarFilterParams=e},t.prototype.evaluateNullValue=function(e){switch(e){case t.EQUALS:case t.NOT_EQUAL:if(this.scalarFilterParams.includeBlanksInEquals)return!0;break;case t.GREATER_THAN:case t.GREATER_THAN_OR_EQUAL:if(this.scalarFilterParams.includeBlanksInGreaterThan)return!0;break;case t.LESS_THAN:case t.LESS_THAN_OR_EQUAL:if(this.scalarFilterParams.includeBlanksInLessThan)return!0;break;case t.IN_RANGE:if(this.scalarFilterParams.includeBlanksInRange)return!0;break;case t.BLANK:return!0;case t.NOT_BLANK:return!1}return!1},t.prototype.evaluateNonNullValue=function(e,r,i){var o=this.comparator(),a=e[0]!=null?o(e[0],r):0;switch(i.type){case t.EQUALS:return a===0;case t.NOT_EQUAL:return a!==0;case t.GREATER_THAN:return a>0;case t.GREATER_THAN_OR_EQUAL:return a>=0;case t.LESS_THAN:return a<0;case t.LESS_THAN_OR_EQUAL:return a<=0;case t.IN_RANGE:{var s=o(e[1],r);return this.scalarFilterParams.inRangeInclusive?a>=0&&s<=0:a>0&&s<0}case t.BLANK:return this.isBlank(r);case t.NOT_BLANK:return!this.isBlank(r);default:return console.warn('AG Grid: Unexpected type of filter "'+i.type+'", it looks like the filter was configured with incorrect Filter Options'),!0}},t}(er);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v27.3.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */var tH=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),_w=globalThis&&globalThis.__assign||function(){return _w=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},_w.apply(this,arguments)},gp=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},yT=1e3,CT=1/0,NS=function(n){tH(t,n);function t(){var e=n.call(this,"dateFilter")||this;return e.minValidYear=yT,e.maxValidYear=CT,e}return t.prototype.afterGuiAttached=function(e){n.prototype.afterGuiAttached.call(this,e),this.dateCondition1FromComp.afterGuiAttached(e)},t.prototype.mapValuesFromModel=function(e){var r=e||{},i=r.dateFrom,o=r.dateTo,a=r.type;return[i&&Cs(i)||null,o&&Cs(o)||null].slice(0,this.getNumberOfInputs(a))},t.prototype.comparator=function(){return this.dateFilterParams.comparator?this.dateFilterParams.comparator:this.defaultComparator.bind(this)},t.prototype.defaultComparator=function(e,r){var i=r;return r==null||i<e?-1:i>e?1:0},t.prototype.setParams=function(e){n.prototype.setParams.call(this,e),this.dateFilterParams=e;var r=function(i,o){if(e[i]!=null)if(isNaN(e[i]))console.warn("AG Grid: DateFilter "+i+" is not a number");else return e[i]==null?o:Number(e[i]);return o};this.minValidYear=r("minValidYear",yT),this.maxValidYear=r("maxValidYear",CT),this.minValidYear>this.maxValidYear&&console.warn("AG Grid: DateFilter minValidYear should be <= maxValidYear"),this.createDateComponents()},t.prototype.createDateComponents=function(){var e=this,r=function(i){return new r1(e.getContext(),e.userComponentFactory,{onDateChanged:function(){return e.onUiChanged()},filterParams:e.dateFilterParams},i)};this.dateCondition1FromComp=r(this.eCondition1PanelFrom),this.dateCondition1ToComp=r(this.eCondition1PanelTo),this.dateCondition2FromComp=r(this.eCondition2PanelFrom),this.dateCondition2ToComp=r(this.eCondition2PanelTo),this.addDestroyFunc(function(){e.forEachInput(function(i){return i.destroy()})})},t.prototype.setElementValue=function(e,r,i){e.setDate(r)},t.prototype.setElementDisplayed=function(e,r){e.setDisplayed(r)},t.prototype.setElementDisabled=function(e,r){e.setDisabled(r)},t.prototype.getDefaultFilterOptions=function(){return t.DEFAULT_FILTER_OPTIONS},t.prototype.createValueTemplate=function(e){var r=e===zr.One?"1":"2";return`
            <div class="ag-filter-body" ref="eCondition`+r+`Body">
                <div class="ag-filter-from ag-filter-date-from" ref="eCondition`+r+`PanelFrom"></div>
                <div class="ag-filter-to ag-filter-date-to" ref="eCondition`+r+`PanelTo"></div>
            </div>`},t.prototype.isConditionUiComplete=function(e){var r=this;if(!n.prototype.isConditionUiComplete.call(this,e))return!1;var i=function(a){return a!=null&&a.getUTCFullYear()>=r.minValidYear&&a.getUTCFullYear()<=r.maxValidYear},o=!0;return this.forEachInput(function(a,s,l,u){l!==e||!o||s>=u||(o=o&&i(a.getDate()))}),o},t.prototype.areSimpleModelsEqual=function(e,r){return e.dateFrom===r.dateFrom&&e.dateTo===r.dateTo&&e.type===r.type},t.prototype.getFilterType=function(){return"date"},t.prototype.createCondition=function(e){var r=this.getConditionTypes()[e],i={},o=this.getValues(e);return o.length>0&&(i.dateFrom=ys(o[0])),o.length>1&&(i.dateTo=ys(o[1])),_w({dateFrom:null,dateTo:null,filterType:this.getFilterType(),type:r},i)},t.prototype.resetPlaceholder=function(){var e=this.gridOptionsWrapper.getLocaleTextFunc(),r=this.translate("dateFormatOoo"),i=e("ariaFilterValue","Filter Value");this.forEachInput(function(o){o.setInputPlaceholder(r),o.setInputAriaLabel(i)})},t.prototype.getInputs=function(){return[[this.dateCondition1FromComp,this.dateCondition1ToComp],[this.dateCondition2FromComp,this.dateCondition2ToComp]]},t.prototype.getValues=function(e){var r=[];return this.forEachInput(function(i,o,a,s){e===a&&o<s&&r.push(i.getDate())}),r},t.DEFAULT_FILTER_OPTIONS=[dr.EQUALS,dr.GREATER_THAN,dr.LESS_THAN,dr.NOT_EQUAL,dr.IN_RANGE,dr.BLANK,dr.NOT_BLANK],gp([I("eCondition1PanelFrom")],t.prototype,"eCondition1PanelFrom",void 0),gp([I("eCondition1PanelTo")],t.prototype,"eCondition1PanelTo",void 0),gp([I("eCondition2PanelFrom")],t.prototype,"eCondition2PanelFrom",void 0),gp([I("eCondition2PanelTo")],t.prototype,"eCondition2PanelTo",void 0),gp([y("userComponentFactory")],t.prototype,"userComponentFactory",void 0),t}(dr);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v27.3.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */var rH=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),o1=function(n){rH(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.getDefaultDebounceMs=function(){return 0},t.prototype.destroy=function(){n.prototype.destroy.call(this)},t.prototype.getTextFromModel=function(e){if(!e)return null;var r=e.operator!=null;if(r){var i=e,o=i||{},a=o.condition1,s=o.condition2,l=this.optionsFactory.getCustomOption(a.type),u=this.optionsFactory.getCustomOption(s.type);return[this.conditionToString(a,l),i.operator,this.conditionToString(s,u)].join(" ")}else{var c=e,p=this.optionsFactory.getCustomOption(c.type),h=p||{},d=h.displayKey,f=h.displayName,g=h.numberOfInputs;return d&&f&&g===0?(this.gridOptionsWrapper.getLocaleTextFunc()(d,f),f):this.conditionToString(c,p)}},t.prototype.isEventFromFloatingFilter=function(e){return e&&e.afterFloatingFilter},t.prototype.getLastType=function(){return this.lastType},t.prototype.isReadOnly=function(){return this.readOnly},t.prototype.setLastTypeFromModel=function(e){if(!e){this.lastType=this.optionsFactory.getDefaultOption();return}var r=e.operator,i;if(r){var o=e;i=o.condition1}else i=e;this.lastType=i.type},t.prototype.canWeEditAfterModelFromParentFilter=function(e){if(!e)return this.isTypeEditable(this.lastType);var r=e.operator;if(r)return!1;var i=e;return this.isTypeEditable(i.type)},t.prototype.init=function(e){this.optionsFactory=new n1,this.optionsFactory.init(e.filterParams,this.getDefaultFilterOptions()),this.lastType=this.optionsFactory.getDefaultOption(),this.readOnly=!!e.filterParams.readOnly;var r=this.isTypeEditable(this.lastType);this.setEditable(r)},t.prototype.doesFilterHaveSingleInput=function(e){var r=this.optionsFactory.getCustomOption(e),i=(r||{}).numberOfInputs;return i==null||i==1},t.prototype.isTypeEditable=function(e){var r=[er.IN_RANGE,er.EMPTY,er.BLANK,er.NOT_BLANK];return!!e&&!this.isReadOnly()&&this.doesFilterHaveSingleInput(e)&&r.indexOf(e)<0},t}(te);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v27.3.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */var nH=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Fy=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},iH=function(n){nH(t,n);function t(){return n.call(this,`
            <div class="ag-floating-filter-input" role="presentation">
                <ag-input-text-field ref="eReadOnlyText"></ag-input-text-field>
                <div ref="eDateWrapper" style="display: flex;"></div>
            </div>`)||this}return t.prototype.getDefaultFilterOptions=function(){return NS.DEFAULT_FILTER_OPTIONS},t.prototype.conditionToString=function(e,r){var i=e.type,o=(r||{}).numberOfInputs,a=i==er.IN_RANGE||o===2,s=Cs(e.dateFrom),l=Cs(e.dateTo);return a?ys(s,!1)+"-"+ys(l,!1):s!=null?""+ys(s,!1):""+i},t.prototype.init=function(e){n.prototype.init.call(this,e),this.params=e,this.createDateComponent();var r=this.gridOptionsWrapper.getLocaleTextFunc();this.eReadOnlyText.setDisabled(!0).setInputAriaLabel(r("ariaDateFilterInput","Date Filter Input"))},t.prototype.setEditable=function(e){Ft(this.eDateWrapper,e),Ft(this.eReadOnlyText.getGui(),!e)},t.prototype.onParentModelChanged=function(e,r){if(!this.isEventFromFloatingFilter(r)){n.prototype.setLastTypeFromModel.call(this,e);var i=!this.isReadOnly()&&this.canWeEditAfterModelFromParentFilter(e);if(this.setEditable(i),i){if(e){var o=e;this.dateComp.setDate(Cs(o.dateFrom))}else this.dateComp.setDate(null);this.eReadOnlyText.setValue("")}else this.eReadOnlyText.setValue(this.getTextFromModel(e)),this.dateComp.setDate(null)}},t.prototype.onDateChanged=function(){var e=this,r=this.dateComp.getDate(),i=ys(r);this.params.parentFilterInstance(function(o){if(o){var a=Cs(i);o.onFloatingFilterChanged(e.getLastType()||null,a)}})},t.prototype.createDateComponent=function(){var e=this,r=Ql.getDebounceMs(this.params.filterParams,this.getDefaultDebounceMs()),i={onDateChanged:Ma(this.onDateChanged.bind(this),r),filterParams:this.params.column.getColDef().filterParams};this.dateComp=new r1(this.getContext(),this.userComponentFactory,i,this.eDateWrapper),this.addDestroyFunc(function(){return e.dateComp.destroy()})},Fy([y("userComponentFactory")],t.prototype,"userComponentFactory",void 0),Fy([I("eReadOnlyText")],t.prototype,"eReadOnlyText",void 0),Fy([I("eDateWrapper")],t.prototype,"eDateWrapper",void 0),t}(o1);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v27.3.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */var oH=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),aH=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},sH=function(n){oH(t,n);function t(){return n.call(this,`
            <div class="ag-filter-filter">
                <ag-input-text-field class="ag-date-filter" ref="eDateInput"></ag-input-text-field>
            </div>`)||this}return t.prototype.destroy=function(){n.prototype.destroy.call(this)},t.prototype.init=function(e){var r=this,i=this.gridOptionsWrapper.getDocument(),o=this.eDateInput.getInputElement();this.shouldUseBrowserDatePicker(e)&&(o.type="date"),this.addManagedListener(o,"mousedown",function(){r.eDateInput.isDisabled()||o.focus()}),this.addManagedListener(o,"input",function(u){u.target===i.activeElement&&(r.eDateInput.isDisabled()||e.onDateChanged())});var a=e.filterParams||{},s=a.minValidYear,l=a.maxValidYear;s&&(o.min=s+"-01-01"),l&&(o.max=l+"-12-31")},t.prototype.getDate=function(){return Cs(this.eDateInput.getValue())},t.prototype.setDate=function(e){this.eDateInput.setValue(ys(e,!1))},t.prototype.setInputPlaceholder=function(e){this.eDateInput.setInputPlaceholder(e)},t.prototype.setDisabled=function(e){this.eDateInput.setDisabled(e)},t.prototype.afterGuiAttached=function(e){(!e||!e.suppressFocus)&&this.eDateInput.getInputElement().focus()},t.prototype.shouldUseBrowserDatePicker=function(e){return e.filterParams&&e.filterParams.browserDatePicker!=null?e.filterParams.browserDatePicker:ld()||yS()},aH([I("eDateInput")],t.prototype,"eDateInput",void 0),t}(te);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v27.3.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */var lH=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Gd=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},kS=function(n){lH(t,n);function t(){return n.call(this,"numberFilter")||this}return t.prototype.mapValuesFromModel=function(e){var r=e||{},i=r.filter,o=r.filterTo,a=r.type;return[i==null?null:i,o==null?null:o].slice(0,this.getNumberOfInputs(a))},t.prototype.getDefaultDebounceMs=function(){return 500},t.prototype.comparator=function(){return function(e,r){return e===r?0:e<r?1:-1}},t.prototype.setParams=function(e){this.numberFilterParams=e;var r=this.getAllowedCharPattern();if(r){var i={allowedCharPattern:r};this.resetTemplate({"eValue-index0-1":i,"eValue-index1-1":i,"eValue-index0-2":i,"eValue-index1-2":i})}n.prototype.setParams.call(this,e)},t.prototype.getDefaultFilterOptions=function(){return t.DEFAULT_FILTER_OPTIONS},t.prototype.createValueTemplate=function(e){var r=e===zr.One?"1":"2",i=this.getAllowedCharPattern(),o=i?"ag-input-text-field":"ag-input-number-field";return`
            <div class="ag-filter-body" ref="eCondition`+r+`Body" role="presentation">
                <`+o+' class="ag-filter-from ag-filter-filter" ref="eValue-index0-'+r+'"></'+o+`>
                <`+o+' class="ag-filter-to ag-filter-filter" ref="eValue-index1-'+r+'"></'+o+`>
            </div>`},t.prototype.getValues=function(e){var r=this,i=[];return this.forEachInput(function(o,a,s,l){e===s&&a<l&&i.push(r.stringToFloat(o.getValue()))}),i},t.prototype.areSimpleModelsEqual=function(e,r){return e.filter===r.filter&&e.filterTo===r.filterTo&&e.type===r.type},t.prototype.getFilterType=function(){return"number"},t.prototype.stringToFloat=function(e){if(typeof e=="number")return e;var r=Ts(e);return r!=null&&r.trim()===""&&(r=null),this.numberFilterParams.numberParser?this.numberFilterParams.numberParser(r):r==null||r.trim()==="-"?null:parseFloat(r)},t.prototype.createCondition=function(e){var r=this.getConditionTypes()[e],i={filterType:this.getFilterType(),type:r},o=this.getValues(e);return o.length>0&&(i.filter=o[0]),o.length>1&&(i.filterTo=o[1]),i},t.prototype.getInputs=function(){return[[this.eValueFrom1,this.eValueTo1],[this.eValueFrom2,this.eValueTo2]]},t.prototype.getAllowedCharPattern=function(){var e=(this.numberFilterParams||{}).allowedCharPattern;return e||(!ld()&&!am()?"\\d\\-\\.":null)},t.DEFAULT_FILTER_OPTIONS=[dr.EQUALS,dr.NOT_EQUAL,dr.LESS_THAN,dr.LESS_THAN_OR_EQUAL,dr.GREATER_THAN,dr.GREATER_THAN_OR_EQUAL,dr.IN_RANGE,dr.BLANK,dr.NOT_BLANK],Gd([I("eValue-index0-1")],t.prototype,"eValueFrom1",void 0),Gd([I("eValue-index1-1")],t.prototype,"eValueTo1",void 0),Gd([I("eValue-index0-2")],t.prototype,"eValueFrom2",void 0),Gd([I("eValue-index1-2")],t.prototype,"eValueTo2",void 0),t}(dr);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v27.3.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */var uH=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Jg=globalThis&&globalThis.__assign||function(){return Jg=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Jg.apply(this,arguments)},Bd=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},dd=function(n){uH(t,n);function t(){return n.call(this,"textFilter")||this}return t.trimInput=function(e){var r=e&&e.trim();return r===""?e:r},t.prototype.getDefaultDebounceMs=function(){return 500},t.prototype.setParams=function(e){n.prototype.setParams.call(this,e),this.textFilterParams=e,this.matcher=this.getTextMatcher(),this.formatter=this.textFilterParams.textFormatter||(this.textFilterParams.caseSensitive?t.DEFAULT_FORMATTER:t.DEFAULT_LOWERCASE_FORMATTER)},t.prototype.getTextMatcher=function(){var e=this.textFilterParams.textCustomComparator;return e?(_.doOnce(function(){return console.warn("AG Grid - textCustomComparator is deprecated, use textMatcher instead.")},"textCustomComparator.deprecated"),function(r){var i=r.filterOption,o=r.value,a=r.filterText;return e(i,o,a)}):this.textFilterParams.textMatcher||t.DEFAULT_MATCHER},t.prototype.createCondition=function(e){var r=this.getConditionTypes()[e],i={filterType:this.getFilterType(),type:r},o=this.getValues(e);return o.length>0&&(i.filter=o[0]),o.length>1&&(i.filterTo=o[1]),i},t.prototype.getFilterType=function(){return"text"},t.prototype.areSimpleModelsEqual=function(e,r){return e.filter===r.filter&&e.filterTo===r.filterTo&&e.type===r.type},t.prototype.getInputs=function(){return[[this.eValueFrom1,this.eValueTo1],[this.eValueFrom2,this.eValueTo2]]},t.prototype.getValues=function(e){var r=this,i=[];return this.forEachInput(function(o,a,s,l){if(e===s&&a<l){var u=Ts(o.getValue()),c=(r.textFilterParams.trimInput?t.trimInput(u):u)||null;i.push(c),o.setValue(c,!0)}}),i},t.prototype.getDefaultFilterOptions=function(){return t.DEFAULT_FILTER_OPTIONS},t.prototype.createValueTemplate=function(e){var r=e===zr.One?"1":"2";return`
            <div class="ag-filter-body" ref="eCondition`+r+`Body" role="presentation">
                <ag-input-text-field class=".ag-filter-from ag-filter-filter" ref="eValue-index0-`+r+`"></ag-input-text-field>
                <ag-input-text-field class="ag-filter-to ag-filter-filter" ref="eValue-index1-`+r+`"></ag-input-text-field>
            </div>`},t.prototype.mapValuesFromModel=function(e){var r=e||{},i=r.filter,o=r.filterTo,a=r.type;return[i||null,o||null].slice(0,this.getNumberOfInputs(a))},t.prototype.evaluateNullValue=function(e){var r=[er.NOT_EQUAL,er.NOT_CONTAINS,er.BLANK];return e?r.indexOf(e)>=0:!1},t.prototype.evaluateNonNullValue=function(e,r,i,o){var a=this,s=e.map(function(m){return a.formatter(m)})||[],l=this.formatter(r),u=this.textFilterParams,c=u.api,p=u.colDef,h=u.column,d=u.columnApi,f=u.context,g=u.textFormatter;if(i.type===er.BLANK)return this.isBlank(r);if(i.type===er.NOT_BLANK)return!this.isBlank(r);var v={api:c,colDef:p,column:h,columnApi:d,context:f,node:o.node,data:o.data,filterOption:i.type,value:l,textFormatter:g};return s.some(function(m){return a.matcher(Jg(Jg({},v),{filterText:m}))})},t.DEFAULT_FILTER_OPTIONS=[er.CONTAINS,er.NOT_CONTAINS,er.EQUALS,er.NOT_EQUAL,er.STARTS_WITH,er.ENDS_WITH,er.BLANK,er.NOT_BLANK],t.DEFAULT_FORMATTER=function(e){return e},t.DEFAULT_LOWERCASE_FORMATTER=function(e){return e==null?null:e.toString().toLowerCase()},t.DEFAULT_MATCHER=function(e){var r=e.filterOption,i=e.value,o=e.filterText;if(o==null)return!1;switch(r){case t.CONTAINS:return i.indexOf(o)>=0;case t.NOT_CONTAINS:return i.indexOf(o)<0;case t.EQUALS:return i===o;case t.NOT_EQUAL:return i!=o;case t.STARTS_WITH:return i.indexOf(o)===0;case t.ENDS_WITH:var a=i.lastIndexOf(o);return a>=0&&a===i.length-o.length;default:return!1}},Bd([I("eValue-index0-1")],t.prototype,"eValueFrom1",void 0),Bd([I("eValue-index1-1")],t.prototype,"eValueTo1",void 0),Bd([I("eValue-index0-2")],t.prototype,"eValueFrom2",void 0),Bd([I("eValue-index1-2")],t.prototype,"eValueTo2",void 0),t}(er);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v27.3.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */var cH=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Iy=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},a1=function(n){cH(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.postConstruct=function(){this.resetTemplate()},t.prototype.resetTemplate=function(e){this.setTemplate(`
            <div class="ag-floating-filter-input" role="presentation">
                <ag-input-text-field ref="eFloatingFilterInput"></ag-input-text-field>
            </div>
        `,e)},t.prototype.getDefaultDebounceMs=function(){return 500},t.prototype.onParentModelChanged=function(e,r){this.isEventFromFloatingFilter(r)||(this.setLastTypeFromModel(e),this.eFloatingFilterInput.setValue(this.getTextFromModel(e)),this.setEditable(this.canWeEditAfterModelFromParentFilter(e)))},t.prototype.init=function(e){n.prototype.init.call(this,e),this.params=e,this.applyActive=Ql.isUseApplyButton(this.params.filterParams);var r=this.params.filterParams.allowedCharPattern;if(r!=null&&this.resetTemplate({eFloatingFilterInput:{allowedCharPattern:r}}),!this.isReadOnly()){var i=Ql.getDebounceMs(this.params.filterParams,this.getDefaultDebounceMs()),o=Ma(this.syncUpWithParentFilter.bind(this),i),a=this.eFloatingFilterInput.getGui();this.addManagedListener(a,"input",o),this.addManagedListener(a,"keypress",o),this.addManagedListener(a,"keydown",o)}var s=e.column.getDefinition();(this.isReadOnly()||s.filterParams&&s.filterParams.filterOptions&&s.filterParams.filterOptions.length===1&&s.filterParams.filterOptions[0]==="inRange")&&this.eFloatingFilterInput.setDisabled(!0);var l=this.columnModel.getDisplayNameForColumn(e.column,"header",!0),u=this.gridOptionsWrapper.getLocaleTextFunc();this.eFloatingFilterInput.setInputAriaLabel(l+" "+u("ariaFilterInput","Filter Input"))},t.prototype.syncUpWithParentFilter=function(e){var r=this,i=e.key===U.ENTER;if(!(this.applyActive&&!i)){var o=this.eFloatingFilterInput.getValue();this.params.filterParams.trimInput&&(o=dd.trimInput(o),this.eFloatingFilterInput.setValue(o,!0)),this.params.parentFilterInstance(function(a){a&&a.onFloatingFilterChanged(r.getLastType()||null,o||null)})}},t.prototype.conditionToString=function(e,r){var i=(r||{}).numberOfInputs,o=e.type==er.IN_RANGE||i===2;return o?e.filter+"-"+e.filterTo:e.filter!=null?""+e.filter:""+e.type},t.prototype.setEditable=function(e){this.eFloatingFilterInput.setDisabled(!e)},Iy([y("columnModel")],t.prototype,"columnModel",void 0),Iy([I("eFloatingFilterInput")],t.prototype,"eFloatingFilterInput",void 0),Iy([H],t.prototype,"postConstruct",null),t}(o1);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v27.3.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */var pH=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),hH=function(n){pH(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.getDefaultFilterOptions=function(){return kS.DEFAULT_FILTER_OPTIONS},t}(a1);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v27.3.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */var dH=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),s1=function(n){dH(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.getDefaultFilterOptions=function(){return dd.DEFAULT_FILTER_OPTIONS},t}(a1);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v27.3.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */var qr=function(){function n(t,e){var r=this;e===void 0&&(e=!1),this.destroyFuncs=[],this.touching=!1,this.eventService=new so,this.eElement=t,this.preventMouseClick=e;var i=this.onTouchStart.bind(this),o=this.onTouchMove.bind(this),a=this.onTouchEnd.bind(this);this.eElement.addEventListener("touchstart",i,{passive:!0}),this.eElement.addEventListener("touchmove",o,{passive:!0}),this.eElement.addEventListener("touchend",a,{passive:!1}),this.destroyFuncs.push(function(){r.eElement.removeEventListener("touchstart",i,{passive:!0}),r.eElement.removeEventListener("touchmove",o,{passive:!0}),r.eElement.removeEventListener("touchend",a,{passive:!1})})}return n.prototype.getActiveTouch=function(t){for(var e=0;e<t.length;e++){var r=t[e].identifier===this.touchStart.identifier;if(r)return t[e]}return null},n.prototype.addEventListener=function(t,e){this.eventService.addEventListener(t,e)},n.prototype.removeEventListener=function(t,e){this.eventService.removeEventListener(t,e)},n.prototype.onTouchStart=function(t){var e=this;if(!this.touching){this.touchStart=t.touches[0],this.touching=!0,this.moved=!1;var r=this.touchStart;window.setTimeout(function(){var i=e.touchStart===r;if(e.touching&&i&&!e.moved){e.moved=!0;var o={type:n.EVENT_LONG_TAP,touchStart:e.touchStart,touchEvent:t};e.eventService.dispatchEvent(o)}},500)}},n.prototype.onTouchMove=function(t){if(!!this.touching){var e=this.getActiveTouch(t.touches);if(!!e){var r=!FS(e,this.touchStart,4);r&&(this.moved=!0)}}},n.prototype.onTouchEnd=function(t){if(!!this.touching){if(!this.moved){var e={type:n.EVENT_TAP,touchStart:this.touchStart};this.eventService.dispatchEvent(e),this.checkForDoubleTap()}this.preventMouseClick&&t.preventDefault(),this.touching=!1}},n.prototype.checkForDoubleTap=function(){var t=new Date().getTime();if(this.lastTapTime&&this.lastTapTime>0){var e=t-this.lastTapTime;if(e>n.DOUBLE_TAP_MILLIS){var r={type:n.EVENT_DOUBLE_TAP,touchStart:this.touchStart};this.eventService.dispatchEvent(r),this.lastTapTime=null}else this.lastTapTime=t}else this.lastTapTime=t},n.prototype.destroy=function(){this.destroyFuncs.forEach(function(t){return t()})},n.EVENT_TAP="tap",n.EVENT_DOUBLE_TAP="doubleTap",n.EVENT_LONG_TAP="longTap",n.DOUBLE_TAP_MILLIS=500,n}();/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v27.3.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */var fH=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),co=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},gH=function(n){fH(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.lastMovingChanged=0,e}return t.prototype.destroy=function(){n.prototype.destroy.call(this)},t.prototype.refresh=function(e){return this.params=e,this.workOutTemplate()!=this.currentTemplate||this.workOutShowMenu()!=this.currentShowMenu||this.workOutSort()!=this.currentSort?!1:(this.setDisplayName(e),!0)},t.prototype.workOutTemplate=function(){var e=oM(this.params.template,t.TEMPLATE);return e=e&&e.trim?e.trim():e,e},t.prototype.init=function(e){this.params=e,this.currentTemplate=this.workOutTemplate(),this.setTemplate(this.currentTemplate),this.setupTap(),this.setupIcons(e.column),this.setMenu(),this.setupSort(),this.setupFilterIcon(),this.setDisplayName(e)},t.prototype.setDisplayName=function(e){if(this.currentDisplayName!=e.displayName){this.currentDisplayName=e.displayName;var r=Xo(this.currentDisplayName);this.eText&&(this.eText.innerHTML=r)}},t.prototype.setupIcons=function(e){this.addInIcon("sortAscending",this.eSortAsc,e),this.addInIcon("sortDescending",this.eSortDesc,e),this.addInIcon("sortUnSort",this.eSortNone,e),this.addInIcon("menu",this.eMenu,e),this.addInIcon("filter",this.eFilter,e)},t.prototype.addInIcon=function(e,r,i){if(r!=null){var o=ar(e,this.gridOptionsWrapper,i);o&&r.appendChild(o)}},t.prototype.setupTap=function(){var e=this,r=this.gridOptionsWrapper;if(!r.isSuppressTouch()){var i=new qr(this.getGui(),!0),o=r.isSuppressMenuHide(),a=o&&Z(this.eMenu),s=a?new qr(this.eMenu,!0):i;if(this.params.enableMenu){var l=a?"EVENT_TAP":"EVENT_LONG_TAP",u=function(p){r.getApi().showColumnMenuAfterMouseClick(e.params.column,p.touchStart)};this.addManagedListener(s,qr[l],u)}if(this.params.enableSorting){var c=function(p){var h=p.touchStart.target;o&&e.eMenu.contains(h)||e.sortController.progressSort(e.params.column,!1,"uiColumnSorted")};this.addManagedListener(i,qr.EVENT_TAP,c)}this.addDestroyFunc(function(){return i.destroy()}),a&&this.addDestroyFunc(function(){return s.destroy()})}},t.prototype.workOutShowMenu=function(){var e=!this.gridOptionsWrapper.isSuppressMenuHide(),r=Xc()&&e,i=this.params.enableMenu&&!r;return i},t.prototype.setMenu=function(){var e=this;if(!!this.eMenu){if(this.currentShowMenu=this.workOutShowMenu(),!this.currentShowMenu){Yi(this.eMenu);return}var r=this.gridOptionsWrapper.isSuppressMenuHide();this.addManagedListener(this.eMenu,"click",function(){return e.showMenu(e.eMenu)}),this.eMenu.classList.toggle("ag-header-menu-always-show",r)}},t.prototype.showMenu=function(e){e||(e=this.eMenu),this.menuFactory.showMenuAfterButtonClick(this.params.column,e,"columnMenu")},t.prototype.removeSortIcons=function(){Yi(this.eSortAsc),Yi(this.eSortDesc),Yi(this.eSortNone),Yi(this.eSortOrder)},t.prototype.workOutSort=function(){return this.params.enableSorting},t.prototype.setupSort=function(){var e=this;if(this.currentSort=this.params.enableSorting,!this.currentSort){this.removeSortIcons();return}var r=this.gridOptionsWrapper.isMultiSortKeyCtrl();this.addManagedListener(this.params.column,Se.EVENT_MOVING_CHANGED,function(){e.lastMovingChanged=new Date().getTime()}),this.eLabel&&this.addManagedListener(this.eLabel,"click",function(i){var o=e.params.column.isMoving(),a=new Date().getTime(),s=a-e.lastMovingChanged<50,l=o||s;if(!l){var u=r?i.ctrlKey||i.metaKey:i.shiftKey;e.params.progressSort(u)}}),this.addManagedListener(this.params.column,Se.EVENT_SORT_CHANGED,this.onSortChanged.bind(this)),this.onSortChanged(),this.addManagedListener(this.eventService,x.EVENT_SORT_CHANGED,this.setMultiSortOrder.bind(this)),this.setMultiSortOrder()},t.prototype.onSortChanged=function(){if(this.addOrRemoveCssClass("ag-header-cell-sorted-asc",this.params.column.isSortAscending()),this.addOrRemoveCssClass("ag-header-cell-sorted-desc",this.params.column.isSortDescending()),this.addOrRemoveCssClass("ag-header-cell-sorted-none",this.params.column.isSortNone()),this.eSortAsc&&this.eSortAsc.classList.toggle("ag-hidden",!this.params.column.isSortAscending()),this.eSortDesc&&this.eSortDesc.classList.toggle("ag-hidden",!this.params.column.isSortDescending()),this.eSortNone){var e=!this.params.column.getColDef().unSortIcon&&!this.gridOptionsWrapper.isUnSortIcon();this.eSortNone.classList.toggle("ag-hidden",e||!this.params.column.isSortNone())}},t.prototype.setMultiSortOrder=function(){if(!!this.eSortOrder){var e=this.params.column,r=this.sortController.getColumnsWithSortingOrdered(),i=r.indexOf(e),o=r.length>1,a=e.isSorting()&&o;Ft(this.eSortOrder,a),i>=0?this.eSortOrder.innerHTML=(i+1).toString():ni(this.eSortOrder)}},t.prototype.setupFilterIcon=function(){!this.eFilter||(this.addManagedListener(this.params.column,Se.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.onFilterChanged())},t.prototype.onFilterChanged=function(){var e=this.params.column.isFilterActive();this.eFilter.classList.toggle("ag-hidden",!e)},t.TEMPLATE=`<div class="ag-cell-label-container" role="presentation">
            <span ref="eMenu" class="ag-header-icon ag-header-cell-menu-button" aria-hidden="true"></span>
            <div ref="eLabel" class="ag-header-cell-label" role="presentation">
                <span ref="eText" class="ag-header-cell-text"></span>
                <span ref="eFilter" class="ag-header-icon ag-header-label-icon ag-filter-icon" aria-hidden="true"></span>
                <span ref="eSortOrder" class="ag-header-icon ag-header-label-icon ag-sort-order" aria-hidden="true"></span>
                <span ref="eSortAsc" class="ag-header-icon ag-header-label-icon ag-sort-ascending-icon" aria-hidden="true"></span>
                <span ref="eSortDesc" class="ag-header-icon ag-header-label-icon ag-sort-descending-icon" aria-hidden="true"></span>
                <span ref="eSortNone" class="ag-header-icon ag-header-label-icon ag-sort-none-icon" aria-hidden="true"></span>
            </div>
        </div>`,co([y("sortController")],t.prototype,"sortController",void 0),co([y("menuFactory")],t.prototype,"menuFactory",void 0),co([I("eFilter")],t.prototype,"eFilter",void 0),co([I("eSortAsc")],t.prototype,"eSortAsc",void 0),co([I("eSortDesc")],t.prototype,"eSortDesc",void 0),co([I("eSortNone")],t.prototype,"eSortNone",void 0),co([I("eSortOrder")],t.prototype,"eSortOrder",void 0),co([I("eMenu")],t.prototype,"eMenu",void 0),co([I("eLabel")],t.prototype,"eLabel",void 0),co([I("eText")],t.prototype,"eText",void 0),t}(te);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v27.3.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */var vH=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Ly=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},mH=function(n){vH(t,n);function t(){return n.call(this,t.TEMPLATE)||this}return t.prototype.destroy=function(){n.prototype.destroy.call(this)},t.prototype.init=function(e){this.params=e,this.checkWarnings(),this.setupLabel(),this.addGroupExpandIcon(),this.setupExpandIcons()},t.prototype.checkWarnings=function(){var e=this.params;if(e.template){var r="AG Grid: A template was provided for Header Group Comp - templates are only supported for Header Comps (not groups)";ct(function(){return console.warn(r)},"HeaderGroupComp.templateNotSupported")}},t.prototype.setupExpandIcons=function(){var e=this;this.addInIcon("columnGroupOpened","agOpened"),this.addInIcon("columnGroupClosed","agClosed");var r=function(a){if(!jo(a)){var s=!e.params.columnGroup.isExpanded();e.columnModel.setColumnGroupOpened(e.params.columnGroup.getProvidedColumnGroup(),s,"uiColumnExpanded")}};this.addTouchAndClickListeners(this.eCloseIcon,r),this.addTouchAndClickListeners(this.eOpenIcon,r);var i=function(a){Lc(a)};this.addManagedListener(this.eCloseIcon,"dblclick",i),this.addManagedListener(this.eOpenIcon,"dblclick",i),this.addManagedListener(this.getGui(),"dblclick",r),this.updateIconVisibility();var o=this.params.columnGroup.getProvidedColumnGroup();this.addManagedListener(o,at.EVENT_EXPANDED_CHANGED,this.updateIconVisibility.bind(this)),this.addManagedListener(o,at.EVENT_EXPANDABLE_CHANGED,this.updateIconVisibility.bind(this))},t.prototype.addTouchAndClickListeners=function(e,r){var i=new qr(e,!0);this.addManagedListener(i,qr.EVENT_TAP,r),this.addDestroyFunc(function(){return i.destroy()}),this.addManagedListener(e,"click",r)},t.prototype.updateIconVisibility=function(){var e=this.params.columnGroup;if(e.isExpandable()){var r=this.params.columnGroup.isExpanded();Ft(this.eOpenIcon,r),Ft(this.eCloseIcon,!r)}else Ft(this.eOpenIcon,!1),Ft(this.eCloseIcon,!1)},t.prototype.addInIcon=function(e,r){var i=ar(e,this.gridOptionsWrapper,null);i&&this.getRefElement(r).appendChild(i)},t.prototype.addGroupExpandIcon=function(){if(!this.params.columnGroup.isExpandable()){Ft(this.eOpenIcon,!1),Ft(this.eCloseIcon,!1);return}},t.prototype.setupLabel=function(){var e=this.params.displayName;if(Z(e)){var r=Xo(e);this.getRefElement("agLabel").innerHTML=r}},t.TEMPLATE=`<div class="ag-header-group-cell-label" ref="agContainer" role="presentation">
            <span ref="agLabel" class="ag-header-group-text" role="presentation"></span>
            <span ref="agOpened" class="ag-header-icon ag-header-expand-icon ag-header-expand-icon-expanded"></span>
            <span ref="agClosed" class="ag-header-icon ag-header-expand-icon ag-header-expand-icon-collapsed"></span>
        </div>`,Ly([y("columnModel")],t.prototype,"columnModel",void 0),Ly([I("agOpened")],t.prototype,"eOpenIcon",void 0),Ly([I("agClosed")],t.prototype,"eCloseIcon",void 0),t}(te);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v27.3.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */var yH=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),uu=function(n){yH(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.isPopup=function(){return!0},t.prototype.setParentComponent=function(e){e.addCssClass("ag-has-popup"),n.prototype.setParentComponent.call(this,e)},t.prototype.destroy=function(){var e=this.parentComponent,r=e&&e.isAlive();r&&e.getGui().classList.remove("ag-has-popup"),n.prototype.destroy.call(this)},t}(te);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v27.3.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */var CH=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),bH=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},l1=function(n){CH(t,n);function t(){return n.call(this,t.TEMPLATE)||this}return t.prototype.init=function(e){this.params=e,this.focusAfterAttached=e.cellStartedEdit,this.eTextArea.setMaxLength(e.maxLength||200).setCols(e.cols||60).setRows(e.rows||10),Z(e.value)&&this.eTextArea.setValue(e.value.toString(),!0),this.addGuiEventListener("keydown",this.onKeyDown.bind(this))},t.prototype.onKeyDown=function(e){var r=e.key;(r===U.LEFT||r===U.UP||r===U.RIGHT||r===U.DOWN||e.shiftKey&&r===U.ENTER)&&e.stopPropagation()},t.prototype.afterGuiAttached=function(){var e=this.gridOptionsWrapper.getLocaleTextFunc();this.eTextArea.setInputAriaLabel(e("ariaInputEditor","Input Editor")),this.focusAfterAttached&&this.eTextArea.getFocusableElement().focus()},t.prototype.getValue=function(){return this.params.parseValue(this.eTextArea.getValue())},t.TEMPLATE=`<div class="ag-large-text" tabindex="0">
            <ag-input-text-area ref="eTextArea" class="ag-large-text-input"></ag-input-text-area>
        </div>`,bH([I("eTextArea")],t.prototype,"eTextArea",void 0),t}(uu);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v27.3.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */var wH=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),bT=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},GS=function(n){wH(t,n);function t(){var e=n.call(this,'<div class="ag-cell-edit-wrapper"><ag-select class="ag-cell-editor" ref="eSelect"></ag-select></div>')||this;return e.startedByEnter=!1,e}return t.prototype.init=function(e){var r=this;if(this.focusAfterAttached=e.cellStartedEdit,ye(e.values)){console.warn("AG Grid: no values found for select cellEditor");return}this.startedByEnter=e.eventKey!=null?e.eventKey===U.ENTER:!1;var i=!1;e.values.forEach(function(o){var a={value:o},s=r.valueFormatterService.formatValue(e.column,null,null,o),l=s!=null;a.text=l?s:o,r.eSelect.addOption(a),i=i||e.value===o}),i?this.eSelect.setValue(e.value,!0):e.values.length&&this.eSelect.setValue(e.values[0],!0),this.gridOptionsWrapper.isFullRowEdit()||this.eSelect.onValueChange(function(){return e.stopEditing()})},t.prototype.afterGuiAttached=function(){this.focusAfterAttached&&this.eSelect.getFocusableElement().focus(),this.startedByEnter&&this.eSelect.showPicker()},t.prototype.focusIn=function(){this.eSelect.getFocusableElement().focus()},t.prototype.getValue=function(){return this.eSelect.getValue()},t.prototype.isPopup=function(){return!1},bT([y("valueFormatterService")],t.prototype,"valueFormatterService",void 0),bT([I("eSelect")],t.prototype,"eSelect",void 0),t}(uu);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v27.3.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */var _H=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),u1=function(n){_H(t,n);function t(){var e=n.call(this)||this;return ct(function(){return console.warn('AG Grid: The PopupSelectCellEditor (agPopupSelectCellEditor) is deprecated. Instead use {cellEditor: "agSelectCellEditor", cellEditorPopup: true} ')},"PopupSelectCellEditor.deprecated"),e}return t.prototype.isPopup=function(){return!0},t}(GS);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v27.3.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */var SH=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),xH=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},ev=function(n){SH(t,n);function t(){return n.call(this,t.TEMPLATE)||this}return t.prototype.init=function(e){this.params=e;var r=this.eInput,i;e.cellStartedEdit?(this.focusAfterAttached=!0,e.eventKey===U.BACKSPACE||e.eventKey===U.DELETE?i="":e.charPress?i=e.charPress:(i=this.getStartValue(e),e.eventKey!==U.F2&&(this.highlightAllOnFocus=!0))):(this.focusAfterAttached=!1,i=this.getStartValue(e)),i!=null&&r.setValue(i,!0),this.addManagedListener(r.getGui(),"keydown",function(o){var a=o.key;(a===U.PAGE_UP||a===U.PAGE_DOWN)&&o.preventDefault()})},t.prototype.afterGuiAttached=function(){var e=this.gridOptionsWrapper.getLocaleTextFunc(),r=this.eInput;if(r.setInputAriaLabel(e("ariaInputEditor","Input Editor")),!!this.focusAfterAttached){sd()||r.getFocusableElement().focus();var i=r.getInputElement();if(this.highlightAllOnFocus)i.select();else{var o=r.getValue(),a=Z(o)&&o.length||0;a&&i.setSelectionRange(a,a)}}},t.prototype.focusIn=function(){var e=this.eInput,r=e.getFocusableElement(),i=e.getInputElement();r.focus(),i.select()},t.prototype.getValue=function(){var e=this.eInput;return this.params.parseValue(e.getValue())},t.prototype.getStartValue=function(e){var r=e.useFormatter||e.column.getColDef().refData;return r?e.formatValue(e.value):e.value},t.prototype.isPopup=function(){return!1},t.TEMPLATE='<div class="ag-cell-edit-wrapper"><ag-input-text-field class="ag-cell-editor" ref="eInput"></ag-input-text-field></div>',xH([I("eInput")],t.prototype,"eInput",void 0),t}(uu);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v27.3.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */var TH=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),c1=function(n){TH(t,n);function t(){var e=n.call(this)||this;return ct(function(){return console.warn('AG Grid: The PopupTextCellEditor (agPopupTextCellEditor) is deprecated. Instead use {cellEditor: "agTextCellEditor", cellEditorPopup: true} ')},"PopupTextCellEditor.deprecated"),e}return t.prototype.isPopup=function(){return!0},t}(ev);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v27.3.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */var OH=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),EH=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},RH="\u2191",PH="\u2193",p1=function(n){OH(t,n);function t(){var e=n.call(this,t.TEMPLATE)||this;return e.refreshCount=0,e}return t.prototype.init=function(e){this.eValue=this.queryForHtmlElement(".ag-value-change-value"),this.eDelta=this.queryForHtmlElement(".ag-value-change-delta"),this.refresh(e)},t.prototype.showDelta=function(e,r){var i=Math.abs(r),o=e.formatValue(i),a=Z(o)?o:i,s=r>=0;s?this.eDelta.innerHTML=RH+a:this.eDelta.innerHTML=PH+a,this.eDelta.classList.toggle("ag-value-change-delta-up",s),this.eDelta.classList.toggle("ag-value-change-delta-down",!s)},t.prototype.setTimerToRemoveDelta=function(){var e=this;this.refreshCount++;var r=this.refreshCount;window.setTimeout(function(){r===e.refreshCount&&e.hideDeltaValue()},2e3)},t.prototype.hideDeltaValue=function(){this.eValue.classList.remove("ag-value-change-value-highlight"),ni(this.eDelta)},t.prototype.refresh=function(e){var r=e.value;if(r===this.lastValue||(Z(e.valueFormatted)?this.eValue.innerHTML=e.valueFormatted:Z(e.value)?this.eValue.innerHTML=r:ni(this.eValue),this.filterManager.isSuppressFlashingCellsBecauseFiltering()))return!1;if(typeof r=="number"&&typeof this.lastValue=="number"){var i=r-this.lastValue;this.showDelta(e,i)}return this.lastValue&&this.eValue.classList.add("ag-value-change-value-highlight"),this.setTimerToRemoveDelta(),this.lastValue=r,!0},t.TEMPLATE='<span><span class="ag-value-change-delta"></span><span class="ag-value-change-value"></span></span>',EH([y("filterManager")],t.prototype,"filterManager",void 0),t}(te);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v27.3.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */var AH=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),DH=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},h1=function(n){AH(t,n);function t(){var e=n.call(this,t.TEMPLATE)||this;return e.refreshCount=0,e.eCurrent=e.queryForHtmlElement(".ag-value-slide-current"),e}return t.prototype.init=function(e){this.refresh(e)},t.prototype.addSlideAnimation=function(){var e=this;this.refreshCount++;var r=this.refreshCount;this.ePrevious&&this.getGui().removeChild(this.ePrevious),this.ePrevious=Sr('<span class="ag-value-slide-previous ag-value-slide-out"></span>'),this.ePrevious.innerHTML=this.eCurrent.innerHTML,this.getGui().insertBefore(this.ePrevious,this.eCurrent),window.setTimeout(function(){r===e.refreshCount&&e.ePrevious.classList.add("ag-value-slide-out-end")},50),window.setTimeout(function(){r===e.refreshCount&&(e.getGui().removeChild(e.ePrevious),e.ePrevious=null)},3e3)},t.prototype.refresh=function(e){var r=e.value;return ye(r)&&(r=""),r===this.lastValue||this.filterManager.isSuppressFlashingCellsBecauseFiltering()?!1:(this.addSlideAnimation(),this.lastValue=r,Z(e.valueFormatted)?this.eCurrent.innerHTML=e.valueFormatted:Z(e.value)?this.eCurrent.innerHTML=r:ni(this.eCurrent),!0)},t.TEMPLATE=`<span>
            <span class="ag-value-slide-current"></span>
        </span>`,DH([y("filterManager")],t.prototype,"filterManager",void 0),t}(te);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v27.3.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */var Uo;(function(n){n[n.Above=0]="Above",n[n.Below=1]="Below"})(Uo||(Uo={}));var Ee=function(){function n(t){this.rowIndex=null,this.key=null,this.childrenMapped={},this.displayed=!1,this.rowTop=null,this.oldRowTop=null,this.selectable=!0,this.__objectId=n.OBJECT_ID_SEQUENCE++,this.__autoHeights={},this.alreadyRendered=!1,this.highlighted=null,this.selected=!1,this.onRowHeightChangedDebounced=Ma(this.onRowHeightChanged.bind(this),100),this.beans=t}return n.prototype.setData=function(t){this.setDataCommon(t,!1)},n.prototype.updateData=function(t){this.setDataCommon(t,!0)},n.prototype.setDataCommon=function(t,e){var r=this.data;this.data=t,this.beans.valueCache.onDataChanged(),this.updateDataOnDetailNode(),this.checkRowSelectable();var i=this.createDataChangedEvent(t,r,e);this.dispatchLocalEvent(i)},n.prototype.updateDataOnDetailNode=function(){this.detailNode&&(this.detailNode.data=this.data)},n.prototype.createDataChangedEvent=function(t,e,r){return{type:n.EVENT_DATA_CHANGED,node:this,oldData:e,newData:t,update:r}},n.prototype.createLocalRowEvent=function(t){return{type:t,node:this}},n.prototype.getRowIndexString=function(){return this.rowPinned===L.PINNED_TOP?"t-"+this.rowIndex:this.rowPinned===L.PINNED_BOTTOM?"b-"+this.rowIndex:this.rowIndex.toString()},n.prototype.createDaemonNode=function(){var t=new n(this.beans);return t.id=this.id,t.data=this.data,t.daemon=!0,t.selected=this.selected,t.level=this.level,t},n.prototype.setDataAndId=function(t,e){var r=Z(this.id)?this.createDaemonNode():null,i=this.data;this.data=t,this.updateDataOnDetailNode(),this.setId(e),this.beans.selectionService.syncInRowNode(this,r),this.checkRowSelectable();var o=this.createDataChangedEvent(t,i,!1);this.dispatchLocalEvent(o)},n.prototype.checkRowSelectable=function(){var t=this.beans.gridOptionsWrapper.getIsRowSelectableFunc();this.setRowSelectable(t?t(this):!0)},n.prototype.setRowSelectable=function(t){this.selectable!==t&&(this.selectable=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(n.EVENT_SELECTABLE_CHANGED)))},n.prototype.setId=function(t){var e=this.beans.gridOptionsWrapper.getRowIdFunc();if(e)if(this.data){var r=this.getGroupKeys(!0);this.id=e({data:this.data,parentKeys:r.length>0?r:void 0,level:this.level}),this.id!==null&&typeof this.id=="string"&&this.id.startsWith(n.ID_PREFIX_ROW_GROUP)&&console.error("AG Grid: Row IDs cannot start with "+n.ID_PREFIX_ROW_GROUP+", this is a reserved prefix for AG Grid's row grouping feature."),this.id!==null&&typeof this.id!="string"&&(this.id=""+this.id)}else this.id=void 0;else this.id=t},n.prototype.getGroupKeys=function(t){t===void 0&&(t=!1);var e=[],r=this;for(t&&(r=r.parent);r&&r.level>=0;)e.push(r.key),r=r.parent;return e.reverse(),e},n.prototype.isPixelInRange=function(t){return!Z(this.rowTop)||!Z(this.rowHeight)?!1:t>=this.rowTop&&t<this.rowTop+this.rowHeight},n.prototype.setFirstChild=function(t){this.firstChild!==t&&(this.firstChild=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(n.EVENT_FIRST_CHILD_CHANGED)))},n.prototype.setLastChild=function(t){this.lastChild!==t&&(this.lastChild=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(n.EVENT_LAST_CHILD_CHANGED)))},n.prototype.setChildIndex=function(t){this.childIndex!==t&&(this.childIndex=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(n.EVENT_CHILD_INDEX_CHANGED)))},n.prototype.setRowTop=function(t){this.oldRowTop=this.rowTop,this.rowTop!==t&&(this.rowTop=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(n.EVENT_TOP_CHANGED)),this.setDisplayed(t!==null))},n.prototype.clearRowTopAndRowIndex=function(){this.oldRowTop=null,this.setRowTop(null),this.setRowIndex(null)},n.prototype.setDisplayed=function(t){this.displayed!==t&&(this.displayed=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(n.EVENT_DISPLAYED_CHANGED)))},n.prototype.setDragging=function(t){this.dragging!==t&&(this.dragging=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(n.EVENT_DRAGGING_CHANGED)))},n.prototype.setHighlighted=function(t){t!==this.highlighted&&(this.highlighted=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(n.EVENT_HIGHLIGHT_CHANGED)))},n.prototype.setAllChildrenCount=function(t){this.allChildrenCount!==t&&(this.allChildrenCount=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(n.EVENT_ALL_CHILDREN_COUNT_CHANGED)))},n.prototype.setMaster=function(t){this.master!==t&&(this.master&&!t&&(this.expanded=!1),this.master=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(n.EVENT_MASTER_CHANGED)))},n.prototype.setGroup=function(t){this.group!==t&&(this.group&&!t&&(this.expanded=!1),this.group=t,this.updateHasChildren(),this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(n.EVENT_GROUP_CHANGED)))},n.prototype.setRowHeight=function(t,e){e===void 0&&(e=!1),this.rowHeight=t,this.rowHeightEstimated=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(n.EVENT_HEIGHT_CHANGED))},n.prototype.setRowAutoHeight=function(t,e){this.__autoHeights||(this.__autoHeights={});var r=this.__autoHeights;r[e.getId()]=t,t!=null&&(this.checkAutoHeightsDebounced==null&&(this.checkAutoHeightsDebounced=Ma(this.checkAutoHeights.bind(this),1)),this.checkAutoHeightsDebounced())},n.prototype.checkAutoHeights=function(){var t=!1,e=!0,r=0,i=this.__autoHeights;if(i!=null){var o=this.beans.columnModel.getAllDisplayedAutoHeightCols();o.forEach(function(a){var s=i[a.getId()];if(s==null){t=!0;return}e=!1,s>r&&(r=s)}),!t&&((e||r<10)&&(r=this.beans.gridOptionsWrapper.getRowHeightForNode(this).height),r!=this.rowHeight&&(this.setRowHeight(r),this.onRowHeightChangedDebounced()))}},n.prototype.onRowHeightChanged=function(){var t=this.beans.rowModel;t.onRowHeightChanged&&t.onRowHeightChanged()},n.prototype.setRowIndex=function(t){this.rowIndex!==t&&(this.rowIndex=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(n.EVENT_ROW_INDEX_CHANGED)))},n.prototype.setUiLevel=function(t){this.uiLevel!==t&&(this.uiLevel=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(n.EVENT_UI_LEVEL_CHANGED)))},n.prototype.setExpanded=function(t,e){if(this.expanded!==t){this.expanded=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(n.EVENT_EXPANDED_CHANGED));var r=Object.assign({},this.createGlobalRowEvent(x.EVENT_ROW_GROUP_OPENED),{expanded:t,event:e||null});this.beans.rowNodeEventThrottle.dispatchExpanded(r),this.beans.gridOptionsWrapper.isGroupIncludeFooter()&&this.beans.rowRenderer.refreshCells({rowNodes:[this]})}},n.prototype.createGlobalRowEvent=function(t){return{type:t,node:this,data:this.data,rowIndex:this.rowIndex,rowPinned:this.rowPinned,context:this.beans.gridOptionsWrapper.getContext(),api:this.beans.gridOptionsWrapper.getApi(),columnApi:this.beans.gridOptionsWrapper.getColumnApi()}},n.prototype.dispatchLocalEvent=function(t){this.eventService&&this.eventService.dispatchEvent(t)},n.prototype.setDataValue=function(t,e,r){var i=this.beans.columnModel.getPrimaryColumn(t),o=this.beans.valueService.getValue(i,this),a=this.beans.valueService.setValue(this,i,e,r);return this.dispatchCellChangedEvent(i,e,o),a},n.prototype.setGroupValue=function(t,e){var r=this.beans.columnModel.getGridColumn(t);ye(this.groupData)&&(this.groupData={});var i=r.getColId(),o=this.groupData[i];o!==e&&(this.groupData[i]=e,this.dispatchCellChangedEvent(r,e,o))},n.prototype.setAggData=function(t){var e=this,r=qD([this.aggData,t]),i=this.aggData;this.aggData=t,this.eventService&&r.forEach(function(o){var a=e.beans.columnModel.getGridColumn(o),s=e.aggData?e.aggData[o]:void 0,l=i?i[o]:void 0;e.dispatchCellChangedEvent(a,s,l)})},n.prototype.updateHasChildren=function(){var t=this.group&&!this.footer||this.childrenAfterGroup&&this.childrenAfterGroup.length>0;t!==this.__hasChildren&&(this.__hasChildren=!!t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(n.EVENT_HAS_CHILDREN_CHANGED)))},n.prototype.hasChildren=function(){return this.__hasChildren==null&&this.updateHasChildren(),this.__hasChildren},n.prototype.isEmptyRowGroupNode=function(){return this.group&&Jn(this.childrenAfterGroup)},n.prototype.dispatchCellChangedEvent=function(t,e,r){var i={type:n.EVENT_CELL_CHANGED,node:this,column:t,newValue:e,oldValue:r};this.dispatchLocalEvent(i)},n.prototype.resetQuickFilterAggregateText=function(){this.quickFilterAggregateText=null},n.prototype.isExpandable=function(){return!!(this.hasChildren()&&!this.footer||this.master)},n.prototype.isSelected=function(){return this.footer?this.sibling.isSelected():this.selected},n.prototype.depthFirstSearch=function(t){this.childrenAfterGroup&&this.childrenAfterGroup.forEach(function(e){return e.depthFirstSearch(t)}),t(this)},n.prototype.calculateSelectedFromChildren=function(){var t,e=!1,r=!1,i=!1,o;if(!!(!((t=this.childrenAfterGroup)===null||t===void 0)&&t.length)){for(var a=0;a<this.childrenAfterGroup.length;a++){var s=this.childrenAfterGroup[a];if(!!s.selectable){var l=s.isSelected();switch(l){case!0:e=!0;break;case!1:r=!0;break;default:i=!0;break}}}i?o=void 0:e&&!r?o=!0:!e&&r?o=!1:o=void 0,this.selectThisNode(o)}},n.prototype.setSelectedInitialValue=function(t){this.selected=t},n.prototype.setSelected=function(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!1),this.setSelectedParams({newValue:t,clearSelection:e,suppressFinishActions:r,rangeSelect:!1})},n.prototype.isRowPinned=function(){return this.rowPinned===L.PINNED_TOP||this.rowPinned===L.PINNED_BOTTOM},n.prototype.setSelectedParams=function(t){var e,r=this.beans.gridOptionsWrapper.isGroupSelectsChildren(),i=t.newValue===!0,o=t.clearSelection===!0,a=t.suppressFinishActions===!0,s=t.rangeSelect===!0,l=r&&t.groupSelectsFiltered===!0;if(this.id===void 0)return console.warn("AG Grid: cannot select node until id for node is known"),0;if(this.rowPinned)return console.warn("AG Grid: cannot select pinned rows"),0;if(this.footer)return this.sibling.setSelectedParams(t);if(s&&this.beans.selectionService.getLastSelectedNode()){var u=this.beans.selectionService.getLastSelectedNode()!==this,c=this.beans.gridOptionsWrapper.isRowSelectionMulti();if(u&&c){var p=this.doRowRangeSelection(t.newValue);return this.beans.selectionService.setLastSelectedNode(this),p}}var h=0,d=l&&this.group;if(!d){var f=this.selectThisNode(i);f&&h++}if(r&&((e=this.childrenAfterGroup)===null||e===void 0?void 0:e.length)&&(h+=this.selectChildNodes(i,l)),!a){var g=i&&(o||!this.beans.gridOptionsWrapper.isRowSelectionMulti());if(g&&(h+=this.beans.selectionService.clearOtherNodes(this)),h>0){this.beans.selectionService.updateGroupsFromChildrenSelections();var v={type:x.EVENT_SELECTION_CHANGED,api:this.beans.gridApi,columnApi:this.beans.columnApi};this.beans.eventService.dispatchEvent(v)}i&&this.beans.selectionService.setLastSelectedNode(this)}return h},n.prototype.doRowRangeSelection=function(t){var e=this;t===void 0&&(t=!0);var r=this.beans.gridOptionsWrapper.isGroupSelectsChildren(),i=this.beans.selectionService.getLastSelectedNode(),o=this.beans.rowModel.getNodesInRangeForSelection(this,i),a=0;o.forEach(function(l){if(!(l.group&&r||t===!1&&e===l)){var u=l.selectThisNode(t);u&&a++}}),this.beans.selectionService.updateGroupsFromChildrenSelections();var s={type:x.EVENT_SELECTION_CHANGED,api:this.beans.gridApi,columnApi:this.beans.columnApi};return this.beans.eventService.dispatchEvent(s),a},n.prototype.isParentOfNode=function(t){for(var e=this.parent;e;){if(e===t)return!0;e=e.parent}return!1},n.prototype.selectThisNode=function(t){var e=!this.selectable&&t,r=this.selected===t;if(e||r)return!1;this.selected=t,this.eventService&&this.dispatchLocalEvent(this.createLocalRowEvent(n.EVENT_ROW_SELECTED));var i=this.createGlobalRowEvent(x.EVENT_ROW_SELECTED);return this.beans.eventService.dispatchEvent(i),!0},n.prototype.selectChildNodes=function(t,e){var r=e?this.childrenAfterAggFilter:this.childrenAfterGroup;if(ye(r))return 0;for(var i=0,o=0;o<r.length;o++)i+=r[o].setSelectedParams({newValue:t,clearSelection:!1,suppressFinishActions:!0,groupSelectsFiltered:e});return i},n.prototype.addEventListener=function(t,e){this.eventService||(this.eventService=new so),this.eventService.addEventListener(t,e)},n.prototype.removeEventListener=function(t,e){!this.eventService||(this.eventService.removeEventListener(t,e),this.eventService.noRegisteredListenersExist()&&(this.eventService=null))},n.prototype.onMouseEnter=function(){this.dispatchLocalEvent(this.createLocalRowEvent(n.EVENT_MOUSE_ENTER))},n.prototype.onMouseLeave=function(){this.dispatchLocalEvent(this.createLocalRowEvent(n.EVENT_MOUSE_LEAVE))},n.prototype.getFirstChildOfFirstChild=function(t){for(var e=this,r=!0,i=!1,o=null;r&&!i;){var a=e.parent,s=Z(a)&&e.firstChild;s?a.rowGroupColumn===t&&(i=!0,o=a):r=!1,e=a}return i?o:null},n.prototype.isFullWidthCell=function(){var t=this.beans.gridOptionsWrapper.getIsFullWidthCellFunc();return t?t({rowNode:this}):!1},n.prototype.getRoute=function(){if(this.key!=null){for(var t=[],e=this;e.key!=null;)t.push(e.key),e=e.parent;return t.reverse()}},n.ID_PREFIX_ROW_GROUP="row-group-",n.ID_PREFIX_TOP_PINNED="t-",n.ID_PREFIX_BOTTOM_PINNED="b-",n.OBJECT_ID_SEQUENCE=0,n.EVENT_ROW_SELECTED="rowSelected",n.EVENT_DATA_CHANGED="dataChanged",n.EVENT_CELL_CHANGED="cellChanged",n.EVENT_ALL_CHILDREN_COUNT_CHANGED="allChildrenCountChanged",n.EVENT_MASTER_CHANGED="masterChanged",n.EVENT_GROUP_CHANGED="groupChanged",n.EVENT_MOUSE_ENTER="mouseEnter",n.EVENT_MOUSE_LEAVE="mouseLeave",n.EVENT_HEIGHT_CHANGED="heightChanged",n.EVENT_TOP_CHANGED="topChanged",n.EVENT_DISPLAYED_CHANGED="displayedChanged",n.EVENT_FIRST_CHILD_CHANGED="firstChildChanged",n.EVENT_LAST_CHILD_CHANGED="lastChildChanged",n.EVENT_CHILD_INDEX_CHANGED="childIndexChanged",n.EVENT_ROW_INDEX_CHANGED="rowIndexChanged",n.EVENT_EXPANDED_CHANGED="expandedChanged",n.EVENT_HAS_CHILDREN_CHANGED="hasChildrenChanged",n.EVENT_SELECTABLE_CHANGED="selectableChanged",n.EVENT_UI_LEVEL_CHANGED="uiLevelChanged",n.EVENT_HIGHLIGHT_CHANGED="rowHighlightChanged",n.EVENT_DRAGGING_CHANGED="draggingChanged",n}();/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v27.3.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */var MH=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),wT=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},BS=function(n){MH(t,n);function t(){return n.call(this,`
            <div class="ag-selection-checkbox" role="presentation">
                <ag-checkbox role="presentation" ref="eCheckbox"></ag-checkbox>
            </div>`)||this}return t.prototype.postConstruct=function(){this.eCheckbox.setPassive(!0)},t.prototype.getCheckboxId=function(){return this.eCheckbox.getInputElement().id},t.prototype.onDataChanged=function(){this.onSelectionChanged()},t.prototype.onSelectableChanged=function(){this.showOrHideSelect()},t.prototype.onSelectionChanged=function(){var e=this.gridOptionsWrapper.getLocaleTextFunc(),r=this.rowNode.isSelected(),i=r===void 0?e("ariaIndeterminate","indeterminate"):r===!0?e("ariaChecked","checked"):e("ariaUnchecked","unchecked"),o=e("ariaRowToggleSelection","Press Space to toggle row selection");this.eCheckbox.setValue(r,!0),this.eCheckbox.setInputAriaLabel(o+" ("+i+")")},t.prototype.onCheckedClicked=function(e){var r=this.gridOptionsWrapper.isGroupSelectsFiltered(),i=this.rowNode.setSelectedParams({newValue:!1,rangeSelect:e.shiftKey,groupSelectsFiltered:r});return i},t.prototype.onUncheckedClicked=function(e){var r=this.gridOptionsWrapper.isGroupSelectsFiltered(),i=this.rowNode.setSelectedParams({newValue:!0,rangeSelect:e.shiftKey,groupSelectsFiltered:r});return i},t.prototype.init=function(e){var r=this;this.rowNode=e.rowNode,this.column=e.column,this.onSelectionChanged(),this.addGuiEventListener("click",function(s){return Lc(s)}),this.addGuiEventListener("dblclick",function(s){return Lc(s)}),this.addManagedListener(this.eCheckbox.getInputElement(),"click",function(s){var l=r.eCheckbox.getValue(),u=r.eCheckbox.getPreviousValue();if(u===void 0||l===void 0){var c=r.onUncheckedClicked(s||{});c===0&&r.onCheckedClicked(s)}else l?r.onCheckedClicked(s):r.onUncheckedClicked(s||{})}),this.addManagedListener(this.rowNode,Ee.EVENT_ROW_SELECTED,this.onSelectionChanged.bind(this)),this.addManagedListener(this.rowNode,Ee.EVENT_DATA_CHANGED,this.onDataChanged.bind(this)),this.addManagedListener(this.rowNode,Ee.EVENT_SELECTABLE_CHANGED,this.onSelectableChanged.bind(this));var i=this.gridOptionsWrapper.getIsRowSelectableFunc(),o=i||this.checkboxCallbackExists();if(o){var a=this.showOrHideSelect.bind(this);this.addManagedListener(this.eventService,x.EVENT_DISPLAYED_COLUMNS_CHANGED,a),this.addManagedListener(this.rowNode,Ee.EVENT_DATA_CHANGED,a),this.addManagedListener(this.rowNode,Ee.EVENT_CELL_CHANGED,a),this.showOrHideSelect()}this.eCheckbox.getInputElement().setAttribute("tabindex","-1")},t.prototype.showOrHideSelect=function(){var e=this.rowNode.selectable;e&&this.checkboxCallbackExists()&&(e=this.column.isCellCheckboxSelection(this.rowNode)),this.setVisible(e)},t.prototype.checkboxCallbackExists=function(){var e=this.column?this.column.getColDef():null;return!!e&&typeof e.checkboxSelection=="function"},wT([I("eCheckbox")],t.prototype,"eCheckbox",void 0),wT([H],t.prototype,"postConstruct",null),t}(te);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v27.3.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */var FH=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Js=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},_T=globalThis&&globalThis.__values||function(n){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},nr;(function(n){n[n.ToolPanel=0]="ToolPanel",n[n.HeaderCell=1]="HeaderCell",n[n.RowDrag=2]="RowDrag",n[n.ChartPanel=3]="ChartPanel"})(nr||(nr={}));var Vs;(function(n){n[n.Up=0]="Up",n[n.Down=1]="Down"})(Vs||(Vs={}));var _i;(function(n){n[n.Left=0]="Left",n[n.Right=1]="Right"})(_i||(_i={}));var It=function(n){FH(t,n);function t(){var r=n!==null&&n.apply(this,arguments)||this;return r.dragSourceAndParamsList=[],r.dropTargets=[],r}e=t,t.prototype.init=function(){this.ePinnedIcon=di("columnMovePin",this.gridOptionsWrapper,null),this.eHideIcon=di("columnMoveHide",this.gridOptionsWrapper,null),this.eMoveIcon=di("columnMoveMove",this.gridOptionsWrapper,null),this.eLeftIcon=di("columnMoveLeft",this.gridOptionsWrapper,null),this.eRightIcon=di("columnMoveRight",this.gridOptionsWrapper,null),this.eGroupIcon=di("columnMoveGroup",this.gridOptionsWrapper,null),this.eAggregateIcon=di("columnMoveValue",this.gridOptionsWrapper,null),this.ePivotIcon=di("columnMovePivot",this.gridOptionsWrapper,null),this.eDropNotAllowedIcon=di("dropNotAllowed",this.gridOptionsWrapper,null)},t.prototype.addDragSource=function(r,i){i===void 0&&(i=!1);var o={eElement:r.eElement,dragStartPixels:r.dragStartPixels,onDragStart:this.onDragStart.bind(this,r),onDragStop:this.onDragStop.bind(this),onDragging:this.onDragging.bind(this)};this.dragSourceAndParamsList.push({params:o,dragSource:r}),this.dragService.addDragSource(o,i)},t.prototype.removeDragSource=function(r){var i=this.dragSourceAndParamsList.find(function(o){return o.dragSource===r});i&&(this.dragService.removeDragSource(i.params),$r(this.dragSourceAndParamsList,i))},t.prototype.clearDragSourceParamsList=function(){var r=this;this.dragSourceAndParamsList.forEach(function(i){return r.dragService.removeDragSource(i.params)}),this.dragSourceAndParamsList.length=0},t.prototype.nudge=function(){this.dragging&&this.onDragging(this.eventLastTime,!0)},t.prototype.onDragStart=function(r,i){this.dragging=!0,this.dragSource=r,this.eventLastTime=i,this.dragItem=this.dragSource.getDragItem(),this.lastDropTarget=this.dragSource.dragSourceDropTarget,this.dragSource.onDragStarted&&this.dragSource.onDragStarted(),this.createGhost()},t.prototype.onDragStop=function(r){if(this.eventLastTime=null,this.dragging=!1,this.dragSource.onDragStopped&&this.dragSource.onDragStopped(),this.lastDropTarget&&this.lastDropTarget.onDragStop){var i=this.createDropTargetEvent(this.lastDropTarget,r,null,null,!1);this.lastDropTarget.onDragStop(i)}this.lastDropTarget=null,this.dragItem=null,this.removeGhost()},t.prototype.onDragging=function(r,i){var o=this,a=this.getHorizontalDirection(r),s=this.getVerticalDirection(r);this.eventLastTime=r,this.positionGhost(r);var l=this.dropTargets.filter(function(h){return o.isMouseOnDropTarget(r,h)}),u=l.length,c=null;if(u>0&&(c=u===1?l[0]:l.reduce(function(h,d){if(!h)return d;var f=h.getContainer(),g=d.getContainer();return f.contains(g)?d:h})),c!==this.lastDropTarget)this.leaveLastTargetIfExists(r,a,s,i),this.enterDragTargetIfExists(c,r,a,s,i),this.lastDropTarget=c;else if(c&&c.onDragging){var p=this.createDropTargetEvent(c,r,a,s,i);c.onDragging(p)}},t.prototype.enterDragTargetIfExists=function(r,i,o,a,s){if(!!r){if(r.onDragEnter){var l=this.createDropTargetEvent(r,i,o,a,s);r.onDragEnter(l)}this.setGhostIcon(r.getIconName?r.getIconName():null)}},t.prototype.leaveLastTargetIfExists=function(r,i,o,a){if(!!this.lastDropTarget){if(this.lastDropTarget.onDragLeave){var s=this.createDropTargetEvent(this.lastDropTarget,r,i,o,a);this.lastDropTarget.onDragLeave(s)}this.setGhostIcon(null)}},t.prototype.getAllContainersFromDropTarget=function(r){var i=r.getSecondaryContainers?r.getSecondaryContainers():null,o=[[r.getContainer()]];return i?o.concat(i):o},t.prototype.allContainersIntersect=function(r,i){var o,a;try{for(var s=_T(i),l=s.next();!l.done;l=s.next()){var u=l.value,c=u.getBoundingClientRect();if(c.width===0||c.height===0)return!1;var p=r.clientX>=c.left&&r.clientX<c.right,h=r.clientY>=c.top&&r.clientY<c.bottom;if(!p||!h)return!1}}catch(d){o={error:d}}finally{try{l&&!l.done&&(a=s.return)&&a.call(s)}finally{if(o)throw o.error}}return!0},t.prototype.isMouseOnDropTarget=function(r,i){var o,a,s=this.getAllContainersFromDropTarget(i),l=!1;try{for(var u=_T(s),c=u.next();!c.done;c=u.next()){var p=c.value;if(this.allContainersIntersect(r,p)){l=!0;break}}}catch(h){o={error:h}}finally{try{c&&!c.done&&(a=u.return)&&a.call(u)}finally{if(o)throw o.error}}return i.targetContainsSource&&!i.getContainer().contains(this.dragSource.eElement)?!1:l&&i.isInterestedIn(this.dragSource.type,this.dragSource.eElement)},t.prototype.addDropTarget=function(r){this.dropTargets.push(r)},t.prototype.removeDropTarget=function(r){this.dropTargets=this.dropTargets.filter(function(i){return i.getContainer()!==r.getContainer()})},t.prototype.hasExternalDropZones=function(){return this.dropTargets.some(function(r){return r.external})},t.prototype.findExternalZone=function(r){var i=this.dropTargets.filter(function(o){return o.external});return i.find(function(o){return o.getContainer()===r.getContainer()})||null},t.prototype.getHorizontalDirection=function(r){var i=this.eventLastTime&&this.eventLastTime.clientX,o=r.clientX;return i===o?null:i>o?_i.Left:_i.Right},t.prototype.getVerticalDirection=function(r){var i=this.eventLastTime&&this.eventLastTime.clientY,o=r.clientY;return i===o?null:i>o?Vs.Up:Vs.Down},t.prototype.createDropTargetEvent=function(r,i,o,a,s){var l=r.getContainer(),u=l.getBoundingClientRect(),c=this,p=c.gridApi,h=c.columnApi,d=c.dragItem,f=c.dragSource,g=i.clientX-u.left,v=i.clientY-u.top;return{event:i,x:g,y:v,vDirection:a,hDirection:o,dragSource:f,fromNudge:s,dragItem:d,api:p,columnApi:h,dropZoneTarget:l}},t.prototype.positionGhost=function(r){var i=this.eGhost;if(!!i){var o=i.getBoundingClientRect(),a=o.height,s=_M()-2,l=SM()-2,u=r.pageY-a/2,c=r.pageX-10,p=this.gridOptionsWrapper.getDocument(),h=p.defaultView||window,d=h.pageYOffset||p.documentElement.scrollTop,f=h.pageXOffset||p.documentElement.scrollLeft;s>0&&c+i.clientWidth>s+f&&(c=s+f-i.clientWidth),c<0&&(c=0),l>0&&u+i.clientHeight>l+d&&(u=l+d-i.clientHeight),u<0&&(u=0),i.style.left=c+"px",i.style.top=u+"px"}},t.prototype.removeGhost=function(){this.eGhost&&this.eGhostParent&&this.eGhostParent.removeChild(this.eGhost),this.eGhost=null},t.prototype.createGhost=function(){this.eGhost=Sr(e.GHOST_TEMPLATE);var r=this.environment.getTheme().theme;r&&this.eGhost.classList.add(r),this.eGhostIcon=this.eGhost.querySelector(".ag-dnd-ghost-icon"),this.setGhostIcon(null);var i=this.eGhost.querySelector(".ag-dnd-ghost-label"),o=this.dragSource.dragItemName;hS(o)&&(o=o()),i.innerHTML=Xo(o)||"",this.eGhost.style.height="25px",this.eGhost.style.top="20px",this.eGhost.style.left="20px";var a=this.gridOptionsWrapper.getDocument(),s=null;try{s=a.fullscreenElement}catch{}finally{s||(s=a.querySelector("body"))}this.eGhostParent=s,this.eGhostParent?this.eGhostParent.appendChild(this.eGhost):console.warn("AG Grid: could not find document body, it is needed for dragging columns")},t.prototype.setGhostIcon=function(r,i){i===void 0&&(i=!1),ni(this.eGhostIcon);var o=null;switch(r||(r=this.dragSource.defaultIconName||e.ICON_NOT_ALLOWED),r){case e.ICON_PINNED:o=this.ePinnedIcon;break;case e.ICON_MOVE:o=this.eMoveIcon;break;case e.ICON_LEFT:o=this.eLeftIcon;break;case e.ICON_RIGHT:o=this.eRightIcon;break;case e.ICON_GROUP:o=this.eGroupIcon;break;case e.ICON_AGGREGATE:o=this.eAggregateIcon;break;case e.ICON_PIVOT:o=this.ePivotIcon;break;case e.ICON_NOT_ALLOWED:o=this.eDropNotAllowedIcon;break;case e.ICON_HIDE:o=this.eHideIcon;break}this.eGhostIcon.classList.toggle("ag-shake-left-to-right",i),!(o===this.eHideIcon&&this.gridOptionsWrapper.isSuppressDragLeaveHidesColumns())&&o&&this.eGhostIcon.appendChild(o)};var e;return t.ICON_PINNED="pinned",t.ICON_MOVE="move",t.ICON_LEFT="left",t.ICON_RIGHT="right",t.ICON_GROUP="group",t.ICON_AGGREGATE="aggregate",t.ICON_PIVOT="pivot",t.ICON_NOT_ALLOWED="notAllowed",t.ICON_HIDE="hide",t.GHOST_TEMPLATE=`<div class="ag-dnd-ghost ag-unselectable">
            <span class="ag-dnd-ghost-icon ag-shake-left-to-right"></span>
            <div class="ag-dnd-ghost-label"></div>
        </div>`,Js([y("dragService")],t.prototype,"dragService",void 0),Js([y("environment")],t.prototype,"environment",void 0),Js([y("columnApi")],t.prototype,"columnApi",void 0),Js([y("gridApi")],t.prototype,"gridApi",void 0),Js([H],t.prototype,"init",null),Js([_t],t.prototype,"clearDragSourceParamsList",null),t=e=Js([J("dragAndDropService")],t),t}(j);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v27.3.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */var pm=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),mh=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},tv=function(n){pm(t,n);function t(e,r,i,o,a,s){var l=n.call(this)||this;return l.cellValueFn=e,l.rowNode=r,l.column=i,l.customGui=o,l.dragStartPixels=a,l.suppressVisibilityChange=s,l.dragSource=null,l}return t.prototype.isCustomGui=function(){return this.customGui!=null},t.prototype.postConstruct=function(){if(this.customGui?this.setDragElement(this.customGui,this.dragStartPixels):(this.setTemplate('<div class="ag-drag-handle ag-row-drag" aria-hidden="true"></div>'),this.getGui().appendChild(ar("rowDrag",this.beans.gridOptionsWrapper,null)),this.addDragSource()),this.checkCompatibility(),!this.suppressVisibilityChange){var e=this.beans.gridOptionsWrapper.isRowDragManaged()?new LH(this,this.beans,this.rowNode,this.column):new IH(this,this.beans,this.rowNode,this.column);this.createManagedBean(e,this.beans.context)}},t.prototype.setDragElement=function(e,r){this.setTemplateFromElement(e),this.addDragSource(r)},t.prototype.getSelectedCount=function(){var e=this.beans.gridOptionsWrapper.isRowDragMultiRow();if(!e)return 1;var r=this.beans.selectionService.getSelectedNodes();return r.indexOf(this.rowNode)!==-1?r.length:1},t.prototype.checkCompatibility=function(){var e=this.beans.gridOptionsWrapper.isRowDragManaged(),r=this.beans.gridOptionsWrapper.isTreeData();r&&e&&ct(function(){return console.warn("AG Grid: If using row drag with tree data, you cannot have rowDragManaged=true")},"RowDragComp.managedAndTreeData")},t.prototype.addDragSource=function(e){var r=this;e===void 0&&(e=4),this.dragSource&&this.removeDragSource();var i={rowNode:this.rowNode,columns:this.column?[this.column]:void 0,defaultTextValue:this.cellValueFn()},o=this.column&&this.column.getColDef().rowDragText,a=this.gridOptionsWrapper.getLocaleTextFunc();this.dragSource={type:nr.RowDrag,eElement:this.getGui(),dragItemName:function(){var s=r.getSelectedCount();return o?o(i,s):s===1?r.cellValueFn():s+" "+a("rowDragRows","rows")},getDragItem:function(){return i},dragStartPixels:e,dragSourceDomDataKey:this.beans.gridOptionsWrapper.getDomDataKey()},this.beans.dragAndDropService.addDragSource(this.dragSource,!0)},t.prototype.removeDragSource=function(){this.dragSource&&this.beans.dragAndDropService.removeDragSource(this.dragSource),this.dragSource=null},mh([y("beans")],t.prototype,"beans",void 0),mh([H],t.prototype,"postConstruct",null),mh([_t],t.prototype,"removeDragSource",null),t}(te),d1=function(n){pm(t,n);function t(e,r,i){var o=n.call(this)||this;return o.parent=e,o.rowNode=r,o.column=i,o}return t.prototype.setDisplayedOrVisible=function(e){if(e)this.parent.setDisplayed(!1);else{var r=!0,i=!1;this.column&&(r=this.column.isRowDrag(this.rowNode)||this.parent.isCustomGui(),i=hS(this.column.getColDef().rowDrag)),i?(this.parent.setDisplayed(!0),this.parent.setVisible(r)):(this.parent.setDisplayed(r),this.parent.setVisible(!0))}},t}(j),IH=function(n){pm(t,n);function t(e,r,i,o){var a=n.call(this,e,i,o)||this;return a.beans=r,a}return t.prototype.postConstruct=function(){this.addManagedListener(this.beans.gridOptionsWrapper,"suppressRowDrag",this.onSuppressRowDrag.bind(this)),this.addManagedListener(this.rowNode,Ee.EVENT_DATA_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,Ee.EVENT_CELL_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,Ee.EVENT_CELL_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,x.EVENT_NEW_COLUMNS_LOADED,this.workOutVisibility.bind(this)),this.workOutVisibility()},t.prototype.onSuppressRowDrag=function(){this.workOutVisibility()},t.prototype.workOutVisibility=function(){var e=this.beans.gridOptionsWrapper.isSuppressRowDrag();this.setDisplayedOrVisible(e)},mh([H],t.prototype,"postConstruct",null),t}(d1),LH=function(n){pm(t,n);function t(e,r,i,o){var a=n.call(this,e,i,o)||this;return a.beans=r,a}return t.prototype.postConstruct=function(){this.addManagedListener(this.beans.eventService,x.EVENT_SORT_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,x.EVENT_FILTER_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,x.EVENT_COLUMN_ROW_GROUP_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,x.EVENT_NEW_COLUMNS_LOADED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,Ee.EVENT_DATA_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,Ee.EVENT_CELL_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.gridOptionsWrapper,"suppressRowDrag",this.onSuppressRowDrag.bind(this)),this.workOutVisibility()},t.prototype.onSuppressRowDrag=function(){this.workOutVisibility()},t.prototype.workOutVisibility=function(){var e=this.beans.ctrlsService.getGridBodyCtrl(),r=e.getRowDragFeature(),i=r&&r.shouldPreventRowMove(),o=this.beans.gridOptionsWrapper.isSuppressRowDrag(),a=this.beans.dragAndDropService.hasExternalDropZones(),s=i&&!a||o;this.setDisplayedOrVisible(s)},mh([H],t.prototype,"postConstruct",null),t}(d1);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v27.3.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */var NH=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),rv=globalThis&&globalThis.__assign||function(){return rv=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},rv.apply(this,arguments)},vp=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},f1=function(n){NH(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.init=function(e,r,i,o,a,s,l){this.params=l,this.eGui=r,this.eCheckbox=i,this.eExpanded=o,this.eContracted=a,this.comp=e,this.compClass=s;var u=this.isTopLevelFooter(),c=this.isEmbeddedRowMismatch(),p=l.value==null,h=!1;if(this.gridOptionsWrapper.isGroupIncludeFooter()&&this.gridOptionsWrapper.isGroupHideOpenParents()){var d=l.node;if(d.footer){var f=l.colDef&&l.colDef.showRowGroup,g=d.rowGroupColumn&&d.rowGroupColumn.getColId();h=f!==g}}this.cellIsBlank=u?!1:c||p||h,!this.cellIsBlank&&(this.setupShowingValueForOpenedParent(),this.findDisplayedGroupNode(),this.addFullWidthRowDraggerIfNeeded(),this.addExpandAndContract(),this.addCheckboxIfNeeded(),this.addValueElement(),this.setupIndent(),this.refreshAriaExpanded())},t.prototype.destroy=function(){n.prototype.destroy.call(this),this.expandListener=null},t.prototype.refreshAriaExpanded=function(){var e=this.params,r=e.node,i=e.eParentOfValue;if(this.expandListener&&(this.expandListener=this.expandListener()),!this.isExpandable()){GM(i);return}var o=function(){ti(i,!!r.expanded)};this.expandListener=this.addManagedListener(r,Ee.EVENT_EXPANDED_CHANGED,o)||null,o()},t.prototype.isTopLevelFooter=function(){if(!this.gridOptionsWrapper.isGroupIncludeTotalFooter()||this.params.value!=null||this.params.node.level!=-1)return!1;var e=this.params.colDef,r=e==null;if(r||e.showRowGroup===!0)return!0;var i=this.columnModel.getRowGroupColumns();if(!i||i.length===0)return!0;var o=i[0];return o.getId()===e.showRowGroup},t.prototype.isEmbeddedRowMismatch=function(){if(!this.params.fullWidth||!this.gridOptionsWrapper.isEmbedFullWidthRows())return!1;var e=this.params.pinned===L.PINNED_LEFT,r=this.params.pinned===L.PINNED_RIGHT,i=!e&&!r;return this.gridOptionsWrapper.isEnableRtl()?this.columnModel.isPinningLeft()?!r:!i:this.columnModel.isPinningLeft()?!e:!i},t.prototype.findDisplayedGroupNode=function(){var e=this.params.column,r=this.params.node;if(this.showingValueForOpenedParent)for(var i=r.parent;i!=null;){if(i.rowGroupColumn&&e.isRowGroupDisplayed(i.rowGroupColumn.getId())){this.displayedGroupNode=i;break}i=i.parent}ye(this.displayedGroupNode)&&(this.displayedGroupNode=r)},t.prototype.setupShowingValueForOpenedParent=function(){var e=this.params.node,r=this.params.column;if(!this.gridOptionsWrapper.isGroupHideOpenParents()){this.showingValueForOpenedParent=!1;return}if(!e.groupData){this.showingValueForOpenedParent=!1;return}var i=e.rowGroupColumn!=null;if(i){var o=e.rowGroupColumn.getId(),a=r.isRowGroupDisplayed(o);if(a){this.showingValueForOpenedParent=!1;return}}var s=e.groupData[r.getId()]!=null;this.showingValueForOpenedParent=s},t.prototype.addValueElement=function(){this.displayedGroupNode.footer?this.addFooterValue():(this.addGroupValue(),this.addChildCount())},t.prototype.addGroupValue=function(){var e=this.adjustParamsWithDetailsFromRelatedColumn(),r=this.getInnerCompDetails(e),i=e.valueFormatted,o=e.value,a=i!=null?i:o;this.comp.setInnerRenderer(r,a)},t.prototype.adjustParamsWithDetailsFromRelatedColumn=function(){var e=this.displayedGroupNode.rowGroupColumn,r=this.params.column;if(!e)return this.params;var i=r!=null;if(i){var o=r.isRowGroupDisplayed(e.getId());if(!o)return this.params}var a=this.params,s=this.params,l=s.value,u=s.node,c=this.valueFormatterService.formatValue(e,u,l),p=rv(rv({},a),{valueFormatted:c});return p},t.prototype.addFooterValue=function(){var e=this.params.footerValueGetter,r="";if(e){var i=pS(this.params);i.value=this.params.value,typeof e=="function"?r=e(i):typeof e=="string"?r=this.expressionService.evaluate(e,i):console.warn("AG Grid: footerValueGetter should be either a function or a string (expression)")}else r="Total "+(this.params.value!=null?this.params.value:"");var o=this.getInnerCompDetails(this.params);this.comp.setInnerRenderer(o,r)},t.prototype.getInnerCompDetails=function(e){var r=this;if(e.fullWidth)return this.userComponentFactory.getFullWidthGroupRowInnerCellRenderer(this.gridOptions.groupRowRendererParams,e);var i=this.userComponentFactory.getInnerRendererDetails(e,e),o=function(c){return c&&c.componentClass==r.compClass};if(i&&!o(i))return i;var a=this.displayedGroupNode.rowGroupColumn,s=a?a.getColDef():void 0;if(!!s){var l=this.userComponentFactory.getCellRendererDetails(s,e);if(l&&!o(l))return l;if(o(l)&&s.cellRendererParams&&s.cellRendererParams.innerRenderer){var u=this.userComponentFactory.getInnerRendererDetails(s.cellRendererParams,e);return u}}},t.prototype.addChildCount=function(){this.params.suppressCount||(this.addManagedListener(this.displayedGroupNode,Ee.EVENT_ALL_CHILDREN_COUNT_CHANGED,this.updateChildCount.bind(this)),this.updateChildCount())},t.prototype.updateChildCount=function(){var e=this.displayedGroupNode.allChildrenCount,r=this.isShowRowGroupForThisRow(),i=r&&e!=null&&e>=0,o=i?"("+e+")":"";this.comp.setChildCount(o)},t.prototype.isShowRowGroupForThisRow=function(){if(this.gridOptionsWrapper.isTreeData())return!0;var e=this.displayedGroupNode.rowGroupColumn;if(!e)return!1;var r=this.params.column,i=r==null||r.isRowGroupDisplayed(e.getId());return i},t.prototype.addExpandAndContract=function(){var e=this.params,r=ar("groupExpanded",this.gridOptionsWrapper,null),i=ar("groupContracted",this.gridOptionsWrapper,null);r&&this.eExpanded.appendChild(r),i&&this.eContracted.appendChild(i);var o=e.eGridCell;!this.gridOptionsWrapper.isEnableGroupEdit()&&this.isExpandable()&&!e.suppressDoubleClickExpand&&this.addManagedListener(o,"dblclick",this.onCellDblClicked.bind(this)),this.addManagedListener(this.eExpanded,"click",this.onExpandClicked.bind(this)),this.addManagedListener(this.eContracted,"click",this.onExpandClicked.bind(this)),this.addManagedListener(o,"keydown",this.onKeyDown.bind(this)),this.addManagedListener(e.node,Ee.EVENT_EXPANDED_CHANGED,this.showExpandAndContractIcons.bind(this)),this.showExpandAndContractIcons();var a=this.onRowNodeIsExpandableChanged.bind(this);this.addManagedListener(this.displayedGroupNode,Ee.EVENT_ALL_CHILDREN_COUNT_CHANGED,a),this.addManagedListener(this.displayedGroupNode,Ee.EVENT_MASTER_CHANGED,a),this.addManagedListener(this.displayedGroupNode,Ee.EVENT_GROUP_CHANGED,a),this.addManagedListener(this.displayedGroupNode,Ee.EVENT_HAS_CHILDREN_CHANGED,a)},t.prototype.onExpandClicked=function(e){jo(e)||(Lc(e),this.onExpandOrContract(e))},t.prototype.onExpandOrContract=function(e){var r=this.displayedGroupNode,i=!r.expanded;r.setExpanded(i,e)},t.prototype.isExpandable=function(){if(this.showingValueForOpenedParent)return!0;var e=this.displayedGroupNode,r=this.columnModel.isPivotMode()&&e.leafGroup,i=e.isExpandable()&&!e.footer&&!r;if(!i)return!1;var o=this.params.column,a=o!=null&&typeof o.getColDef().showRowGroup=="string";if(a){var s=this.isShowRowGroupForThisRow();return s}return!0},t.prototype.showExpandAndContractIcons=function(){var e=this,r=e.params,i=e.displayedGroupNode,o=e.columnModel,a=r.node,s=this.isExpandable();if(s){var l=this.showingValueForOpenedParent?!0:a.expanded;this.comp.setExpandedDisplayed(l),this.comp.setContractedDisplayed(!l)}else this.comp.setExpandedDisplayed(!1),this.comp.setContractedDisplayed(!1);var u=o.isPivotMode(),c=u&&i.leafGroup,p=s&&!c,h=a.footer&&a.level===-1;this.comp.addOrRemoveCssClass("ag-cell-expandable",p),this.comp.addOrRemoveCssClass("ag-row-group",p),u?this.comp.addOrRemoveCssClass("ag-pivot-leaf-group",c):h||this.comp.addOrRemoveCssClass("ag-row-group-leaf-indent",!p)},t.prototype.onRowNodeIsExpandableChanged=function(){this.showExpandAndContractIcons(),this.setIndent(),this.refreshAriaExpanded()},t.prototype.setupIndent=function(){var e=this.params.node,r=this.params.suppressPadding;r||(this.addManagedListener(e,Ee.EVENT_UI_LEVEL_CHANGED,this.setIndent.bind(this)),this.setIndent())},t.prototype.setIndent=function(){if(!this.gridOptionsWrapper.isGroupHideOpenParents()){var e=this.params,r=e.node,i=!!e.colDef,o=this.gridOptionsWrapper.isTreeData(),a=!i||o||e.colDef.showRowGroup===!0,s=a?r.uiLevel:0,l=e.padding>=0;l&&ct(function(){return console.warn("AG Grid: cellRendererParams.padding no longer works, it was deprecated in since v14.2 and removed in v26, configuring padding for groupCellRenderer should be done with Sass variables and themes. Please see the AG Grid documentation page for Themes, in particular the property $row-group-indent-size.")},"groupCellRenderer->doDeprecatedWay"),this.indentClass&&this.comp.addOrRemoveCssClass(this.indentClass,!1),this.indentClass="ag-row-group-indent-"+s,this.comp.addOrRemoveCssClass(this.indentClass,!0)}},t.prototype.addFullWidthRowDraggerIfNeeded=function(){var e=this;if(!(!this.params.fullWidth||!this.params.rowDrag)){var r=new tv(function(){return e.params.value},this.params.node);this.createManagedBean(r,this.context),this.eGui.insertAdjacentElement("afterbegin",r.getGui())}},t.prototype.isUserWantsSelected=function(){var e=this.params.checkbox;return typeof e=="function"?e(this.params):e===!0},t.prototype.addCheckboxIfNeeded=function(){var e=this,r=this.displayedGroupNode,i=this.isUserWantsSelected()&&!r.footer&&!r.rowPinned&&!r.detail;if(i){var o=new BS;this.getContext().createBean(o),o.init({rowNode:r,column:this.params.column}),this.eCheckbox.appendChild(o.getGui()),this.addDestroyFunc(function(){return e.getContext().destroyBean(o)})}this.comp.setCheckboxVisible(i)},t.prototype.onKeyDown=function(e){var r=e.key===U.ENTER;if(!(!r||this.params.suppressEnterExpand)){var i=this.params.column&&this.params.column.isCellEditable(this.params.node);i||this.onExpandOrContract(e)}},t.prototype.onCellDblClicked=function(e){if(!jo(e)){var r=Yg(this.eExpanded,e)||Yg(this.eContracted,e);r||this.onExpandOrContract(e)}},vp([y("expressionService")],t.prototype,"expressionService",void 0),vp([y("valueFormatterService")],t.prototype,"valueFormatterService",void 0),vp([y("columnModel")],t.prototype,"columnModel",void 0),vp([y("userComponentFactory")],t.prototype,"userComponentFactory",void 0),vp([y("gridOptions")],t.prototype,"gridOptions",void 0),t}(j);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v27.3.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */var kH=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),mp=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Sw=function(n){kH(t,n);function t(){return n.call(this,t.TEMPLATE)||this}return t.prototype.init=function(e){var r=this,i={setInnerRenderer:function(l,u){return r.setRenderDetails(l,u)},setChildCount:function(l){return r.eChildCount.innerHTML=l},addOrRemoveCssClass:function(l,u){return r.addOrRemoveCssClass(l,u)},setContractedDisplayed:function(l){return Ft(r.eContracted,l)},setExpandedDisplayed:function(l){return Ft(r.eExpanded,l)},setCheckboxVisible:function(l){return r.eCheckbox.classList.toggle("ag-invisible",!l)}},o=this.createManagedBean(new f1),a=!e.colDef,s=this.getGui();o.init(i,s,this.eCheckbox,this.eExpanded,this.eContracted,this.constructor,e),a&&Jr(s,"gridcell")},t.prototype.setRenderDetails=function(e,r){var i=this;if(e){var o=e.newAgStackInstance();if(!o)return;o.then(function(a){if(!!a){var s=function(){return i.context.destroyBean(a)};i.isAlive()?(i.eValue.appendChild(a.getGui()),i.addDestroyFunc(s)):s()}})}else this.eValue.innerText=r},t.prototype.destroy=function(){this.getContext().destroyBean(this.innerCellRenderer),n.prototype.destroy.call(this)},t.prototype.refresh=function(){return!1},t.TEMPLATE=`<span class="ag-cell-wrapper">
            <span class="ag-group-expanded" ref="eExpanded"></span>
            <span class="ag-group-contracted" ref="eContracted"></span>
            <span class="ag-group-checkbox ag-invisible" ref="eCheckbox"></span>
            <span class="ag-group-value" ref="eValue"></span>
            <span class="ag-group-child-count" ref="eChildCount"></span>
        </span>`,mp([I("eExpanded")],t.prototype,"eExpanded",void 0),mp([I("eContracted")],t.prototype,"eContracted",void 0),mp([I("eCheckbox")],t.prototype,"eCheckbox",void 0),mp([I("eValue")],t.prototype,"eValue",void 0),mp([I("eChildCount")],t.prototype,"eChildCount",void 0),t}(te);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v27.3.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */var GH=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),ST=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},BH=function(n){GH(t,n);function t(){return n.call(this,t.TEMPLATE)||this}return t.prototype.init=function(e){e.node.failedLoad?this.setupFailed():this.setupLoading()},t.prototype.setupFailed=function(){this.eLoadingText.innerText="ERR"},t.prototype.setupLoading=function(){var e=ar("groupLoading",this.gridOptionsWrapper,null);e&&this.eLoadingIcon.appendChild(e);var r=this.gridOptionsWrapper.getLocaleTextFunc();this.eLoadingText.innerText=r("loadingOoo","Loading")},t.prototype.refresh=function(e){return!1},t.prototype.destroy=function(){n.prototype.destroy.call(this)},t.TEMPLATE=`<div class="ag-loading">
            <span class="ag-loading-icon" ref="eLoadingIcon"></span>
            <span class="ag-loading-text" ref="eLoadingText"></span>
        </div>`,ST([I("eLoadingIcon")],t.prototype,"eLoadingIcon",void 0),ST([I("eLoadingText")],t.prototype,"eLoadingText",void 0),t}(te);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v27.3.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */var VH=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),WH=function(n){VH(t,n);function t(){return n.call(this)||this}return t.prototype.destroy=function(){n.prototype.destroy.call(this)},t.prototype.init=function(e){var r=this.gridOptionsWrapper.getOverlayLoadingTemplate()?this.gridOptionsWrapper.getOverlayLoadingTemplate():t.DEFAULT_LOADING_OVERLAY_TEMPLATE,i=this.gridOptionsWrapper.getLocaleTextFunc(),o=r.replace("[LOADING...]",i("loadingOoo","Loading..."));this.setTemplate(o)},t.DEFAULT_LOADING_OVERLAY_TEMPLATE='<span class="ag-overlay-loading-center">[LOADING...]</span>',t}(te);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v27.3.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */var HH=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),jH=function(n){HH(t,n);function t(){return n.call(this)||this}return t.prototype.destroy=function(){n.prototype.destroy.call(this)},t.prototype.init=function(e){var r=this.gridOptionsWrapper.getOverlayNoRowsTemplate()?this.gridOptionsWrapper.getOverlayNoRowsTemplate():t.DEFAULT_NO_ROWS_TEMPLATE,i=this.gridOptionsWrapper.getLocaleTextFunc(),o=r.replace("[NO_ROWS_TO_SHOW]",i("noRowsToShow","No Rows To Show"));this.setTemplate(o)},t.DEFAULT_NO_ROWS_TEMPLATE='<span class="ag-overlay-no-rows-center">[NO_ROWS_TO_SHOW]</span>',t}(te);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v27.3.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */var UH=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),zH=function(n){UH(t,n);function t(){return n.call(this,'<div class="ag-tooltip"></div>')||this}return t.prototype.init=function(e){var r=e.value;this.getGui().innerHTML=Xo(r)},t}(uu);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v27.3.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */var $H=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Vd=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},g1=function(n){$H(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.agGridDefaults={agDateInput:sH,agColumnHeader:gH,agColumnGroupHeader:mH,agTextColumnFloatingFilter:s1,agNumberColumnFloatingFilter:hH,agDateColumnFloatingFilter:iH,agReadOnlyFloatingFilter:WW,agAnimateShowChangeCellRenderer:p1,agAnimateSlideCellRenderer:h1,agGroupCellRenderer:Sw,agGroupRowRenderer:Sw,agLoadingCellRenderer:BH,agCellEditor:ev,agTextCellEditor:ev,agSelectCellEditor:GS,agPopupTextCellEditor:c1,agPopupSelectCellEditor:u1,agLargeTextCellEditor:l1,agTextColumnFilter:dd,agNumberColumnFilter:kS,agDateColumnFilter:NS,agLoadingOverlay:WH,agNoRowsOverlay:jH,agTooltipComponent:zH},e.agDeprecatedNames={set:{newComponentName:"agSetColumnFilter",propertyHolder:"filter"},text:{newComponentName:"agTextColumnFilter",propertyHolder:"filter"},number:{newComponentName:"agNumberColumnFilter",propertyHolder:"filter"},date:{newComponentName:"agDateColumnFilter",propertyHolder:"filter"},group:{newComponentName:"agGroupCellRenderer",propertyHolder:"cellRenderer"},animateShowChange:{newComponentName:"agAnimateShowChangeCellRenderer",propertyHolder:"cellRenderer"},animateSlide:{newComponentName:"agAnimateSlideCellRenderer",propertyHolder:"cellRenderer"},select:{newComponentName:"agSelectCellEditor",propertyHolder:"cellEditor"},largeText:{newComponentName:"agLargeTextCellEditor",propertyHolder:"cellEditor"},popupSelect:{newComponentName:"agPopupSelectCellEditor",propertyHolder:"cellEditor"},popupText:{newComponentName:"agPopupTextCellEditor",propertyHolder:"cellEditor"},richSelect:{newComponentName:"agRichSelectCellEditor",propertyHolder:"cellEditor"},headerComponent:{newComponentName:"agColumnHeader",propertyHolder:"headerComponent"}},e.jsComps={},e.fwComps={},e}return t.prototype.init=function(){var e=this;this.gridOptions.components!=null&&ut(this.gridOptions.components,function(r,i){return e.registerJsComponent(r,i)}),this.gridOptions.frameworkComponents!=null&&ut(this.gridOptions.frameworkComponents,function(r,i){return e.registerFwComponent(r,i)})},t.prototype.registerDefaultComponent=function(e,r){var i=this.translateIfDeprecated(e);if(this.agGridDefaults[i]){console.error("Trying to overwrite a default component. You should call registerComponent");return}this.agGridDefaults[i]=r},t.prototype.registerJsComponent=function(e,r){var i=this.translateIfDeprecated(e);if(this.fwComps[i]){console.error("Trying to register a component that you have already registered for frameworks: "+i);return}this.jsComps[i]=r},t.prototype.registerFwComponent=function(e,r){var i="AG Grid: As of v27, registering components via grid property frameworkComponents is deprecated. Instead register both JavaScript AND Framework Components via the components property.";ct(function(){return console.warn(i)},"UserComponentRegistry.frameworkComponentsDeprecated");var o=this.translateIfDeprecated(e);this.fwComps[o]=r},t.prototype.retrieve=function(e){var r=this.translateIfDeprecated(e),i=function(c,p){return{componentFromFramework:p,component:c}},o=this.getFrameworkOverrides().frameworkComponent(r);if(o!=null)return i(o,!0);var a=this.fwComps[r];if(a)return i(a,!0);var s=this.jsComps[r];if(s){var l=this.getFrameworkOverrides().isFrameworkComponent(s);return i(s,l)}var u=this.agGridDefaults[r];return u?i(u,!1):(Object.keys(this.agGridDefaults).indexOf(r)<0&&console.warn("AG Grid: Looking for component ["+r+"] but it wasn't found."),null)},t.prototype.translateIfDeprecated=function(e){var r=this.agDeprecatedNames[e];return r!=null?(ct(function(){console.warn("ag-grid. Since v15.0 component names have been renamed to be namespaced. You should rename "+r.propertyHolder+":"+e+" to "+r.propertyHolder+":"+r.newComponentName)},"DEPRECATE_COMPONENT_"+e),r.newComponentName):e},Vd([y("gridOptions")],t.prototype,"gridOptions",void 0),Vd([y("agComponentUtils")],t.prototype,"agComponentUtils",void 0),Vd([H],t.prototype,"init",null),t=Vd([J("userComponentRegistry")],t),t}(j);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v27.3.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */var KH={propertyName:"dateComponent",cellRenderer:!1},YH={propertyName:"headerComponent",cellRenderer:!1},XH={propertyName:"headerGroupComponent",cellRenderer:!1},xT={propertyName:"cellRenderer",cellRenderer:!0},qH={propertyName:"cellEditor",cellRenderer:!1},TT={propertyName:"innerRenderer",cellRenderer:!0},ZH={propertyName:"loadingOverlayComponent",cellRenderer:!1},QH={propertyName:"noRowsOverlayComponent",cellRenderer:!1},JH={propertyName:"tooltipComponent",cellRenderer:!1},xw={propertyName:"filter",cellRenderer:!1},ej={propertyName:"floatingFilterComponent",cellRenderer:!1},tj={propertyName:"toolPanel",cellRenderer:!1},rj={propertyName:"statusPanel",cellRenderer:!1},nj={propertyName:"fullWidthCellRenderer",cellRenderer:!0},ij={propertyName:"loadingCellRenderer",cellRenderer:!0},oj={propertyName:"groupRowRenderer",cellRenderer:!0},aj={propertyName:"detailCellRenderer",cellRenderer:!0};/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v27.3.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */var v1=function(){function n(){}return n.getFloatingFilterType=function(t){return this.filterToFloatingFilterMapping[t]},n.filterToFloatingFilterMapping={set:"agSetColumnFloatingFilter",agSetColumnFilter:"agSetColumnFloatingFilter",multi:"agMultiColumnFloatingFilter",agMultiColumnFilter:"agMultiColumnFloatingFilter",number:"agNumberColumnFloatingFilter",agNumberColumnFilter:"agNumberColumnFloatingFilter",date:"agDateColumnFloatingFilter",agDateColumnFilter:"agDateColumnFloatingFilter",text:"agTextColumnFloatingFilter",agTextColumnFilter:"agTextColumnFloatingFilter"},n}();/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v27.3.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */var sj=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),wu=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},m1=function(n){sj(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.getHeaderCompDetails=function(e,r){return this.getCompDetails(e,YH,"agColumnHeader",r)},t.prototype.getHeaderGroupCompDetails=function(e){var r=e.columnGroup.getColGroupDef();return this.getCompDetails(r,XH,"agColumnGroupHeader",e)},t.prototype.getFullWidthCellRendererDetails=function(e){return this.getCompDetails(this.gridOptions,nj,null,e,!0)},t.prototype.getFullWidthLoadingCellRendererDetails=function(e){return this.getCompDetails(this.gridOptions,ij,"agLoadingCellRenderer",e,!0)},t.prototype.getFullWidthGroupCellRendererDetails=function(e){return this.getCompDetails(this.gridOptions,oj,"agGroupRowRenderer",e,!0)},t.prototype.getFullWidthDetailCellRendererDetails=function(e){return this.getCompDetails(this.gridOptions,aj,"agDetailCellRenderer",e,!0)},t.prototype.getInnerRendererDetails=function(e,r){return this.getCompDetails(e,TT,null,r)},t.prototype.getFullWidthGroupRowInnerCellRenderer=function(e,r){return this.getCompDetails(e,TT,null,r)},t.prototype.getCellRendererDetails=function(e,r){return this.getCompDetails(e,xT,null,r)},t.prototype.getCellEditorDetails=function(e,r){return this.getCompDetails(e,qH,"agCellEditor",r,!0)},t.prototype.getFilterDetails=function(e,r,i){return this.getCompDetails(e,xw,i,r,!0)},t.prototype.getDateCompDetails=function(e){return this.getCompDetails(this.gridOptions,KH,"agDateInput",e,!0)},t.prototype.getLoadingOverlayCompDetails=function(e){return this.getCompDetails(this.gridOptions,ZH,"agLoadingOverlay",e,!0)},t.prototype.getNoRowsOverlayCompDetails=function(e){return this.getCompDetails(this.gridOptions,QH,"agNoRowsOverlay",e,!0)},t.prototype.getTooltipCompDetails=function(e){return this.getCompDetails(e.colDef,JH,"agTooltipComponent",e,!0)},t.prototype.getSetFilterCellRendererDetails=function(e,r){return this.getCompDetails(e,xT,null,r)},t.prototype.getFloatingFilterCompDetails=function(e,r,i){return this.getCompDetails(e,ej,i,r)},t.prototype.getToolPanelCompDetails=function(e,r){return this.getCompDetails(e,tj,null,r,!0)},t.prototype.getStatusPanelCompDetails=function(e,r){return this.getCompDetails(e,rj,null,r,!0)},t.prototype.getCompDetails=function(e,r,i,o,a){var s=this;a===void 0&&(a=!1);var l=r.propertyName,u=r.cellRenderer,c=this.getCompKeys(e,r,o),p=c.compName,h=c.jsComp,d=c.fwComp,f=c.paramsFromSelector,g=c.popupFromSelector,v=c.popupPositionFromSelector,m=function(S){var T=s.userComponentRegistry.retrieve(S);T&&(h=T.componentFromFramework?void 0:T.component,d=T.componentFromFramework?T.component:void 0)};if(p!=null&&m(p),h==null&&d==null&&i!=null&&m(i),h&&u&&!this.agComponentUtils.doesImplementIComponent(h)&&(h=this.agComponentUtils.adaptFunction(l,h)),!h&&!d){a&&console.error("Could not find component "+p+", did you forget to configure this component?");return}var C=this.mergeParamsWithApplicationProvidedParams(e,r,o,f),b=h==null,w=h||d;return{componentFromFramework:b,componentClass:w,params:C,type:r,popupFromSelector:g,popupPositionFromSelector:v,newAgStackInstance:function(){return s.newAgStackInstance(w,b,C,r)}}},t.prototype.getCompKeys=function(e,r,i){var o=this,a=r.propertyName,s,l,u,c,p,h;if(e){var d=e,f=d[a+"Selector"],g=f?f(i):null,v=function(C,b){var w=function(){var T="AG Grid: As of v27, the property "+a+"Framework is deprecated. The property "+a+" can now be used for JavaScript AND Framework Components.";ct(function(){return console.warn(T)},"UserComponentFactory."+a+"FrameworkDeprecated")};if(typeof C=="string")s=C;else if(typeof b=="string")w(),s=b;else if(C!=null&&C!==!0){var S=o.getFrameworkOverrides().isFrameworkComponent(C);S?u=C:l=C}else b!=null&&(w(),u=b)};if(g){if(g.frameworkComponent!=null){var m="AG Grid: As of v27, the return for "+a+"Selector has attributes [component, params] only. The attribute frameworkComponent is deprecated. You should now return back Framework Components using the 'component' attribute and the grid works out if it's a framework component or not.";ct(function(){return console.warn(m)},"UserComponentFactory."+a+"FrameworkSelectorDeprecated"),v(g.frameworkComponent,void 0)}else v(g.component,void 0);c=g.params,p=g.popup,h=g.popupPosition}else v(d[a],d[a+"Framework"])}return{compName:s,jsComp:l,fwComp:u,paramsFromSelector:c,popupFromSelector:p,popupPositionFromSelector:h}},t.prototype.newAgStackInstance=function(e,r,i,o){var a=o.propertyName,s=!r,l;if(s)l=new e;else{var u=this.componentMetadataProvider.retrieve(a);l=this.frameworkComponentWrapper.wrap(e,u.mandatoryMethodList,u.optionalMethodList,o)}var c=this.initComponent(l,i);return c==null?Dt.resolve(l):c.then(function(){return l})},t.prototype.mergeParamsWithApplicationProvidedParams=function(e,r,i,o){o===void 0&&(o=null);var a={context:this.gridOptionsWrapper.getContext(),columnApi:this.gridOptionsWrapper.getColumnApi(),api:this.gridOptionsWrapper.getApi()};Pi(a,i);var s=e,l=s&&s[r.propertyName+"Params"];if(typeof l=="function"){var u=l(i);Pi(a,u)}else typeof l=="object"&&Pi(a,l);return Pi(a,o),a},t.prototype.initComponent=function(e,r){if(this.context.createBean(e),e.init!=null)return e.init(r)},t.prototype.getDefaultFloatingFilterType=function(e){if(e==null)return null;var r=null,i=this.getCompKeys(e,xw),o=i.compName,a=i.jsComp,s=i.fwComp;if(o)r=v1.getFloatingFilterType(o);else{var l=a==null&&s==null&&e.filter===!0;if(l){var u=ve.isRegistered(ae.SetFilterModule);r=u?"agSetColumnFloatingFilter":"agTextColumnFloatingFilter"}}return r},wu([y("gridOptions")],t.prototype,"gridOptions",void 0),wu([y("agComponentUtils")],t.prototype,"agComponentUtils",void 0),wu([y("componentMetadataProvider")],t.prototype,"componentMetadataProvider",void 0),wu([y("userComponentRegistry")],t.prototype,"userComponentRegistry",void 0),wu([Fe("frameworkComponentWrapper")],t.prototype,"frameworkComponentWrapper",void 0),t=wu([J("userComponentFactory")],t),t}(j);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v27.3.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */var Sa;(function(n){n[n.SINGLE_SHEET=0]="SINGLE_SHEET",n[n.MULTI_SHEET=1]="MULTI_SHEET"})(Sa||(Sa={}));/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v27.3.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */var lj=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),el=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},y1=function(n){lj(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.dragEndFunctions=[],e.dragSources=[],e}return t.prototype.init=function(){this.logger=this.loggerFactory.create("DragService")},t.prototype.removeAllListeners=function(){this.dragSources.forEach(this.removeListener.bind(this)),this.dragSources.length=0},t.prototype.removeListener=function(e){var r=e.dragSource.eElement,i=e.mouseDownListener;if(r.removeEventListener("mousedown",i),e.touchEnabled){var o=e.touchStartListener;r.removeEventListener("touchstart",o,{passive:!0})}},t.prototype.removeDragSource=function(e){var r=this.dragSources.find(function(i){return i.dragSource===e});!r||(this.removeListener(r),$r(this.dragSources,r))},t.prototype.isDragging=function(){return this.dragging},t.prototype.addDragSource=function(e,r){var i=this;r===void 0&&(r=!1);var o=this.onMouseDown.bind(this,e);e.eElement.addEventListener("mousedown",o);var a=null,s=this.gridOptionsWrapper.isSuppressTouch();r&&!s&&(a=function(l){l.cancelable&&l.preventDefault(),i.onTouchStart(e,l)},e.eElement.addEventListener("touchstart",a,{passive:!0})),this.dragSources.push({dragSource:e,mouseDownListener:o,touchStartListener:a,touchEnabled:r})},t.prototype.onTouchStart=function(e,r){var i=this;this.currentDragParams=e,this.dragging=!1;var o=r.touches[0];this.touchLastTime=o,this.touchStart=o;var a=function(p){return i.onTouchMove(p,e.eElement)},s=function(p){return i.onTouchUp(p,e.eElement)},l=function(p){p.cancelable&&p.preventDefault()},u=e.eElement,c=[{target:document,type:"touchmove",listener:l,options:{passive:!1}},{target:u,type:"touchmove",listener:a,options:{passive:!0}},{target:u,type:"touchend",listener:s,options:{passive:!0}},{target:u,type:"touchcancel",listener:s,options:{passive:!0}}];this.addTemporaryEvents(c),e.dragStartPixels===0&&this.onCommonMove(o,this.touchStart,e.eElement)},t.prototype.onMouseDown=function(e,r){var i=this,o=r;if(!(e.skipMouseEvent&&e.skipMouseEvent(r))&&!o._alreadyProcessedByDragService&&(o._alreadyProcessedByDragService=!0,r.button===0)){this.currentDragParams=e,this.dragging=!1,this.mouseStartEvent=r;var a=this.gridOptionsWrapper.getDocument(),s=function(h){return i.onMouseMove(h,e.eElement)},l=function(h){return i.onMouseUp(h,e.eElement)},u=function(h){return h.preventDefault()},c=a,p=[{target:c,type:"mousemove",listener:s},{target:c,type:"mouseup",listener:l},{target:c,type:"contextmenu",listener:u}];this.addTemporaryEvents(p),e.dragStartPixels===0&&this.onMouseMove(r,e.eElement)}},t.prototype.addTemporaryEvents=function(e){e.forEach(function(r){var i=r.target,o=r.type,a=r.listener,s=r.options;i.addEventListener(o,a,s)}),this.dragEndFunctions.push(function(){e.forEach(function(r){var i=r.target,o=r.type,a=r.listener,s=r.options;i.removeEventListener(o,a,s)})})},t.prototype.isEventNearStartEvent=function(e,r){var i=this.currentDragParams.dragStartPixels,o=Z(i)?i:4;return FS(e,r,o)},t.prototype.getFirstActiveTouch=function(e){for(var r=0;r<e.length;r++)if(e[r].identifier===this.touchStart.identifier)return e[r];return null},t.prototype.onCommonMove=function(e,r,i){if(!this.dragging){if(!this.dragging&&this.isEventNearStartEvent(e,r))return;this.dragging=!0;var o={type:x.EVENT_DRAG_STARTED,api:this.gridApi,columnApi:this.columnApi,target:i};this.eventService.dispatchEvent(o),this.currentDragParams.onDragStart(r),this.currentDragParams.onDragging(r)}this.currentDragParams.onDragging(e)},t.prototype.onTouchMove=function(e,r){var i=this.getFirstActiveTouch(e.touches);!i||this.onCommonMove(i,this.touchStart,r)},t.prototype.onMouseMove=function(e,r){sd()&&e.type==="mousemove"&&e.cancelable&&this.mouseEventService.isEventFromThisGrid(e)&&!this.isOverFormFieldElement(e)&&e.preventDefault(),this.onCommonMove(e,this.mouseStartEvent,r)},t.prototype.isOverFormFieldElement=function(e){var r,i,o=e.target,a=(r=o)===null||r===void 0?void 0:r.tagName.toLocaleLowerCase();return!!(!((i=a)===null||i===void 0)&&i.match("^a$|textarea|input|select|button"))},t.prototype.onTouchUp=function(e,r){var i=this.getFirstActiveTouch(e.changedTouches);i||(i=this.touchLastTime),this.onUpCommon(i,r)},t.prototype.onMouseUp=function(e,r){this.onUpCommon(e,r)},t.prototype.onUpCommon=function(e,r){if(this.dragging){this.dragging=!1,this.currentDragParams.onDragStop(e);var i={type:x.EVENT_DRAG_STOPPED,api:this.gridApi,columnApi:this.columnApi,target:r};this.eventService.dispatchEvent(i)}this.mouseStartEvent=null,this.touchStart=null,this.touchLastTime=null,this.currentDragParams=null,this.dragEndFunctions.forEach(function(o){return o()}),this.dragEndFunctions.length=0},el([y("loggerFactory")],t.prototype,"loggerFactory",void 0),el([y("columnApi")],t.prototype,"columnApi",void 0),el([y("gridApi")],t.prototype,"gridApi",void 0),el([y("mouseEventService")],t.prototype,"mouseEventService",void 0),el([H],t.prototype,"init",null),el([_t],t.prototype,"removeAllListeners",null),t=el([J("dragService")],t),t}(j);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v27.3.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */var uj=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),nv=globalThis&&globalThis.__assign||function(){return nv=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},nv.apply(this,arguments)},po=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},C1=function(n){uj(t,n);function t(){var r=n!==null&&n.apply(this,arguments)||this;return r.allColumnFilters=new Map,r.activeAggregateFilters=[],r.activeColumnFilters=[],r.quickFilter=null,r.quickFilterParts=null,r.processingFilterChange=!1,r}e=t,t.prototype.init=function(){var r=this;this.addManagedListener(this.eventService,x.EVENT_GRID_COLUMNS_CHANGED,function(){return r.onColumnsChanged()}),this.addManagedListener(this.eventService,x.EVENT_COLUMN_VALUE_CHANGED,function(){return r.refreshFiltersForAggregations()}),this.addManagedListener(this.eventService,x.EVENT_COLUMN_PIVOT_CHANGED,function(){return r.refreshFiltersForAggregations()}),this.addManagedListener(this.eventService,x.EVENT_COLUMN_PIVOT_MODE_CHANGED,function(){return r.refreshFiltersForAggregations()}),this.quickFilter=this.parseQuickFilter(this.gridOptionsWrapper.getQuickFilterText()),this.setQuickFilterParts(),this.allowShowChangeAfterFilter=this.gridOptionsWrapper.isAllowShowChangeAfterFilter()},t.prototype.setQuickFilterParts=function(){this.quickFilterParts=this.quickFilter?this.quickFilter.split(" "):null},t.prototype.setFilterModel=function(r){var i=this,o=[],a=this.getFilterModel();if(r){var s=IS(Object.keys(r));this.allColumnFilters.forEach(function(l,u){var c=r[u];o.push(i.setModelOnFilterWrapper(l.filterPromise,c)),s.delete(u)}),s.forEach(function(l){var u=i.columnModel.getPrimaryColumn(l)||i.columnModel.getGridColumn(l);if(!u){console.warn("AG Grid: setFilterModel() - no column found for colId: "+l);return}if(!u.isFilterAllowed()){console.warn("AG Grid: setFilterModel() - unable to fully apply model, filtering disabled for colId: "+l);return}var c=i.getOrCreateFilterWrapper(u,"NO_UI");if(!c){console.warn("AG-Grid: setFilterModel() - unable to fully apply model, unable to create filter for colId: "+l);return}o.push(i.setModelOnFilterWrapper(c.filterPromise,r[l]))})}else this.allColumnFilters.forEach(function(l){o.push(i.setModelOnFilterWrapper(l.filterPromise,null))});Dt.all(o).then(function(){var l=i.getFilterModel(),u=[];i.allColumnFilters.forEach(function(c,p){var h=a?a[p]:null,d=l?l[p]:null;_.jsonEquals(h,d)||u.push(c.column)}),u.length>0&&i.onFilterChanged({columns:u})})},t.prototype.setModelOnFilterWrapper=function(r,i){return new Dt(function(o){r.then(function(a){typeof a.setModel!="function"&&(console.warn("AG Grid: filter missing setModel method, which is needed for setFilterModel"),o()),(a.setModel(i)||Dt.resolve()).then(function(){return o()})})})},t.prototype.getFilterModel=function(){var r={};return this.allColumnFilters.forEach(function(i,o){var a=i.filterPromise,s=a.resolveNow(null,function(u){return u});if(s==null)return null;if(typeof s.getModel!="function"){console.warn("AG Grid: filter API missing getModel method, which is needed for getFilterModel");return}var l=s.getModel();Z(l)&&(r[o]=l)}),r},t.prototype.isColumnFilterPresent=function(){return this.activeColumnFilters.length>0},t.prototype.isAggregateFilterPresent=function(){return!!this.activeAggregateFilters.length},t.prototype.doAggregateFiltersPass=function(r,i){return this.doColumnFiltersPass(r,i,!0)},t.prototype.updateActiveFilters=function(){var r=this;this.activeColumnFilters.length=0,this.activeAggregateFilters.length=0;var i=function(s){return s?s.isFilterActive?s.isFilterActive():(console.warn("AG Grid: Filter is missing isFilterActive() method"),!1):!1},o=!!this.gridOptionsWrapper.getGroupAggFiltering(),a=function(s){var l=!s.isPrimary();if(l)return!0;var u=!r.columnModel.isPivotActive(),c=s.isValueActive();return!c||!u?!1:r.columnModel.isPivotMode()?!0:o};this.allColumnFilters.forEach(function(s){if(s.filterPromise.resolveNow(!1,i)){var l=s.filterPromise.resolveNow(null,function(u){return u});a(s.column)?r.activeAggregateFilters.push(l):r.activeColumnFilters.push(l)}})},t.prototype.updateFilterFlagInColumns=function(r,i){this.allColumnFilters.forEach(function(o){var a=o.filterPromise.resolveNow(!1,function(s){return s.isFilterActive()});o.column.setFilterActive(a,r,i)})},t.prototype.isAnyFilterPresent=function(){return this.isQuickFilterPresent()||this.isColumnFilterPresent()||this.isAggregateFilterPresent()||this.gridOptionsWrapper.isExternalFilterPresent()},t.prototype.doColumnFiltersPass=function(r,i,o){for(var a=r.data,s=r.aggData,l=o?this.activeAggregateFilters:this.activeColumnFilters,u=o?s:a,c=0;c<l.length;c++){var p=l[c];if(!(p==null||p===i)){if(typeof p.doesFilterPass!="function")throw new Error("Filter is missing method doesFilterPass");if(!p.doesFilterPass({node:r,data:u}))return!1}}return!0},t.prototype.parseQuickFilter=function(r){return Z(r)?this.gridOptionsWrapper.isRowModelDefault()?r.toUpperCase():(console.warn("AG Grid - Quick filtering only works with the Client-Side Row Model"),null):null},t.prototype.setQuickFilter=function(r){if(r!=null&&typeof r!="string"){console.warn("AG Grid - setQuickFilter() only supports string inputs, received: "+typeof r);return}var i=this.parseQuickFilter(r);this.quickFilter!==i&&(this.quickFilter=i,this.setQuickFilterParts(),this.onFilterChanged())},t.prototype.refreshFiltersForAggregations=function(){var r=this.gridOptionsWrapper.getGroupAggFiltering();r&&this.onFilterChanged()},t.prototype.callOnFilterChangedOutsideRenderCycle=function(r){var i=this;r===void 0&&(r={});var o=function(){return i.onFilterChanged(r)};this.rowRenderer.isRefreshInProgress()?setTimeout(o,0):o()},t.prototype.onFilterChanged=function(r){r===void 0&&(r={});var i=r.filterInstance,o=r.additionalEventAttributes,a=r.columns;this.updateActiveFilters(),this.updateFilterFlagInColumns("filterChanged",o),this.allColumnFilters.forEach(function(l){!l.filterPromise||l.filterPromise.then(function(u){u&&u!==i&&u.onAnyFilterChanged&&u.onAnyFilterChanged()})});var s={type:x.EVENT_FILTER_CHANGED,api:this.gridApi,columnApi:this.columnApi,columns:a||[]};o&&Pi(s,o),this.processingFilterChange=!0,this.eventService.dispatchEvent(s),this.processingFilterChange=!1},t.prototype.isSuppressFlashingCellsBecauseFiltering=function(){return!this.allowShowChangeAfterFilter&&this.processingFilterChange},t.prototype.isQuickFilterPresent=function(){return this.quickFilter!==null},t.prototype.doesRowPassOtherFilters=function(r,i){return this.doesRowPassFilter({rowNode:i,filterInstanceToSkip:r})},t.prototype.doesRowPassQuickFilterNoCache=function(r,i){var o=this,a=this.columnModel.getAllColumnsForQuickFilter();return a.some(function(s){var l=o.getQuickFilterTextForColumn(s,r);return Z(l)&&l.indexOf(i)>=0})},t.prototype.doesRowPassQuickFilterCache=function(r,i){return r.quickFilterAggregateText||this.aggregateRowForQuickFilter(r),r.quickFilterAggregateText.indexOf(i)>=0},t.prototype.doesRowPassQuickFilter=function(r){var i=this,o=this.gridOptionsWrapper.isCacheQuickFilter();return this.quickFilterParts.every(function(a){return o?i.doesRowPassQuickFilterCache(r,a):i.doesRowPassQuickFilterNoCache(r,a)})},t.prototype.doesRowPassAggregateFilters=function(r){return!(this.isAggregateFilterPresent()&&!this.doAggregateFiltersPass(r.rowNode,r.filterInstanceToSkip))},t.prototype.doesRowPassFilter=function(r){return!(this.isQuickFilterPresent()&&!this.doesRowPassQuickFilter(r.rowNode)||this.gridOptionsWrapper.isExternalFilterPresent()&&!this.gridOptionsWrapper.doesExternalFilterPass(r.rowNode)||this.isColumnFilterPresent()&&!this.doColumnFiltersPass(r.rowNode,r.filterInstanceToSkip))},t.prototype.getQuickFilterTextForColumn=function(r,i){var o=this.valueService.getValue(r,i,!0),a=r.getColDef();if(a.getQuickFilterText){var s={value:o,node:i,data:i.data,column:r,colDef:a,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()};o=a.getQuickFilterText(s)}return Z(o)?o.toString().toUpperCase():null},t.prototype.aggregateRowForQuickFilter=function(r){var i=this,o=[],a=this.columnModel.getAllColumnsForQuickFilter();a.forEach(function(s){var l=i.getQuickFilterTextForColumn(s,r);Z(l)&&o.push(l)}),r.quickFilterAggregateText=o.join(e.QUICK_FILTER_SEPARATOR)},t.prototype.onNewRowsLoaded=function(r){this.allColumnFilters.forEach(function(i){i.filterPromise.then(function(o){o.onNewRowsLoaded&&o.onNewRowsLoaded()})}),this.updateFilterFlagInColumns(r),this.updateActiveFilters()},t.prototype.createValueGetter=function(r){var i=this;return function(o){var a=o.node;return i.valueService.getValue(r,a,!0)}},t.prototype.getFilterComponent=function(r,i,o){o===void 0&&(o=!0);var a;if(o)return((a=this.getOrCreateFilterWrapper(r,i))===null||a===void 0?void 0:a.filterPromise)||null;var s=this.cachedFilter(r);return s?s.filterPromise:null},t.prototype.isFilterActive=function(r){var i=this.cachedFilter(r);return!!i&&i.filterPromise.resolveNow(!1,function(o){return o.isFilterActive()})},t.prototype.getOrCreateFilterWrapper=function(r,i){if(!r.isFilterAllowed())return null;var o=this.cachedFilter(r);return o?i!=="NO_UI"&&this.putIntoGui(o,i):(o=this.createFilterWrapper(r,i),this.allColumnFilters.set(r.getColId(),o)),o},t.prototype.cachedFilter=function(r){return this.allColumnFilters.get(r.getColId())},t.prototype.createFilterInstance=function(r){var i=this,o=ve.isRegistered(ae.SetFilterModule)?"agSetColumnFilter":"agTextColumnFilter",a=r.getColDef(),s,l=nv(nv({},this.createFilterParams(r,a)),{filterModifiedCallback:function(){var p={type:x.EVENT_FILTER_MODIFIED,api:i.gridApi,columnApi:i.columnApi,column:r,filterInstance:s};i.eventService.dispatchEvent(p)},filterChangedCallback:function(p){var h={filterInstance:s,additionalEventAttributes:p,columns:[r]};i.callOnFilterChangedOutsideRenderCycle(h)},doesRowPassOtherFilter:function(p){return i.doesRowPassOtherFilters(s,p)}}),u=this.userComponentFactory.getFilterDetails(a,l,o);if(!u)return null;var c=u.newAgStackInstance();return c&&c.then(function(p){return s=p}),c},t.prototype.createFilterParams=function(r,i){var o={api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),column:r,colDef:pS(i),rowModel:this.rowModel,filterChangedCallback:function(){},filterModifiedCallback:function(){},valueGetter:this.createValueGetter(r),context:this.gridOptionsWrapper.getContext(),doesRowPassOtherFilter:function(){return!0}};return o},t.prototype.createFilterWrapper=function(r,i){var o={column:r,filterPromise:null,compiledElement:null,guiPromise:Dt.resolve(null)};return o.filterPromise=this.createFilterInstance(r),o.filterPromise&&this.putIntoGui(o,i),o},t.prototype.putIntoGui=function(r,i){var o=this,a=document.createElement("div");a.className="ag-filter",r.guiPromise=new Dt(function(s){r.filterPromise.then(function(l){var u=l.getGui();Z(u)||console.warn("AG Grid: getGui method from filter returned "+u+", it should be a DOM element or an HTML template string."),typeof u=="string"&&(u=Sr(u)),a.appendChild(u),s(a),o.eventService.dispatchEvent({type:x.EVENT_FILTER_OPENED,column:r.column,source:i,eGui:a,api:o.gridApi,columnApi:o.columnApi})})})},t.prototype.onColumnsChanged=function(){var r=this,i=[];this.allColumnFilters.forEach(function(o,a){var s;o.column.isPrimary()?s=r.columnModel.getPrimaryColumn(a):s=r.columnModel.getGridColumn(a),!s&&(i.push(o.column),r.disposeFilterWrapper(o,"filterDestroyed"))}),i.length>0&&this.onFilterChanged({columns:i})},t.prototype.destroyFilter=function(r,i){i===void 0&&(i="api");var o=this.allColumnFilters.get(r.getColId());o&&(this.disposeFilterWrapper(o,i),this.onFilterChanged({columns:[r]}))},t.prototype.disposeFilterWrapper=function(r,i){var o=this;r.filterPromise.then(function(a){(a.setModel(null)||Dt.resolve()).then(function(){o.getContext().destroyBean(a),r.column.setFilterActive(!1,i),o.allColumnFilters.delete(r.column.getColId())})})},t.prototype.destroy=function(){var r=this;n.prototype.destroy.call(this),this.allColumnFilters.forEach(function(i){return r.disposeFilterWrapper(i,"filterDestroyed")})};var e;return t.QUICK_FILTER_SEPARATOR=`
`,po([y("valueService")],t.prototype,"valueService",void 0),po([y("columnModel")],t.prototype,"columnModel",void 0),po([y("rowModel")],t.prototype,"rowModel",void 0),po([y("columnApi")],t.prototype,"columnApi",void 0),po([y("gridApi")],t.prototype,"gridApi",void 0),po([y("userComponentFactory")],t.prototype,"userComponentFactory",void 0),po([y("rowRenderer")],t.prototype,"rowRenderer",void 0),po([H],t.prototype,"init",null),po([_t],t.prototype,"destroy",null),t=e=po([J("filterManager")],t),t}(j);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v27.3.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */var cj=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),VS=function(n){cj(t,n);function t(e,r){var i=n.call(this,e)||this;return i.ctrl=r,i}return t.prototype.getCtrl=function(){return this.ctrl},t}(te);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v27.3.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */var pj=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Wd=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},b1=function(n){pj(t,n);function t(e){return n.call(this,t.TEMPLATE,e)||this}return t.prototype.postConstruct=function(){var e=this,r=this.getGui(),i={addOrRemoveCssClass:function(o,a){return e.addOrRemoveCssClass(o,a)},addOrRemoveBodyCssClass:function(o,a){return e.eFloatingFilterBody.classList.toggle(o,a)},addOrRemoveButtonWrapperCssClass:function(o,a){return e.eButtonWrapper.classList.toggle(o,a)},setCompDetails:function(o){return e.setCompDetails(o)},getFloatingFilterComp:function(){return e.compPromise},setWidth:function(o){return r.style.width=o},setMenuIcon:function(o){return e.eButtonShowMainFilter.appendChild(o)}};this.ctrl.setComp(i,r,this.eButtonShowMainFilter,this.eFloatingFilterBody)},t.prototype.setCompDetails=function(e){var r=this;this.compPromise=e.newAgStackInstance(),this.compPromise.then(function(i){return r.afterCompCreated(i)})},t.prototype.afterCompCreated=function(e){var r=this;!e||(this.addDestroyFunc(function(){return r.context.destroyBean(e)}),this.isAlive()&&(this.eFloatingFilterBody.appendChild(e.getGui()),e.afterGuiAttached&&e.afterGuiAttached()))},t.TEMPLATE=`<div class="ag-header-cell ag-floating-filter" role="gridcell" tabindex="-1">
            <div ref="eFloatingFilterBody" role="presentation"></div>
            <div class="ag-floating-filter-button ag-hidden" ref="eButtonWrapper" role="presentation">
                <button type="button" aria-label="Open Filter Menu" class="ag-floating-filter-button-button" ref="eButtonShowMainFilter" tabindex="-1"></button>
            </div>
        </div>`,Wd([I("eFloatingFilterBody")],t.prototype,"eFloatingFilterBody",void 0),Wd([I("eButtonWrapper")],t.prototype,"eButtonWrapper",void 0),Wd([I("eButtonShowMainFilter")],t.prototype,"eButtonShowMainFilter",void 0),Wd([H],t.prototype,"postConstruct",null),t}(VS);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v27.3.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */var w1=function(){function n(){}return n.parse=function(t){if(!t)return null;if(t===!0)return{toolPanels:[n.DEFAULT_COLUMN_COMP,n.DEFAULT_FILTER_COMP],defaultToolPanel:"columns"};if(typeof t=="string")return n.parse([t]);if(Array.isArray(t)){var e=[];return t.forEach(function(i){var o=n.DEFAULT_BY_KEY[i];if(!o){console.warn("AG Grid: the key "+i+" is not a valid key for specifying a tool panel, valid keys are: "+Object.keys(n.DEFAULT_BY_KEY).join(","));return}e.push(o)}),e.length===0?null:{toolPanels:e,defaultToolPanel:e[0].id}}var r={toolPanels:n.parseComponents(t.toolPanels),defaultToolPanel:t.defaultToolPanel,hiddenByDefault:t.hiddenByDefault,position:t.position};return r},n.parseComponents=function(t){var e=[];return t&&t.forEach(function(r){var i=null;if(typeof r=="string"){var o=n.DEFAULT_BY_KEY[r];if(!o){console.warn("AG Grid: the key "+r+" is not a valid key for specifying a tool panel, valid keys are: "+Object.keys(n.DEFAULT_BY_KEY).join(","));return}i=o}else i=r;e.push(i)}),e},n.DEFAULT_COLUMN_COMP={id:"columns",labelDefault:"Columns",labelKey:"columns",iconKey:"columns",toolPanel:"agColumnsToolPanel"},n.DEFAULT_FILTER_COMP={id:"filters",labelDefault:"Filters",labelKey:"filters",iconKey:"filter",toolPanel:"agFiltersToolPanel"},n.DEFAULT_BY_KEY={columns:n.DEFAULT_COLUMN_COMP,filters:n.DEFAULT_FILTER_COMP},n}();/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v27.3.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */var iv=globalThis&&globalThis.__assign||function(){return iv=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},iv.apply(this,arguments)},Ka=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},OT=globalThis&&globalThis.__param||function(n,t){return function(e,r){t(e,r,n)}},hj=globalThis&&globalThis.__read||function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},Ny=globalThis&&globalThis.__spread||function(){for(var n=[],t=0;t<arguments.length;t++)n=n.concat(hj(arguments[t]));return n},dj=25,fj=300,gj=5,vj=5,mj=10;function Y(n){return n===!0||n==="true"}function ky(n){if(typeof n=="number")return n;if(typeof n=="string")return parseInt(n,10)}function yj(n,t){return n>=0?n:t}function ET(n,t){var e=parseInt(n,10);return Zg(e)&&e>0?e:t}var pe=function(){function n(){this.propertyEventService=new so,this.domDataKey="__AG_"+Math.random().toString(),this.destroyed=!1}t=n,n.prototype.agWire=function(e,r){this.gridOptions.api=e,this.gridOptions.columnApi=r,this.checkForDeprecated(),this.checkForViolations()},n.prototype.destroy=function(){this.gridOptions.api=null,this.gridOptions.columnApi=null,this.destroyed=!0},n.prototype.init=function(){var e=this;this.gridOptions.suppressPropertyNamesCheck!==!0&&(this.checkGridOptionsProperties(),this.checkColumnDefProperties()),this.gridOptions.sideBar!=null&&(this.gridOptions.sideBar=w1.parse(this.gridOptions.sideBar));var r=this.useAsyncEvents();if(this.eventService.addGlobalListener(this.globalEventHandler.bind(this),r),this.isGroupSelectsChildren()&&this.isSuppressParentsInRowNodes()&&console.warn("AG Grid: 'groupSelectsChildren' does not work with 'suppressParentsInRowNodes', this selection method needs the part in rowNode to work"),this.isGroupSelectsChildren()&&(this.isRowSelectionMulti()||console.warn("AG Grid: rowSelection must be 'multiple' for groupSelectsChildren to make sense"),this.isRowModelServerSide()&&console.warn("AG Grid: group selects children is NOT support for Server Side Row Model. This is because the rows are lazy loaded, so selecting a group is not possible asthe grid has no way of knowing what the children are.")),this.isGroupRemoveSingleChildren()&&this.isGroupHideOpenParents()&&console.warn("AG Grid: groupRemoveSingleChildren and groupHideOpenParents do not work with each other, you need to pick one. And don't ask us how to us these together on our support forum either you will get the same answer!"),this.isRowModelServerSide()){var i=function(a){return"AG Grid: '"+a+"' is not supported on the Server-Side Row Model"};Z(this.gridOptions.groupDefaultExpanded)&&console.warn(i("groupDefaultExpanded")),Z(this.gridOptions.groupDefaultExpanded)&&console.warn(i("groupIncludeFooter")),Z(this.gridOptions.groupDefaultExpanded)&&console.warn(i("groupIncludeTotalFooter"))}this.isEnableRangeSelection()&&ve.assertRegistered(ae.RangeSelectionModule,"enableRangeSelection"),!this.isEnableRangeSelection()&&(this.isEnableRangeHandle()||this.isEnableFillHandle())&&console.warn("AG Grid: 'enableRangeHandle' and 'enableFillHandle' will not work unless 'enableRangeSelection' is set to true");var o=function(a){e.gridOptions.icons&&e.gridOptions.icons[a]&&console.warn("gridOptions.icons."+a+" is no longer supported. For information on how to style checkboxes and radio buttons, see https://www.ag-grid.com/javascript-grid-icons/")};o("radioButtonOff"),o("radioButtonOn"),o("checkboxChecked"),o("checkboxUnchecked"),o("checkboxIndeterminate"),this.getScrollbarWidth()},n.prototype.checkColumnDefProperties=function(){var e=this;this.gridOptions.columnDefs!=null&&this.gridOptions.columnDefs.forEach(function(r){var i=Object.getOwnPropertyNames(r),o=Ny(pw.ALL_PROPERTIES,pw.FRAMEWORK_PROPERTIES);e.checkProperties(i,o,o,"colDef","https://www.ag-grid.com/javascript-grid-column-properties/")})},n.prototype.checkGridOptionsProperties=function(){var e=Object.getOwnPropertyNames(this.gridOptions),r=Ny(To.ALL_PROPERTIES,To.FRAMEWORK_PROPERTIES,au(x).map(function(o){return Os.getCallbackForEvent(o)})),i=Ny(r,["api","columnApi"]);this.checkProperties(e,i,r,"gridOptions","https://www.ag-grid.com/javascript-data-grid/grid-options/")},n.prototype.checkProperties=function(e,r,i,o,a){var s=KM(e,r,i);ut(s,function(l,u){console.warn("ag-grid: invalid "+o+" property '"+l+"' did you mean any of these: "+u.slice(0,8).join(", "))}),Object.keys(s).length>0&&console.warn("ag-grid: to see all the valid "+o+" properties please check: "+a)},n.prototype.mergeGridCommonParams=function(e){var r=this;if(e){var i=function(o){var a=iv(iv({},o),{api:r.getApi(),columnApi:r.getColumnApi(),context:r.getContext()});return e(a)};return i}return e},n.prototype.getDomDataKey=function(){return this.domDataKey},n.prototype.getDomData=function(e,r){var i=e[this.getDomDataKey()];return i?i[r]:void 0},n.prototype.setDomData=function(e,r,i){var o=this.getDomDataKey(),a=e[o];ye(a)&&(a={},e[o]=a),a[r]=i},n.prototype.isRowSelection=function(){return this.gridOptions.rowSelection==="single"||this.gridOptions.rowSelection==="multiple"},n.prototype.isSuppressRowDeselection=function(){return Y(this.gridOptions.suppressRowDeselection)},n.prototype.isRowSelectionMulti=function(){return this.gridOptions.rowSelection==="multiple"},n.prototype.isRowMultiSelectWithClick=function(){return Y(this.gridOptions.rowMultiSelectWithClick)},n.prototype.getContext=function(){return this.gridOptions.context},n.prototype.isPivotMode=function(){return Y(this.gridOptions.pivotMode)},n.prototype.isSuppressExpandablePivotGroups=function(){return Y(this.gridOptions.suppressExpandablePivotGroups)},n.prototype.getPivotColumnGroupTotals=function(){return this.gridOptions.pivotColumnGroupTotals},n.prototype.getPivotRowTotals=function(){return this.gridOptions.pivotRowTotals},n.prototype.isRowModelInfinite=function(){return this.gridOptions.rowModelType===L.ROW_MODEL_TYPE_INFINITE},n.prototype.isRowModelViewport=function(){return this.gridOptions.rowModelType===L.ROW_MODEL_TYPE_VIEWPORT},n.prototype.isRowModelServerSide=function(){return this.gridOptions.rowModelType===L.ROW_MODEL_TYPE_SERVER_SIDE},n.prototype.isRowModelDefault=function(){return ye(this.gridOptions.rowModelType)||this.gridOptions.rowModelType===L.ROW_MODEL_TYPE_CLIENT_SIDE},n.prototype.isFullRowEdit=function(){return this.gridOptions.editType==="fullRow"},n.prototype.isSuppressFocusAfterRefresh=function(){return Y(this.gridOptions.suppressFocusAfterRefresh)},n.prototype.isSuppressBrowserResizeObserver=function(){return Y(this.gridOptions.suppressBrowserResizeObserver)},n.prototype.isSuppressMaintainUnsortedOrder=function(){return Y(this.gridOptions.suppressMaintainUnsortedOrder)},n.prototype.isSuppressClearOnFillReduction=function(){return Y(this.gridOptions.suppressClearOnFillReduction)},n.prototype.isShowToolPanel=function(){return Y(this.gridOptions.sideBar&&Array.isArray(this.getSideBar().toolPanels))},n.prototype.getSideBar=function(){return this.gridOptions.sideBar},n.prototype.isSuppressTouch=function(){return Y(this.gridOptions.suppressTouch)},n.prototype.isMaintainColumnOrder=function(){return Y(this.gridOptions.maintainColumnOrder)},n.prototype.isSuppressRowTransform=function(){return Y(this.gridOptions.suppressRowTransform)},n.prototype.isSuppressColumnStateEvents=function(){return Y(this.gridOptions.suppressColumnStateEvents)},n.prototype.isAllowDragFromColumnsToolPanel=function(){return Y(this.gridOptions.allowDragFromColumnsToolPanel)},n.prototype.useAsyncEvents=function(){return!Y(this.gridOptions.suppressAsyncEvents)},n.prototype.isEnableCellChangeFlash=function(){return Y(this.gridOptions.enableCellChangeFlash)},n.prototype.getCellFlashDelay=function(){return this.gridOptions.cellFlashDelay||500},n.prototype.getCellFadeDelay=function(){return this.gridOptions.cellFadeDelay||1e3},n.prototype.isGroupSelectsChildren=function(){return Y(this.gridOptions.groupSelectsChildren)},n.prototype.isSuppressRowHoverHighlight=function(){return Y(this.gridOptions.suppressRowHoverHighlight)},n.prototype.isColumnHoverHighlight=function(){return Y(this.gridOptions.columnHoverHighlight)},n.prototype.isGroupSelectsFiltered=function(){return Y(this.gridOptions.groupSelectsFiltered)},n.prototype.isGroupHideOpenParents=function(){return Y(this.gridOptions.groupHideOpenParents)},n.prototype.isGroupMaintainOrder=function(){return Y(this.gridOptions.groupMaintainOrder)},n.prototype.getAutoGroupColumnDef=function(){return this.gridOptions.autoGroupColumnDef},n.prototype.isGroupMultiAutoColumn=function(){return this.gridOptions.groupDisplayType?this.matchesGroupDisplayType("multipleColumns",this.gridOptions.groupDisplayType):Y(this.gridOptions.groupHideOpenParents)},n.prototype.isGroupUseEntireRow=function(e){return e?!1:this.gridOptions.groupDisplayType?this.matchesGroupDisplayType("groupRows",this.gridOptions.groupDisplayType):!1},n.prototype.isGroupSuppressAutoColumn=function(){var e=this.gridOptions.groupDisplayType?this.matchesGroupDisplayType("custom",this.gridOptions.groupDisplayType):!1;return e?!0:this.gridOptions.treeDataDisplayType?this.matchesTreeDataDisplayType("custom",this.gridOptions.treeDataDisplayType):!1},n.prototype.isGroupRemoveSingleChildren=function(){return Y(this.gridOptions.groupRemoveSingleChildren)},n.prototype.isGroupRemoveLowestSingleChildren=function(){return Y(this.gridOptions.groupRemoveLowestSingleChildren)},n.prototype.isGroupIncludeFooter=function(){return Y(this.gridOptions.groupIncludeFooter)},n.prototype.isGroupIncludeTotalFooter=function(){return Y(this.gridOptions.groupIncludeTotalFooter)},n.prototype.isGroupSuppressBlankHeader=function(){return Y(this.gridOptions.groupSuppressBlankHeader)},n.prototype.isSuppressRowClickSelection=function(){return Y(this.gridOptions.suppressRowClickSelection)},n.prototype.isSuppressCellFocus=function(){return Y(this.gridOptions.suppressCellFocus)},n.prototype.isSuppressMultiSort=function(){return Y(this.gridOptions.suppressMultiSort)},n.prototype.isAlwaysMultiSort=function(){return Y(this.gridOptions.alwaysMultiSort)},n.prototype.isMultiSortKeyCtrl=function(){return this.gridOptions.multiSortKey==="ctrl"},n.prototype.isPivotSuppressAutoColumn=function(){return Y(this.gridOptions.pivotSuppressAutoColumn)},n.prototype.isSuppressDragLeaveHidesColumns=function(){return Y(this.gridOptions.suppressDragLeaveHidesColumns)},n.prototype.isSuppressScrollOnNewData=function(){return Y(this.gridOptions.suppressScrollOnNewData)},n.prototype.isSuppressScrollWhenPopupsAreOpen=function(){return Y(this.gridOptions.suppressScrollWhenPopupsAreOpen)},n.prototype.isRowDragEntireRow=function(){return Y(this.gridOptions.rowDragEntireRow)},n.prototype.isSuppressRowDrag=function(){return Y(this.gridOptions.suppressRowDrag)},n.prototype.isRowDragManaged=function(){return Y(this.gridOptions.rowDragManaged)},n.prototype.isSuppressMoveWhenRowDragging=function(){return Y(this.gridOptions.suppressMoveWhenRowDragging)},n.prototype.isRowDragMultiRow=function(){return Y(this.gridOptions.rowDragMultiRow)},n.prototype.getDomLayout=function(){var e=this.gridOptions.domLayout||L.DOM_LAYOUT_NORMAL,r=[L.DOM_LAYOUT_PRINT,L.DOM_LAYOUT_AUTO_HEIGHT,L.DOM_LAYOUT_NORMAL];return r.indexOf(e)===-1?(ct(function(){return console.warn("AG Grid: "+e+" is not valid for DOM Layout, valid values are "+L.DOM_LAYOUT_NORMAL+", "+L.DOM_LAYOUT_AUTO_HEIGHT+" and "+L.DOM_LAYOUT_PRINT)},"warn about dom layout values"),L.DOM_LAYOUT_NORMAL):e},n.prototype.isSuppressHorizontalScroll=function(){return Y(this.gridOptions.suppressHorizontalScroll)},n.prototype.isSuppressMaxRenderedRowRestriction=function(){return Y(this.gridOptions.suppressMaxRenderedRowRestriction)},n.prototype.isExcludeChildrenWhenTreeDataFiltering=function(){return Y(this.gridOptions.excludeChildrenWhenTreeDataFiltering)},n.prototype.isAlwaysShowHorizontalScroll=function(){return Y(this.gridOptions.alwaysShowHorizontalScroll)},n.prototype.isAlwaysShowVerticalScroll=function(){return Y(this.gridOptions.alwaysShowVerticalScroll)},n.prototype.isDebounceVerticalScrollbar=function(){return Y(this.gridOptions.debounceVerticalScrollbar)},n.prototype.isSuppressLoadingOverlay=function(){return Y(this.gridOptions.suppressLoadingOverlay)},n.prototype.isSuppressNoRowsOverlay=function(){return Y(this.gridOptions.suppressNoRowsOverlay)},n.prototype.isSuppressFieldDotNotation=function(){return Y(this.gridOptions.suppressFieldDotNotation)},n.prototype.getPinnedTopRowData=function(){return this.gridOptions.pinnedTopRowData},n.prototype.getPinnedBottomRowData=function(){return this.gridOptions.pinnedBottomRowData},n.prototype.isFunctionsPassive=function(){return Y(this.gridOptions.functionsPassive)},n.prototype.isSuppressChangeDetection=function(){return Y(this.gridOptions.suppressChangeDetection)},n.prototype.isSuppressAnimationFrame=function(){return Y(this.gridOptions.suppressAnimationFrame)},n.prototype.getQuickFilterText=function(){return this.gridOptions.quickFilterText},n.prototype.isCacheQuickFilter=function(){return Y(this.gridOptions.cacheQuickFilter)},n.prototype.isUnSortIcon=function(){return Y(this.gridOptions.unSortIcon)},n.prototype.isSuppressMenuHide=function(){return Y(this.gridOptions.suppressMenuHide)},n.prototype.isEnterMovesDownAfterEdit=function(){return Y(this.gridOptions.enterMovesDownAfterEdit)},n.prototype.isEnterMovesDown=function(){return Y(this.gridOptions.enterMovesDown)},n.prototype.isUndoRedoCellEditing=function(){return Y(this.gridOptions.undoRedoCellEditing)},n.prototype.getUndoRedoCellEditingLimit=function(){return ky(this.gridOptions.undoRedoCellEditingLimit)},n.prototype.getRowStyle=function(){return this.gridOptions.rowStyle},n.prototype.getRowClass=function(){return this.gridOptions.rowClass},n.prototype.getRowStyleFunc=function(){return this.mergeGridCommonParams(this.gridOptions.getRowStyle)},n.prototype.getRowClassFunc=function(){return this.mergeGridCommonParams(this.gridOptions.getRowClass)},n.prototype.rowClassRules=function(){return this.gridOptions.rowClassRules},n.prototype.getServerSideStoreType=function(){return this.gridOptions.serverSideStoreType},n.prototype.getServerSideStoreParamsFunc=function(){return this.mergeGridCommonParams(this.gridOptions.getServerSideStoreParams)},n.prototype.getCreateChartContainerFunc=function(){return this.mergeGridCommonParams(this.gridOptions.createChartContainer)},n.prototype.getPopupParent=function(){return this.gridOptions.popupParent},n.prototype.getBlockLoadDebounceMillis=function(){return this.gridOptions.blockLoadDebounceMillis},n.prototype.getPostProcessPopupFunc=function(){return this.mergeGridCommonParams(this.gridOptions.postProcessPopup)},n.prototype.getPaginationNumberFormatterFunc=function(){return this.mergeGridCommonParams(this.gridOptions.paginationNumberFormatter)},n.prototype.getChildCountFunc=function(){return this.gridOptions.getChildCount},n.prototype.getIsApplyServerSideTransactionFunc=function(){return this.mergeGridCommonParams(this.gridOptions.isApplyServerSideTransaction)},n.prototype.getInitialGroupOrderComparator=function(){var e=this.gridOptions,r=e.initialGroupOrderComparator,i=e.defaultGroupOrderComparator;if(r)return this.mergeGridCommonParams(r);if(i)return function(o){return i(o.nodeA,o.nodeB)}},n.prototype.getIsFullWidthCellFunc=function(){var e=this.gridOptions,r=e.isFullWidthRow,i=e.isFullWidthCell;if(r)return this.mergeGridCommonParams(r);if(i)return function(o){return i(o.rowNode)}},n.prototype.getFullWidthCellRendererParams=function(){return this.gridOptions.fullWidthCellRendererParams},n.prototype.isEmbedFullWidthRows=function(){return Y(this.gridOptions.embedFullWidthRows)||Y(this.gridOptions.deprecatedEmbedFullWidthRows)},n.prototype.isDetailRowAutoHeight=function(){return Y(this.gridOptions.detailRowAutoHeight)},n.prototype.getSuppressKeyboardEventFunc=function(){return this.gridOptions.suppressKeyboardEvent},n.prototype.getBusinessKeyForNodeFunc=function(){return this.gridOptions.getBusinessKeyForNode},n.prototype.getApi=function(){return this.gridOptions.api},n.prototype.getColumnApi=function(){return this.gridOptions.columnApi},n.prototype.isReadOnlyEdit=function(){return Y(this.gridOptions.readOnlyEdit)},n.prototype.isImmutableData=function(){var e=this.gridOptions.getRowId!=null,r=Y(this.gridOptions.immutableData),i=Y(this.gridOptions.resetRowDataOnUpdate);return i?!1:e||r},n.prototype.isEnsureDomOrder=function(){return Y(this.gridOptions.ensureDomOrder)},n.prototype.isEnableCharts=function(){return Y(this.gridOptions.enableCharts)?ve.assertRegistered(ae.GridChartsModule,"enableCharts"):!1},n.prototype.getColResizeDefault=function(){return this.gridOptions.colResizeDefault},n.prototype.isSingleClickEdit=function(){return Y(this.gridOptions.singleClickEdit)},n.prototype.isSuppressClickEdit=function(){return Y(this.gridOptions.suppressClickEdit)},n.prototype.isStopEditingWhenCellsLoseFocus=function(){return Y(this.gridOptions.stopEditingWhenCellsLoseFocus)},n.prototype.getGroupDefaultExpanded=function(){return this.gridOptions.groupDefaultExpanded},n.prototype.getMaxConcurrentDatasourceRequests=function(){var e=ky(this.gridOptions.maxConcurrentDatasourceRequests);if(e==null)return 2;if(!(e<=0))return e},n.prototype.getMaxBlocksInCache=function(){return this.gridOptions.maxBlocksInCache},n.prototype.getCacheOverflowSize=function(){return this.gridOptions.cacheOverflowSize},n.prototype.getPaginationPageSize=function(){return ky(this.gridOptions.paginationPageSize)},n.prototype.isPaginateChildRows=function(){var e=this.isGroupRemoveSingleChildren()||this.isGroupRemoveLowestSingleChildren();return e?!0:Y(this.gridOptions.paginateChildRows)},n.prototype.getCacheBlockSize=function(){return ET(this.gridOptions.cacheBlockSize)},n.prototype.getInfiniteInitialRowCount=function(){return this.gridOptions.infiniteInitialRowCount},n.prototype.isPurgeClosedRowNodes=function(){return Y(this.gridOptions.purgeClosedRowNodes)},n.prototype.isSuppressPaginationPanel=function(){return Y(this.gridOptions.suppressPaginationPanel)},n.prototype.getRowData=function(){return this.gridOptions.rowData},n.prototype.isEnableRtl=function(){return Y(this.gridOptions.enableRtl)},n.prototype.getRowGroupPanelShow=function(){return this.gridOptions.rowGroupPanelShow},n.prototype.getPivotPanelShow=function(){return this.gridOptions.pivotPanelShow},n.prototype.isAngularCompileRows=function(){return Y(this.gridOptions.angularCompileRows)},n.prototype.isAngularCompileFilters=function(){return Y(this.gridOptions.angularCompileFilters)},n.prototype.isDebug=function(){return Y(this.gridOptions.debug)},n.prototype.getColumnDefs=function(){return this.gridOptions.columnDefs},n.prototype.getColumnTypes=function(){return this.gridOptions.columnTypes},n.prototype.getDatasource=function(){return this.gridOptions.datasource},n.prototype.getViewportDatasource=function(){return this.gridOptions.viewportDatasource},n.prototype.getServerSideDatasource=function(){return this.gridOptions.serverSideDatasource},n.prototype.isAccentedSort=function(){return Y(this.gridOptions.accentedSort)},n.prototype.isEnableBrowserTooltips=function(){return Y(this.gridOptions.enableBrowserTooltips)},n.prototype.isEnableCellExpressions=function(){return Y(this.gridOptions.enableCellExpressions)},n.prototype.isEnableGroupEdit=function(){return Y(this.gridOptions.enableGroupEdit)},n.prototype.isSuppressMiddleClickScrolls=function(){return Y(this.gridOptions.suppressMiddleClickScrolls)},n.prototype.isPreventDefaultOnContextMenu=function(){return Y(this.gridOptions.preventDefaultOnContextMenu)},n.prototype.isSuppressPreventDefaultOnMouseWheel=function(){return Y(this.gridOptions.suppressPreventDefaultOnMouseWheel)},n.prototype.isSuppressColumnVirtualisation=function(){return Y(this.gridOptions.suppressColumnVirtualisation)},n.prototype.isSuppressRowVirtualisation=function(){return Y(this.gridOptions.suppressRowVirtualisation)},n.prototype.isSuppressContextMenu=function(){return Y(this.gridOptions.suppressContextMenu)},n.prototype.isAllowContextMenuWithControlKey=function(){return Y(this.gridOptions.allowContextMenuWithControlKey)},n.prototype.isSuppressCopyRowsToClipboard=function(){return Y(this.gridOptions.suppressCopyRowsToClipboard)},n.prototype.isSuppressCopySingleCellRanges=function(){return Y(this.gridOptions.suppressCopySingleCellRanges)},n.prototype.isCopyHeadersToClipboard=function(){return Y(this.gridOptions.copyHeadersToClipboard)},n.prototype.isCopyGroupHeadersToClipboard=function(){return Y(this.gridOptions.copyGroupHeadersToClipboard)},n.prototype.isSuppressClipboardPaste=function(){return Y(this.gridOptions.suppressClipboardPaste)},n.prototype.isSuppressLastEmptyLineOnPaste=function(){return Y(this.gridOptions.suppressLastEmptyLineOnPaste)},n.prototype.isPagination=function(){return Y(this.gridOptions.pagination)},n.prototype.isSuppressEnterpriseResetOnNewColumns=function(){return Y(this.gridOptions.suppressEnterpriseResetOnNewColumns)},n.prototype.getProcessDataFromClipboardFunc=function(){return this.mergeGridCommonParams(this.gridOptions.processDataFromClipboard)},n.prototype.getAsyncTransactionWaitMillis=function(){return Z(this.gridOptions.asyncTransactionWaitMillis)?this.gridOptions.asyncTransactionWaitMillis:L.BATCH_WAIT_MILLIS},n.prototype.isSuppressMovableColumns=function(){return Y(this.gridOptions.suppressMovableColumns)},n.prototype.isAnimateRows=function(){return this.isEnsureDomOrder()?!1:Y(this.gridOptions.animateRows)},n.prototype.isSuppressColumnMoveAnimation=function(){return Y(this.gridOptions.suppressColumnMoveAnimation)},n.prototype.isSuppressAggFuncInHeader=function(){return Y(this.gridOptions.suppressAggFuncInHeader)},n.prototype.isSuppressAggAtRootLevel=function(){return Y(this.gridOptions.suppressAggAtRootLevel)},n.prototype.isSuppressAggFilteredOnly=function(){var e=this.getGroupAggFiltering()!==void 0;return e||Y(this.gridOptions.suppressAggFilteredOnly)},n.prototype.isRemovePivotHeaderRowWhenSingleValueColumn=function(){return Y(this.gridOptions.removePivotHeaderRowWhenSingleValueColumn)},n.prototype.isShowOpenedGroup=function(){return Y(this.gridOptions.showOpenedGroup)},n.prototype.isReactUi=function(){return Y(this.gridOptions.reactUi)},n.prototype.isSuppressReactUi=function(){return Y(this.gridOptions.suppressReactUi)},n.prototype.isEnableRangeSelection=function(){return ve.isRegistered(ae.RangeSelectionModule)&&Y(this.gridOptions.enableRangeSelection)},n.prototype.isEnableRangeHandle=function(){return Y(this.gridOptions.enableRangeHandle)},n.prototype.isEnableFillHandle=function(){return Y(this.gridOptions.enableFillHandle)},n.prototype.getFillHandleDirection=function(){var e=this.gridOptions.fillHandleDirection;return e?e!=="x"&&e!=="y"&&e!=="xy"?(ct(function(){return console.warn("AG Grid: valid values for fillHandleDirection are 'x', 'y' and 'xy'. Default to 'xy'.")},"warn invalid fill direction"),"xy"):e:"xy"},n.prototype.getFillOperation=function(){return this.mergeGridCommonParams(this.gridOptions.fillOperation)},n.prototype.isSuppressMultiRangeSelection=function(){return Y(this.gridOptions.suppressMultiRangeSelection)},n.prototype.isPaginationAutoPageSize=function(){return Y(this.gridOptions.paginationAutoPageSize)},n.prototype.isRememberGroupStateWhenNewData=function(){return Y(this.gridOptions.rememberGroupStateWhenNewData)},n.prototype.getIcons=function(){return this.gridOptions.icons},n.prototype.getGroupAggFiltering=function(){var e=this.gridOptions.groupAggFiltering;if(typeof e=="function")return this.mergeGridCommonParams(e);if(Y(e))return function(){return!0}},n.prototype.getAggFuncs=function(){return this.gridOptions.aggFuncs},n.prototype.getSortingOrder=function(){return this.gridOptions.sortingOrder},n.prototype.getAlignedGrids=function(){return this.gridOptions.alignedGrids},n.prototype.isMasterDetail=function(){var e=Y(this.gridOptions.masterDetail);return e?ve.assertRegistered(ae.MasterDetailModule,"masterDetail"):!1},n.prototype.isKeepDetailRows=function(){return Y(this.gridOptions.keepDetailRows)},n.prototype.getKeepDetailRowsCount=function(){var e=this.gridOptions.keepDetailRowsCount;return Z(e)&&e>0?this.gridOptions.keepDetailRowsCount:mj},n.prototype.getIsRowMasterFunc=function(){return this.gridOptions.isRowMaster},n.prototype.getIsRowSelectableFunc=function(){return this.gridOptions.isRowSelectable},n.prototype.getGroupRowRendererParams=function(){return this.gridOptions.groupRowRendererParams},n.prototype.getOverlayLoadingTemplate=function(){return this.gridOptions.overlayLoadingTemplate},n.prototype.getOverlayNoRowsTemplate=function(){return this.gridOptions.overlayNoRowsTemplate},n.prototype.isSuppressAutoSize=function(){return Y(this.gridOptions.suppressAutoSize)},n.prototype.isEnableCellTextSelection=function(){return Y(this.gridOptions.enableCellTextSelection)},n.prototype.isSuppressParentsInRowNodes=function(){return Y(this.gridOptions.suppressParentsInRowNodes)},n.prototype.isSuppressClipboardApi=function(){return Y(this.gridOptions.suppressClipboardApi)},n.prototype.isFunctionsReadOnly=function(){return Y(this.gridOptions.functionsReadOnly)},n.prototype.isEnableCellTextSelect=function(){return Y(this.gridOptions.enableCellTextSelection)},n.prototype.getDefaultColDef=function(){return this.gridOptions.defaultColDef},n.prototype.getDefaultColGroupDef=function(){return this.gridOptions.defaultColGroupDef},n.prototype.getDefaultExportParams=function(e){if(this.gridOptions.defaultExportParams)return console.warn("AG Grid: Since v25.2 `defaultExportParams`  has been replaced by `default"+uw(e)+"ExportParams`'"),e==="csv"?this.gridOptions.defaultExportParams:this.gridOptions.defaultExportParams;if(e==="csv"&&this.gridOptions.defaultCsvExportParams)return this.gridOptions.defaultCsvExportParams;if(e==="excel"&&this.gridOptions.defaultExcelExportParams)return this.gridOptions.defaultExcelExportParams},n.prototype.isSuppressCsvExport=function(){return Y(this.gridOptions.suppressCsvExport)},n.prototype.isAllowShowChangeAfterFilter=function(){return Y(this.gridOptions.allowShowChangeAfterFilter)},n.prototype.isSuppressExcelExport=function(){return Y(this.gridOptions.suppressExcelExport)},n.prototype.isSuppressMakeColumnVisibleAfterUnGroup=function(){return Y(this.gridOptions.suppressMakeColumnVisibleAfterUnGroup)},n.prototype.getDataPathFunc=function(){return this.gridOptions.getDataPath},n.prototype.getIsServerSideGroupFunc=function(){return this.gridOptions.isServerSideGroup},n.prototype.getIsServerSideGroupOpenByDefaultFunc=function(){return this.mergeGridCommonParams(this.gridOptions.isServerSideGroupOpenByDefault)},n.prototype.getIsGroupOpenByDefaultFunc=function(){return this.mergeGridCommonParams(this.gridOptions.isGroupOpenByDefault)},n.prototype.getServerSideGroupKeyFunc=function(){return this.gridOptions.getServerSideGroupKey},n.prototype.getGroupRowAggFunc=function(){var e=this.gridOptions,r=e.getGroupRowAgg,i=e.groupRowAggNodes;if(r)return this.mergeGridCommonParams(r);if(i)return function(o){return i(o.nodes)}},n.prototype.getContextMenuItemsFunc=function(){return this.mergeGridCommonParams(this.gridOptions.getContextMenuItems)},n.prototype.getMainMenuItemsFunc=function(){return this.mergeGridCommonParams(this.gridOptions.getMainMenuItems)},n.prototype.getRowIdFunc=function(){var e=this.gridOptions,r=e.getRowId,i=e.getRowNodeId;if(r)return this.mergeGridCommonParams(r);if(i)return function(o){return i(o.data)}},n.prototype.getNavigateToNextHeaderFunc=function(){return this.mergeGridCommonParams(this.gridOptions.navigateToNextHeader)},n.prototype.getTabToNextHeaderFunc=function(){return this.mergeGridCommonParams(this.gridOptions.tabToNextHeader)},n.prototype.getNavigateToNextCellFunc=function(){return this.mergeGridCommonParams(this.gridOptions.navigateToNextCell)},n.prototype.getTabToNextCellFunc=function(){return this.mergeGridCommonParams(this.gridOptions.tabToNextCell)},n.prototype.getGridTabIndex=function(){return(this.gridOptions.tabIndex||0).toString()},n.prototype.isTreeData=function(){var e=Y(this.gridOptions.treeData);return e?ve.assertRegistered(ae.RowGroupingModule,"Tree Data"):!1},n.prototype.isValueCache=function(){return Y(this.gridOptions.valueCache)},n.prototype.isValueCacheNeverExpires=function(){return Y(this.gridOptions.valueCacheNeverExpires)},n.prototype.isDeltaSort=function(){return Y(this.gridOptions.deltaSort)},n.prototype.isAggregateOnlyChangedColumns=function(){return Y(this.gridOptions.aggregateOnlyChangedColumns)},n.prototype.getProcessSecondaryColDefFunc=function(){return this.gridOptions.processSecondaryColDef},n.prototype.getProcessSecondaryColGroupDefFunc=function(){return this.gridOptions.processSecondaryColGroupDef},n.prototype.getSendToClipboardFunc=function(){return this.mergeGridCommonParams(this.gridOptions.sendToClipboard)},n.prototype.getProcessRowPostCreateFunc=function(){return this.mergeGridCommonParams(this.gridOptions.processRowPostCreate)},n.prototype.getProcessCellForClipboardFunc=function(){return this.mergeGridCommonParams(this.gridOptions.processCellForClipboard)},n.prototype.getProcessHeaderForClipboardFunc=function(){return this.mergeGridCommonParams(this.gridOptions.processHeaderForClipboard)},n.prototype.getProcessGroupHeaderForClipboardFunc=function(){return this.mergeGridCommonParams(this.gridOptions.processGroupHeaderForClipboard)},n.prototype.getProcessCellFromClipboardFunc=function(){return this.mergeGridCommonParams(this.gridOptions.processCellFromClipboard)},n.prototype.getViewportRowModelPageSize=function(){return ET(this.gridOptions.viewportRowModelPageSize,gj)},n.prototype.getViewportRowModelBufferSize=function(){return yj(this.gridOptions.viewportRowModelBufferSize,vj)},n.prototype.isServerSideSortingAlwaysResets=function(){return Y(this.gridOptions.serverSideSortingAlwaysResets)},n.prototype.isServerSideFilteringAlwaysResets=function(){return Y(this.gridOptions.serverSideFilteringAlwaysResets)},n.prototype.getPostSortFunc=function(){var e=this.gridOptions,r=e.postSortRows,i=e.postSort;if(r)return this.mergeGridCommonParams(r);if(i)return function(o){return i(o.nodes)}},n.prototype.getChartToolbarItemsFunc=function(){return this.mergeGridCommonParams(this.gridOptions.getChartToolbarItems)},n.prototype.getChartThemeOverrides=function(){return this.gridOptions.chartThemeOverrides},n.prototype.getCustomChartThemes=function(){return this.gridOptions.customChartThemes},n.prototype.getChartThemes=function(){return this.gridOptions.chartThemes||["ag-default","ag-material","ag-pastel","ag-vivid","ag-solar"]},n.prototype.getClipboardDelimiter=function(){return Z(this.gridOptions.clipboardDelimiter)?this.gridOptions.clipboardDelimiter:"	"},n.prototype.setProperty=function(e,r,i){i===void 0&&(i=!1);var o=this.gridOptions,a=o[e];if(i||a!==r){o[e]=r;var s={type:e,currentValue:r,previousValue:a};this.propertyEventService.dispatchEvent(s)}},n.prototype.addEventListener=function(e,r){this.propertyEventService.addEventListener(e,r)},n.prototype.removeEventListener=function(e,r){this.propertyEventService.removeEventListener(e,r)},n.prototype.isSkipHeaderOnAutoSize=function(){return!!this.gridOptions.skipHeaderOnAutoSize},n.prototype.getAutoSizePadding=function(){var e=this.gridOptions.autoSizePadding;return e!=null&&e>=0?e:20},n.prototype.getHeaderHeight=function(){return typeof this.gridOptions.headerHeight=="number"?this.gridOptions.headerHeight:this.getFromTheme(25,"headerHeight")},n.prototype.getFloatingFiltersHeight=function(){return typeof this.gridOptions.floatingFiltersHeight=="number"?this.gridOptions.floatingFiltersHeight:this.getFromTheme(25,"headerHeight")},n.prototype.getGroupHeaderHeight=function(){return typeof this.gridOptions.groupHeaderHeight=="number"?this.gridOptions.groupHeaderHeight:this.getHeaderHeight()},n.prototype.getPivotHeaderHeight=function(){return typeof this.gridOptions.pivotHeaderHeight=="number"?this.gridOptions.pivotHeaderHeight:this.getHeaderHeight()},n.prototype.getPivotGroupHeaderHeight=function(){return typeof this.gridOptions.pivotGroupHeaderHeight=="number"?this.gridOptions.pivotGroupHeaderHeight:this.getGroupHeaderHeight()},n.prototype.isExternalFilterPresent=function(){return typeof this.gridOptions.isExternalFilterPresent=="function"?this.gridOptions.isExternalFilterPresent({api:this.getApi(),columnApi:this.getColumnApi(),context:this.getContext()}):!1},n.prototype.doesExternalFilterPass=function(e){return typeof this.gridOptions.doesExternalFilterPass=="function"?this.gridOptions.doesExternalFilterPass(e):!1},n.prototype.getTooltipDelay=function(e){var r=this.gridOptions,i=r.tooltipShowDelay,o=r.tooltipHideDelay,a=e==="show"?i:o,s=uw(e);return Z(a)?(a<0&&ct(function(){return console.warn("ag-grid: tooltip"+s+"Delay should not be lower than 0")},"tooltip"+s+"DelayWarn"),Math.max(200,a)):null},n.prototype.isTooltipMouseTrack=function(){return Y(this.gridOptions.tooltipMouseTrack)},n.prototype.isSuppressModelUpdateAfterUpdateTransaction=function(){return Y(this.gridOptions.suppressModelUpdateAfterUpdateTransaction)},n.prototype.getDocument=function(){var e=null;return this.gridOptions.getDocument&&Z(this.gridOptions.getDocument)?e=this.gridOptions.getDocument():this.eGridDiv&&(e=this.eGridDiv.ownerDocument),e&&Z(e)?e:document},n.prototype.getMinColWidth=function(){var e=this.gridOptions.minColWidth;if(Z(e)&&e>t.MIN_COL_WIDTH)return this.gridOptions.minColWidth;var r=this.getFromTheme(null,"headerCellMinWidth");return Z(r)?Math.max(r,t.MIN_COL_WIDTH):t.MIN_COL_WIDTH},n.prototype.getMaxColWidth=function(){return this.gridOptions.maxColWidth&&this.gridOptions.maxColWidth>t.MIN_COL_WIDTH?this.gridOptions.maxColWidth:null},n.prototype.getColWidth=function(){return typeof this.gridOptions.colWidth!="number"||this.gridOptions.colWidth<t.MIN_COL_WIDTH?200:this.gridOptions.colWidth},n.prototype.getRowBuffer=function(){var e=this.gridOptions.rowBuffer;return typeof e=="number"?e<0&&(ct(function(){return console.warn("AG Grid: rowBuffer should not be negative")},"warn rowBuffer negative"),this.gridOptions.rowBuffer=e=0):e=L.ROW_BUFFER_SIZE,e},n.prototype.getRowBufferInPixels=function(){var e=this.getRowBuffer(),r=this.getRowHeightAsNumber();return e*r},n.prototype.getScrollbarWidth=function(){if(this.scrollbarWidth==null){var e=typeof this.gridOptions.scrollbarWidth=="number"&&this.gridOptions.scrollbarWidth>=0,r=e?this.gridOptions.scrollbarWidth:CM();r!=null&&(this.scrollbarWidth=r,this.eventService.dispatchEvent({type:x.EVENT_SCROLLBAR_WIDTH_CHANGED}))}return this.scrollbarWidth},n.prototype.checkForDeprecated=function(){var e=this.gridOptions;e.deprecatedEmbedFullWidthRows&&console.warn("AG Grid: since v21.2, deprecatedEmbedFullWidthRows has been replaced with embedFullWidthRows."),e.rowDeselection&&console.warn("AG Grid: since v24.x, rowDeselection is deprecated and the behaviour is true by default. Please use `suppressRowDeselection` to prevent rows from being deselected."),e.enableMultiRowDragging&&(e.rowDragMultiRow=!0,delete e.enableMultiRowDragging,console.warn("AG Grid: since v26.1, `enableMultiRowDragging` is deprecated. Please use `rowDragMultiRow`."));var r=function(a,s,l){e[a]!=null&&(console.warn("AG Grid: since version "+l+", '"+a+"' is deprecated / renamed, please use the new property name '"+s+"' instead."),e[s]==null&&(e[s]=e[a]))};if(r("batchUpdateWaitMillis","asyncTransactionWaitMillis","23.1.x"),r("deltaRowDataMode","immutableData","23.1.x"),(e.immutableColumns||e.deltaColumnMode)&&console.warn("AG Grid: since v24.0, immutableColumns and deltaColumnMode properties are gone. The grid now works like this as default. To keep column order maintained, set grid property applyColumnDefOrder=true"),r("suppressSetColumnStateEvents","suppressColumnStateEvents","24.0.x"),e.groupRowInnerRenderer||e.groupRowInnerRendererParams||e.groupRowInnerRendererFramework){console.warn("AG Grid: since v24.0, grid properties groupRowInnerRenderer, groupRowInnerRendererFramework and groupRowInnerRendererParams are no longer used."),console.warn("  Instead use the grid properties groupRowRendererParams.innerRenderer, groupRowRendererParams.innerRendererFramework and groupRowRendererParams.innerRendererParams."),console.warn("  For example instead of this:"),console.warn('    groupRowInnerRenderer: "myRenderer"'),console.warn("    groupRowInnerRendererParams: {x: a}"),console.warn("  Replace with this:"),console.warn("    groupRowRendererParams: {"),console.warn('      innerRenderer: "myRenderer",'),console.warn("      innerRendererParams: {x: a}"),console.warn("    }"),console.warn("  We have copied the properties over for you. However to stop this error message, please change your application code."),e.groupRowRendererParams||(e.groupRowRendererParams={});var i=e.groupRowRendererParams;e.groupRowInnerRenderer&&(i.innerRenderer=e.groupRowInnerRenderer),e.groupRowInnerRendererParams&&(i.innerRendererParams=e.groupRowInnerRendererParams),e.groupRowInnerRendererFramework&&(i.innerRendererFramework=e.groupRowInnerRendererFramework)}if(e.rememberGroupStateWhenNewData&&console.warn("AG Grid: since v24.0, grid property rememberGroupStateWhenNewData is deprecated. This feature was provided before Transaction Updates worked (which keep group state). Now that transaction updates are possible and they keep group state, this feature is no longer needed."),e.detailCellRendererParams&&e.detailCellRendererParams.autoHeight&&(console.warn("AG Grid: since v24.1, grid property detailCellRendererParams.autoHeight is replaced with grid property detailRowAutoHeight. This allows this feature to work when you provide a custom DetailCellRenderer"),e.detailRowAutoHeight=!0),e.suppressKeyboardEvent&&console.warn(`AG Grid: since v24.1 suppressKeyboardEvent in the gridOptions has been deprecated and will be removed in
                 future versions of AG Grid. If you need this to be set for every column use the defaultColDef property.`),e.suppressEnterpriseResetOnNewColumns&&console.warn("AG Grid: since v25, grid property suppressEnterpriseResetOnNewColumns is deprecated. This was a temporary property to allow changing columns in Server Side Row Model without triggering a reload. Now that it is possible to dynamically change columns in the grid, this is no longer needed."),e.suppressColumnStateEvents&&console.warn('AG Grid: since v25, grid property suppressColumnStateEvents no longer works due to a refactor that we did. It should be possible to achieve similar using event.source, which would be "api" if the event was due to setting column state via the API'),e.defaultExportParams&&console.warn("AG Grid: since v25.2, the grid property `defaultExportParams` has been replaced by `defaultCsvExportParams` and `defaultExcelExportParams`."),e.stopEditingWhenGridLosesFocus&&(console.warn("AG Grid: since v25.2.2, the grid property `stopEditingWhenGridLosesFocus` has been replaced by `stopEditingWhenCellsLoseFocus`."),e.stopEditingWhenCellsLoseFocus=!0),e.applyColumnDefOrder&&console.warn("AG Grid: since v26.0, the grid property `applyColumnDefOrder` is no longer needed, as this is the default behaviour. To turn this behaviour off, set maintainColumnOrder=true"),e.groupMultiAutoColumn&&(console.warn("AG Grid: since v26.0, the grid property `groupMultiAutoColumn` has been replaced by `groupDisplayType = 'multipleColumns'`"),e.groupDisplayType="multipleColumns"),e.groupUseEntireRow&&(console.warn("AG Grid: since v26.0, the grid property `groupUseEntireRow` has been replaced by `groupDisplayType = 'groupRows'`"),e.groupDisplayType="groupRows"),e.groupSuppressAutoColumn){var o=e.treeData?"treeDataDisplayType":"groupDisplayType";console.warn("AG Grid: since v26.0, the grid property `groupSuppressAutoColumn` has been replaced by `"+o+" = 'custom'`"),e.groupDisplayType="custom"}e.defaultGroupOrderComparator&&console.warn("AG Grid: since v27.2, the grid property `defaultGroupOrderComparator` is deprecated and has been replaced by `initialGroupOrderComparator` and now receives a single params object."),e.defaultGroupSortComparator&&(console.warn("AG Grid: since v26.0, the grid property `defaultGroupSortComparator` has been replaced by `initialGroupOrderComparator`"),e.defaultGroupOrderComparator=e.defaultGroupSortComparator),e.groupRowAggNodes&&console.warn("AG Grid: since v27.2, the grid property `groupRowAggNodes` is deprecated and has been replaced by `getGroupRowAgg` and now receives a single params object."),e.postSort&&console.warn("AG Grid: since v27.2, the grid property `postSort` is deprecated and has been replaced by `postSortRows` and now receives a single params object."),e.isFullWidthCell&&console.warn("AG Grid: since v27.2, the grid property `isFullWidthCell` is deprecated and has been replaced by `isFullWidthRow` and now receives a single params object."),e.localeTextFunc&&console.warn("AG Grid: since v27.2, the grid property `localeTextFunc` is deprecated and has been replaced by `getLocaleText` and now receives a single params object."),e.colWidth&&console.warn("AG Grid: since v26.1, the grid property `colWidth` is deprecated and should be set via `defaultColDef.width`."),e.minColWidth&&console.warn("AG Grid: since v26.1, the grid property `minColWidth` is deprecated and should be set via `defaultColDef.minWidth`."),e.maxColWidth&&console.warn("AG Grid: since v26.1, the grid property `maxColWidth` is deprecated and should be set via `defaultColDef.maxWidth`."),e.reactUi&&console.warn("AG Grid: since v27.0, React UI is on by default, so no need for reactUi=true. To turn it off, set suppressReactUi=true."),e.suppressReactUi&&console.warn("AG Grid: The legacy React rendering engine is deprecated and will be removed in the next major version of the grid."),e.suppressCellSelection&&(console.warn("AG Grid: since v27.0, `suppressCellSelection` has been replaced by `suppressCellFocus`."),e.suppressCellFocus=e.suppressCellSelection),e.getRowNodeId&&console.warn("AG Grid: since v27.1, `getRowNodeId` is deprecated and has been replaced by `getRowId`. The difference: if getRowId() is implemented then immutable data is enabled by default."),e.immutableData&&(e.getRowId?console.warn("AG Grid: since v27.1, `immutableData` is deprecated. With the `getRowId` callback implemented, immutable data is enabled by default so you can remove `immutableData=true`."):console.warn("AG Grid: since v27.1, `immutableData` is deprecated. To enable immutable data you must implement the `getRowId()` callback.")),e.clipboardDeliminator&&(console.warn("AG Grid: since v27.1, `clipboardDeliminator` has been replaced by `clipboardDelimiter`."),e.clipboardDelimiter=e.clipboardDeliminator)},n.prototype.checkForViolations=function(){this.isTreeData()&&this.treeDataViolations()},n.prototype.treeDataViolations=function(){this.isRowModelDefault()&&ye(this.getDataPathFunc())&&console.warn("AG Grid: property usingTreeData=true with rowModel=clientSide, but you did not provide getDataPath function, please provide getDataPath function if using tree data."),this.isRowModelServerSide()&&(ye(this.getIsServerSideGroupFunc())&&console.warn("AG Grid: property usingTreeData=true with rowModel=serverSide, but you did not provide isServerSideGroup function, please provide isServerSideGroup function if using tree data."),ye(this.getServerSideGroupKeyFunc())&&console.warn("AG Grid: property usingTreeData=true with rowModel=serverSide, but you did not provide getServerSideGroupKey function, please provide getServerSideGroupKey function if using tree data."))},n.prototype.getLocaleTextFunc=function(){var e=this,r=this.gridOptions,i=r.localeText,o=r.getLocaleText,a=r.localeTextFunc;return o?function(s,l,u){var c={key:s,defaultValue:l,variableValues:u,api:e.getApi(),columnApi:e.getColumnApi(),context:e.getContext()};return o(c)}:a||function(s,l,u){var c=i&&i[s];if(c&&u&&u.length)for(var p=0;!(p>=u.length);){var h=c.indexOf("${variable}");if(h===-1)break;c=c.replace("${variable}",u[p++])}return c!=null?c:l}},n.prototype.globalEventHandler=function(e,r){if(!this.destroyed){var i=Os.getCallbackForEvent(e);typeof this.gridOptions[i]=="function"&&this.gridOptions[i](r)}},n.prototype.setRowHeightVariable=function(e){var r=this.eGridDiv.style.getPropertyValue("--ag-line-height").trim(),i=e+"px";r!=i&&this.eGridDiv.style.setProperty("--ag-line-height",i)},n.prototype.getRowHeightAsNumber=function(){if(!this.gridOptions.rowHeight||ye(this.gridOptions.rowHeight))return this.getDefaultRowHeight();var e=this.gridOptions.rowHeight;return e&&this.isNumeric(e)?(this.setRowHeightVariable(e),e):(console.warn("AG Grid row height must be a number if not using standard row model"),this.getDefaultRowHeight())},n.prototype.isGetRowHeightFunction=function(){return typeof this.gridOptions.getRowHeight=="function"},n.prototype.getRowHeightForNode=function(e,r,i){if(r===void 0&&(r=!1),i==null&&(i=this.getDefaultRowHeight()),this.isGetRowHeightFunction()){if(r)return{height:i,estimated:!0};var o={node:e,data:e.data},a=this.mergeGridCommonParams(this.gridOptions.getRowHeight)(o);if(this.isNumeric(a))return a===0&&ct(function(){return console.warn("AG Grid: The return of `getRowHeight` cannot be zero. If the intention is to hide rows, use a filter instead.")},"invalidRowHeight"),{height:Math.max(1,a),estimated:!1}}if(e.detail&&this.isMasterDetail())return this.isDetailRowAutoHeight()?{height:1,estimated:!1}:this.isNumeric(this.gridOptions.detailRowHeight)?{height:this.gridOptions.detailRowHeight,estimated:!1}:{height:fj,estimated:!1};var s=this.gridOptions.rowHeight&&this.isNumeric(this.gridOptions.rowHeight)?this.gridOptions.rowHeight:i;return{height:s,estimated:!1}},n.prototype.isDynamicRowHeight=function(){return typeof this.gridOptions.getRowHeight=="function"},n.prototype.getListItemHeight=function(){return this.getFromTheme(20,"listItemHeight")},n.prototype.chartMenuPanelWidth=function(){return this.environment.chartMenuPanelWidth()},n.prototype.isNumeric=function(e){return!isNaN(e)&&typeof e=="number"&&isFinite(e)},n.prototype.getFromTheme=function(e,r){var i=this.environment.getTheme().theme;return i&&i.indexOf("ag-theme")===0?this.environment.getSassVariable(i,r):e},n.prototype.getDefaultRowHeight=function(){return this.getFromTheme(dj,"rowHeight")},n.prototype.matchesGroupDisplayType=function(e,r){var i=["groupRows","multipleColumns","custom","singleColumn"];return i.indexOf(r)<0?(console.warn("AG Grid: '"+r+"' is not a valid groupDisplayType value - possible values are: '"+i.join("', '")+"'"),!1):r===e},n.prototype.matchesTreeDataDisplayType=function(e,r){var i=["auto","custom"];return i.indexOf(r)<0?(console.warn("AG Grid: '"+r+"' is not a valid treeDataDisplayType value - possible values are: '"+i.join("', '")+"'"),!1):r===e};var t;return n.MIN_COL_WIDTH=10,n.PROP_HEADER_HEIGHT="headerHeight",n.PROP_GROUP_REMOVE_SINGLE_CHILDREN="groupRemoveSingleChildren",n.PROP_GROUP_REMOVE_LOWEST_SINGLE_CHILDREN="groupRemoveLowestSingleChildren",n.PROP_PIVOT_HEADER_HEIGHT="pivotHeaderHeight",n.PROP_SUPPRESS_CLIPBOARD_PASTE="suppressClipboardPaste",n.PROP_GROUP_HEADER_HEIGHT="groupHeaderHeight",n.PROP_PIVOT_GROUP_HEADER_HEIGHT="pivotGroupHeaderHeight",n.PROP_NAVIGATE_TO_NEXT_CELL="navigateToNextCell",n.PROP_TAB_TO_NEXT_CELL="tabToNextCell",n.PROP_NAVIGATE_TO_NEXT_HEADER="navigateToNextHeader",n.PROP_TAB_TO_NEXT_HEADER="tabToNextHeader",n.PROP_IS_EXTERNAL_FILTER_PRESENT="isExternalFilterPresent",n.PROP_DOES_EXTERNAL_FILTER_PASS="doesExternalFilterPass",n.PROP_FLOATING_FILTERS_HEIGHT="floatingFiltersHeight",n.PROP_SUPPRESS_ROW_CLICK_SELECTION="suppressRowClickSelection",n.PROP_SUPPRESS_ROW_DRAG="suppressRowDrag",n.PROP_SUPPRESS_MOVE_WHEN_ROW_DRAG="suppressMoveWhenRowDragging",n.PROP_GET_ROW_CLASS="getRowClass",n.PROP_GET_ROW_STYLE="getRowStyle",n.PROP_GET_ROW_HEIGHT="getRowHeight",n.PROP_POPUP_PARENT="popupParent",n.PROP_DOM_LAYOUT="domLayout",n.PROP_ROW_CLASS="rowClass",n.PROP_FILL_HANDLE_DIRECTION="fillHandleDirection",n.PROP_GROUP_ROW_AGG_NODES="groupRowAggNodes",n.PROP_GET_GROUP_ROW_AGG="getGroupRowAgg",n.PROP_GET_BUSINESS_KEY_FOR_NODE="getBusinessKeyForNode",n.PROP_GET_CHILD_COUNT="getChildCount",n.PROP_PROCESS_ROW_POST_CREATE="processRowPostCreate",n.PROP_GET_ROW_NODE_ID="getRowNodeId",n.PROP_GET_ROW_ID="getRowId",n.PROP_IS_FULL_WIDTH_CELL="isFullWidthCell",n.PROP_IS_FULL_WIDTH_ROW="isFullWidthRow",n.PROP_IS_ROW_SELECTABLE="isRowSelectable",n.PROP_IS_ROW_MASTER="isRowMaster",n.PROP_POST_SORT="postSort",n.PROP_POST_SORT_ROWS="postSortRows",n.PROP_GET_DOCUMENT="getDocument",n.PROP_POST_PROCESS_POPUP="postProcessPopup",n.PROP_DEFAULT_GROUP_ORDER_COMPARATOR="defaultGroupOrderComparator",n.PROP_INITIAL_GROUP_ORDER_COMPARATOR="initialGroupOrderComparator",n.PROP_PAGINATION_NUMBER_FORMATTER="paginationNumberFormatter",n.PROP_GET_CONTEXT_MENU_ITEMS="getContextMenuItems",n.PROP_GET_MAIN_MENU_ITEMS="getMainMenuItems",n.PROP_PROCESS_CELL_FOR_CLIPBOARD="processCellForClipboard",n.PROP_PROCESS_CELL_FROM_CLIPBOARD="processCellFromClipboard",n.PROP_SEND_TO_CLIPBOARD="sendToClipboard",n.PROP_PROCESS_TO_SECONDARY_COLDEF="processSecondaryColDef",n.PROP_PROCESS_SECONDARY_COL_GROUP_DEF="processSecondaryColGroupDef",n.PROP_GET_CHART_TOOLBAR_ITEMS="getChartToolbarItems",n.PROP_GET_SERVER_SIDE_STORE_PARAMS="getServerSideStoreParams",n.PROP_IS_SERVER_SIDE_GROUPS_OPEN_BY_DEFAULT="isServerSideGroupOpenByDefault",n.PROP_IS_APPLY_SERVER_SIDE_TRANSACTION="isApplyServerSideTransaction",n.PROP_IS_SERVER_SIDE_GROUP="isServerSideGroup",n.PROP_GET_SERVER_SIDE_GROUP_KEY="getServerSideGroupKey",Ka([y("gridOptions")],n.prototype,"gridOptions",void 0),Ka([y("eventService")],n.prototype,"eventService",void 0),Ka([y("environment")],n.prototype,"environment",void 0),Ka([y("eGridDiv")],n.prototype,"eGridDiv",void 0),Ka([OT(0,xr("gridApi")),OT(1,xr("columnApi"))],n.prototype,"agWire",null),Ka([_t],n.prototype,"destroy",null),Ka([H],n.prototype,"init",null),n=t=Ka([J("gridOptionsWrapper")],n),n}();/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v27.3.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */var Cj=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),RT=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},tr;(function(n){n.AUTO_HEIGHT="ag-layout-auto-height",n.NORMAL="ag-layout-normal",n.PRINT="ag-layout-print"})(tr||(tr={}));var WS=function(n){Cj(t,n);function t(e){var r=n.call(this)||this;return r.view=e,r}return t.prototype.postConstruct=function(){this.addManagedListener(this.gridOptionsWrapper,pe.PROP_DOM_LAYOUT,this.updateLayoutClasses.bind(this)),this.updateLayoutClasses()},t.prototype.updateLayoutClasses=function(){var e=this.gridOptionsWrapper.getDomLayout(),r={autoHeight:e===L.DOM_LAYOUT_AUTO_HEIGHT,normal:e===L.DOM_LAYOUT_NORMAL,print:e===L.DOM_LAYOUT_PRINT},i=r.autoHeight?tr.AUTO_HEIGHT:r.print?tr.PRINT:tr.NORMAL;this.view.updateLayoutClasses(i,r)},RT([y("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),RT([H],t.prototype,"postConstruct",null),t}(j);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v27.3.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */var bj=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),ho=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},wj=function(n){bj(t,n);function t(e){var r=n.call(this)||this;return r.scrollLeft=-1,r.nextScrollTop=-1,r.scrollTop=-1,r.eBodyViewport=e,r.resetLastHorizontalScrollElementDebounced=Ma(r.resetLastHorizontalScrollElement.bind(r),500),r}return t.prototype.postConstruct=function(){var e=this;this.enableRtl=this.gridOptionsWrapper.isEnableRtl(),this.addManagedListener(this.eventService,x.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onDisplayedColumnsWidthChanged.bind(this)),this.ctrlsService.whenReady(function(r){e.centerRowContainerCtrl=r.centerRowContainerCtrl,e.onDisplayedColumnsWidthChanged(),e.addScrollListener()})},t.prototype.addScrollListener=function(){var e=this.ctrlsService.getFakeHScrollCtrl();this.addManagedListener(this.centerRowContainerCtrl.getViewportElement(),"scroll",this.onCenterViewportScroll.bind(this)),this.addManagedListener(e.getViewport(),"scroll",this.onFakeHorizontalScroll.bind(this));var r=this.gridOptionsWrapper.isDebounceVerticalScrollbar()?Ma(this.onVerticalScroll.bind(this),100):this.onVerticalScroll.bind(this);this.addManagedListener(this.eBodyViewport,"scroll",r)},t.prototype.onDisplayedColumnsWidthChanged=function(){this.enableRtl&&this.horizontallyScrollHeaderCenterAndFloatingCenter()},t.prototype.horizontallyScrollHeaderCenterAndFloatingCenter=function(e){var r=this.centerRowContainerCtrl==null;if(!r){e===void 0&&(e=this.centerRowContainerCtrl.getCenterViewportScrollLeft());var i=this.enableRtl?e:-e,o=this.ctrlsService.getTopCenterRowContainerCtrl(),a=this.ctrlsService.getBottomCenterRowContainerCtrl(),s=this.ctrlsService.getFakeHScrollCtrl(),l=this.ctrlsService.getHeaderRowContainerCtrl();l.setHorizontalScroll(i),a.setContainerTranslateX(i),o.setContainerTranslateX(i);var u=this.lastHorizontalScrollElement===this.centerRowContainerCtrl.getViewportElement()?s.getViewport():this.centerRowContainerCtrl.getViewportElement();qg(u,Math.abs(e),this.enableRtl)}},t.prototype.isControllingScroll=function(e){return this.lastHorizontalScrollElement?e===this.lastHorizontalScrollElement:(this.lastHorizontalScrollElement=e,!0)},t.prototype.onFakeHorizontalScroll=function(){var e=this.ctrlsService.getFakeHScrollCtrl().getViewport();!this.isControllingScroll(e)||this.onBodyHorizontalScroll(e)},t.prototype.onCenterViewportScroll=function(){var e=this.centerRowContainerCtrl.getViewportElement();!this.isControllingScroll(e)||this.onBodyHorizontalScroll(e)},t.prototype.onBodyHorizontalScroll=function(e){var r=this.centerRowContainerCtrl.getViewportElement(),i=r.scrollLeft;this.shouldBlockScrollUpdate("horizontal",i,!0)||(this.doHorizontalScroll(Math.round(Vh(e,this.enableRtl))),this.resetLastHorizontalScrollElementDebounced())},t.prototype.onVerticalScroll=function(){var e=this.eBodyViewport.scrollTop;this.shouldBlockScrollUpdate("vertical",e,!0)||(this.animationFrameService.setScrollTop(e),this.nextScrollTop=e,this.gridOptionsWrapper.isSuppressAnimationFrame()?(this.scrollTop=this.nextScrollTop,this.redrawRowsAfterScroll()):this.animationFrameService.schedule())},t.prototype.resetLastHorizontalScrollElement=function(){this.lastHorizontalScrollElement=null},t.prototype.doHorizontalScroll=function(e){var r=this.ctrlsService.getFakeHScrollCtrl().getViewport(),i=Vh(r,this.enableRtl);this.scrollLeft===e&&e===i||(this.scrollLeft=e,this.fireScrollEvent("horizontal"),this.horizontallyScrollHeaderCenterAndFloatingCenter(e),this.onHorizontalViewportChanged())},t.prototype.fireScrollEvent=function(e){var r=this,i={type:x.EVENT_BODY_SCROLL,api:this.gridApi,columnApi:this.columnApi,direction:e,left:this.scrollLeft,top:this.scrollTop};this.eventService.dispatchEvent(i),window.clearTimeout(this.scrollTimer),this.scrollTimer=void 0,this.scrollTimer=window.setTimeout(function(){var o=Object.assign({},i,{type:x.EVENT_BODY_SCROLL_END});r.eventService.dispatchEvent(o)},100)},t.prototype.shouldBlockScrollUpdate=function(e,r,i){if(i===void 0&&(i=!1),i&&!Xc())return!1;if(e==="vertical"){var o=ud(this.eBodyViewport),a=this.eBodyViewport.scrollHeight;if(r<0||r+o>a)return!0}if(e==="horizontal"){var s=this.centerRowContainerCtrl.getCenterWidth(),l=this.centerRowContainerCtrl.getViewportElement().scrollWidth;if(this.enableRtl&&Bh()){if(r>0)return!0}else if(r<0)return!0;if(Math.abs(r)+s>l)return!0}return!1},t.prototype.redrawRowsAfterScroll=function(){this.fireScrollEvent("vertical")},t.prototype.onHorizontalViewportChanged=function(){this.centerRowContainerCtrl.onHorizontalViewportChanged()},t.prototype.checkScrollLeft=function(){this.scrollLeft!==this.centerRowContainerCtrl.getCenterViewportScrollLeft()&&this.onBodyHorizontalScroll(this.centerRowContainerCtrl.getViewportElement())},t.prototype.executeAnimationFrameScroll=function(){var e=this.scrollTop!=this.nextScrollTop;return e&&(this.scrollTop=this.nextScrollTop,this.redrawRowsAfterScroll()),e},t.prototype.setHorizontalScrollPosition=function(e){var r=0,i=this.centerRowContainerCtrl.getViewportElement().scrollWidth-this.centerRowContainerCtrl.getCenterWidth();this.shouldBlockScrollUpdate("horizontal",e)&&(this.enableRtl&&Bh()?e=e>0?0:i:e=Math.min(Math.max(e,r),i)),qg(this.centerRowContainerCtrl.getViewportElement(),Math.abs(e),this.enableRtl),this.doHorizontalScroll(e)},t.prototype.setVerticalScrollPosition=function(e){this.eBodyViewport.scrollTop=e},t.prototype.getVScrollPosition=function(){var e={top:this.eBodyViewport.scrollTop,bottom:this.eBodyViewport.scrollTop+this.eBodyViewport.offsetHeight};return e},t.prototype.getHScrollPosition=function(){return this.centerRowContainerCtrl.getHScrollPosition()},t.prototype.isHorizontalScrollShowing=function(){return this.centerRowContainerCtrl.isHorizontalScrollShowing()},t.prototype.scrollHorizontally=function(e){var r=this.centerRowContainerCtrl.getViewportElement().scrollLeft;return this.setHorizontalScrollPosition(r+e),this.centerRowContainerCtrl.getViewportElement().scrollLeft-r},t.prototype.scrollToTop=function(){this.eBodyViewport.scrollTop=0},t.prototype.ensureNodeVisible=function(e,r){r===void 0&&(r=null);for(var i=this.rowModel.getRowCount(),o=typeof e=="function",a=-1,s=0;s<i;s++){var l=this.rowModel.getRow(s);if(o){if(e(l)){a=s;break}}else if(e===l||e===l.data){a=s;break}}a>=0&&this.ensureIndexVisible(a,r)},t.prototype.ensureIndexVisible=function(e,r){if(this.gridOptionsWrapper.getDomLayout()!==L.DOM_LAYOUT_PRINT){var i=this.paginationProxy.getRowCount();if(typeof e!="number"||e<0||e>=i){console.warn("invalid row index for ensureIndexVisible: "+e);return}var o=this.gridOptionsWrapper.isPagination(),a=o&&!this.gridOptionsWrapper.isSuppressPaginationPanel();a||this.paginationProxy.goToPageWithIndex(e);var s=this.paginationProxy.getRow(e),l;do{var u=s.rowTop,c=s.rowHeight,p=this.paginationProxy.getPixelOffset(),h=s.rowTop-p,d=h+s.rowHeight,f=this.getVScrollPosition(),g=this.heightScaler.getDivStretchOffset(),v=f.top+g,m=f.bottom+g,C=m-v,b=this.heightScaler.getScrollPositionForPixel(h),w=this.heightScaler.getScrollPositionForPixel(d-C),S=Math.min((b+w)/2,h),T=v>h,E=m<d,P=null;r==="top"?P=b:r==="bottom"?P=w:r==="middle"?P=S:T?P=b:E&&(P=w),P!==null&&(this.eBodyViewport.scrollTop=P,this.rowRenderer.redrawAfterScroll()),l=u!==s.rowTop||c!==s.rowHeight}while(l);this.animationFrameService.flushAllFrames()}},t.prototype.ensureColumnVisible=function(e,r){r===void 0&&(r="auto");var i=this.columnModel.getGridColumn(e);if(!!i&&!i.isPinned()&&!!this.columnModel.isColumnDisplayed(i)){var o=this.getPositionedHorizontalScroll(i,r);o!==null&&this.centerRowContainerCtrl.setCenterViewportScrollLeft(o),this.centerRowContainerCtrl.onHorizontalViewportChanged(),this.animationFrameService.flushAllFrames()}},t.prototype.getPositionedHorizontalScroll=function(e,r){var i=this.isColumnOutsideViewport(e),o=i.columnBeforeStart,a=i.columnAfterEnd,s=this.centerRowContainerCtrl.getCenterWidth()<e.getActualWidth(),l=this.centerRowContainerCtrl.getCenterWidth(),u=this.enableRtl,c=(u?o:a)||s,p=u?a:o;r!=="auto"&&(c=r==="start",p=r==="end");var h=r==="middle";if(c||p||h){var d=this.getColumnBounds(e),f=d.colLeft,g=d.colMiddle,v=d.colRight;return h?g-l/2:c?u?v:f:u?f-l:v-l}return null},t.prototype.isColumnOutsideViewport=function(e){var r=this.getViewportBounds(),i=r.start,o=r.end,a=this.getColumnBounds(e),s=a.colLeft,l=a.colRight,u=this.enableRtl,c=u?i>l:o<l,p=u?o<s:i>s;return{columnBeforeStart:c,columnAfterEnd:p}},t.prototype.getColumnBounds=function(e){var r=this.enableRtl,i=this.columnModel.getBodyContainerWidth(),o=e.getActualWidth(),a=e.getLeft(),s=r?-1:1,l=r?i-a:a,u=l+o*s,c=l+o/2*s;return{colLeft:l,colMiddle:c,colRight:u}},t.prototype.getViewportBounds=function(){var e=this.centerRowContainerCtrl.getCenterWidth(),r=this.centerRowContainerCtrl.getCenterViewportScrollLeft(),i=r,o=e+r;return{start:i,end:o,width:e}},ho([y("ctrlsService")],t.prototype,"ctrlsService",void 0),ho([y("animationFrameService")],t.prototype,"animationFrameService",void 0),ho([y("columnApi")],t.prototype,"columnApi",void 0),ho([y("gridApi")],t.prototype,"gridApi",void 0),ho([y("paginationProxy")],t.prototype,"paginationProxy",void 0),ho([y("rowModel")],t.prototype,"rowModel",void 0),ho([y("rowContainerHeightService")],t.prototype,"heightScaler",void 0),ho([y("rowRenderer")],t.prototype,"rowRenderer",void 0),ho([y("columnModel")],t.prototype,"columnModel",void 0),ho([H],t.prototype,"postConstruct",null),t}(j);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v27.3.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */var fd=function(){function n(t){this.tickingInterval=null,this.onScrollCallback=null,this.scrollContainer=t.scrollContainer,this.scrollHorizontally=t.scrollAxis.indexOf("x")!==-1,this.scrollVertically=t.scrollAxis.indexOf("y")!==-1,this.scrollByTick=t.scrollByTick!=null?t.scrollByTick:20,t.onScrollCallback&&(this.onScrollCallback=t.onScrollCallback),this.scrollVertically&&(this.getVerticalPosition=t.getVerticalPosition,this.setVerticalPosition=t.setVerticalPosition),this.scrollHorizontally&&(this.getHorizontalPosition=t.getHorizontalPosition,this.setHorizontalPosition=t.setHorizontalPosition),this.shouldSkipVerticalScroll=t.shouldSkipVerticalScroll||function(){return!1},this.shouldSkipHorizontalScroll=t.shouldSkipHorizontalScroll||function(){return!1}}return n.prototype.check=function(t,e){e===void 0&&(e=!1);var r=e||this.shouldSkipVerticalScroll();if(!(r&&this.shouldSkipHorizontalScroll())){var i=this.scrollContainer.getBoundingClientRect(),o=this.scrollByTick;this.tickLeft=t.clientX<i.left+o,this.tickRight=t.clientX>i.right-o,this.tickUp=t.clientY<i.top+o&&!r,this.tickDown=t.clientY>i.bottom-o&&!r,this.tickLeft||this.tickRight||this.tickUp||this.tickDown?this.ensureTickingStarted():this.ensureCleared()}},n.prototype.ensureTickingStarted=function(){this.tickingInterval===null&&(this.tickingInterval=window.setInterval(this.doTick.bind(this),100),this.tickCount=0)},n.prototype.doTick=function(){this.tickCount++;var t;if(t=this.tickCount>20?200:this.tickCount>10?80:40,this.scrollVertically){var e=this.getVerticalPosition();this.tickUp&&this.setVerticalPosition(e-t),this.tickDown&&this.setVerticalPosition(e+t)}if(this.scrollHorizontally){var r=this.getHorizontalPosition();this.tickLeft&&this.setHorizontalPosition(r-t),this.tickRight&&this.setHorizontalPosition(r+t)}this.onScrollCallback&&this.onScrollCallback()},n.prototype.ensureCleared=function(){this.tickingInterval&&(window.clearInterval(this.tickingInterval),this.tickingInterval=null)},n}();/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v27.3.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */var _j=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Tw=globalThis&&globalThis.__assign||function(){return Tw=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Tw.apply(this,arguments)},gn=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Sj=globalThis&&globalThis.__read||function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},xj=globalThis&&globalThis.__spread||function(){for(var n=[],t=0;t<arguments.length;t++)n=n.concat(Sj(arguments[t]));return n},Tj=function(n){_j(t,n);function t(e){var r=n.call(this)||this;return r.isMultiRowDrag=!1,r.isGridSorted=!1,r.isGridFiltered=!1,r.isRowGroupActive=!1,r.eContainer=e,r}return t.prototype.postConstruct=function(){var e=this;this.gridOptionsWrapper.isRowModelDefault()&&(this.clientSideRowModel=this.rowModel);var r=function(){e.onSortChanged(),e.onFilterChanged(),e.onRowGroupChanged()};this.addManagedListener(this.eventService,x.EVENT_SORT_CHANGED,this.onSortChanged.bind(this)),this.addManagedListener(this.eventService,x.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.addManagedListener(this.eventService,x.EVENT_COLUMN_ROW_GROUP_CHANGED,this.onRowGroupChanged.bind(this)),this.addManagedListener(this.eventService,x.EVENT_MODEL_UPDATED,function(){r()}),r(),this.ctrlsService.whenReady(function(){var i=e.ctrlsService.getGridBodyCtrl();e.autoScrollService=new fd({scrollContainer:i.getBodyViewportElement(),scrollAxis:"y",getVerticalPosition:function(){return i.getScrollFeature().getVScrollPosition().top},setVerticalPosition:function(o){return i.getScrollFeature().setVerticalScrollPosition(o)},onScrollCallback:function(){e.onDragging(e.lastDraggingEvent)}})})},t.prototype.onSortChanged=function(){this.isGridSorted=this.sortController.isSortActive()},t.prototype.onFilterChanged=function(){this.isGridFiltered=this.filterManager.isAnyFilterPresent()},t.prototype.onRowGroupChanged=function(){var e=this.columnModel.getRowGroupColumns();this.isRowGroupActive=!Jn(e)},t.prototype.getContainer=function(){return this.eContainer},t.prototype.isInterestedIn=function(e){return e===nr.RowDrag},t.prototype.getIconName=function(){var e=this.gridOptionsWrapper.isRowDragManaged();return e&&this.shouldPreventRowMove()?It.ICON_NOT_ALLOWED:It.ICON_MOVE},t.prototype.shouldPreventRowMove=function(){return this.isGridSorted||this.isGridFiltered||this.isRowGroupActive},t.prototype.getRowNodes=function(e){var r=this;if(!this.isFromThisGrid(e))return e.dragItem.rowNodes||[];var i=this.gridOptionsWrapper.isRowDragMultiRow(),o=xj(this.selectionService.getSelectedNodes()).sort(function(s,l){return r.getRowIndexNumber(s)-r.getRowIndexNumber(l)}),a=e.dragItem.rowNode;return i&&o.indexOf(a)!==-1?(this.isMultiRowDrag=!0,o):(this.isMultiRowDrag=!1,[a])},t.prototype.onDragEnter=function(e){e.dragItem.rowNodes=this.getRowNodes(e),this.dispatchGridEvent(x.EVENT_ROW_DRAG_ENTER,e),this.getRowNodes(e).forEach(function(r){r.setDragging(!0)}),this.onEnterOrDragging(e)},t.prototype.onDragging=function(e){this.onEnterOrDragging(e)},t.prototype.isFromThisGrid=function(e){var r=e.dragSource.dragSourceDomDataKey;return r===this.gridOptionsWrapper.getDomDataKey()},t.prototype.isDropZoneWithinThisGrid=function(e){var r=this.ctrlsService.getGridBodyCtrl(),i=r.getGui(),o=e.dropZoneTarget;return!i.contains(o)},t.prototype.onEnterOrDragging=function(e){this.dispatchGridEvent(x.EVENT_ROW_DRAG_MOVE,e),this.lastDraggingEvent=e;var r=this.mouseEventService.getNormalisedPosition(e).y,i=this.gridOptionsWrapper.isRowDragManaged();i&&this.doManagedDrag(e,r),this.autoScrollService.check(e.event)},t.prototype.doManagedDrag=function(e,r){var i=this.isFromThisGrid(e),o=this.gridOptionsWrapper.isRowDragManaged(),a=e.dragItem.rowNodes;o&&this.shouldPreventRowMove()||(this.gridOptionsWrapper.isSuppressMoveWhenRowDragging()||!i?this.isDropZoneWithinThisGrid(e)||this.clientSideRowModel.highlightRowAtPixel(a[0],r):this.moveRows(a,r))},t.prototype.getRowIndexNumber=function(e){return parseInt(wt(e.getRowIndexString().split("-")),10)},t.prototype.moveRowAndClearHighlight=function(e){var r=this,i=this.clientSideRowModel.getLastHighlightedRowNode(),o=i&&i.highlighted===Uo.Below,a=this.mouseEventService.getNormalisedPosition(e).y,s=e.dragItem.rowNodes,l=o?1:0;if(this.isFromThisGrid(e))s.forEach(function(p){p.rowTop<a&&(l-=1)}),this.moveRows(s,a,l);else{var u=this.gridOptionsWrapper.getRowIdFunc(),c=this.clientSideRowModel.getRowIndexAtPixel(a)+1;this.clientSideRowModel.getHighlightPosition(a)===Uo.Above&&c--,this.clientSideRowModel.updateRowData({add:s.map(function(p){return p.data}).filter(function(p){return!r.clientSideRowModel.getRowNode(u?u({data:p,level:0}):p.id)}),addIndex:c})}this.clearRowHighlight()},t.prototype.clearRowHighlight=function(){this.clientSideRowModel.highlightRowAtPixel(null)},t.prototype.moveRows=function(e,r,i){i===void 0&&(i=0);var o=this.clientSideRowModel.ensureRowsAtPixel(e,r,i);o&&(this.focusService.clearFocusedCell(),this.rangeService&&this.rangeService.removeAllCellRanges())},t.prototype.addRowDropZone=function(e){var r=this;if(!e.getContainer()){ct(function(){return console.warn("AG Grid: addRowDropZone - A container target needs to be provided")},"add-drop-zone-empty-target");return}if(this.dragAndDropService.findExternalZone(e)){console.warn("AG Grid: addRowDropZone - target already exists in the list of DropZones. Use `removeRowDropZone` before adding it again.");return}var i={getContainer:e.getContainer};e.fromGrid?(e.fromGrid=void 0,i=e):(e.onDragEnter&&(i.onDragEnter=function(o){e.onDragEnter(r.draggingToRowDragEvent(x.EVENT_ROW_DRAG_ENTER,o))}),e.onDragLeave&&(i.onDragLeave=function(o){e.onDragLeave(r.draggingToRowDragEvent(x.EVENT_ROW_DRAG_LEAVE,o))}),e.onDragging&&(i.onDragging=function(o){e.onDragging(r.draggingToRowDragEvent(x.EVENT_ROW_DRAG_MOVE,o))}),e.onDragStop&&(i.onDragStop=function(o){e.onDragStop(r.draggingToRowDragEvent(x.EVENT_ROW_DRAG_END,o))})),this.dragAndDropService.addDropTarget(Tw({isInterestedIn:function(o){return o===nr.RowDrag},getIconName:function(){return It.ICON_MOVE},external:!0},i))},t.prototype.getRowDropZone=function(e){var r=this,i=this.getContainer.bind(this),o=this.onDragEnter.bind(this),a=this.onDragLeave.bind(this),s=this.onDragging.bind(this),l=this.onDragStop.bind(this);return e?{getContainer:i,onDragEnter:e.onDragEnter?function(u){o(u),e.onDragEnter(r.draggingToRowDragEvent(x.EVENT_ROW_DRAG_ENTER,u))}:o,onDragLeave:e.onDragLeave?function(u){a(u),e.onDragLeave(r.draggingToRowDragEvent(x.EVENT_ROW_DRAG_LEAVE,u))}:a,onDragging:e.onDragging?function(u){s(u),e.onDragging(r.draggingToRowDragEvent(x.EVENT_ROW_DRAG_MOVE,u))}:s,onDragStop:e.onDragStop?function(u){l(u),e.onDragStop(r.draggingToRowDragEvent(x.EVENT_ROW_DRAG_END,u))}:l,fromGrid:!0}:{getContainer:i,onDragEnter:o,onDragLeave:a,onDragging:s,onDragStop:l,fromGrid:!0}},t.prototype.draggingToRowDragEvent=function(e,r){var i=this.mouseEventService.getNormalisedPosition(r).y,o=i>this.paginationProxy.getCurrentPageHeight(),a=-1,s;o||(a=this.rowModel.getRowIndexAtPixel(i),s=this.rowModel.getRow(a));var l;switch(r.vDirection){case Vs.Down:l="down";break;case Vs.Up:l="up";break;default:l=null;break}var u={type:e,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),event:r.event,node:r.dragItem.rowNode,nodes:r.dragItem.rowNodes,overIndex:a,overNode:s,y:i,vDirection:l};return u},t.prototype.dispatchGridEvent=function(e,r){var i=this.draggingToRowDragEvent(e,r);this.eventService.dispatchEvent(i)},t.prototype.onDragLeave=function(e){this.dispatchGridEvent(x.EVENT_ROW_DRAG_LEAVE,e),this.stopDragging(e),this.gridOptionsWrapper.isRowDragManaged()&&this.clearRowHighlight(),this.isFromThisGrid(e)&&(this.isMultiRowDrag=!1)},t.prototype.onDragStop=function(e){this.dispatchGridEvent(x.EVENT_ROW_DRAG_END,e),this.stopDragging(e),this.gridOptionsWrapper.isRowDragManaged()&&(this.gridOptionsWrapper.isSuppressMoveWhenRowDragging()||!this.isFromThisGrid(e))&&!this.isDropZoneWithinThisGrid(e)&&this.moveRowAndClearHighlight(e)},t.prototype.stopDragging=function(e){this.autoScrollService.ensureCleared(),this.getRowNodes(e).forEach(function(r){r.setDragging(!1)})},gn([y("dragAndDropService")],t.prototype,"dragAndDropService",void 0),gn([y("rowModel")],t.prototype,"rowModel",void 0),gn([y("paginationProxy")],t.prototype,"paginationProxy",void 0),gn([y("columnModel")],t.prototype,"columnModel",void 0),gn([y("focusService")],t.prototype,"focusService",void 0),gn([y("sortController")],t.prototype,"sortController",void 0),gn([y("filterManager")],t.prototype,"filterManager",void 0),gn([y("selectionService")],t.prototype,"selectionService",void 0),gn([y("mouseEventService")],t.prototype,"mouseEventService",void 0),gn([y("ctrlsService")],t.prototype,"ctrlsService",void 0),gn([Fe("rangeService")],t.prototype,"rangeService",void 0),gn([y("columnApi")],t.prototype,"columnApi",void 0),gn([y("gridApi")],t.prototype,"gridApi",void 0),gn([H],t.prototype,"postConstruct",null),t}(j);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v27.3.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */var Oj=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),ai=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Jl;(function(n){n.ANIMATION_ON="ag-row-animation",n.ANIMATION_OFF="ag-row-no-animation"})(Jl||(Jl={}));var _1="ag-selectable",S1="ag-force-vertical-scroll",x1="ag-column-moving",T1=function(n){Oj(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.getScrollFeature=function(){return this.bodyScrollFeature},t.prototype.getBodyViewportElement=function(){return this.eBodyViewport},t.prototype.setComp=function(e,r,i,o,a){this.comp=e,this.eGridBody=r,this.eBodyViewport=i,this.eTop=o,this.eBottom=a,this.setCellTextSelection(this.gridOptionsWrapper.isEnableCellTextSelect()),this.createManagedBean(new WS(this.comp)),this.bodyScrollFeature=this.createManagedBean(new wj(this.eBodyViewport)),this.addRowDragListener(),this.setupRowAnimationCssClass(),this.addEventListeners(),this.addFocusListeners([o,i,a]),this.onGridColumnsChanged(),this.addBodyViewportListener(),this.setFloatingHeights(),this.disableBrowserDragging(),this.addStopEditingWhenGridLosesFocus(),this.ctrlsService.registerGridBodyCtrl(this)},t.prototype.getComp=function(){return this.comp},t.prototype.addEventListeners=function(){this.addManagedListener(this.eventService,x.EVENT_GRID_COLUMNS_CHANGED,this.onGridColumnsChanged.bind(this)),this.addManagedListener(this.eventService,x.EVENT_SCROLL_VISIBILITY_CHANGED,this.onScrollVisibilityChanged.bind(this)),this.addManagedListener(this.eventService,x.EVENT_PINNED_ROW_DATA_CHANGED,this.setFloatingHeights.bind(this))},t.prototype.addFocusListeners=function(e){var r=this;e.forEach(function(i){r.addManagedListener(i,"focusin",function(){i.classList.add("ag-has-focus")}),r.addManagedListener(i,"focusout",function(o){i.contains(o.relatedTarget)||i.classList.remove("ag-has-focus")})})},t.prototype.setColumnMovingCss=function(e){this.comp.setColumnMovingCss(e?x1:null,e)},t.prototype.setCellTextSelection=function(e){e===void 0&&(e=!1);var r=e?_1:null;this.comp.setCellSelectableCss(r,e)},t.prototype.onScrollVisibilityChanged=function(){var e=this.scrollVisibleService.isVerticalScrollShowing();this.setVerticalScrollPaddingVisible(e)},t.prototype.onGridColumnsChanged=function(){var e=this.columnModel.getAllGridColumns();this.comp.setColumnCount(e?e.length:0)},t.prototype.disableBrowserDragging=function(){this.addManagedListener(this.eGridBody,"dragstart",function(e){if(e.target instanceof HTMLImageElement)return e.preventDefault(),!1})},t.prototype.addStopEditingWhenGridLosesFocus=function(){var e=this;if(!!this.gridOptionsWrapper.isStopEditingWhenCellsLoseFocus()){var r=function(o){var a=o.relatedTarget;if(Xg(a)===null){e.rowRenderer.stopEditing();return}var s=i.some(function(u){return u.contains(a)})&&e.mouseEventService.isElementInThisGrid(a);if(!s){var l=e.popupService;s=l.getActivePopups().some(function(u){return u.contains(a)})||l.isElementWithinCustomPopup(a)}s||e.rowRenderer.stopEditing()},i=[this.eBodyViewport,this.eBottom,this.eTop];i.forEach(function(o){return e.addManagedListener(o,"focusout",r)})}},t.prototype.updateRowCount=function(){var e=this.headerNavigationService.getHeaderRowCount(),r=this.paginationProxy.getType(),i=-1;r===L.ROW_MODEL_TYPE_CLIENT_SIDE&&(i=0,this.paginationProxy.forEachNode(function(a){a.group||i++}));var o=i===-1?-1:e+i;this.comp.setRowCount(o)},t.prototype.registerBodyViewportResizeListener=function(e){this.comp.registerBodyViewportResizeListener(e)},t.prototype.setVerticalScrollPaddingVisible=function(e){var r=e?"scroll":"hidden";this.comp.setPinnedTopBottomOverflowY(r)},t.prototype.isVerticalScrollShowing=function(){var e=this.gridOptionsWrapper.isAlwaysShowVerticalScroll(),r=e?S1:null;return this.comp.setAlwaysVerticalScrollClass(r,e),e||EM(this.eBodyViewport)},t.prototype.setupRowAnimationCssClass=function(){var e=this,r=function(){var i=e.gridOptionsWrapper.isAnimateRows()&&!e.rowContainerHeightService.isStretching(),o=i?Jl.ANIMATION_ON:Jl.ANIMATION_OFF;e.comp.setRowAnimationCssOnBodyViewport(o,i)};r(),this.addManagedListener(this.eventService,x.EVENT_HEIGHT_SCALE_CHANGED,r)},t.prototype.getGridBodyElement=function(){return this.eGridBody},t.prototype.addBodyViewportListener=function(){var e=this,r=function(i){e.gridOptionsWrapper.isPreventDefaultOnContextMenu()&&i.preventDefault();var o=i.target;(o===e.eBodyViewport||o===e.ctrlsService.getCenterRowContainerCtrl().getViewportElement())&&e.contextMenuFactory&&e.contextMenuFactory.onContextMenu(i,null,null,null,null,e.eGridBody)};this.addManagedListener(this.eBodyViewport,"contextmenu",r),this.addManagedListener(this.eBodyViewport,"wheel",this.onWheel.bind(this))},t.prototype.onWheel=function(e){!this.gridOptionsWrapper.isSuppressScrollWhenPopupsAreOpen()||this.popupService.hasAnchoredPopup()&&e.preventDefault()},t.prototype.getGui=function(){return this.eGridBody},t.prototype.scrollVertically=function(e){var r=this.eBodyViewport.scrollTop;return this.bodyScrollFeature.setVerticalScrollPosition(r+e),this.eBodyViewport.scrollTop-r},t.prototype.addRowDragListener=function(){this.rowDragFeature=this.createManagedBean(new Tj(this.eBodyViewport)),this.dragAndDropService.addDropTarget(this.rowDragFeature)},t.prototype.getRowDragFeature=function(){return this.rowDragFeature},t.prototype.setFloatingHeights=function(){var e=this.pinnedRowModel,r=e.getPinnedTopTotalHeight();r&&(r+=1);var i=e.getPinnedBottomTotalHeight();i&&(i+=1),this.comp.setTopHeight(r),this.comp.setBottomHeight(i),this.comp.setTopDisplay(r?"inherit":"none"),this.comp.setBottomDisplay(i?"inherit":"none")},t.prototype.sizeColumnsToFit=function(e){var r=this,i=this.isVerticalScrollShowing(),o=i?this.gridOptionsWrapper.getScrollbarWidth():0,a=lm(this.eBodyViewport),s=a-o;if(s>0){this.columnModel.sizeColumnsToFit(s,"sizeColumnsToFit");return}e===void 0?window.setTimeout(function(){r.sizeColumnsToFit(100)},0):e===100?window.setTimeout(function(){r.sizeColumnsToFit(500)},100):e===500?window.setTimeout(function(){r.sizeColumnsToFit(-1)},500):console.warn("AG Grid: tried to call sizeColumnsToFit() but the grid is coming back with zero width, maybe the grid is not visible yet on the screen?")},t.prototype.addScrollEventListener=function(e){this.eBodyViewport.addEventListener("scroll",e)},t.prototype.removeScrollEventListener=function(e){this.eBodyViewport.removeEventListener("scroll",e)},ai([y("rowContainerHeightService")],t.prototype,"rowContainerHeightService",void 0),ai([y("ctrlsService")],t.prototype,"ctrlsService",void 0),ai([y("columnModel")],t.prototype,"columnModel",void 0),ai([y("scrollVisibleService")],t.prototype,"scrollVisibleService",void 0),ai([Fe("contextMenuFactory")],t.prototype,"contextMenuFactory",void 0),ai([y("headerNavigationService")],t.prototype,"headerNavigationService",void 0),ai([y("paginationProxy")],t.prototype,"paginationProxy",void 0),ai([y("dragAndDropService")],t.prototype,"dragAndDropService",void 0),ai([y("pinnedRowModel")],t.prototype,"pinnedRowModel",void 0),ai([y("rowRenderer")],t.prototype,"rowRenderer",void 0),ai([y("popupService")],t.prototype,"popupService",void 0),ai([y("mouseEventService")],t.prototype,"mouseEventService",void 0),t}(j);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v27.3.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */var Fa;(function(n){n[n.FILL=0]="FILL",n[n.RANGE=1]="RANGE"})(Fa||(Fa={}));var Pn;(function(n){n[n.VALUE=0]="VALUE",n[n.DIMENSION=1]="DIMENSION"})(Pn||(Pn={}));/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v27.3.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */var yp="ag-cell-range-selected",Ej="ag-cell-range-chart",Rj="ag-cell-range-single-cell",Pj="ag-cell-range-chart-category",Aj="ag-cell-range-handle",Dj="ag-cell-range-top",Mj="ag-cell-range-right",Fj="ag-cell-range-bottom",Ij="ag-cell-range-left",Lj=function(){function n(t,e){this.beans=t,this.cellCtrl=e}return n.prototype.setComp=function(t,e){this.cellComp=t,this.eGui=e,this.onRangeSelectionChanged()},n.prototype.onRangeSelectionChanged=function(){!this.cellComp||(this.rangeCount=this.beans.rangeService.getCellRangeCount(this.cellCtrl.getCellPosition()),this.hasChartRange=this.getHasChartRange(),this.cellComp.addOrRemoveCssClass(yp,this.rangeCount!==0),this.cellComp.addOrRemoveCssClass(yp+"-1",this.rangeCount===1),this.cellComp.addOrRemoveCssClass(yp+"-2",this.rangeCount===2),this.cellComp.addOrRemoveCssClass(yp+"-3",this.rangeCount===3),this.cellComp.addOrRemoveCssClass(yp+"-4",this.rangeCount>=4),this.cellComp.addOrRemoveCssClass(Ej,this.hasChartRange),kc(this.eGui,this.rangeCount>0?!0:void 0),this.cellComp.addOrRemoveCssClass(Rj,this.isSingleCell()),this.updateRangeBorders(),this.refreshHandle())},n.prototype.updateRangeBorders=function(){var t=this.getRangeBorders(),e=this.isSingleCell(),r=!e&&t.top,i=!e&&t.right,o=!e&&t.bottom,a=!e&&t.left;this.cellComp.addOrRemoveCssClass(Dj,r),this.cellComp.addOrRemoveCssClass(Mj,i),this.cellComp.addOrRemoveCssClass(Fj,o),this.cellComp.addOrRemoveCssClass(Ij,a)},n.prototype.isSingleCell=function(){var t=this.beans.rangeService;return this.rangeCount===1&&t&&!t.isMoreThanOneCell()},n.prototype.getHasChartRange=function(){var t=this.beans.rangeService;if(!this.rangeCount||!t)return!1;var e=t.getCellRanges();return e.length>0&&e.every(function(r){return ri([Pn.DIMENSION,Pn.VALUE],r.type)})},n.prototype.updateRangeBordersIfRangeCount=function(){this.rangeCount>0&&(this.updateRangeBorders(),this.refreshHandle())},n.prototype.getRangeBorders=function(){var t=this,e=this.beans.gridOptionsWrapper.isEnableRtl(),r=!1,i=!1,o=!1,a=!1,s=this.cellCtrl.getCellPosition().column,l=this.beans,u=l.rangeService,c=l.columnModel,p,h;e?(p=c.getDisplayedColAfter(s),h=c.getDisplayedColBefore(s)):(p=c.getDisplayedColBefore(s),h=c.getDisplayedColAfter(s));var d=u.getCellRanges().filter(function(C){return u.isCellInSpecificRange(t.cellCtrl.getCellPosition(),C)});p||(a=!0),h||(i=!0);for(var f=0;f<d.length&&!(r&&i&&o&&a);f++){var g=d[f],v=u.getRangeStartRow(g),m=u.getRangeEndRow(g);!r&&this.beans.rowPositionUtils.sameRow(v,this.cellCtrl.getCellPosition())&&(r=!0),!o&&this.beans.rowPositionUtils.sameRow(m,this.cellCtrl.getCellPosition())&&(o=!0),!a&&p&&g.columns.indexOf(p)<0&&(a=!0),!i&&h&&g.columns.indexOf(h)<0&&(i=!0)}return{top:r,right:i,bottom:o,left:a}},n.prototype.refreshHandle=function(){if(!!this.beans.rangeService){var t=this.shouldHaveSelectionHandle();this.selectionHandle&&!t&&(this.selectionHandle=this.beans.context.destroyBean(this.selectionHandle)),t&&this.addSelectionHandle(),this.cellComp.addOrRemoveCssClass(Aj,!!this.selectionHandle)}},n.prototype.shouldHaveSelectionHandle=function(){var t=this.beans,e=t.gridOptionsWrapper,r=t.rangeService,i=r.getCellRanges(),o=i.length;if(this.rangeCount<1||o<1)return!1;var a=wt(i),s=this.cellCtrl.getCellPosition(),l=e.isEnableFillHandle()&&!this.cellCtrl.isSuppressFillHandle(),u=e.isEnableRangeHandle(),c=o===1&&!this.cellCtrl.isEditing()&&(l||u);if(this.hasChartRange){var p=i[0].type===Pn.DIMENSION,h=p&&r.isCellInSpecificRange(s,i[0]);this.cellComp.addOrRemoveCssClass(Pj,h),c=a.type===Pn.VALUE}return c&&a.endRow!=null&&r.isContiguousRange(a)&&r.isBottomRightCell(a,s)},n.prototype.addSelectionHandle=function(){var t=this.beans,e=t.gridOptionsWrapper,r=t.rangeService,i=wt(r.getCellRanges()).type,o=e.isEnableFillHandle()&&ye(i),a=o?Fa.FILL:Fa.RANGE;this.selectionHandle&&this.selectionHandle.getType()!==a&&(this.selectionHandle=this.beans.context.destroyBean(this.selectionHandle)),this.selectionHandle||(this.selectionHandle=this.beans.selectionHandleFactory.createSelectionHandle(a)),this.selectionHandle.refresh(this.cellCtrl)},n.prototype.destroy=function(){this.beans.context.destroyBean(this.selectionHandle)},n}();/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v27.3.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */var Nj=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),kj=function(n){Nj(t,n);function t(e,r){var i=n.call(this)||this;return i.cellCtrl=e,i.beans=r,i.column=e.getColumn(),i.rowNode=e.getRowNode(),i.setupColSpan(),i.setupRowSpan(),i}return t.prototype.setupRowSpan=function(){this.rowSpan=this.column.getRowSpan(this.rowNode)},t.prototype.setComp=function(e){this.eGui=e,this.onLeftChanged(),this.onWidthChanged(),this.applyRowSpan()},t.prototype.onDisplayColumnsChanged=function(){var e=this.getColSpanningList();Hl(this.colsSpanning,e)||(this.colsSpanning=e,this.onWidthChanged(),this.onLeftChanged())},t.prototype.setupColSpan=function(){this.column.getColDef().colSpan!=null&&(this.colsSpanning=this.getColSpanningList(),this.addManagedListener(this.beans.eventService,x.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayColumnsChanged.bind(this)),this.addManagedListener(this.beans.eventService,x.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onWidthChanged.bind(this)))},t.prototype.onWidthChanged=function(){if(!!this.eGui){var e=this.getCellWidth();this.eGui.style.width=e+"px"}},t.prototype.getCellWidth=function(){return this.colsSpanning?this.colsSpanning.reduce(function(e,r){return e+r.getActualWidth()},0):this.column.getActualWidth()},t.prototype.getColSpanningList=function(){var e=this.column.getColSpan(this.rowNode),r=[];if(e===1)r.push(this.column);else for(var i=this.column,o=this.column.getPinned(),a=0;i&&a<e&&(r.push(i),i=this.beans.columnModel.getDisplayedColAfter(i),!(!i||ye(i)||o!==i.getPinned()));a++);return r},t.prototype.onLeftChanged=function(){if(!!this.eGui){var e=this.modifyLeftForPrintLayout(this.getCellLeft());this.eGui.style.left=e+"px"}},t.prototype.getCellLeft=function(){var e;return this.beans.gridOptionsWrapper.isEnableRtl()&&this.colsSpanning?e=wt(this.colsSpanning):e=this.column,e.getLeft()},t.prototype.modifyLeftForPrintLayout=function(e){if(!this.cellCtrl.isPrintLayout()||this.column.getPinned()===L.PINNED_LEFT)return e;var r=this.beans.columnModel.getDisplayedColumnsLeftWidth();if(this.column.getPinned()===L.PINNED_RIGHT){var i=this.beans.columnModel.getBodyContainerWidth();return r+i+(e||0)}return r+(e||0)},t.prototype.applyRowSpan=function(){if(this.rowSpan!==1){var e=this.beans.gridOptionsWrapper.getRowHeightAsNumber(),r=e*this.rowSpan;this.eGui.style.height=r+"px",this.eGui.style.zIndex="1"}},t.prototype.destroy=function(){n.prototype.destroy.call(this)},t}(j);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v27.3.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */var Gj=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Bj=function(n){Gj(t,n);function t(e,r){var i=n.call(this)||this;return i.staticClasses=[],i.cellCtrl=e,i.beans=r,i.column=e.getColumn(),i.rowNode=e.getRowNode(),i}return t.prototype.setComp=function(e){this.cellComp=e,this.applyUserStyles(),this.applyCellClassRules(),this.applyClassesFromColDef()},t.prototype.applyCellClassRules=function(){var e=this,r=this.column.getColDef(),i={value:this.cellCtrl.getValue(),data:this.rowNode.data,node:this.rowNode,colDef:r,rowIndex:this.rowNode.rowIndex,api:this.beans.gridOptionsWrapper.getApi(),columnApi:this.beans.gridOptionsWrapper.getColumnApi(),context:this.beans.gridOptionsWrapper.getContext()};this.beans.stylingService.processClassRules(r.cellClassRules,i,function(o){return e.cellComp.addOrRemoveCssClass(o,!0)},function(o){return e.cellComp.addOrRemoveCssClass(o,!1)})},t.prototype.applyUserStyles=function(){var e=this.column.getColDef();if(!!e.cellStyle){var r;if(typeof e.cellStyle=="function"){var i={column:this.column,value:this.cellCtrl.getValue(),colDef:e,data:this.rowNode.data,node:this.rowNode,rowIndex:this.rowNode.rowIndex,api:this.beans.gridOptionsWrapper.getApi(),columnApi:this.beans.gridOptionsWrapper.getColumnApi(),context:this.beans.gridOptionsWrapper.getContext()},o=e.cellStyle;r=o(i)}else r=e.cellStyle;this.cellComp.setUserStyles(r)}},t.prototype.applyClassesFromColDef=function(){var e=this,r=this.column.getColDef(),i={value:this.cellCtrl.getValue(),data:this.rowNode.data,node:this.rowNode,colDef:r,rowIndex:this.rowNode.rowIndex,api:this.beans.gridOptionsWrapper.getApi(),columnApi:this.beans.gridOptionsWrapper.getColumnApi(),context:this.beans.gridOptionsWrapper.getContext()};this.staticClasses.length&&this.staticClasses.forEach(function(o){return e.cellComp.addOrRemoveCssClass(o,!1)}),this.staticClasses=this.beans.stylingService.getStaticCellClasses(r,i),this.staticClasses.length&&this.staticClasses.forEach(function(o){return e.cellComp.addOrRemoveCssClass(o,!0)})},t.prototype.destroy=function(){n.prototype.destroy.call(this)},t}(j);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v27.3.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */var Vj=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),HS=function(n){Vj(t,n);function t(e,r){var i=n.call(this)||this;return i.ctrl=e,i.beans=r,i}return t.prototype.setComp=function(e){this.comp=e,this.setupTooltip()},t.prototype.setupTooltip=function(){this.browserTooltips=this.beans.gridOptionsWrapper.isEnableBrowserTooltips(),this.updateTooltipText(),this.browserTooltips?this.comp.setTitle(this.tooltip!=null?this.tooltip:void 0):this.createTooltipFeatureIfNeeded()},t.prototype.updateTooltipText=function(){this.tooltip=this.ctrl.getTooltipValue()},t.prototype.createTooltipFeatureIfNeeded=function(){var e=this;if(this.genericTooltipFeature==null){var r={getTooltipParams:function(){return e.getTooltipParams()},getGui:function(){return e.ctrl.getGui()}};this.genericTooltipFeature=this.createManagedBean(new cm(r),this.beans.context)}},t.prototype.refreshToolTip=function(){this.updateTooltipText(),this.browserTooltips&&this.comp.setTitle(this.tooltip!=null?this.tooltip:void 0)},t.prototype.getTooltipParams=function(){var e=this.ctrl,r=e.getColumn?e.getColumn():void 0,i=e.getColDef?e.getColDef():void 0,o=e.getRowNode?e.getRowNode():void 0;return{location:e.getLocation(),colDef:i,column:r,rowIndex:e.getRowIndex?e.getRowIndex():void 0,node:o,data:o?o.data:void 0,value:this.getTooltipText(),valueFormatted:e.getValueFormatted?e.getValueFormatted():void 0}},t.prototype.getTooltipText=function(){return this.tooltip},t.prototype.destroy=function(){n.prototype.destroy.call(this)},t}(j);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v27.3.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */var Be=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},jS=function(){function n(){}return n.prototype.postConstruct=function(){this.doingMasterDetail=this.gridOptionsWrapper.isMasterDetail(),this.gridOptionsWrapper.isRowModelDefault()&&(this.clientSideRowModel=this.rowModel),this.gridOptionsWrapper.isRowModelServerSide()&&(this.serverSideRowModel=this.rowModel)},Be([y("resizeObserverService")],n.prototype,"resizeObserverService",void 0),Be([y("paginationProxy")],n.prototype,"paginationProxy",void 0),Be([y("context")],n.prototype,"context",void 0),Be([y("columnApi")],n.prototype,"columnApi",void 0),Be([y("gridApi")],n.prototype,"gridApi",void 0),Be([y("gridOptionsWrapper")],n.prototype,"gridOptionsWrapper",void 0),Be([y("expressionService")],n.prototype,"expressionService",void 0),Be([y("rowRenderer")],n.prototype,"rowRenderer",void 0),Be([y("templateService")],n.prototype,"templateService",void 0),Be([y("valueService")],n.prototype,"valueService",void 0),Be([y("eventService")],n.prototype,"eventService",void 0),Be([y("columnModel")],n.prototype,"columnModel",void 0),Be([y("headerNavigationService")],n.prototype,"headerNavigationService",void 0),Be([y("navigationService")],n.prototype,"navigationService",void 0),Be([y("columnAnimationService")],n.prototype,"columnAnimationService",void 0),Be([Fe("rangeService")],n.prototype,"rangeService",void 0),Be([y("focusService")],n.prototype,"focusService",void 0),Be([Fe("contextMenuFactory")],n.prototype,"contextMenuFactory",void 0),Be([y("popupService")],n.prototype,"popupService",void 0),Be([y("valueFormatterService")],n.prototype,"valueFormatterService",void 0),Be([y("stylingService")],n.prototype,"stylingService",void 0),Be([y("columnHoverService")],n.prototype,"columnHoverService",void 0),Be([y("userComponentFactory")],n.prototype,"userComponentFactory",void 0),Be([y("userComponentRegistry")],n.prototype,"userComponentRegistry",void 0),Be([y("animationFrameService")],n.prototype,"animationFrameService",void 0),Be([y("dragAndDropService")],n.prototype,"dragAndDropService",void 0),Be([y("sortController")],n.prototype,"sortController",void 0),Be([y("filterManager")],n.prototype,"filterManager",void 0),Be([y("rowContainerHeightService")],n.prototype,"rowContainerHeightService",void 0),Be([y("frameworkOverrides")],n.prototype,"frameworkOverrides",void 0),Be([y("cellPositionUtils")],n.prototype,"cellPositionUtils",void 0),Be([y("rowPositionUtils")],n.prototype,"rowPositionUtils",void 0),Be([y("selectionService")],n.prototype,"selectionService",void 0),Be([Fe("selectionHandleFactory")],n.prototype,"selectionHandleFactory",void 0),Be([y("rowCssClassCalculator")],n.prototype,"rowCssClassCalculator",void 0),Be([y("rowModel")],n.prototype,"rowModel",void 0),Be([y("ctrlsService")],n.prototype,"ctrlsService",void 0),Be([y("ctrlsFactory")],n.prototype,"ctrlsFactory",void 0),Be([y("agStackComponentsRegistry")],n.prototype,"agStackComponentsRegistry",void 0),Be([y("valueCache")],n.prototype,"valueCache",void 0),Be([y("rowNodeEventThrottle")],n.prototype,"rowNodeEventThrottle",void 0),Be([H],n.prototype,"postConstruct",null),n=Be([J("beans")],n),n}();/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v27.3.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */var Wj=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Hj=function(n){Wj(t,n);function t(e,r,i){var o=n.call(this)||this;return o.cellCtrl=e,o.beans=r,o.column=i,o}return t.prototype.onMouseEvent=function(e,r){if(!jo(r))switch(e){case"click":this.onCellClicked(r);break;case"mousedown":case"touchstart":this.onMouseDown(r);break;case"dblclick":this.onCellDoubleClicked(r);break;case"mouseout":this.onMouseOut(r);break;case"mouseover":this.onMouseOver(r);break}},t.prototype.onCellClicked=function(e){if(this.isDoubleClickOnIPad()){this.onCellDoubleClicked(e),e.preventDefault();return}var r=this.beans,i=r.eventService,o=r.gridOptionsWrapper,a=this.cellCtrl.createEvent(e,x.EVENT_CELL_CLICKED);i.dispatchEvent(a);var s=this.column.getColDef();s.onCellClicked&&window.setTimeout(function(){return s.onCellClicked(a)},0);var l=(o.isSingleClickEdit()||s.singleClickEdit)&&!o.isSuppressClickEdit();l&&this.cellCtrl.startRowOrCellEdit()},t.prototype.isDoubleClickOnIPad=function(){if(!Xc()||fS("dblclick"))return!1;var e=new Date().getTime(),r=e-this.lastIPadMouseClickEvent<200;return this.lastIPadMouseClickEvent=e,r},t.prototype.onCellDoubleClicked=function(e){var r=this.column.getColDef(),i=this.cellCtrl.createEvent(e,x.EVENT_CELL_DOUBLE_CLICKED);this.beans.eventService.dispatchEvent(i),typeof r.onCellDoubleClicked=="function"&&window.setTimeout(function(){return r.onCellDoubleClicked(i)},0);var o=!this.beans.gridOptionsWrapper.isSingleClickEdit()&&!this.beans.gridOptionsWrapper.isSuppressClickEdit();o&&this.cellCtrl.startRowOrCellEdit(null,null,e)},t.prototype.onMouseDown=function(e){var r=e.ctrlKey,i=e.metaKey,o=e.shiftKey,a=e.target,s=this.beans,l=s.eventService,u=s.rangeService;if(!this.isRightClickInExistingRange(e)){var c=u&&u.getCellRanges().length!=0;if(!o||!c){var p=am()&&!this.cellCtrl.isEditing()&&!xM(a);this.cellCtrl.focusCell(p)}if(o&&c&&e.preventDefault(),!this.containsWidget(a)){if(u){var h=this.cellCtrl.getCellPosition();if(o)u.extendLatestRangeToCell(h);else{var d=r||i;u.setRangeToCell(h,d)}}l.dispatchEvent(this.cellCtrl.createEvent(e,x.EVENT_CELL_MOUSE_DOWN))}}},t.prototype.isRightClickInExistingRange=function(e){var r=this.beans.rangeService;if(r){var i=r.isCellInAnyRange(this.cellCtrl.getCellPosition());if(i&&e.button===2)return!0}return!1},t.prototype.containsWidget=function(e){return sm(e,"ag-selection-checkbox",3)},t.prototype.onMouseOut=function(e){if(!this.mouseStayingInsideCell(e)){var r=this.cellCtrl.createEvent(e,x.EVENT_CELL_MOUSE_OUT);this.beans.eventService.dispatchEvent(r),this.beans.columnHoverService.clearMouseOver()}},t.prototype.onMouseOver=function(e){if(!this.mouseStayingInsideCell(e)){var r=this.cellCtrl.createEvent(e,x.EVENT_CELL_MOUSE_OVER);this.beans.eventService.dispatchEvent(r),this.beans.columnHoverService.setMouseOver([this.column])}},t.prototype.mouseStayingInsideCell=function(e){if(!e.target||!e.relatedTarget)return!1;var r=this.cellCtrl.getGui(),i=r.contains(e.target),o=r.contains(e.relatedTarget);return i&&o},t.prototype.destroy=function(){},t}(jS);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v27.3.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */var jj=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Uj=function(n){jj(t,n);function t(e,r,i,o,a){var s=n.call(this)||this;return s.cellCtrl=e,s.beans=r,s.rowNode=o,s.rowCtrl=a,s}return t.prototype.setComp=function(e){this.eGui=e},t.prototype.onKeyDown=function(e){var r=e.key;switch(r){case U.ENTER:this.onEnterKeyDown(e);break;case U.F2:this.onF2KeyDown(e);break;case U.ESCAPE:this.onEscapeKeyDown(e);break;case U.TAB:this.onTabKeyDown(e);break;case U.BACKSPACE:case U.DELETE:this.onBackspaceOrDeleteKeyPressed(r,e);break;case U.DOWN:case U.UP:case U.RIGHT:case U.LEFT:this.onNavigationKeyPressed(e,r);break}},t.prototype.onNavigationKeyPressed=function(e,r){this.cellCtrl.isEditing()||(e.shiftKey&&this.cellCtrl.isRangeSelectionEnabled()?this.onShiftRangeSelect(e):this.beans.navigationService.navigateToNextCell(e,r,this.cellCtrl.getCellPosition(),!0),e.preventDefault())},t.prototype.onShiftRangeSelect=function(e){if(!!this.beans.rangeService){var r=this.beans.rangeService.extendLatestRangeInDirection(e);r&&this.beans.navigationService.ensureCellVisible(r)}},t.prototype.onTabKeyDown=function(e){this.beans.navigationService.onTabKeyDown(this.cellCtrl,e)},t.prototype.onBackspaceOrDeleteKeyPressed=function(e,r){this.cellCtrl.isEditing()||this.cellCtrl.startRowOrCellEdit(e,void 0,r)},t.prototype.onEnterKeyDown=function(e){this.cellCtrl.isEditing()||this.rowCtrl.isEditing()?this.cellCtrl.stopEditingAndFocus():this.beans.gridOptionsWrapper.isEnterMovesDown()?this.beans.navigationService.navigateToNextCell(null,U.DOWN,this.cellCtrl.getCellPosition(),!1):(this.cellCtrl.startRowOrCellEdit(U.ENTER,void 0,e),this.cellCtrl.isEditing()&&e.preventDefault())},t.prototype.onF2KeyDown=function(e){this.cellCtrl.isEditing()||this.cellCtrl.startRowOrCellEdit(U.F2,void 0,e)},t.prototype.onEscapeKeyDown=function(e){this.cellCtrl.isEditing()&&(this.cellCtrl.stopRowOrCellEdit(!0),this.cellCtrl.focusCell(!0))},t.prototype.onKeyPress=function(e){var r=e.target,i=r!==this.eGui;if(!(i||this.cellCtrl.isEditing())){var o=String.fromCharCode(e.charCode);o===" "?this.onSpaceKeyPressed(e):QM(e)&&(this.cellCtrl.startRowOrCellEdit(null,o,e),e.preventDefault())}},t.prototype.onSpaceKeyPressed=function(e){var r=this.beans.gridOptionsWrapper;if(!this.cellCtrl.isEditing()&&r.isRowSelection()){var i=this.rowNode.isSelected(),o=!i;if(o||!r.isSuppressRowDeselection()){var a=this.beans.gridOptionsWrapper.isGroupSelectsFiltered(),s=this.rowNode.setSelectedParams({newValue:o,rangeSelect:e.shiftKey,groupSelectsFiltered:a});i===void 0&&s===0&&this.rowNode.setSelectedParams({newValue:!1,rangeSelect:e.shiftKey,groupSelectsFiltered:a})}}e.preventDefault()},t.prototype.destroy=function(){},t}(j);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v27.3.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */var zj=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),$j=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Kj=function(n){zj(t,n);function t(e,r,i,o){var a=n.call(this,'<div class="ag-drag-handle ag-row-drag" draggable="true"></div>')||this;return a.rowNode=e,a.column=r,a.beans=i,a.eCell=o,a}return t.prototype.postConstruct=function(){var e=this.getGui();e.appendChild(ar("rowDrag",this.beans.gridOptionsWrapper,null)),this.addGuiEventListener("mousedown",function(r){r.stopPropagation()}),this.addDragSource(),this.checkVisibility()},t.prototype.addDragSource=function(){this.addGuiEventListener("dragstart",this.onDragStart.bind(this))},t.prototype.onDragStart=function(e){var r=this,i=this.column.getColDef().dndSourceOnRowDrag;e.dataTransfer.setDragImage(this.eCell,0,0);var o=function(){try{var s=JSON.stringify(r.rowNode.data);e.dataTransfer.setData("application/json",s),e.dataTransfer.setData("text/plain",s)}catch{}};if(i){var a={rowNode:this.rowNode,dragEvent:e,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()};i(a)}else o()},t.prototype.checkVisibility=function(){var e=this.column.isDndSource(this.rowNode);this.setDisplayed(e)},$j([H],t.prototype,"postConstruct",null),t}(te);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v27.3.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */var Yj=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),ov=globalThis&&globalThis.__assign||function(){return ov=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},ov.apply(this,arguments)},Xj="ag-cell",qj="ag-cell-auto-height",Zj="ag-cell-normal-height",Qj="ag-cell-focus",Jj="ag-cell-first-right-pinned",eU="ag-cell-last-left-pinned",PT="ag-cell-not-inline-editing",tU="ag-cell-inline-editing",rU="ag-cell-popup-editing",nU="ag-column-hover",iU="ag-cell-wrap-text",oU=0,Es=function(n){Yj(t,n);function t(e,r,i,o){var a=n.call(this)||this;return a.suppressRefreshCell=!1,a.column=e,a.rowNode=r,a.beans=i,a.rowCtrl=o,a.instanceId=e.getId()+"-"+oU++,a.createCellPosition(),a.addFeatures(),a}return t.prototype.addFeatures=function(){var e=this;this.cellPositionFeature=new kj(this,this.beans),this.addDestroyFunc(function(){return e.cellPositionFeature.destroy()}),this.cellCustomStyleFeature=new Bj(this,this.beans),this.addDestroyFunc(function(){return e.cellCustomStyleFeature.destroy()}),this.cellMouseListenerFeature=new Hj(this,this.beans,this.column),this.addDestroyFunc(function(){return e.cellMouseListenerFeature.destroy()}),this.cellKeyboardListenerFeature=new Uj(this,this.beans,this.column,this.rowNode,this.rowCtrl),this.addDestroyFunc(function(){return e.cellKeyboardListenerFeature.destroy()});var r=this.beans.rangeService&&this.beans.gridOptionsWrapper.isEnableRangeSelection();r&&(this.cellRangeFeature=new Lj(this.beans,this),this.addDestroyFunc(function(){return e.cellRangeFeature.destroy()})),this.addTooltipFeature()},t.prototype.addTooltipFeature=function(){var e=this,r=function(){var o=e.column.getColDef(),a=e.rowNode.data;if(o.tooltipField&&Z(a))return $g(a,o.tooltipField,e.column.isTooltipFieldContainsDots());var s=o.tooltipValueGetter;return s?s({location:"cell",api:e.beans.gridOptionsWrapper.getApi(),columnApi:e.beans.gridOptionsWrapper.getColumnApi(),context:e.beans.gridOptionsWrapper.getContext(),colDef:e.column.getColDef(),column:e.column,rowIndex:e.cellPosition.rowIndex,node:e.rowNode,data:e.rowNode.data,value:e.value,valueFormatted:e.valueFormatted}):null},i={getColumn:function(){return e.column},getColDef:function(){return e.column.getColDef()},getRowIndex:function(){return e.cellPosition.rowIndex},getRowNode:function(){return e.rowNode},getGui:function(){return e.getGui()},getLocation:function(){return"cell"},getTooltipValue:r,getValueFormatted:function(){return e.valueFormatted}};this.tooltipFeature=new HS(i,this.beans),this.addDestroyFunc(function(){return e.tooltipFeature.destroy()})},t.prototype.setComp=function(e,r,i,o,a){this.cellComp=e,this.gow=this.beans.gridOptionsWrapper,this.eGui=r,this.eCellWrapper=i,this.printLayout=o,this.updateAndFormatValue(!0),this.addDomData(),this.onCellFocused(),this.applyStaticCssClasses(),this.setWrapText(),this.onFirstRightPinnedChanged(),this.onLastLeftPinnedChanged(),this.onColumnHover(),this.setupControlComps(),this.setupAutoHeight(),this.setAriaColIndex(),this.gow.isSuppressCellFocus()||this.cellComp.setTabIndex(-1);var s=Xo(this.column.getId());this.cellComp.setColId(s),this.cellComp.setRole("gridcell"),this.cellPositionFeature.setComp(r),this.cellCustomStyleFeature.setComp(e),this.tooltipFeature.setComp(e),this.cellKeyboardListenerFeature.setComp(this.eGui),this.cellRangeFeature&&this.cellRangeFeature.setComp(e,r),a&&this.isCellEditable()?this.startEditing():this.showValue()},t.prototype.setupAutoHeight=function(){var e=this;if(!!this.column.isAutoHeight()){var r=this.eCellWrapper,i=r.parentElement,o=this.beans.gridOptionsWrapper.getRowHeightForNode(this.rowNode).height,a=function(u){if(!e.editing&&!!e.isAlive()){var c=qc(i),p=c.paddingTop,h=c.paddingBottom,d=r.offsetHeight,f=d+p+h;if(u<5){var g=e.beans.gridOptionsWrapper.getDocument(),v=!g||!g.contains(r),m=f==0;if(v||m){e.beans.frameworkOverrides.setTimeout(function(){return a(u+1)},0);return}}var C=Math.max(f,o);e.rowNode.setRowAutoHeight(C,e.column)}},s=function(){return a(0)};s();var l=this.beans.resizeObserverService.observeResize(r,s);this.addDestroyFunc(function(){l(),e.rowNode.setRowAutoHeight(void 0,e.column)})}},t.prototype.getInstanceId=function(){return this.instanceId},t.prototype.showValue=function(e){e===void 0&&(e=!1);var r=this.valueFormatted!=null?this.valueFormatted:this.value,i=this.createCellRendererParams(),o=this.beans.userComponentFactory.getCellRendererDetails(this.column.getColDef(),i);this.cellComp.setRenderDetails(o,r,e),this.refreshHandle()},t.prototype.setupControlComps=function(){var e=this.column.getColDef();this.includeSelection=this.isIncludeControl(e.checkboxSelection),this.includeRowDrag=this.isIncludeControl(e.rowDrag),this.includeDndSource=this.isIncludeControl(e.dndSource),this.cellComp.setIncludeSelection(this.includeSelection),this.cellComp.setIncludeDndSource(this.includeDndSource),this.cellComp.setIncludeRowDrag(this.includeRowDrag)},t.prototype.isForceWrapper=function(){var e=this.beans.gridOptionsWrapper.isEnableCellTextSelection()||this.column.isAutoHeight();return e},t.prototype.isIncludeControl=function(e){var r=this.rowNode.rowPinned!=null,i=typeof e=="function",o=r?!1:i||e===!0;return o},t.prototype.refreshShouldDestroy=function(){var e=this.column.getColDef(),r=this.includeSelection!=this.isIncludeControl(e.checkboxSelection),i=this.includeRowDrag!=this.isIncludeControl(e.rowDrag),o=this.includeDndSource!=this.isIncludeControl(e.dndSource);return r||i||o},t.prototype.startEditing=function(e,r,i,o){e===void 0&&(e=null),r===void 0&&(r=null),i===void 0&&(i=!1),o===void 0&&(o=null);var a,s;if(!(!this.isCellEditable()||this.editing)){var l=this.createCellEditorParams(e,r,i),u=this.column.getColDef(),c=this.beans.userComponentFactory.getCellEditorDetails(u,l),p=((a=c)===null||a===void 0?void 0:a.popupFromSelector)!=null?c.popupFromSelector:!!u.cellEditorPopup,h=((s=c)===null||s===void 0?void 0:s.popupPositionFromSelector)!=null?c.popupPositionFromSelector:u.cellEditorPopupPosition;this.setEditing(!0,p),this.cellComp.setEditDetails(c,p,h);var d=this.createEvent(o,x.EVENT_CELL_EDITING_STARTED);this.beans.eventService.dispatchEvent(d)}},t.prototype.setEditing=function(e,r){r===void 0&&(r=!1),this.editing!==e&&(this.editing=e,this.editingInPopup=r,this.setInlineEditingClass())},t.prototype.stopRowOrCellEdit=function(e){e===void 0&&(e=!1),this.beans.gridOptionsWrapper.isFullRowEdit()?this.rowCtrl.stopRowEditing(e):this.stopEditing(e)},t.prototype.onPopupEditorClosed=function(){!this.isEditing()||this.stopEditingAndFocus()},t.prototype.takeValueFromCellEditor=function(e){var r={newValueExists:!1};if(e)return r;var i=this.cellComp.getCellEditor();if(!i)return r;var o=i.isCancelAfterEnd&&i.isCancelAfterEnd();if(o)return r;var a=i.getValue();return{newValue:a,newValueExists:!0}},t.prototype.saveNewValue=function(e,r){if(r===e)return!1;if(this.beans.gridOptionsWrapper.isReadOnlyEdit())return this.dispatchEventForSaveValueReadOnly(e,r),!1;this.suppressRefreshCell=!0;var i=this.rowNode.setDataValue(this.column,r);return this.suppressRefreshCell=!1,i},t.prototype.dispatchEventForSaveValueReadOnly=function(e,r){var i=this.rowNode,o={type:x.EVENT_CELL_EDIT_REQUEST,event:null,rowIndex:i.rowIndex,rowPinned:i.rowPinned,column:this.column,api:this.beans.gridApi,columnApi:this.beans.columnApi,colDef:this.column.getColDef(),context:this.beans.gridOptionsWrapper.getContext(),data:i.data,node:i,oldValue:e,newValue:r,value:r,source:void 0};this.beans.eventService.dispatchEvent(o)},t.prototype.stopEditing=function(e){if(e===void 0&&(e=!1),!this.editing)return!1;var r=this.takeValueFromCellEditor(e),i=r.newValue,o=r.newValueExists,a=this.getValueFromValueService(),s=!1;return o&&(s=this.saveNewValue(a,i)),this.setEditing(!1),this.cellComp.setEditDetails(),this.updateAndFormatValue(),this.refreshCell({forceRefresh:!0,suppressFlash:!0}),this.dispatchEditingStoppedEvent(a,i),s},t.prototype.dispatchEditingStoppedEvent=function(e,r){var i=ov(ov({},this.createEvent(null,x.EVENT_CELL_EDITING_STOPPED)),{oldValue:e,newValue:r});this.beans.eventService.dispatchEvent(i)},t.prototype.setInlineEditingClass=function(){if(!!this.isAlive()){var e=this.editing&&!this.editingInPopup,r=this.editing&&this.editingInPopup;this.cellComp.addOrRemoveCssClass(tU,e),this.cellComp.addOrRemoveCssClass(PT,!e),this.cellComp.addOrRemoveCssClass(rU,r),this.rowCtrl.setInlineEditingCss(this.editing)}},t.prototype.hackSayEditingInPopup=function(){this.editingInPopup||(this.editingInPopup=!0,this.setInlineEditingClass())},t.prototype.createCellEditorParams=function(e,r,i){var o={value:this.getValueFromValueService(),key:e,eventKey:e,charPress:r,column:this.column,colDef:this.column.getColDef(),rowIndex:this.getCellPosition().rowIndex,node:this.rowNode,data:this.rowNode.data,api:this.beans.gridOptionsWrapper.getApi(),cellStartedEdit:i,columnApi:this.beans.gridOptionsWrapper.getColumnApi(),context:this.beans.gridOptionsWrapper.getContext(),onKeyDown:this.onKeyDown.bind(this),stopEditing:this.stopEditingAndFocus.bind(this),eGridCell:this.getGui(),parseValue:this.parseValue.bind(this),formatValue:this.formatValue.bind(this)};return o},t.prototype.createCellRendererParams=function(){var e=this,r=function(o,a){console.warn("AG Grid: since AG Grid v26, params.addRowCompListener() is deprecated. If you need this functionality, please contact AG Grid support and advise why so that we can revert with an appropriate workaround, as we dont have any valid use cases for it. This method was originally provided as a work around to know when cells were destroyed in AG Grid before custom Cell Renderers could be provided."),e.rowCtrl.addEventListener(o,a)},i={value:this.value,valueFormatted:this.valueFormatted,getValue:this.getValueFromValueService.bind(this),setValue:function(o){return e.beans.valueService.setValue(e.rowNode,e.column,o)},formatValue:this.formatValue.bind(this),data:this.rowNode.data,node:this.rowNode,colDef:this.column.getColDef(),column:this.column,rowIndex:this.getCellPosition().rowIndex,api:this.beans.gridOptionsWrapper.getApi(),columnApi:this.beans.gridOptionsWrapper.getColumnApi(),context:this.beans.gridOptionsWrapper.getContext(),refreshCell:this.refreshCell.bind(this),eGridCell:this.getGui(),eParentOfValue:this.cellComp.getParentOfValue(),registerRowDragger:function(o,a,s,l){return e.registerRowDragger(o,a,l)},addRowCompListener:r};return i},t.prototype.parseValue=function(e){var r=this.column.getColDef(),i={node:this.rowNode,data:this.rowNode.data,oldValue:this.getValue(),newValue:e,colDef:r,column:this.column,api:this.beans.gridOptionsWrapper.getApi(),columnApi:this.beans.gridOptionsWrapper.getColumnApi(),context:this.beans.gridOptionsWrapper.getContext()},o=r.valueParser;return Z(o)?this.beans.expressionService.evaluate(o,i):e},t.prototype.setFocusOutOnEditor=function(){if(!!this.editing){var e=this.cellComp.getCellEditor();e&&e.focusOut&&e.focusOut()}},t.prototype.setFocusInOnEditor=function(){if(!!this.editing){var e=this.cellComp.getCellEditor();e&&e.focusIn?e.focusIn():this.focusCell(!0)}},t.prototype.onCellChanged=function(e){if(!!this.cellComp){var r=e.column===this.column;r&&this.refreshCell({})}},t.prototype.refreshCell=function(e){if(!(this.suppressRefreshCell||this.editing)&&!!this.cellComp){var r=this.column.getColDef(),i=e!=null&&!!e.newData,o=e!=null&&!!e.suppressFlash||!!r.suppressCellFlash,a=r.field==null&&r.valueGetter==null&&r.showRowGroup==null,s=e&&e.forceRefresh||a||i,l=this.updateAndFormatValue(),u=s||l;if(u){this.showValue(i);var c=this.beans.filterManager.isSuppressFlashingCellsBecauseFiltering(),p=!o&&!c&&(this.beans.gridOptionsWrapper.isEnableCellChangeFlash()||r.enableCellChangeFlash);p&&this.flashCell(),this.cellCustomStyleFeature.applyUserStyles(),this.cellCustomStyleFeature.applyClassesFromColDef()}this.refreshToolTip(),this.cellCustomStyleFeature.applyCellClassRules()}},t.prototype.stopEditingAndFocus=function(e){e===void 0&&(e=!1),this.stopRowOrCellEdit(),this.focusCell(!0),e||this.navigateAfterEdit()},t.prototype.navigateAfterEdit=function(){var e=this.beans.gridOptionsWrapper.isFullRowEdit();if(!e){var r=this.beans.gridOptionsWrapper.isEnterMovesDownAfterEdit();r&&this.beans.navigationService.navigateToNextCell(null,U.DOWN,this.getCellPosition(),!1)}},t.prototype.flashCell=function(e){var r=e&&e.flashDelay,i=e&&e.fadeDelay;this.animateCell("data-changed",r,i)},t.prototype.animateCell=function(e,r,i){var o=this,a="ag-cell-"+e,s="ag-cell-"+e+"-animation",l=this.beans.gridOptionsWrapper;r||(r=l.getCellFlashDelay()),Z(i)||(i=l.getCellFadeDelay()),this.cellComp.addOrRemoveCssClass(a,!0),this.cellComp.addOrRemoveCssClass(s,!1),window.setTimeout(function(){o.cellComp.addOrRemoveCssClass(a,!1),o.cellComp.addOrRemoveCssClass(s,!0),o.eGui.style.transition="background-color "+i+"ms",window.setTimeout(function(){o.cellComp.addOrRemoveCssClass(s,!1),o.eGui.style.transition=""},i)},r)},t.prototype.onFlashCells=function(e){if(!!this.cellComp){var r=this.beans.cellPositionUtils.createId(this.getCellPosition()),i=e.cells[r];i&&this.animateCell("highlight")}},t.prototype.isCellEditable=function(){return this.column.isCellEditable(this.rowNode)},t.prototype.isSuppressFillHandle=function(){return this.column.isSuppressFillHandle()},t.prototype.formatValue=function(e){var r=this.callValueFormatter(e);return r!=null?r:e},t.prototype.callValueFormatter=function(e){return this.beans.valueFormatterService.formatValue(this.column,this.rowNode,e)},t.prototype.updateAndFormatValue=function(e){e===void 0&&(e=!1);var r=this.value,i=this.valueFormatted;this.value=this.getValueFromValueService(),this.valueFormatted=this.callValueFormatter(this.value);var o=e?!0:!this.valuesAreEqual(r,this.value)||this.valueFormatted!=i;return o},t.prototype.valuesAreEqual=function(e,r){var i=this.column.getColDef();return i.equals?i.equals(e,r):e===r},t.prototype.getComp=function(){return this.cellComp},t.prototype.getValueFromValueService=function(){var e=this.rowNode.leafGroup&&this.beans.columnModel.isPivotMode(),r=this.rowNode.group&&this.rowNode.expanded&&!this.rowNode.footer&&!e,i=this.beans.gridOptionsWrapper.isGroupIncludeFooter(),o=this.beans.gridOptionsWrapper.isGroupSuppressBlankHeader(),a=r&&i&&!o,s=this.beans.valueService.getValue(this.column,this.rowNode,!1,a);return s},t.prototype.getValue=function(){return this.value},t.prototype.getValueFormatted=function(){return this.valueFormatted},t.prototype.addDomData=function(){var e=this,r=this.getGui();this.beans.gridOptionsWrapper.setDomData(r,t.DOM_DATA_KEY_CELL_CTRL,this),this.addDestroyFunc(function(){return e.beans.gridOptionsWrapper.setDomData(r,t.DOM_DATA_KEY_CELL_CTRL,null)})},t.prototype.createEvent=function(e,r){var i={type:r,node:this.rowNode,data:this.rowNode.data,value:this.value,column:this.column,colDef:this.column.getColDef(),context:this.beans.gridOptionsWrapper.getContext(),api:this.beans.gridApi,columnApi:this.beans.columnApi,rowPinned:this.rowNode.rowPinned,event:e,rowIndex:this.rowNode.rowIndex};return i},t.prototype.onKeyPress=function(e){this.cellKeyboardListenerFeature.onKeyPress(e)},t.prototype.onKeyDown=function(e){this.cellKeyboardListenerFeature.onKeyDown(e)},t.prototype.onMouseEvent=function(e,r){this.cellMouseListenerFeature.onMouseEvent(e,r)},t.prototype.getGui=function(){return this.eGui},t.prototype.refreshToolTip=function(){this.tooltipFeature.refreshToolTip()},t.prototype.getColSpanningList=function(){return this.cellPositionFeature.getColSpanningList()},t.prototype.onLeftChanged=function(){!this.cellComp||this.cellPositionFeature.onLeftChanged()},t.prototype.onDisplayedColumnsChanged=function(){!this.eGui||this.setAriaColIndex()},t.prototype.setAriaColIndex=function(){var e=this.beans.columnModel.getAriaColumnIndex(this.column);DS(this.getGui(),e)},t.prototype.isSuppressNavigable=function(){return this.column.isSuppressNavigable(this.rowNode)},t.prototype.onWidthChanged=function(){return this.cellPositionFeature.onWidthChanged()},t.prototype.getColumn=function(){return this.column},t.prototype.getRowNode=function(){return this.rowNode},t.prototype.getBeans=function(){return this.beans},t.prototype.isPrintLayout=function(){return this.printLayout},t.prototype.appendChild=function(e){this.eGui.appendChild(e)},t.prototype.refreshHandle=function(){this.editing||this.cellRangeFeature&&this.cellRangeFeature.refreshHandle()},t.prototype.getCellPosition=function(){return this.cellPosition},t.prototype.isEditing=function(){return this.editing},t.prototype.startRowOrCellEdit=function(e,r,i){i===void 0&&(i=null),this.beans.gridOptionsWrapper.isFullRowEdit()?this.rowCtrl.startRowEditing(e,r,this):this.startEditing(e,r,!0,i)},t.prototype.getRowCtrl=function(){return this.rowCtrl},t.prototype.getRowPosition=function(){return{rowIndex:this.cellPosition.rowIndex,rowPinned:this.cellPosition.rowPinned}},t.prototype.updateRangeBordersIfRangeCount=function(){!this.cellComp||this.cellRangeFeature&&this.cellRangeFeature.updateRangeBordersIfRangeCount()},t.prototype.onRangeSelectionChanged=function(){!this.cellComp||this.cellRangeFeature&&this.cellRangeFeature.onRangeSelectionChanged()},t.prototype.isRangeSelectionEnabled=function(){return this.cellRangeFeature!=null},t.prototype.focusCell=function(e){e===void 0&&(e=!1),this.beans.focusService.setFocusedCell(this.getCellPosition().rowIndex,this.column,this.rowNode.rowPinned,e)},t.prototype.onRowIndexChanged=function(){this.createCellPosition(),this.onCellFocused(),this.cellRangeFeature&&this.cellRangeFeature.onRangeSelectionChanged()},t.prototype.onFirstRightPinnedChanged=function(){if(!!this.cellComp){var e=this.column.isFirstRightPinned();this.cellComp.addOrRemoveCssClass(Jj,e)}},t.prototype.onLastLeftPinnedChanged=function(){if(!!this.cellComp){var e=this.column.isLastLeftPinned();this.cellComp.addOrRemoveCssClass(eU,e)}},t.prototype.onCellFocused=function(e){if(!(!this.cellComp||this.gow.isSuppressCellFocus())){var r=this.beans.focusService.isCellFocused(this.cellPosition);if(this.cellComp.addOrRemoveCssClass(Qj,r),r&&e&&e.forceBrowserFocus){var i=this.cellComp.getFocusableElement();i.focus()}var o=this.beans.gridOptionsWrapper.isFullRowEdit();!r&&!o&&this.editing&&this.stopRowOrCellEdit()}},t.prototype.createCellPosition=function(){this.cellPosition={rowIndex:this.rowNode.rowIndex,rowPinned:Ts(this.rowNode.rowPinned),column:this.column}},t.prototype.applyStaticCssClasses=function(){this.cellComp.addOrRemoveCssClass(Xj,!0),this.cellComp.addOrRemoveCssClass(PT,!0);var e=this.column.isAutoHeight()==!0;this.cellComp.addOrRemoveCssClass(qj,e),this.cellComp.addOrRemoveCssClass(Zj,!e)},t.prototype.onColumnHover=function(){if(!!this.cellComp&&!!this.beans.gridOptionsWrapper.isColumnHoverHighlight()){var e=this.beans.columnHoverService.isHovered(this.column);this.cellComp.addOrRemoveCssClass(nU,e)}},t.prototype.onNewColumnsLoaded=function(){!this.cellComp||(this.setWrapText(),this.editing||this.refreshCell({forceRefresh:!0,suppressFlash:!0}))},t.prototype.setWrapText=function(){var e=this.column.getColDef().wrapText==!0;this.cellComp.addOrRemoveCssClass(iU,e)},t.prototype.dispatchCellContextMenuEvent=function(e){var r=this.column.getColDef(),i=this.createEvent(e,x.EVENT_CELL_CONTEXT_MENU);this.beans.eventService.dispatchEvent(i),r.onCellContextMenu&&window.setTimeout(function(){return r.onCellContextMenu(i)},0)},t.prototype.getCellRenderer=function(){return this.cellComp?this.cellComp.getCellRenderer():null},t.prototype.getCellEditor=function(){return this.cellComp?this.cellComp.getCellEditor():null},t.prototype.destroy=function(){n.prototype.destroy.call(this)},t.prototype.createSelectionCheckbox=function(){var e=new BS;return this.beans.context.createBean(e),e.init({rowNode:this.rowNode,column:this.column}),e},t.prototype.createDndSource=function(){var e=new Kj(this.rowNode,this.column,this.beans,this.eGui);return this.beans.context.createBean(e),e},t.prototype.registerRowDragger=function(e,r,i){var o=this;if(this.customRowDragComp){this.customRowDragComp.setDragElement(e,r);return}var a=this.createRowDragComp(e,r,i);a&&(this.customRowDragComp=a,this.addDestroyFunc(function(){return o.beans.context.destroyBean(a)}))},t.prototype.createRowDragComp=function(e,r,i){var o=this,a=this.beans.gridOptionsWrapper.isPagination(),s=this.beans.gridOptionsWrapper.isRowDragManaged(),l=this.beans.gridOptionsWrapper.isRowModelDefault();if(s){if(!l){ct(function(){return console.warn("AG Grid: managed row dragging is only allowed in the Client Side Row Model")},"CellComp.addRowDragging");return}if(a){ct(function(){return console.warn("AG Grid: managed row dragging is not possible when doing pagination")},"CellComp.addRowDragging");return}}var u=new tv(function(){return o.value},this.rowNode,this.column,e,r,i);return this.beans.context.createBean(u),u},t.DOM_DATA_KEY_CELL_CTRL="cellCtrl",t}(j);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v27.3.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */var aU=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),sU=globalThis&&globalThis.__read||function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},lU=globalThis&&globalThis.__spread||function(){for(var n=[],t=0;t<arguments.length;t++)n=n.concat(sU(arguments[t]));return n},Cn;(function(n){n.Normal="Normal",n.FullWidth="FullWidth",n.FullWidthLoading="FullWidthLoading",n.FullWidthGroup="FullWidthGroup",n.FullWidthDetail="FullWidthDetail"})(Cn||(Cn={}));var uU=0,Rs=function(n){aU(t,n);function t(e,r,i,o,a){var s=n.call(this)||this;return s.allRowGuis=[],s.active=!0,s.centerCellCtrls={list:[],map:{}},s.leftCellCtrls={list:[],map:{}},s.rightCellCtrls={list:[],map:{}},s.lastMouseDownOnDragger=!1,s.updateColumnListsPending=!1,s.beans=r,s.rowNode=e,s.paginationPage=s.beans.paginationProxy.getCurrentPage(),s.useAnimationFrameForCreate=o,s.printLayout=a,s.instanceId=e.id+"-"+uU++,s.setAnimateFlags(i),s.rowFocused=s.beans.focusService.isRowFocused(s.rowNode.rowIndex,s.rowNode.rowPinned),s.rowLevel=s.beans.rowCssClassCalculator.calculateRowLevel(s.rowNode),s.setRowType(),s.addListeners(),s.setInitialRowTop(),s}return t.prototype.getBeans=function(){return this.beans},t.prototype.getInstanceId=function(){return this.instanceId},t.prototype.setComp=function(e,r,i){var o={rowComp:e,element:r,containerType:i};this.allRowGuis.push(o),i===xn.LEFT?this.leftGui=o:i===xn.RIGHT?this.rightGui=o:i===xn.FULL_WIDTH?this.fullWidthGui=o:this.centerGui=o;var a=this.leftGui!=null&&this.rightGui!=null&&this.centerGui!=null,s=this.fullWidthGui!=null;(a||s)&&this.initialiseRowComps()},t.prototype.isCacheable=function(){return this.rowType===Cn.FullWidthDetail&&this.beans.gridOptionsWrapper.isKeepDetailRows()},t.prototype.setCached=function(e){var r=e?"none":"";this.allRowGuis.forEach(function(i){return i.element.style.display=r})},t.prototype.initialiseRowComps=function(){var e=this,r=this.beans.gridOptionsWrapper;this.onRowHeightChanged(),this.updateRowIndexes(),this.setFocusedClasses(),this.setStylesFromGridOptions(),r.isRowSelection()&&this.rowNode.selectable&&this.onRowSelected(),this.updateColumnLists(!this.useAnimationFrameForCreate),this.slideRowIn&&ow(this.onTopChanged.bind(this)),this.fadeRowIn&&ow(function(){e.allRowGuis.forEach(function(s){return s.rowComp.addOrRemoveCssClass("ag-opacity-zero",!1)})});var i=this.getRowBusinessKey(),o=Xo(this.rowNode.id),a=Xo(i);this.allRowGuis.forEach(function(s){var l=s.rowComp;l.setRole("row");var u=e.getInitialRowClasses(s.containerType);u.forEach(function(c){return l.addOrRemoveCssClass(c,!0)}),e.rowNode.group&&ti(s.element,e.rowNode.expanded==!0),o!=null&&l.setRowId(o),a!=null&&l.setRowBusinessKey(a),e.isFullWidth()&&!e.beans.gridOptionsWrapper.isSuppressCellFocus()&&l.setTabIndex(-1),r.setDomData(s.element,t.DOM_DATA_KEY_ROW_CTRL,e),e.addDestroyFunc(function(){return r.setDomData(s.element,t.DOM_DATA_KEY_ROW_CTRL,null)}),e.useAnimationFrameForCreate?e.beans.animationFrameService.createTask(e.addHoverFunctionality.bind(e,s.element),e.rowNode.rowIndex,"createTasksP2"):e.addHoverFunctionality(s.element),e.isFullWidth()&&e.setupFullWidth(s),r.isRowDragEntireRow()&&e.addRowDraggerToRow(s),e.useAnimationFrameForCreate&&e.beans.animationFrameService.addDestroyTask(function(){!e.isAlive()||s.rowComp.addOrRemoveCssClass("ag-after-created",!0)})}),this.executeProcessRowPostCreateFunc()},t.prototype.addRowDraggerToRow=function(e){var r=this.beans.gridOptionsWrapper;if(r.isEnableRangeSelection()){ct(function(){console.warn("AG Grid: Setting `rowDragEntireRow: true` in the gridOptions doesn't work with `enableRangeSelection: true`")},"rowDragAndRangeSelectionEnabled");return}var i=new tv(function(){return"1 row"},this.rowNode,void 0,e.element,void 0,!0);this.createManagedBean(i,this.beans.context)},t.prototype.setupFullWidth=function(e){var r=this.getPinnedForContainer(e.containerType),i=this.createFullWidthParams(e.element,r),o=ve.isRegistered(ae.MasterDetailModule);if(this.rowType==Cn.FullWidthDetail&&!o){ve.isPackageBased()?console.warn("AG Grid: cell renderer 'agDetailCellRenderer' (for master detail) not found. Can only be used with ag-grid-enterprise package."):console.warn("AG Grid: cell renderer 'agDetailCellRenderer' (for master detail) not found. Can only be used with AG Grid Enterprise Module "+ae.MasterDetailModule);return}var a;switch(this.rowType){case Cn.FullWidthDetail:a=this.beans.userComponentFactory.getFullWidthDetailCellRendererDetails(i);break;case Cn.FullWidthGroup:a=this.beans.userComponentFactory.getFullWidthGroupCellRendererDetails(i);break;case Cn.FullWidthLoading:a=this.beans.userComponentFactory.getFullWidthLoadingCellRendererDetails(i);break;default:a=this.beans.userComponentFactory.getFullWidthCellRendererDetails(i);break}e.rowComp.showFullWidth(a)},t.prototype.isPrintLayout=function(){return this.printLayout},t.prototype.getCellElement=function(e){var r=this.getCellCtrl(e);return r?r.getGui():null},t.prototype.executeProcessRowPostCreateFunc=function(){var e=this.beans.gridOptionsWrapper.getProcessRowPostCreateFunc();if(!!e){var r={eRow:this.centerGui?this.centerGui.element:void 0,ePinnedLeftRow:this.leftGui?this.leftGui.element:void 0,ePinnedRightRow:this.rightGui?this.rightGui.element:void 0,node:this.rowNode,rowIndex:this.rowNode.rowIndex,addRenderedRowListener:this.addEventListener.bind(this)};e(r)}},t.prototype.setRowType=function(){var e=this.rowNode.stub,r=this.rowNode.isFullWidthCell(),i=this.beans.doingMasterDetail&&this.rowNode.detail,o=this.beans.columnModel.isPivotMode(),a=!!this.rowNode.group&&!this.rowNode.footer,s=a&&this.beans.gridOptionsWrapper.isGroupUseEntireRow(o);e?this.rowType=Cn.FullWidthLoading:i?this.rowType=Cn.FullWidthDetail:r?this.rowType=Cn.FullWidth:s?this.rowType=Cn.FullWidthGroup:this.rowType=Cn.Normal},t.prototype.updateColumnLists=function(e){var r=this;if(e===void 0&&(e=!1),!this.isFullWidth()){var i=e||this.beans.gridOptionsWrapper.isSuppressAnimationFrame()||this.printLayout;if(i){this.updateColumnListsImpl();return}this.updateColumnListsPending||(this.beans.animationFrameService.createTask(function(){!r.active||r.updateColumnListsImpl()},this.rowNode.rowIndex,"createTasksP1"),this.updateColumnListsPending=!0)}},t.prototype.createCellCtrls=function(e,r,i){var o=this;i===void 0&&(i=null);var a={list:[],map:{}},s=function(l,u){a.list.push(u),a.map[l]=u};return r.forEach(function(l){var u=l.getInstanceId(),c=e.map[u];c||(c=new Es(l,o.rowNode,o.beans,o)),s(u,c)}),e.list.forEach(function(l){var u=a.map[l.getColumn().getInstanceId()]!=null;if(!u){var c=!o.isCellEligibleToBeRemoved(l,i);if(c){s(l.getColumn().getInstanceId(),l);return}l.destroy()}}),a},t.prototype.updateColumnListsImpl=function(){var e=this;this.updateColumnListsPending=!1;var r=this.beans.columnModel;if(this.printLayout)this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,r.getAllDisplayedColumns()),this.leftCellCtrls={list:[],map:{}},this.rightCellCtrls={list:[],map:{}};else{var i=r.getViewportCenterColumnsForRow(this.rowNode);this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,i);var o=r.getDisplayedLeftColumnsForRow(this.rowNode);this.leftCellCtrls=this.createCellCtrls(this.leftCellCtrls,o,L.PINNED_LEFT);var a=r.getDisplayedRightColumnsForRow(this.rowNode);this.rightCellCtrls=this.createCellCtrls(this.rightCellCtrls,a,L.PINNED_RIGHT)}this.allRowGuis.forEach(function(s){var l=s.containerType===xn.LEFT?e.leftCellCtrls:s.containerType===xn.RIGHT?e.rightCellCtrls:e.centerCellCtrls;s.rowComp.setCellCtrls(l.list)})},t.prototype.isCellEligibleToBeRemoved=function(e,r){var i=!0,o=!1,a=e.getColumn();if(a.getPinned()!=r)return i;var s=e.isEditing(),l=this.beans.focusService.isCellFocused(e.getCellPosition()),u=s||l;if(u){var c=e.getColumn(),p=this.beans.columnModel.getAllDisplayedColumns(),h=p.indexOf(c)>=0;return h?o:i}return i},t.prototype.setAnimateFlags=function(e){if(e){var r=Z(this.rowNode.oldRowTop);this.slideRowIn=r,this.fadeRowIn=!r}else this.slideRowIn=!1,this.fadeRowIn=!1},t.prototype.isEditing=function(){return this.editingRow},t.prototype.stopRowEditing=function(e){this.stopEditing(e)},t.prototype.isFullWidth=function(){return this.rowType!==Cn.Normal},t.prototype.getRowType=function(){return this.rowType},t.prototype.refreshFullWidth=function(){var e=this,r=function(u,c){if(!u)return!0;var p=u.rowComp.getFullWidthCellRenderer();if(!p||!p.refresh)return!1;var h=e.createFullWidthParams(u.element,c),d=p.refresh(h);return d},i=r(this.fullWidthGui,null),o=r(this.centerGui,null),a=r(this.leftGui,L.PINNED_LEFT),s=r(this.rightGui,L.PINNED_RIGHT),l=i&&o&&a&&s;return l},t.prototype.addListeners=function(){this.addManagedListener(this.rowNode,Ee.EVENT_HEIGHT_CHANGED,this.onRowHeightChanged.bind(this)),this.addManagedListener(this.rowNode,Ee.EVENT_ROW_SELECTED,this.onRowSelected.bind(this)),this.addManagedListener(this.rowNode,Ee.EVENT_ROW_INDEX_CHANGED,this.onRowIndexChanged.bind(this)),this.addManagedListener(this.rowNode,Ee.EVENT_TOP_CHANGED,this.onTopChanged.bind(this)),this.addManagedListener(this.rowNode,Ee.EVENT_EXPANDED_CHANGED,this.updateExpandedCss.bind(this)),this.addManagedListener(this.rowNode,Ee.EVENT_HAS_CHILDREN_CHANGED,this.updateExpandedCss.bind(this)),this.addManagedListener(this.rowNode,Ee.EVENT_DATA_CHANGED,this.onRowNodeDataChanged.bind(this)),this.addManagedListener(this.rowNode,Ee.EVENT_CELL_CHANGED,this.onRowNodeCellChanged.bind(this)),this.addManagedListener(this.rowNode,Ee.EVENT_HIGHLIGHT_CHANGED,this.onRowNodeHighlightChanged.bind(this)),this.addManagedListener(this.rowNode,Ee.EVENT_DRAGGING_CHANGED,this.onRowNodeDraggingChanged.bind(this)),this.addManagedListener(this.rowNode,Ee.EVENT_UI_LEVEL_CHANGED,this.onUiLevelChanged.bind(this));var e=this.beans.eventService;this.addManagedListener(e,x.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED,this.onPaginationPixelOffsetChanged.bind(this)),this.addManagedListener(e,x.EVENT_HEIGHT_SCALE_CHANGED,this.onTopChanged.bind(this)),this.addManagedListener(e,x.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(e,x.EVENT_VIRTUAL_COLUMNS_CHANGED,this.onVirtualColumnsChanged.bind(this)),this.addManagedListener(e,x.EVENT_CELL_FOCUSED,this.onCellFocusChanged.bind(this)),this.addManagedListener(e,x.EVENT_PAGINATION_CHANGED,this.onPaginationChanged.bind(this)),this.addManagedListener(e,x.EVENT_MODEL_UPDATED,this.onModelUpdated.bind(this)),this.addManagedListener(e,x.EVENT_COLUMN_MOVED,this.onColumnMoved.bind(this)),this.addListenersForCellComps()},t.prototype.onColumnMoved=function(){this.updateColumnLists()},t.prototype.addListenersForCellComps=function(){var e=this;this.addManagedListener(this.rowNode,Ee.EVENT_ROW_INDEX_CHANGED,function(){e.getAllCellCtrls().forEach(function(r){return r.onRowIndexChanged()})}),this.addManagedListener(this.rowNode,Ee.EVENT_CELL_CHANGED,function(r){e.getAllCellCtrls().forEach(function(i){return i.onCellChanged(r)})})},t.prototype.onRowNodeDataChanged=function(e){this.getAllCellCtrls().forEach(function(r){return r.refreshCell({suppressFlash:!e.update,newData:!e.update})}),this.onRowSelected(),this.postProcessCss()},t.prototype.onRowNodeCellChanged=function(){this.postProcessCss()},t.prototype.postProcessCss=function(){this.setStylesFromGridOptions(),this.postProcessClassesFromGridOptions(),this.postProcessRowClassRules(),this.postProcessRowDragging()},t.prototype.onRowNodeHighlightChanged=function(){var e=this.rowNode.highlighted;this.allRowGuis.forEach(function(r){var i=e===Uo.Above,o=e===Uo.Below;r.rowComp.addOrRemoveCssClass("ag-row-highlight-above",i),r.rowComp.addOrRemoveCssClass("ag-row-highlight-below",o)})},t.prototype.onRowNodeDraggingChanged=function(){this.postProcessRowDragging()},t.prototype.postProcessRowDragging=function(){var e=this.rowNode.dragging;this.allRowGuis.forEach(function(r){return r.rowComp.addOrRemoveCssClass("ag-row-dragging",e)})},t.prototype.updateExpandedCss=function(){var e=this.rowNode.isExpandable(),r=this.rowNode.expanded==!0;this.allRowGuis.forEach(function(i){i.rowComp.addOrRemoveCssClass("ag-row-group",e),i.rowComp.addOrRemoveCssClass("ag-row-group-expanded",e&&r),i.rowComp.addOrRemoveCssClass("ag-row-group-contracted",e&&!r),ti(i.element,e&&r)})},t.prototype.onDisplayedColumnsChanged=function(){this.updateColumnLists(!0),this.beans.columnModel.wasAutoRowHeightEverActive()&&this.rowNode.checkAutoHeights()},t.prototype.onVirtualColumnsChanged=function(){this.updateColumnLists()},t.prototype.getRowPosition=function(){return{rowPinned:Ts(this.rowNode.rowPinned),rowIndex:this.rowNode.rowIndex}},t.prototype.onKeyboardNavigate=function(e){var r=this.allRowGuis.find(function(u){return u.element.contains(e.target)}),i=r?r.element:null,o=i===e.target;if(!!o){var a=this.rowNode,s=this.beans.focusService.getFocusedCell(),l={rowIndex:a.rowIndex,rowPinned:a.rowPinned,column:s&&s.column};this.beans.navigationService.navigateToNextCell(e,e.key,l,!0),e.preventDefault()}},t.prototype.onTabKeyDown=function(e){if(!(e.defaultPrevented||jo(e))){var r=this.allRowGuis.find(function(s){return s.element.contains(e.target)}),i=r?r.element:null,o=i===e.target,a=null;o||(a=this.beans.focusService.findNextFocusableElement(i,!1,e.shiftKey)),(this.isFullWidth()&&o||!a)&&this.beans.navigationService.onTabKeyDown(this,e)}},t.prototype.onFullWidthRowFocused=function(e){var r,i=this.rowNode,o=this.isFullWidth()&&e.rowIndex===i.rowIndex&&e.rowPinned==i.rowPinned,a=this.fullWidthGui?this.fullWidthGui.element:(r=this.centerGui)===null||r===void 0?void 0:r.element;!a||(a.classList.toggle("ag-full-width-focus",o),o&&a.focus({preventScroll:!0}))},t.prototype.refreshCell=function(e){this.centerCellCtrls=this.removeCellCtrl(this.centerCellCtrls,e),this.leftCellCtrls=this.removeCellCtrl(this.leftCellCtrls,e),this.rightCellCtrls=this.removeCellCtrl(this.rightCellCtrls,e),this.updateColumnLists()},t.prototype.removeCellCtrl=function(e,r){var i={list:[],map:{}};return e.list.forEach(function(o){o!==r&&(i.list.push(o),i.map[o.getInstanceId()]=o)}),i},t.prototype.onMouseEvent=function(e,r){switch(e){case"dblclick":this.onRowDblClick(r);break;case"click":this.onRowClick(r);break;case"touchstart":case"mousedown":this.onRowMouseDown(r);break}},t.prototype.createRowEvent=function(e,r){return{type:e,node:this.rowNode,data:this.rowNode.data,rowIndex:this.rowNode.rowIndex,rowPinned:this.rowNode.rowPinned,context:this.beans.gridOptionsWrapper.getContext(),api:this.beans.gridOptionsWrapper.getApi(),columnApi:this.beans.gridOptionsWrapper.getColumnApi(),event:r}},t.prototype.createRowEventWithSource=function(e,r){var i=this.createRowEvent(e,r);return i.source=this,i},t.prototype.onRowDblClick=function(e){if(!jo(e)){var r=this.createRowEventWithSource(x.EVENT_ROW_DOUBLE_CLICKED,e);this.beans.eventService.dispatchEvent(r)}},t.prototype.onRowMouseDown=function(e){if(this.lastMouseDownOnDragger=sm(e.target,"ag-row-drag",3),!!this.isFullWidth()){var r=this.rowNode,i=this.beans.columnModel;this.beans.focusService.setFocusedCell(r.rowIndex,i.getAllDisplayedColumns()[0],r.rowPinned,!0)}},t.prototype.onRowClick=function(e){var r=jo(e)||this.lastMouseDownOnDragger;if(!r){var i=this.createRowEventWithSource(x.EVENT_ROW_CLICKED,e);this.beans.eventService.dispatchEvent(i);var o=e.ctrlKey||e.metaKey,a=e.shiftKey,s=this.beans.gridOptionsWrapper.isGroupSelectsChildren();if(!(s&&this.rowNode.group||!this.rowNode.selectable||this.rowNode.rowPinned||!this.beans.gridOptionsWrapper.isRowSelection()||this.beans.gridOptionsWrapper.isSuppressRowClickSelection())){var l=this.beans.gridOptionsWrapper.isRowMultiSelectWithClick(),u=!this.beans.gridOptionsWrapper.isSuppressRowDeselection();if(this.rowNode.isSelected())l?this.rowNode.setSelectedParams({newValue:!1}):o?u&&this.rowNode.setSelectedParams({newValue:!1}):this.rowNode.setSelectedParams({newValue:!0,clearSelection:!a,rangeSelect:a});else{var c=l?!1:!o;this.rowNode.setSelectedParams({newValue:!0,clearSelection:c,rangeSelect:a})}}}},t.prototype.setupDetailRowAutoHeight=function(e){var r=this;if(this.rowType===Cn.FullWidthDetail&&!!this.beans.gridOptionsWrapper.isDetailRowAutoHeight()){var i=function(){var a=e.clientHeight;if(a!=null&&a>0){var s=function(){r.rowNode.setRowHeight(a),r.beans.clientSideRowModel?r.beans.clientSideRowModel.onRowHeightChanged():r.beans.serverSideRowModel&&r.beans.serverSideRowModel.onRowHeightChanged()};r.beans.frameworkOverrides.setTimeout(s,0)}},o=this.beans.resizeObserverService.observeResize(e,i);this.addDestroyFunc(o),i()}},t.prototype.createFullWidthParams=function(e,r){var i=this,o={fullWidth:!0,data:this.rowNode.data,node:this.rowNode,value:this.rowNode.key,valueFormatted:this.rowNode.key,rowIndex:this.rowNode.rowIndex,api:this.beans.gridOptionsWrapper.getApi(),columnApi:this.beans.gridOptionsWrapper.getColumnApi(),context:this.beans.gridOptionsWrapper.getContext(),eGridCell:e,eParentOfValue:e,pinned:r,addRenderedRowListener:this.addEventListener.bind(this),registerRowDragger:function(a,s,l,u){return i.addFullWidthRowDragging(a,s,l,u)}};return o},t.prototype.addFullWidthRowDragging=function(e,r,i,o){if(i===void 0&&(i=""),!!this.isFullWidth()){var a=new tv(function(){return i},this.rowNode,void 0,e,r,o);this.createManagedBean(a,this.beans.context)}},t.prototype.onUiLevelChanged=function(){var e=this.beans.rowCssClassCalculator.calculateRowLevel(this.rowNode);if(this.rowLevel!=e){var r="ag-row-level-"+e,i="ag-row-level-"+this.rowLevel;this.allRowGuis.forEach(function(o){o.rowComp.addOrRemoveCssClass(r,!0),o.rowComp.addOrRemoveCssClass(i,!1)})}this.rowLevel=e},t.prototype.isFirstRowOnPage=function(){return this.rowNode.rowIndex===this.beans.paginationProxy.getPageFirstRow()},t.prototype.isLastRowOnPage=function(){return this.rowNode.rowIndex===this.beans.paginationProxy.getPageLastRow()},t.prototype.onModelUpdated=function(){this.refreshFirstAndLastRowStyles()},t.prototype.refreshFirstAndLastRowStyles=function(){var e=this.isFirstRowOnPage(),r=this.isLastRowOnPage();this.firstRowOnPage!==e&&(this.firstRowOnPage=e,this.allRowGuis.forEach(function(i){return i.rowComp.addOrRemoveCssClass("ag-row-first",e)})),this.lastRowOnPage!==r&&(this.lastRowOnPage=r,this.allRowGuis.forEach(function(i){return i.rowComp.addOrRemoveCssClass("ag-row-last",r)}))},t.prototype.stopEditing=function(e){e===void 0&&(e=!1);var r=this.getAllCellCtrls().map(function(o){return o.stopEditing(e)});if(!!this.editingRow){if(!e&&r.some(function(o){return o})){var i=this.createRowEvent(x.EVENT_ROW_VALUE_CHANGED);this.beans.eventService.dispatchEvent(i)}this.setEditingRow(!1)}},t.prototype.setInlineEditingCss=function(e){this.allRowGuis.forEach(function(r){r.rowComp.addOrRemoveCssClass("ag-row-inline-editing",e),r.rowComp.addOrRemoveCssClass("ag-row-not-inline-editing",!e)})},t.prototype.setEditingRow=function(e){this.editingRow=e,this.allRowGuis.forEach(function(i){return i.rowComp.addOrRemoveCssClass("ag-row-editing",e)});var r=e?this.createRowEvent(x.EVENT_ROW_EDITING_STARTED):this.createRowEvent(x.EVENT_ROW_EDITING_STOPPED);this.beans.eventService.dispatchEvent(r)},t.prototype.startRowEditing=function(e,r,i,o){e===void 0&&(e=null),r===void 0&&(r=null),i===void 0&&(i=null),o===void 0&&(o=null),!this.editingRow&&(this.getAllCellCtrls().forEach(function(a){var s=a===i;s?a.startEditing(e,r,s,o):a.startEditing(null,null,s,o)}),this.setEditingRow(!0))},t.prototype.getAllCellCtrls=function(){var e=lU(this.centerCellCtrls.list,this.leftCellCtrls.list,this.rightCellCtrls.list);return e},t.prototype.postProcessClassesFromGridOptions=function(){var e=this,r=this.beans.rowCssClassCalculator.processClassesFromGridOptions(this.rowNode);!r||!r.length||r.forEach(function(i){e.allRowGuis.forEach(function(o){return o.rowComp.addOrRemoveCssClass(i,!0)})})},t.prototype.postProcessRowClassRules=function(){var e=this;this.beans.rowCssClassCalculator.processRowClassRules(this.rowNode,function(r){e.allRowGuis.forEach(function(i){return i.rowComp.addOrRemoveCssClass(r,!0)})},function(r){e.allRowGuis.forEach(function(i){return i.rowComp.addOrRemoveCssClass(r,!1)})})},t.prototype.setStylesFromGridOptions=function(){var e=this.processStylesFromGridOptions();this.allRowGuis.forEach(function(r){return r.rowComp.setUserStyles(e)})},t.prototype.getRowBusinessKey=function(){var e=this.beans.gridOptionsWrapper.getBusinessKeyForNodeFunc();if(typeof e=="function")return e(this.rowNode)},t.prototype.getPinnedForContainer=function(e){var r=e===xn.LEFT?L.PINNED_LEFT:e===xn.RIGHT?L.PINNED_RIGHT:null;return r},t.prototype.getInitialRowClasses=function(e){var r=this.getPinnedForContainer(e),i={rowNode:this.rowNode,rowFocused:this.rowFocused,fadeRowIn:this.fadeRowIn,rowIsEven:this.rowNode.rowIndex%2===0,rowLevel:this.rowLevel,fullWidthRow:this.isFullWidth(),firstRowOnPage:this.isFirstRowOnPage(),lastRowOnPage:this.isLastRowOnPage(),printLayout:this.printLayout,expandable:this.rowNode.isExpandable(),pinned:r};return this.beans.rowCssClassCalculator.getInitialRowClasses(i)},t.prototype.processStylesFromGridOptions=function(){var e=this.beans.gridOptionsWrapper.getRowStyle();if(e&&typeof e=="function"){console.warn("AG Grid: rowStyle should be an object of key/value styles, not be a function, use getRowStyle() instead");return}var r=this.beans.gridOptionsWrapper.getRowStyleFunc(),i;if(r){var o={data:this.rowNode.data,node:this.rowNode,rowIndex:this.rowNode.rowIndex};i=r(o)}return Object.assign({},e,i)},t.prototype.onRowSelected=function(){var e=this,r=!!this.rowNode.isSelected();this.allRowGuis.forEach(function(i){i.rowComp.addOrRemoveCssClass("ag-row-selected",r),kc(i.element,r?!0:void 0);var o=e.createAriaLabel();lu(i.element,o==null?"":o)})},t.prototype.createAriaLabel=function(){var e=this.rowNode.isSelected();if(!(e&&this.beans.gridOptionsWrapper.isSuppressRowDeselection())){var r=this.beans.gridOptionsWrapper.getLocaleTextFunc(),i=r(e?"ariaRowDeselect":"ariaRowSelect","Press SPACE to "+(e?"deselect":"select")+" this row.");return i}},t.prototype.isUseAnimationFrameForCreate=function(){return this.useAnimationFrameForCreate},t.prototype.addHoverFunctionality=function(e){var r=this;!this.active||(this.addManagedListener(e,"mouseenter",function(){return r.rowNode.onMouseEnter()}),this.addManagedListener(e,"mouseleave",function(){return r.rowNode.onMouseLeave()}),this.addManagedListener(this.rowNode,Ee.EVENT_MOUSE_ENTER,function(){r.beans.gridOptionsWrapper.isSuppressRowHoverHighlight()||e.classList.add("ag-row-hover")}),this.addManagedListener(this.rowNode,Ee.EVENT_MOUSE_LEAVE,function(){e.classList.remove("ag-row-hover")}))},t.prototype.roundRowTopToBounds=function(e){var r=this.beans.ctrlsService.getGridBodyCtrl(),i=r.getScrollFeature().getVScrollPosition(),o=this.applyPaginationOffset(i.top,!0)-100,a=this.applyPaginationOffset(i.bottom,!0)+100;return Math.min(Math.max(o,e),a)},t.prototype.getFrameworkOverrides=function(){return this.beans.frameworkOverrides},t.prototype.onRowHeightChanged=function(){if(this.rowNode.rowHeight!=null){var e=this.rowNode.rowHeight,r=this.beans.gridOptionsWrapper.getDefaultRowHeight(),i=this.beans.gridOptionsWrapper.isGetRowHeightFunction(),o=i?this.beans.gridOptionsWrapper.getRowHeightForNode(this.rowNode).height:void 0,a=o?Math.min(r,o)-2+"px":void 0;this.allRowGuis.forEach(function(s){s.element.style.height=e+"px",a&&s.element.style.setProperty("--ag-line-height",a)})}},t.prototype.addEventListener=function(e,r){(e==="renderedRowRemoved"||e==="rowRemoved")&&(e=x.EVENT_VIRTUAL_ROW_REMOVED,console.warn("AG Grid: Since version 11, event renderedRowRemoved is now called "+x.EVENT_VIRTUAL_ROW_REMOVED)),n.prototype.addEventListener.call(this,e,r)},t.prototype.removeEventListener=function(e,r){(e==="renderedRowRemoved"||e==="rowRemoved")&&(e=x.EVENT_VIRTUAL_ROW_REMOVED,console.warn("AG Grid: Since version 11, event renderedRowRemoved and rowRemoved is now called "+x.EVENT_VIRTUAL_ROW_REMOVED)),n.prototype.removeEventListener.call(this,e,r)},t.prototype.destroyFirstPass=function(){this.active=!1,this.setupRemoveAnimation();var e=this.createRowEvent(x.EVENT_VIRTUAL_ROW_REMOVED);this.dispatchEvent(e),this.beans.eventService.dispatchEvent(e),n.prototype.destroy.call(this)},t.prototype.setupRemoveAnimation=function(){var e=this.rowNode.rowTop!=null;if(e){var r=this.roundRowTopToBounds(this.rowNode.rowTop);this.setRowTop(r)}else this.allRowGuis.forEach(function(i){return i.rowComp.addOrRemoveCssClass("ag-opacity-zero",!0)})},t.prototype.destroySecondPass=function(){this.allRowGuis.length=0;var e=function(r){return r.list.forEach(function(i){return i.destroy()}),{list:[],map:{}}};this.centerCellCtrls=e(this.centerCellCtrls),this.leftCellCtrls=e(this.leftCellCtrls),this.rightCellCtrls=e(this.rightCellCtrls)},t.prototype.setFocusedClasses=function(){var e=this;this.allRowGuis.forEach(function(r){r.rowComp.addOrRemoveCssClass("ag-row-focus",e.rowFocused),r.rowComp.addOrRemoveCssClass("ag-row-no-focus",!e.rowFocused)})},t.prototype.onCellFocusChanged=function(){var e=this.beans.focusService.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned);e!==this.rowFocused&&(this.rowFocused=e,this.setFocusedClasses()),!e&&this.editingRow&&this.stopEditing(!1)},t.prototype.onPaginationChanged=function(){var e=this.beans.paginationProxy.getCurrentPage();this.paginationPage!==e&&(this.paginationPage=e,this.onTopChanged()),this.refreshFirstAndLastRowStyles()},t.prototype.onTopChanged=function(){this.setRowTop(this.rowNode.rowTop)},t.prototype.onPaginationPixelOffsetChanged=function(){this.onTopChanged()},t.prototype.applyPaginationOffset=function(e,r){if(r===void 0&&(r=!1),this.rowNode.isRowPinned())return e;var i=this.beans.paginationProxy.getPixelOffset(),o=r?1:-1;return e+i*o},t.prototype.setRowTop=function(e){if(!this.printLayout&&Z(e)){var r=this.applyPaginationOffset(e),i=this.rowNode.isRowPinned()?r:this.beans.rowContainerHeightService.getRealPixelPosition(r),o=i+"px";this.setRowTopStyle(o)}},t.prototype.getInitialRowTop=function(){return this.initialTop},t.prototype.getInitialTransform=function(){return this.initialTransform},t.prototype.setInitialRowTop=function(){if(this.printLayout)return"";var e=this.slideRowIn?this.roundRowTopToBounds(this.rowNode.oldRowTop):this.rowNode.rowTop,r=this.applyPaginationOffset(e),i=this.rowNode.isRowPinned()?r:this.beans.rowContainerHeightService.getRealPixelPosition(r),o=i+"px",a=this.beans.gridOptionsWrapper.isSuppressRowTransform();a?this.initialTop=o:this.initialTransform="translateY("+o+")"},t.prototype.setRowTopStyle=function(e){var r=this.beans.gridOptionsWrapper.isSuppressRowTransform();this.allRowGuis.forEach(function(i){return r?i.rowComp.setTop(e):i.rowComp.setTransform("translateY("+e+")")})},t.prototype.getRowNode=function(){return this.rowNode},t.prototype.getCellCtrl=function(e){var r=null;return this.getAllCellCtrls().forEach(function(i){i.getColumn()==e&&(r=i)}),r!=null||this.getAllCellCtrls().forEach(function(i){i.getColSpanningList().indexOf(e)>=0&&(r=i)}),r},t.prototype.onRowIndexChanged=function(){this.rowNode.rowIndex!=null&&(this.onCellFocusChanged(),this.updateRowIndexes(),this.postProcessCss())},t.prototype.updateRowIndexes=function(){var e=this.rowNode.getRowIndexString(),r=this.beans.headerNavigationService.getHeaderRowCount(),i=this.rowNode.rowIndex%2===0,o=r+this.rowNode.rowIndex+1;this.allRowGuis.forEach(function(a){a.rowComp.setRowIndex(e),a.rowComp.addOrRemoveCssClass("ag-row-even",i),a.rowComp.addOrRemoveCssClass("ag-row-odd",!i),AS(a.element,o)})},t.prototype.getPinnedLeftRowElement=function(){return this.leftGui?this.leftGui.element:void 0},t.prototype.getPinnedRightRowElement=function(){return this.rightGui?this.rightGui.element:void 0},t.prototype.getBodyRowElement=function(){return this.centerGui?this.centerGui.element:void 0},t.prototype.getFullWidthRowElement=function(){return this.fullWidthGui?this.fullWidthGui.element:void 0},t.DOM_DATA_KEY_ROW_CTRL="renderedRow",t}(j);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v27.3.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */var cU=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Gn=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},pU=globalThis&&globalThis.__read||function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},hU=function(n){cU(t,n);function t(e){var r=n.call(this)||this;return r.element=e,r}return t.prototype.postConstruct=function(){this.addMouseListeners(),this.mockContextMenuForIPad(),this.addKeyboardEvents()},t.prototype.addKeyboardEvents=function(){var e=this,r=["keydown","keypress"];r.forEach(function(i){var o=e.processKeyboardEvent.bind(e,i);e.addManagedListener(e.element,i,o)})},t.prototype.addMouseListeners=function(){var e=this,r=fS("touchstart")?"touchstart":"mousedown",i=["dblclick","contextmenu","mouseover","mouseout","click",r];i.forEach(function(o){var a=e.processMouseEvent.bind(e,o);e.addManagedListener(e.element,o,a)})},t.prototype.processMouseEvent=function(e,r){if(!(!this.mouseEventService.isEventFromThisGrid(r)||jo(r))){var i=this.getRowForEvent(r),o=this.mouseEventService.getRenderedCellForEvent(r);e==="contextmenu"?this.handleContextMenuMouseEvent(r,null,i,o):(o&&o.onMouseEvent(e,r),i&&i.onMouseEvent(e,r))}},t.prototype.mockContextMenuForIPad=function(){var e=this;if(!!Xc()){var r=new qr(this.element),i=function(o){var a=e.getRowForEvent(o.touchEvent),s=e.mouseEventService.getRenderedCellForEvent(o.touchEvent);e.handleContextMenuMouseEvent(null,o.touchEvent,a,s)};this.addManagedListener(r,qr.EVENT_LONG_TAP,i),this.addDestroyFunc(function(){return r.destroy()})}},t.prototype.getRowForEvent=function(e){for(var r=e.target;r;){var i=this.gridOptionsWrapper.getDomData(r,Rs.DOM_DATA_KEY_ROW_CTRL);if(i)return i;r=r.parentElement}return null},t.prototype.handleContextMenuMouseEvent=function(e,r,i,o){var a=i?i.getRowNode():null,s=o?o.getColumn():null,l=null;if(s){var u=e||r;o.dispatchCellContextMenuEvent(u),l=this.valueService.getValue(s,a)}var c=this.ctrlsService.getGridBodyCtrl(),p=o?o.getGui():c.getGridBodyElement();this.contextMenuFactory&&this.contextMenuFactory.onContextMenu(e,r,a,s,l,p)},t.prototype.processKeyboardEvent=function(e,r){var i=Kg(this.gridOptionsWrapper,r,Es.DOM_DATA_KEY_CELL_CTRL),o=Kg(this.gridOptionsWrapper,r,Rs.DOM_DATA_KEY_ROW_CTRL);r.defaultPrevented||(i?this.processCellKeyboardEvent(i,e,r):o&&o.isFullWidth()&&this.processFullWidthRowKeyboardEvent(o,e,r))},t.prototype.processCellKeyboardEvent=function(e,r,i){var o=e.getRowNode(),a=e.getColumn(),s=e.isEditing(),l=!Qg(this.gridOptionsWrapper,i,o,a,s);if(l)switch(r){case"keydown":var u=!s&&this.navigationService.handlePageScrollingKey(i);u||e.onKeyDown(i),this.doGridOperations(i,e.isEditing());break;case"keypress":e.onKeyPress(i);break}if(r==="keydown"){var c=e.createEvent(i,x.EVENT_CELL_KEY_DOWN);this.eventService.dispatchEvent(c)}if(r==="keypress"){var p=e.createEvent(i,x.EVENT_CELL_KEY_PRESS);this.eventService.dispatchEvent(p)}},t.prototype.processFullWidthRowKeyboardEvent=function(e,r,i){var o=e.getRowNode(),a=this.focusService.getFocusedCell(),s=a&&a.column,l=!Qg(this.gridOptionsWrapper,i,o,s,!1);if(l){var u=i.key;if(r==="keydown")switch(u){case U.UP:case U.DOWN:e.onKeyboardNavigate(i);break;case U.TAB:e.onTabKeyDown(i)}}if(r==="keydown"){var c=e.createRowEvent(x.EVENT_CELL_KEY_DOWN,i);this.eventService.dispatchEvent(c)}if(r==="keypress"){var p=e.createRowEvent(x.EVENT_CELL_KEY_PRESS,i);this.eventService.dispatchEvent(p)}},t.prototype.doGridOperations=function(e,r){if(!(!e.ctrlKey&&!e.metaKey)&&!r&&!!this.mouseEventService.isEventFromThisGrid(e))switch(e.code){case U.A:return this.onCtrlAndA(e);case U.C:return this.onCtrlAndC(e);case U.V:return this.onCtrlAndV();case U.D:return this.onCtrlAndD(e);case U.Z:return e.shiftKey?this.undoRedoService.redo():this.undoRedoService.undo();case U.Y:return this.undoRedoService.redo()}},t.prototype.onCtrlAndA=function(e){var r=this,i=r.pinnedRowModel,o=r.paginationProxy,a=r.rangeService,s=L.PINNED_BOTTOM,l=L.PINNED_TOP;if(a&&o.isRowsToRender()){var u=pU([i.isEmpty(l),i.isEmpty(s)],2),c=u[0],p=u[1],h=c?null:l,d=void 0,f=void 0;p?(d=null,f=this.paginationProxy.getRowCount()-1):(d=s,f=i.getPinnedBottomRowData().length-1);var g=this.columnModel.getAllDisplayedColumns();if(Jn(g))return;a.setCellRange({rowStartIndex:0,rowStartPinned:h,rowEndIndex:f,rowEndPinned:d,columnStart:g[0],columnEnd:wt(g)})}e.preventDefault()},t.prototype.onCtrlAndC=function(e){!this.clipboardService||this.gridOptionsWrapper.isEnableCellTextSelection()||(this.clipboardService.copyToClipboard(),e.preventDefault())},t.prototype.onCtrlAndV=function(){ve.isRegistered(ae.ClipboardModule)&&!this.gridOptionsWrapper.isSuppressClipboardPaste()&&this.clipboardService.pasteFromClipboard()},t.prototype.onCtrlAndD=function(e){ve.isRegistered(ae.ClipboardModule)&&!this.gridOptionsWrapper.isSuppressClipboardPaste()&&this.clipboardService.copyRangeDown(),e.preventDefault()},Gn([y("mouseEventService")],t.prototype,"mouseEventService",void 0),Gn([y("valueService")],t.prototype,"valueService",void 0),Gn([Fe("contextMenuFactory")],t.prototype,"contextMenuFactory",void 0),Gn([y("ctrlsService")],t.prototype,"ctrlsService",void 0),Gn([y("navigationService")],t.prototype,"navigationService",void 0),Gn([y("focusService")],t.prototype,"focusService",void 0),Gn([y("undoRedoService")],t.prototype,"undoRedoService",void 0),Gn([y("columnModel")],t.prototype,"columnModel",void 0),Gn([y("paginationProxy")],t.prototype,"paginationProxy",void 0),Gn([y("pinnedRowModel")],t.prototype,"pinnedRowModel",void 0),Gn([Fe("rangeService")],t.prototype,"rangeService",void 0),Gn([Fe("clipboardService")],t.prototype,"clipboardService",void 0),Gn([H],t.prototype,"postConstruct",null),t}(j);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v27.3.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */var dU=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),_u=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},fU=function(n){dU(t,n);function t(e){var r=n.call(this)||this;return r.centerContainerCtrl=e,r}return t.prototype.postConstruct=function(){var e=this;this.ctrlsService.whenReady(function(){e.gridBodyCtrl=e.ctrlsService.getGridBodyCtrl(),e.listenForResize()}),this.addManagedListener(this.eventService,x.EVENT_SCROLLBAR_WIDTH_CHANGED,this.onScrollbarWidthChanged.bind(this))},t.prototype.listenForResize=function(){var e=this,r=function(){return e.onCenterViewportResized()};this.centerContainerCtrl.registerViewportResizeListener(r),this.gridBodyCtrl.registerBodyViewportResizeListener(r)},t.prototype.onScrollbarWidthChanged=function(){this.checkViewportAndScrolls()},t.prototype.onCenterViewportResized=function(){if(this.centerContainerCtrl.isViewportVisible()){this.checkViewportAndScrolls();var e=this.centerContainerCtrl.getCenterWidth();e!==this.centerWidth&&(this.centerWidth=e,this.columnModel.refreshFlexedColumns({viewportWidth:this.centerWidth,updateBodyWidths:!0,fireResizedEvent:!0}))}else this.bodyHeight=0},t.prototype.checkViewportAndScrolls=function(){this.updateScrollVisibleService(),this.checkBodyHeight(),this.onHorizontalViewportChanged(),this.gridBodyCtrl.getScrollFeature().checkScrollLeft()},t.prototype.getBodyHeight=function(){return this.bodyHeight},t.prototype.checkBodyHeight=function(){var e=this.gridBodyCtrl.getBodyViewportElement(),r=ud(e);if(this.bodyHeight!==r){this.bodyHeight=r;var i={type:x.EVENT_BODY_HEIGHT_CHANGED,api:this.gridApi,columnApi:this.columnApi};this.eventService.dispatchEvent(i)}},t.prototype.updateScrollVisibleService=function(){this.updateScrollVisibleServiceImpl(),setTimeout(this.updateScrollVisibleServiceImpl.bind(this),500)},t.prototype.updateScrollVisibleServiceImpl=function(){var e={horizontalScrollShowing:this.isHorizontalScrollShowing(),verticalScrollShowing:this.gridBodyCtrl.isVerticalScrollShowing()};this.scrollVisibleService.setScrollsVisible(e),this.gridBodyCtrl.setVerticalScrollPaddingVisible(e.verticalScrollShowing)},t.prototype.isHorizontalScrollShowing=function(){var e=this.gridOptionsWrapper.isAlwaysShowHorizontalScroll();return e||this.centerContainerCtrl.isViewportHScrollShowing()},t.prototype.onHorizontalViewportChanged=function(){var e=this.centerContainerCtrl.getCenterWidth(),r=this.centerContainerCtrl.getViewportScrollLeft();this.columnModel.setViewportPosition(e,r)},_u([y("ctrlsService")],t.prototype,"ctrlsService",void 0),_u([y("columnModel")],t.prototype,"columnModel",void 0),_u([y("scrollVisibleService")],t.prototype,"scrollVisibleService",void 0),_u([y("columnApi")],t.prototype,"columnApi",void 0),_u([y("gridApi")],t.prototype,"gridApi",void 0),_u([H],t.prototype,"postConstruct",null),t}(j);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v27.3.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */var gU=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),AT=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},vU=function(n){gU(t,n);function t(e){var r=n.call(this)||this;return r.element=e,r}return t.prototype.postConstruct=function(){this.addManagedListener(this.eventService,x.EVENT_LEFT_PINNED_WIDTH_CHANGED,this.onPinnedLeftWidthChanged.bind(this))},t.prototype.onPinnedLeftWidthChanged=function(){var e=this.pinnedWidthService.getPinnedLeftWidth(),r=e>0;Ft(this.element,r),r&&qo(this.element,e)},AT([y("pinnedWidthService")],t.prototype,"pinnedWidthService",void 0),AT([H],t.prototype,"postConstruct",null),t}(j);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v27.3.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */var mU=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),DT=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},yU=function(n){mU(t,n);function t(e){var r=n.call(this)||this;return r.element=e,r}return t.prototype.postConstruct=function(){this.addManagedListener(this.eventService,x.EVENT_RIGHT_PINNED_WIDTH_CHANGED,this.onPinnedRightWidthChanged.bind(this))},t.prototype.onPinnedRightWidthChanged=function(){var e=this.pinnedWidthService.getPinnedRightWidth(),r=e>0;Ft(this.element,r),r&&qo(this.element,e)},DT([y("pinnedWidthService")],t.prototype,"pinnedWidthService",void 0),DT([H],t.prototype,"postConstruct",null),t}(j);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v27.3.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */var CU=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),MT=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},bU=function(n){CU(t,n);function t(e,r){var i=n.call(this)||this;return i.eContainer=e,i.eWrapper=r,i}return t.prototype.postConstruct=function(){this.addManagedListener(this.eventService,x.EVENT_ROW_CONTAINER_HEIGHT_CHANGED,this.onHeightChanged.bind(this))},t.prototype.onHeightChanged=function(){var e=this.maxDivHeightScaler.getUiContainerHeight(),r=e!=null?e+"px":"";this.eContainer.style.height=r,this.eWrapper&&(this.eWrapper.style.height=r)},MT([y("rowContainerHeightService")],t.prototype,"maxDivHeightScaler",void 0),MT([H],t.prototype,"postConstruct",null),t}(j);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v27.3.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */var wU=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Gy=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},_U=function(n){wU(t,n);function t(e){var r=n.call(this)||this;return r.eContainer=e,r}return t.prototype.postConstruct=function(){var e=this;if(!(!this.gridOptionsWrapper.isEnableRangeSelection()||ye(this.rangeService))){var r={dragStartPixels:0,eElement:this.eContainer,onDragStart:this.rangeService.onDragStart.bind(this.rangeService),onDragStop:this.rangeService.onDragStop.bind(this.rangeService),onDragging:this.rangeService.onDragging.bind(this.rangeService)};this.dragService.addDragSource(r),this.addDestroyFunc(function(){return e.dragService.removeDragSource(r)})}},Gy([Fe("rangeService")],t.prototype,"rangeService",void 0),Gy([y("dragService")],t.prototype,"dragService",void 0),Gy([H],t.prototype,"postConstruct",null),t}(j);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v27.3.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */var SU=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),FT=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},US=function(n){SU(t,n);function t(e){var r=n.call(this)||this;return r.callback=e,r}return t.prototype.postConstruct=function(){var e=this.setWidth.bind(this);this.addManagedListener(this.gridOptionsWrapper,pe.PROP_DOM_LAYOUT,e),this.addManagedListener(this.eventService,x.EVENT_DISPLAYED_COLUMNS_CHANGED,e),this.addManagedListener(this.eventService,x.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,e),this.setWidth()},t.prototype.setWidth=function(){var e=this.columnModel,r=this.gridOptionsWrapper.getDomLayout()===L.DOM_LAYOUT_PRINT,i=e.getBodyContainerWidth(),o=e.getDisplayedColumnsLeftWidth(),a=e.getDisplayedColumnsRightWidth(),s=r?i+o+a:i;this.callback(s)},FT([y("columnModel")],t.prototype,"columnModel",void 0),FT([H],t.prototype,"postConstruct",null),t}(j);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v27.3.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */var xU=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),tl=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},TU=globalThis&&globalThis.__read||function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},OU=globalThis&&globalThis.__spread||function(){for(var n=[],t=0;t<arguments.length;t++)n=n.concat(TU(arguments[t]));return n},ne;(function(n){n.LEFT="left",n.RIGHT="right",n.CENTER="center",n.FULL_WIDTH="fullWidth",n.TOP_LEFT="topLeft",n.TOP_RIGHT="topRight",n.TOP_CENTER="topCenter",n.TOP_FULL_WIDTH="topFullWidth",n.BOTTOM_LEFT="bottomLeft",n.BOTTOM_RIGHT="bottomRight",n.BOTTOM_CENTER="bottomCenter",n.BOTTOM_FULL_WIDTH="bottomFullWidth"})(ne||(ne={}));var xn;(function(n){n.LEFT="left",n.RIGHT="right",n.CENTER="center",n.FULL_WIDTH="fullWidth"})(xn||(xn={}));function O1(n){switch(n){case ne.CENTER:case ne.TOP_CENTER:case ne.BOTTOM_CENTER:return xn.CENTER;case ne.LEFT:case ne.TOP_LEFT:case ne.BOTTOM_LEFT:return xn.LEFT;case ne.RIGHT:case ne.TOP_RIGHT:case ne.BOTTOM_RIGHT:return xn.RIGHT;case ne.FULL_WIDTH:case ne.TOP_FULL_WIDTH:case ne.BOTTOM_FULL_WIDTH:return xn.FULL_WIDTH;default:throw Error("Invalid Row Container Type")}}var EU=ms([[ne.CENTER,"ag-center-cols-container"],[ne.LEFT,"ag-pinned-left-cols-container"],[ne.RIGHT,"ag-pinned-right-cols-container"],[ne.FULL_WIDTH,"ag-full-width-container"],[ne.TOP_CENTER,"ag-floating-top-container"],[ne.TOP_LEFT,"ag-pinned-left-floating-top"],[ne.TOP_RIGHT,"ag-pinned-right-floating-top"],[ne.TOP_FULL_WIDTH,"ag-floating-top-full-width-container"],[ne.BOTTOM_CENTER,"ag-floating-bottom-container"],[ne.BOTTOM_LEFT,"ag-pinned-left-floating-bottom"],[ne.BOTTOM_RIGHT,"ag-pinned-right-floating-bottom"],[ne.BOTTOM_FULL_WIDTH,"ag-floating-bottom-full-width-container"]]),RU=ms([[ne.CENTER,"ag-center-cols-viewport"],[ne.TOP_CENTER,"ag-floating-top-viewport"],[ne.BOTTOM_CENTER,"ag-floating-bottom-viewport"]]),PU=ms([[ne.CENTER,"ag-center-cols-clipper"]]),av=function(n){xU(t,n);function t(e){var r=n.call(this)||this;return r.name=e,r}return t.getRowContainerCssClasses=function(e){var r=EU.get(e),i=RU.get(e),o=PU.get(e);return{container:r,viewport:i,wrapper:o}},t.getPinned=function(e){switch(e){case ne.BOTTOM_LEFT:case ne.TOP_LEFT:case ne.LEFT:return L.PINNED_LEFT;case ne.BOTTOM_RIGHT:case ne.TOP_RIGHT:case ne.RIGHT:return L.PINNED_RIGHT;default:return null}},t.prototype.postConstruct=function(){var e=this;this.enableRtl=this.gridOptionsWrapper.isEnableRtl(),this.embedFullWidthRows=this.gridOptionsWrapper.isEmbedFullWidthRows(),this.forContainers([ne.CENTER],function(){return e.viewportSizeFeature=e.createManagedBean(new fU(e))})},t.prototype.registerWithCtrlsService=function(){switch(this.name){case ne.CENTER:this.ctrlsService.registerCenterRowContainerCtrl(this);break;case ne.LEFT:this.ctrlsService.registerLeftRowContainerCtrl(this);break;case ne.RIGHT:this.ctrlsService.registerRightRowContainerCtrl(this);break;case ne.TOP_CENTER:this.ctrlsService.registerTopCenterRowContainerCtrl(this);break;case ne.TOP_LEFT:this.ctrlsService.registerTopLeftRowContainerCon(this);break;case ne.TOP_RIGHT:this.ctrlsService.registerTopRightRowContainerCtrl(this);break;case ne.BOTTOM_CENTER:this.ctrlsService.registerBottomCenterRowContainerCtrl(this);break;case ne.BOTTOM_LEFT:this.ctrlsService.registerBottomLeftRowContainerCtrl(this);break;case ne.BOTTOM_RIGHT:this.ctrlsService.registerBottomRightRowContainerCtrl(this);break}},t.prototype.forContainers=function(e,r){e.indexOf(this.name)>=0&&r()},t.prototype.getContainerElement=function(){return this.eContainer},t.prototype.getViewportSizeFeature=function(){return this.viewportSizeFeature},t.prototype.setComp=function(e,r,i,o){var a=this;this.comp=e,this.eContainer=r,this.eViewport=i,this.eWrapper=o,this.createManagedBean(new hU(this.eContainer)),this.addPreventScrollWhileDragging(),this.listenOnDomOrder(),this.stopHScrollOnPinnedRows();var s=[ne.TOP_CENTER,ne.TOP_LEFT,ne.TOP_RIGHT],l=[ne.BOTTOM_CENTER,ne.BOTTOM_LEFT,ne.BOTTOM_RIGHT],u=[ne.CENTER,ne.LEFT,ne.RIGHT],c=OU(s,l,u),p=[ne.CENTER,ne.LEFT,ne.RIGHT,ne.FULL_WIDTH],h=[ne.CENTER,ne.TOP_CENTER,ne.BOTTOM_CENTER],d=[ne.LEFT,ne.BOTTOM_LEFT,ne.TOP_LEFT],f=[ne.RIGHT,ne.BOTTOM_RIGHT,ne.TOP_RIGHT];this.forContainers(d,function(){return a.createManagedBean(new vU(a.eContainer))}),this.forContainers(f,function(){return a.createManagedBean(new yU(a.eContainer))}),this.forContainers(p,function(){return a.createManagedBean(new bU(a.eContainer,a.eWrapper))}),this.forContainers(c,function(){return a.createManagedBean(new _U(a.eContainer))}),this.forContainers(h,function(){return a.createManagedBean(new US(function(g){return a.comp.setContainerWidth(g+"px")}))}),this.addListeners(),this.registerWithCtrlsService()},t.prototype.addListeners=function(){var e=this;this.addManagedListener(this.eventService,x.EVENT_SCROLL_VISIBILITY_CHANGED,function(){return e.onScrollVisibilityChanged()}),this.addManagedListener(this.eventService,x.EVENT_DISPLAYED_COLUMNS_CHANGED,function(){return e.onDisplayedColumnsChanged()}),this.addManagedListener(this.eventService,x.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,function(){return e.onDisplayedColumnsWidthChanged()}),this.addManagedListener(this.eventService,x.EVENT_DISPLAYED_ROWS_CHANGED,function(){return e.onDisplayedRowsChanged()}),this.onScrollVisibilityChanged(),this.onDisplayedColumnsChanged(),this.onDisplayedColumnsWidthChanged(),this.onDisplayedRowsChanged()},t.prototype.listenOnDomOrder=function(){var e=this,r=function(){return e.comp.setDomOrder(e.gridOptionsWrapper.isEnsureDomOrder())};this.addManagedListener(this.gridOptionsWrapper,pe.PROP_DOM_LAYOUT,r),r()},t.prototype.stopHScrollOnPinnedRows=function(){var e=this;this.forContainers([ne.TOP_CENTER,ne.BOTTOM_CENTER],function(){var r=function(){return e.eViewport.scrollLeft=0};e.addManagedListener(e.eViewport,"scroll",r)})},t.prototype.onDisplayedColumnsChanged=function(){var e=this;this.forContainers([ne.CENTER],function(){return e.onHorizontalViewportChanged()})},t.prototype.onDisplayedColumnsWidthChanged=function(){var e=this;this.forContainers([ne.CENTER],function(){return e.onHorizontalViewportChanged()})},t.prototype.onScrollVisibilityChanged=function(){if(this.name===ne.CENTER){var e=this.scrollVisibleService.isHorizontalScrollShowing(),r=e&&this.gridOptionsWrapper.getScrollbarWidth()||0,i=r==0?"100%":"calc(100% + "+r+"px)";this.comp.setViewportHeight(i)}},t.prototype.addPreventScrollWhileDragging=function(){var e=this,r=function(i){e.dragService.isDragging()&&i.cancelable&&i.preventDefault()};this.eContainer.addEventListener("touchmove",r,{passive:!1}),this.addDestroyFunc(function(){return e.eContainer.removeEventListener("touchmove",r)})},t.prototype.onHorizontalViewportChanged=function(){var e=this.getCenterWidth(),r=this.getCenterViewportScrollLeft();this.columnModel.setViewportPosition(e,r)},t.prototype.getCenterWidth=function(){return lm(this.eViewport)},t.prototype.getCenterViewportScrollLeft=function(){return Vh(this.eViewport,this.enableRtl)},t.prototype.registerViewportResizeListener=function(e){var r=this.resizeObserverService.observeResize(this.eViewport,e);this.addDestroyFunc(function(){return r()})},t.prototype.isViewportVisible=function(){return Zc(this.eViewport)},t.prototype.isViewportHScrollShowing=function(){return vw(this.eViewport)},t.prototype.getViewportScrollLeft=function(){return Vh(this.eViewport,this.enableRtl)},t.prototype.isHorizontalScrollShowing=function(){var e=this.gridOptionsWrapper.isAlwaysShowHorizontalScroll();return e||vw(this.eViewport)},t.prototype.getViewportElement=function(){return this.eViewport},t.prototype.setContainerTranslateX=function(e){this.eContainer.style.transform="translateX("+e+"px)"},t.prototype.getHScrollPosition=function(){var e={left:this.eViewport.scrollLeft,right:this.eViewport.scrollLeft+this.eViewport.offsetWidth};return e},t.prototype.setCenterViewportScrollLeft=function(e){qg(this.eViewport,e,this.enableRtl)},t.prototype.onDisplayedRowsChanged=function(){var e=this,r=this.name===ne.TOP_FULL_WIDTH||this.name===ne.BOTTOM_FULL_WIDTH||this.name===ne.FULL_WIDTH,i=function(s){var l=s.isFullWidth(),u=e.gridOptionsWrapper.getDomLayout()===L.DOM_LAYOUT_PRINT,c=e.embedFullWidthRows||u,p=r?!c&&l:c||!l;return p},o=this.getRowCtrls(),a=o.filter(i);this.comp.setRowCtrls(a)},t.prototype.getRowCtrls=function(){switch(this.name){case ne.TOP_CENTER:case ne.TOP_LEFT:case ne.TOP_RIGHT:case ne.TOP_FULL_WIDTH:return this.rowRenderer.getTopRowCtrls();case ne.BOTTOM_CENTER:case ne.BOTTOM_LEFT:case ne.BOTTOM_RIGHT:case ne.BOTTOM_FULL_WIDTH:return this.rowRenderer.getBottomRowCtrls();default:return this.rowRenderer.getRowCtrls()}},tl([y("scrollVisibleService")],t.prototype,"scrollVisibleService",void 0),tl([y("dragService")],t.prototype,"dragService",void 0),tl([y("ctrlsService")],t.prototype,"ctrlsService",void 0),tl([y("columnModel")],t.prototype,"columnModel",void 0),tl([y("resizeObserverService")],t.prototype,"resizeObserverService",void 0),tl([y("rowRenderer")],t.prototype,"rowRenderer",void 0),tl([H],t.prototype,"postConstruct",null),t}(j);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v27.3.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */var AU=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),rl=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},DU=`<div class="ag-root ag-unselectable" role="grid">
        <ag-header-root ref="gridHeader"></ag-header-root>
        <div class="ag-floating-top" ref="eTop" role="presentation">
            <ag-row-container ref="topLeftContainer" name="`+ne.TOP_LEFT+`"></ag-row-container>
            <ag-row-container ref="topCenterContainer" name="`+ne.TOP_CENTER+`"></ag-row-container>
            <ag-row-container ref="topRightContainer" name="`+ne.TOP_RIGHT+`"></ag-row-container>
            <ag-row-container ref="topFullWidthContainer" name="`+ne.TOP_FULL_WIDTH+`"></ag-row-container>
        </div>
        <div class="ag-body-viewport" ref="eBodyViewport" role="presentation">
            <ag-row-container ref="leftContainer" name="`+ne.LEFT+`"></ag-row-container>
            <ag-row-container ref="centerContainer" name="`+ne.CENTER+`"></ag-row-container>
            <ag-row-container ref="rightContainer" name="`+ne.RIGHT+`"></ag-row-container>
            <ag-row-container ref="fullWidthContainer" name="`+ne.FULL_WIDTH+`"></ag-row-container>
        </div>
        <div class="ag-floating-bottom" ref="eBottom" role="presentation">
            <ag-row-container ref="bottomLeftContainer" name="`+ne.BOTTOM_LEFT+`"></ag-row-container>
            <ag-row-container ref="bottomCenterContainer" name="`+ne.BOTTOM_CENTER+`"></ag-row-container>
            <ag-row-container ref="bottomRightContainer" name="`+ne.BOTTOM_RIGHT+`"></ag-row-container>
            <ag-row-container ref="bottomFullWidthContainer" name="`+ne.BOTTOM_FULL_WIDTH+`"></ag-row-container>
        </div>
        <ag-fake-horizontal-scroll></ag-fake-horizontal-scroll>
        <ag-overlay-wrapper></ag-overlay-wrapper>
    </div>`,E1=function(n){AU(t,n);function t(){return n.call(this,DU)||this}return t.prototype.init=function(){var e=this,r=function(o,a){var s=o+"px";a.style.minHeight=s,a.style.height=s},i={setRowAnimationCssOnBodyViewport:function(o,a){return e.setRowAnimationCssOnBodyViewport(o,a)},setColumnCount:function(o){return WM(e.getGui(),o)},setRowCount:function(o){return VM(e.getGui(),o)},setTopHeight:function(o){return r(o,e.eTop)},setBottomHeight:function(o){return r(o,e.eBottom)},setTopDisplay:function(o){return e.eTop.style.display=o},setBottomDisplay:function(o){return e.eBottom.style.display=o},setColumnMovingCss:function(o,a){return e.addOrRemoveCssClass(x1,a)},updateLayoutClasses:function(o,a){var s=e.eBodyViewport.classList;s.toggle(tr.AUTO_HEIGHT,a.autoHeight),s.toggle(tr.NORMAL,a.normal),s.toggle(tr.PRINT,a.print),e.addOrRemoveCssClass(tr.AUTO_HEIGHT,a.autoHeight),e.addOrRemoveCssClass(tr.NORMAL,a.normal),e.addOrRemoveCssClass(tr.PRINT,a.print)},setAlwaysVerticalScrollClass:function(o,a){return e.eBodyViewport.classList.toggle(S1,a)},registerBodyViewportResizeListener:function(o){var a=e.resizeObserverService.observeResize(e.eBodyViewport,o);e.addDestroyFunc(function(){return a()})},setPinnedTopBottomOverflowY:function(o){return e.eTop.style.overflowY=e.eBottom.style.overflowY=o},setCellSelectableCss:function(o,a){[e.eTop,e.eBodyViewport,e.eBottom].forEach(function(s){return s.classList.toggle(_1,a)})}};this.ctrl=this.createManagedBean(new T1),this.ctrl.setComp(i,this.getGui(),this.eBodyViewport,this.eTop,this.eBottom),(this.rangeService||this.gridOptionsWrapper.isRowSelectionMulti())&&BM(this.getGui(),!0)},t.prototype.setRowAnimationCssOnBodyViewport=function(e,r){var i=this.eBodyViewport.classList;i.toggle(Jl.ANIMATION_ON,r),i.toggle(Jl.ANIMATION_OFF,!r)},t.prototype.getFloatingTopBottom=function(){return[this.eTop,this.eBottom]},rl([y("resizeObserverService")],t.prototype,"resizeObserverService",void 0),rl([Fe("rangeService")],t.prototype,"rangeService",void 0),rl([I("eBodyViewport")],t.prototype,"eBodyViewport",void 0),rl([I("eTop")],t.prototype,"eTop",void 0),rl([I("eBottom")],t.prototype,"eBottom",void 0),rl([I("gridHeader")],t.prototype,"headerRootComp",void 0),rl([H],t.prototype,"init",null),t}(te);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v27.3.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */var MU=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Cp=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},R1=function(n){MU(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.postConstruct=function(){this.addManagedListener(this.eventService,x.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,x.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onDisplayedColumnsWidthChanged.bind(this))},t.prototype.onDisplayedColumnsChanged=function(){this.update()},t.prototype.onDisplayedColumnsWidthChanged=function(){this.update()},t.prototype.update=function(){this.updateImpl(),setTimeout(this.updateImpl.bind(this),500)},t.prototype.updateImpl=function(){var e=this.ctrlsService.getCenterRowContainerCtrl();if(!!e){var r={horizontalScrollShowing:e.isHorizontalScrollShowing(),verticalScrollShowing:this.isVerticalScrollShowing()};this.setScrollsVisible(r)}},t.prototype.setScrollsVisible=function(e){var r=this.horizontalScrollShowing!==e.horizontalScrollShowing||this.verticalScrollShowing!==e.verticalScrollShowing;if(r){this.horizontalScrollShowing=e.horizontalScrollShowing,this.verticalScrollShowing=e.verticalScrollShowing;var i={type:x.EVENT_SCROLL_VISIBILITY_CHANGED,api:this.gridApi,columnApi:this.columnApi};this.eventService.dispatchEvent(i)}},t.prototype.isHorizontalScrollShowing=function(){return this.horizontalScrollShowing},t.prototype.isVerticalScrollShowing=function(){return this.verticalScrollShowing},Cp([y("columnApi")],t.prototype,"columnApi",void 0),Cp([y("gridApi")],t.prototype,"gridApi",void 0),Cp([y("ctrlsService")],t.prototype,"ctrlsService",void 0),Cp([H],t.prototype,"postConstruct",null),t=Cp([J("scrollVisibleService")],t),t}(j);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v27.3.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */var FU=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),IT=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},P1=function(n){FU(t,n);function t(){var r=n!==null&&n.apply(this,arguments)||this;return r.gridInstanceId=e.gridInstanceSequence.next(),r}e=t,t.prototype.stampTopLevelGridCompWithGridInstance=function(r){r[e.GRID_DOM_KEY]=this.gridInstanceId},t.prototype.getRenderedCellForEvent=function(r){return Kg(this.gridOptionsWrapper,r,Es.DOM_DATA_KEY_CELL_CTRL)},t.prototype.isEventFromThisGrid=function(r){var i=this.isElementInThisGrid(r.target);return i},t.prototype.isElementInThisGrid=function(r){for(var i=r;i;){var o=i[e.GRID_DOM_KEY];if(Z(o)){var a=o===this.gridInstanceId;return a}i=i.parentElement}return!1},t.prototype.getCellPositionForEvent=function(r){var i=this.getRenderedCellForEvent(r);return i?i.getCellPosition():null},t.prototype.getNormalisedPosition=function(r){var i=this.gridOptionsWrapper.getDomLayout()===L.DOM_LAYOUT_NORMAL,o=r,a,s;if(o.clientX!=null||o.clientY!=null?(a=o.clientX,s=o.clientY):(a=o.x,s=o.y),i){var l=this.ctrlsService.getGridBodyCtrl(),u=l.getScrollFeature().getVScrollPosition(),c=l.getScrollFeature().getHScrollPosition();a+=c.left,s+=u.top}return{x:a,y:s}};var e;return t.gridInstanceSequence=new vr,t.GRID_DOM_KEY="__ag_grid_instance",IT([y("ctrlsService")],t.prototype,"ctrlsService",void 0),t=e=IT([J("mouseEventService")],t),t}(j);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v27.3.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */var IU=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),sv=globalThis&&globalThis.__assign||function(){return sv=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},sv.apply(this,arguments)},Hr=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},A1=function(n){IU(t,n);function t(){var e=n.call(this)||this;return e.onPageDown=aw(e.onPageDown,100),e.onPageUp=aw(e.onPageUp,100),e}return t.prototype.postConstruct=function(){var e=this;this.ctrlsService.whenReady(function(r){e.gridBodyCon=r.gridBodyCtrl})},t.prototype.handlePageScrollingKey=function(e){var r=e.key,i=e.altKey,o=e.ctrlKey||e.metaKey,a=!!this.rangeService&&e.shiftKey,s=this.mouseEventService.getCellPositionForEvent(e);if(!s)return!1;var l=!1;switch(r){case U.PAGE_HOME:case U.PAGE_END:!o&&!i&&(this.onHomeOrEndKey(r),l=!0);break;case U.LEFT:case U.RIGHT:case U.UP:case U.DOWN:o&&!i&&!a&&(this.onCtrlUpDownLeftRight(r,s),l=!0);break;case U.PAGE_DOWN:!o&&!i&&(this.onPageDown(s),l=!0);break;case U.PAGE_UP:!o&&!i&&(this.onPageUp(s),l=!0);break}return l&&e.preventDefault(),l},t.prototype.navigateTo=function(e){var r=e.scrollIndex,i=e.scrollType,o=e.scrollColumn,a=e.focusIndex,s=e.focusColumn;if(Z(o)&&!o.isPinned()&&this.gridBodyCon.getScrollFeature().ensureColumnVisible(o),Z(r)&&this.gridBodyCon.getScrollFeature().ensureIndexVisible(r,i),this.animationFrameService.flushAllFrames(),this.focusService.setFocusedCell(a,s,null,!0),this.rangeService){var l={rowIndex:a,rowPinned:null,column:s};this.rangeService.setRangeToCell(l)}},t.prototype.onPageDown=function(e){var r=this.ctrlsService.getGridBodyCtrl(),i=r.getScrollFeature().getVScrollPosition(),o=this.getViewportHeight(),a=this.paginationProxy.getPixelOffset(),s=i.top+o,l=this.paginationProxy.getRowIndexAtPixel(s+a);this.columnModel.isAutoRowHeightActive()?this.navigateToNextPageWithAutoHeight(e,l):this.navigateToNextPage(e,l)},t.prototype.onPageUp=function(e){var r=this.ctrlsService.getGridBodyCtrl(),i=r.getScrollFeature().getVScrollPosition(),o=this.paginationProxy.getPixelOffset(),a=i.top,s=this.paginationProxy.getRowIndexAtPixel(a+o);this.columnModel.isAutoRowHeightActive()?this.navigateToNextPageWithAutoHeight(e,s,!0):this.navigateToNextPage(e,s,!0)},t.prototype.navigateToNextPage=function(e,r,i){i===void 0&&(i=!1);var o,a,s=this.getViewportHeight(),l=this.paginationProxy.getPageFirstRow(),u=this.paginationProxy.getPageLastRow(),c=this.paginationProxy.getPixelOffset(),p=this.paginationProxy.getRow(e.rowIndex),h=i?((o=p)===null||o===void 0?void 0:o.rowHeight)-s-c:s-c,d=((a=p)===null||a===void 0?void 0:a.rowTop)+h,f=this.paginationProxy.getRowIndexAtPixel(d+c);if(f===e.rowIndex){var g=i?-1:1;r=f=e.rowIndex+g}var v;i?(v="bottom",f<l&&(f=l),r<l&&(r=l)):(v="top",f>u&&(f=u),r>u&&(r=u)),this.isRowTallerThanView(f)&&(r=f,v="top"),this.navigateTo({scrollIndex:r,scrollType:v,scrollColumn:null,focusIndex:f,focusColumn:e.column})},t.prototype.navigateToNextPageWithAutoHeight=function(e,r,i){var o=this;i===void 0&&(i=!1),this.navigateTo({scrollIndex:r,scrollType:i?"bottom":"top",scrollColumn:null,focusIndex:r,focusColumn:e.column}),setTimeout(function(){var a=o.getNextFocusIndexForAutoHeight(e,i);o.navigateTo({scrollIndex:r,scrollType:i?"bottom":"top",scrollColumn:null,focusIndex:a,focusColumn:e.column})},50)},t.prototype.getNextFocusIndexForAutoHeight=function(e,r){r===void 0&&(r=!1);for(var i,o=r?-1:1,a=this.getViewportHeight(),s=this.paginationProxy.getPageLastRow(),l=0,u=e.rowIndex;u>=0&&u<=s;){var c=this.paginationProxy.getRow(u);if(c){var p=(i=c.rowHeight,i!=null?i:0);if(l+p>a)break;l+=p}u+=o}return Math.max(0,Math.min(u,s))},t.prototype.getViewportHeight=function(){var e=this.ctrlsService.getGridBodyCtrl(),r=e.getScrollFeature().getVScrollPosition(),i=this.gridOptionsWrapper.getScrollbarWidth(),o=r.bottom-r.top;return this.ctrlsService.getCenterRowContainerCtrl().isHorizontalScrollShowing()&&(o-=i),o},t.prototype.isRowTallerThanView=function(e){var r=this.paginationProxy.getRow(e);if(!r)return!1;var i=r.rowHeight;return typeof i!="number"?!1:i>this.getViewportHeight()},t.prototype.onCtrlUpDownLeftRight=function(e,r){var i=this.cellNavigationService.getNextCellToFocus(e,r,!0),o=i.rowIndex,a=i.column;this.navigateTo({scrollIndex:o,scrollType:null,scrollColumn:a,focusIndex:o,focusColumn:a})},t.prototype.onHomeOrEndKey=function(e){var r=e===U.PAGE_HOME,i=this.columnModel.getAllDisplayedColumns(),o=r?i[0]:wt(i),a=r?this.paginationProxy.getPageFirstRow():this.paginationProxy.getPageLastRow();this.navigateTo({scrollIndex:a,scrollType:null,scrollColumn:o,focusIndex:a,focusColumn:o})},t.prototype.onTabKeyDown=function(e,r){var i=r.shiftKey,o=this.tabToNextCellCommon(e,i,r);if(o){r.preventDefault();return}if(i){var a=e.getRowPosition(),s=a.rowIndex,l=a.rowPinned,u=l?s===0:s===this.paginationProxy.getPageFirstRow();u&&(r.preventDefault(),this.focusService.focusLastHeader(r))}else e instanceof Es&&e.focusCell(!0),this.focusService.focusNextGridCoreContainer(i)&&r.preventDefault()},t.prototype.tabToNextCell=function(e,r){var i=this.focusService.getFocusedCell();if(!i)return!1;var o=this.getCellByPosition(i);return!o&&(o=this.rowRenderer.getRowByPosition(i),!o||!o.isFullWidth())?!1:this.tabToNextCellCommon(o,e,r)},t.prototype.tabToNextCellCommon=function(e,r,i){var o=e.isEditing();if(!o&&e instanceof Es){var a=e,s=a.getRowCtrl();s&&(o=s.isEditing())}var l;return o?this.gridOptionsWrapper.isFullRowEdit()?l=this.moveToNextEditingRow(e,r,i):l=this.moveToNextEditingCell(e,r,i):l=this.moveToNextCellNotEditing(e,r),l||!!this.focusService.getFocusedHeader()},t.prototype.moveToNextEditingCell=function(e,r,i){i===void 0&&(i=null);var o=e.getCellPosition();e.stopEditing();var a=this.findNextCellToFocusOn(o,r,!0);return a==null?!1:(a.startEditing(null,null,!0,i),a.focusCell(!1),!0)},t.prototype.moveToNextEditingRow=function(e,r,i){i===void 0&&(i=null);var o=e.getCellPosition(),a=this.findNextCellToFocusOn(o,r,!0);if(a==null)return!1;var s=a.getCellPosition(),l=this.isCellEditable(o),u=this.isCellEditable(s),c=s&&o.rowIndex===s.rowIndex&&o.rowPinned===s.rowPinned;if(l&&e.setFocusOutOnEditor(),!c){var p=e.getRowCtrl();p.stopEditing();var h=a.getRowCtrl();h.startRowEditing(void 0,void 0,void 0,i)}return u?(a.setFocusInOnEditor(),a.focusCell()):a.focusCell(!0),!0},t.prototype.moveToNextCellNotEditing=function(e,r){var i=this.columnModel.getAllDisplayedColumns(),o;e instanceof Rs?o=sv(sv({},e.getRowPosition()),{column:r?i[0]:wt(i)}):o=e.getCellPosition();var a=this.findNextCellToFocusOn(o,r,!1);if(a instanceof Es)a.focusCell(!0);else if(a)return this.tryToFocusFullWidthRow(a.getRowPosition(),r);return Z(a)},t.prototype.findNextCellToFocusOn=function(e,r,i){for(var o=e;;){e!==o&&(e=o),r||(o=this.getLastCellOfColSpan(o)),o=this.cellNavigationService.getNextTabbedCell(o,r);var a=this.gridOptionsWrapper.getTabToNextCellFunc();if(Z(a)){var s={backwards:r,editing:i,previousCellPosition:e,nextCellPosition:o||null},l=a(s);Z(l)?(l.floating&&(ct(function(){console.warn("AG Grid: tabToNextCellFunc return type should have attributes: rowIndex, rowPinned, column. However you had 'floating', maybe you meant 'rowPinned'?")},"no floating in userCell"),l.rowPinned=l.floating),o={rowIndex:l.rowIndex,column:l.column,rowPinned:l.rowPinned}):o=null}if(!o)return null;if(o.rowIndex<0){var u=this.headerNavigationService.getHeaderRowCount();return this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:u+o.rowIndex,column:o.column}}),null}var c=this.gridOptionsWrapper.isFullRowEdit();if(i&&!c){var p=this.isCellEditable(o);if(!p)continue}this.ensureCellVisible(o);var h=this.getCellByPosition(o);if(!h){var d=this.rowRenderer.getRowByPosition(o);if(!d||!d.isFullWidth())continue;return d}if(!h.isSuppressNavigable())return this.rangeService&&this.rangeService.setRangeToCell(o),h}},t.prototype.isCellEditable=function(e){var r=this.lookupRowNodeForCell(e);return r?e.column.isCellEditable(r):!1},t.prototype.getCellByPosition=function(e){var r=this.rowRenderer.getRowByPosition(e);return r?r.getCellCtrl(e.column):null},t.prototype.lookupRowNodeForCell=function(e){return e.rowPinned===L.PINNED_TOP?this.pinnedRowModel.getPinnedTopRow(e.rowIndex):e.rowPinned===L.PINNED_BOTTOM?this.pinnedRowModel.getPinnedBottomRow(e.rowIndex):this.paginationProxy.getRow(e.rowIndex)},t.prototype.navigateToNextCell=function(e,r,i,o){for(var a=i,s=!1;a&&(a===i||!this.isValidNavigateCell(a));)this.gridOptionsWrapper.isEnableRtl()?r===U.LEFT&&(a=this.getLastCellOfColSpan(a)):r===U.RIGHT&&(a=this.getLastCellOfColSpan(a)),a=this.cellNavigationService.getNextCellToFocus(r,a),s=ye(a);if(s&&e&&e.key===U.UP&&(a={rowIndex:-1,rowPinned:null,column:i.column}),o){var l=this.gridOptionsWrapper.getNavigateToNextCellFunc();if(Z(l)){var u={key:r,previousCellPosition:i,nextCellPosition:a||null,event:e},c=l(u);Z(c)?(c.floating&&(ct(function(){console.warn("AG Grid: tabToNextCellFunc return type should have attributes: rowIndex, rowPinned, column. However you had 'floating', maybe you meant 'rowPinned'?")},"no floating in userCell"),c.rowPinned=c.floating),a={rowPinned:c.rowPinned,rowIndex:c.rowIndex,column:c.column}):a=null}}if(!!a){if(a.rowIndex<0){var p=this.headerNavigationService.getHeaderRowCount();this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:p+a.rowIndex,column:i.column},event:e||void 0});return}var h=this.getNormalisedPosition(a);h?this.focusPosition(h):this.tryToFocusFullWidthRow(a)}},t.prototype.getNormalisedPosition=function(e){this.ensureCellVisible(e);var r=this.getCellByPosition(e);return r?(e=r.getCellPosition(),this.ensureCellVisible(e),e):null},t.prototype.tryToFocusFullWidthRow=function(e,r){r===void 0&&(r=!1);var i=this.columnModel.getAllDisplayedColumns(),o=this.rowRenderer.getRowByPosition(e);if(!o||!o.isFullWidth())return!1;var a=this.focusService.getFocusedCell(),s={rowIndex:e.rowIndex,rowPinned:e.rowPinned,column:e.column||(r?wt(i):i[0])};this.focusPosition(s);var l=a!=null?this.rowPositionUtils.before(s,a):!1,u={type:x.EVENT_FULL_WIDTH_ROW_FOCUSED,api:this.gridApi,columnApi:this.columnApi,rowIndex:s.rowIndex,rowPinned:s.rowPinned,column:s.column,isFullWidthCell:!0,floating:s.rowPinned,fromBelow:l};return this.eventService.dispatchEvent(u),!0},t.prototype.focusPosition=function(e){this.focusService.setFocusedCell(e.rowIndex,e.column,e.rowPinned,!0),this.rangeService&&this.rangeService.setRangeToCell(e)},t.prototype.isValidNavigateCell=function(e){var r=this.rowPositionUtils.getRowNode(e);return!!r},t.prototype.getLastCellOfColSpan=function(e){var r=this.getCellByPosition(e);if(!r)return e;var i=r.getColSpanningList();return i.length===1?e:{rowIndex:e.rowIndex,column:wt(i),rowPinned:e.rowPinned}},t.prototype.ensureCellVisible=function(e){ye(e.rowPinned)&&this.gridBodyCon.getScrollFeature().ensureIndexVisible(e.rowIndex),e.column.isPinned()||this.gridBodyCon.getScrollFeature().ensureColumnVisible(e.column),this.gridBodyCon.getScrollFeature().horizontallyScrollHeaderCenterAndFloatingCenter(),this.animationFrameService.flushAllFrames()},Hr([y("columnApi")],t.prototype,"columnApi",void 0),Hr([y("gridApi")],t.prototype,"gridApi",void 0),Hr([y("mouseEventService")],t.prototype,"mouseEventService",void 0),Hr([y("paginationProxy")],t.prototype,"paginationProxy",void 0),Hr([y("focusService")],t.prototype,"focusService",void 0),Hr([y("animationFrameService")],t.prototype,"animationFrameService",void 0),Hr([Fe("rangeService")],t.prototype,"rangeService",void 0),Hr([y("columnModel")],t.prototype,"columnModel",void 0),Hr([y("ctrlsService")],t.prototype,"ctrlsService",void 0),Hr([y("rowRenderer")],t.prototype,"rowRenderer",void 0),Hr([y("headerNavigationService")],t.prototype,"headerNavigationService",void 0),Hr([y("rowPositionUtils")],t.prototype,"rowPositionUtils",void 0),Hr([y("cellNavigationService")],t.prototype,"cellNavigationService",void 0),Hr([y("pinnedRowModel")],t.prototype,"pinnedRowModel",void 0),Hr([H],t.prototype,"postConstruct",null),t=Hr([J("navigationService")],t),t}(j);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v27.3.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */var LU=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),NU=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},D1=function(n){LU(t,n);function t(e){var r=n.call(this,'<div class="ag-popup-editor" tabindex="-1"/>')||this;return r.params=e,r}return t.prototype.postConstruct=function(){this.gridOptionsWrapper.setDomData(this.getGui(),t.DOM_KEY_POPUP_EDITOR_WRAPPER,!0),this.addKeyDownListener()},t.prototype.addKeyDownListener=function(){var e=this,r=this.getGui(),i=this.params,o=function(a){Qg(e.gridOptionsWrapper,a,i.node,i.column,!0)||i.onKeyDown(a)};this.addManagedListener(r,"keydown",o)},t.DOM_KEY_POPUP_EDITOR_WRAPPER="popupEditorWrapper",NU([H],t.prototype,"postConstruct",null),t}(uu);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v27.3.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */var kU=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),M1=function(n){kU(t,n);function t(e,r,i,o,a){var s=n.call(this)||this;s.rendererVersion=0,s.editorVersion=0,s.beans=e,s.column=r.getColumn(),s.rowNode=r.getRowNode(),s.rowCtrl=r.getRowCtrl(),s.eRow=o,s.setTemplate('<div comp-id="'+s.getCompId()+'"/>');var l=s.getGui();s.forceWrapper=r.isForceWrapper(),s.refreshWrapper(!1);var u=function(p,h,d){var f=d||l;h!=null&&h!=""?f.setAttribute(p,h):f.removeAttribute(p)},c={addOrRemoveCssClass:function(p,h){return s.addOrRemoveCssClass(p,h)},setUserStyles:function(p){return _S(l,p)},getFocusableElement:function(){return s.getFocusableElement()},setTabIndex:function(p){return u("tabindex",p.toString())},setRole:function(p){return Jr(l,p)},setColId:function(p){return u("col-id",p)},setTitle:function(p){return u("title",p)},setIncludeSelection:function(p){return s.includeSelection=p},setIncludeRowDrag:function(p){return s.includeRowDrag=p},setIncludeDndSource:function(p){return s.includeDndSource=p},setRenderDetails:function(p,h,d){return s.setRenderDetails(p,h,d)},setEditDetails:function(p,h,d){return s.setEditDetails(p,h,d)},getCellEditor:function(){return s.cellEditor||null},getCellRenderer:function(){return s.cellRenderer||null},getParentOfValue:function(){return s.getParentOfValue()}};return s.cellCtrl=r,r.setComp(c,s.getGui(),s.eCellWrapper,i,a),s}return t.prototype.getParentOfValue=function(){return this.eCellValue?this.eCellValue:this.eCellWrapper?this.eCellWrapper:this.getGui()},t.prototype.setRenderDetails=function(e,r,i){var o=this.cellEditor&&!this.cellEditorPopupWrapper;if(!o){this.firstRender=this.firstRender==null;var a=this.refreshWrapper(!1);if(e){var s=i||a,l=s?!1:this.refreshCellRenderer(e);l||(this.destroyRenderer(),this.createCellRendererInstance(e))}else this.destroyRenderer(),this.insertValueWithoutCellRenderer(r)}},t.prototype.setEditDetails=function(e,r,i){e?this.createCellEditorInstance(e,r,i):this.destroyEditor()},t.prototype.removeControls=function(){this.checkboxSelectionComp=this.beans.context.destroyBean(this.checkboxSelectionComp),this.dndSourceComp=this.beans.context.destroyBean(this.dndSourceComp),this.rowDraggingComp=this.beans.context.destroyBean(this.rowDraggingComp)},t.prototype.refreshWrapper=function(e){var r=this.includeRowDrag||this.includeDndSource||this.includeSelection,i=r||this.forceWrapper,o=i&&this.eCellWrapper==null;o&&(this.eCellWrapper=Sr('<div class="ag-cell-wrapper" role="presentation"></div>'),this.getGui().appendChild(this.eCellWrapper));var a=!i&&this.eCellWrapper!=null;a&&(Yi(this.eCellWrapper),this.eCellWrapper=void 0),this.addOrRemoveCssClass("ag-cell-value",!i);var s=!e&&i,l=s&&this.eCellValue==null;l&&(this.eCellValue=Sr('<span class="ag-cell-value" role="presentation"></span>'),this.eCellWrapper.appendChild(this.eCellValue));var u=!s&&this.eCellValue!=null;u&&(Yi(this.eCellValue),this.eCellValue=void 0);var c=o||a||l||u;return c&&this.removeControls(),!e&&r&&this.addControls(),c},t.prototype.addControls=function(){var e=this.eCellValue.id="cell-"+this.getCompId(),r=[];this.includeRowDrag&&this.rowDraggingComp==null&&(this.rowDraggingComp=this.cellCtrl.createRowDragComp(),this.rowDraggingComp&&this.eCellWrapper.insertBefore(this.rowDraggingComp.getGui(),this.eCellValue)),this.includeDndSource&&this.dndSourceComp==null&&(this.dndSourceComp=this.cellCtrl.createDndSource(),this.eCellWrapper.insertBefore(this.dndSourceComp.getGui(),this.eCellValue)),this.includeSelection&&(this.checkboxSelectionComp==null&&(this.checkboxSelectionComp=this.cellCtrl.createSelectionCheckbox(),this.eCellWrapper.insertBefore(this.checkboxSelectionComp.getGui(),this.eCellValue)),r.push(this.checkboxSelectionComp.getCheckboxId())),r.push(e),OS(this.getGui(),r.join(" "))},t.prototype.createCellEditorInstance=function(e,r,i){var o=this,a=this.editorVersion,s=e.newAgStackInstance();if(!!s){var l=e.params;s.then(function(c){return o.afterCellEditorCreated(a,c,l,r,i)});var u=ye(this.cellEditor);u&&l.cellStartedEdit&&this.cellCtrl.focusCell(!0)}},t.prototype.insertValueWithoutCellRenderer=function(e){var r=this.getParentOfValue();ni(r);var i=e!=null?Xo(e):null;i!=null&&(r.innerHTML=i)},t.prototype.destroyEditorAndRenderer=function(){this.destroyRenderer(),this.destroyEditor()},t.prototype.destroyRenderer=function(){var e=this.beans.context;this.cellRenderer=e.destroyBean(this.cellRenderer),Yi(this.cellRendererGui),this.cellRendererGui=null,this.rendererVersion++},t.prototype.destroyEditor=function(){var e=this.beans.context;this.hideEditorPopup&&this.hideEditorPopup(),this.hideEditorPopup=void 0,this.cellEditor=e.destroyBean(this.cellEditor),this.cellEditorPopupWrapper=e.destroyBean(this.cellEditorPopupWrapper),Yi(this.cellEditorGui),this.cellEditorGui=null,this.editorVersion++},t.prototype.refreshCellRenderer=function(e){if(this.cellRenderer==null||this.cellRenderer.refresh==null||this.cellRendererClass!==e.componentClass)return!1;var r=this.cellRenderer.refresh(e.params);return r===!0||r===void 0},t.prototype.createCellRendererInstance=function(e){var r=this,i=this.beans.gridOptionsWrapper.isAngularCompileRows(),o=this.beans.gridOptionsWrapper.isSuppressAnimationFrame(),a=!i&&!o,s=this.rendererVersion,l=e.componentClass,u=function(){var c=r.rendererVersion!==s||!r.isAlive();if(!c){var p=e.newAgStackInstance(),h=r.afterCellRendererCreated.bind(r,s,l);p&&p.then(h)}};a&&this.firstRender?this.beans.animationFrameService.createTask(u,this.rowNode.rowIndex,"createTasksP2"):u()},t.prototype.getCtrl=function(){return this.cellCtrl},t.prototype.getRowCtrl=function(){return this.rowCtrl},t.prototype.getCellRenderer=function(){return this.cellRenderer},t.prototype.getCellEditor=function(){return this.cellEditor},t.prototype.afterCellRendererCreated=function(e,r,i){var o=!this.isAlive()||e!==this.rendererVersion;if(o){this.beans.context.destroyBean(i);return}if(this.cellRenderer=i,this.cellRendererClass=r,this.cellRendererGui=this.cellRenderer.getGui(),this.cellRendererGui!=null){var a=this.getParentOfValue();ni(a),a.appendChild(this.cellRendererGui)}},t.prototype.afterCellEditorCreated=function(e,r,i,o,a){var s=e!==this.editorVersion;if(s){this.beans.context.destroyBean(r);return}var l=r.isCancelBeforeStart&&r.isCancelBeforeStart();if(l){this.beans.context.destroyBean(r),this.cellCtrl.stopEditing();return}if(!r.getGui){console.warn("AG Grid: cellEditor for column "+this.column.getId()+" is missing getGui() method"),this.beans.context.destroyBean(r);return}this.cellEditor=r,this.cellEditorGui=r.getGui();var u=o||r.isPopup!==void 0&&r.isPopup();u?(o||this.cellCtrl.hackSayEditingInPopup(),this.addPopupCellEditor(i,a)):this.addInCellEditor(),r.afterGuiAttached&&r.afterGuiAttached()},t.prototype.addInCellEditor=function(){var e=this.getGui(),r=this.beans.gridOptionsWrapper.getDocument();if(e.contains(r.activeElement)&&e.focus(),this.destroyRenderer(),this.refreshWrapper(!0),this.clearParentOfValue(),this.cellEditorGui){var i=this.getParentOfValue();i.appendChild(this.cellEditorGui)}},t.prototype.addPopupCellEditor=function(e,r){var i=this;this.beans.gridOptionsWrapper.isFullRowEdit()&&console.warn("AG Grid: popup cellEditor does not work with fullRowEdit - you cannot use them both - either turn off fullRowEdit, or stop using popup editors.");var o=this.cellEditor;this.cellEditorPopupWrapper=this.beans.context.createBean(new D1(e));var a=this.cellEditorPopupWrapper.getGui();this.cellEditorGui&&a.appendChild(this.cellEditorGui);var s=this.beans.popupService,l=this.beans.gridOptionsWrapper.isStopEditingWhenCellsLoseFocus(),u=r!=null?r:o.getPopupPosition?o.getPopupPosition():"over",c={column:this.column,rowNode:this.rowNode,type:"popupCellEditor",eventSource:this.getGui(),ePopup:a,keepWithinBounds:!0},p=u==="under"?s.positionPopupUnderComponent.bind(s,c):s.positionPopupOverComponent.bind(s,c),h=this.beans.gridOptionsWrapper.getLocaleTextFunc(),d=s.addPopup({modal:l,eChild:a,closeOnEsc:!0,closedCallback:function(){i.cellCtrl.onPopupEditorClosed()},anchorToElement:this.getGui(),positionCallback:p,ariaLabel:h("ariaLabelCellEditor","Cell Editor")});d&&(this.hideEditorPopup=d.hideFunc)},t.prototype.detach=function(){this.eRow.removeChild(this.getGui())},t.prototype.destroy=function(){this.cellCtrl.stopEditing(),this.destroyEditorAndRenderer(),this.removeControls(),n.prototype.destroy.call(this)},t.prototype.clearParentOfValue=function(){var e=this.getGui(),r=this.beans.gridOptionsWrapper.getDocument();e.contains(r.activeElement)&&e.focus({preventScroll:!0}),ni(this.getParentOfValue())},t}(te);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v27.3.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */var GU=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),BU=function(n){GU(t,n);function t(e,r,i){var o=n.call(this)||this;o.cellComps={},o.beans=r,o.rowCtrl=e,o.setTemplate('<div comp-id="'+o.getCompId()+'" style="'+o.getInitialStyle()+'"/>');var a=o.getGui(),s=a.style,l={setDomOrder:function(u){return o.domOrder=u},setCellCtrls:function(u){return o.setCellCtrls(u)},showFullWidth:function(u){return o.showFullWidth(u)},getFullWidthCellRenderer:function(){return o.getFullWidthCellRenderer()},addOrRemoveCssClass:function(u,c){return o.addOrRemoveCssClass(u,c)},setUserStyles:function(u){return _S(a,u)},setTop:function(u){return s.top=u},setTransform:function(u){return s.transform=u},setRowIndex:function(u){return a.setAttribute("row-index",u)},setRole:function(u){return Jr(a,u)},setRowId:function(u){return a.setAttribute("row-id",u)},setRowBusinessKey:function(u){return a.setAttribute("row-business-key",u)},setTabIndex:function(u){return a.setAttribute("tabindex",u.toString())}};return e.setComp(l,o.getGui(),i),o}return t.prototype.getInitialStyle=function(){var e=this.rowCtrl.getInitialTransform(),r=this.rowCtrl.getInitialRowTop();return e?"transform: "+e:"top: "+r},t.prototype.showFullWidth=function(e){var r=this,i=function(a){if(r.isAlive()){var s=a.getGui();r.getGui().appendChild(s),r.rowCtrl.setupDetailRowAutoHeight(s),r.setFullWidthRowComp(a)}else r.beans.context.destroyBean(a)},o=e.newAgStackInstance();!o||o.then(i)},t.prototype.setCellCtrls=function(e){var r=this,i=Object.assign({},this.cellComps);e.forEach(function(a){var s=a.getInstanceId(),l=r.cellComps[s];l==null?r.newCellComp(a):i[s]=null});var o=Zi(i).filter(function(a){return a!=null});this.destroyCells(o),this.ensureDomOrder(e)},t.prototype.ensureDomOrder=function(e){var r=this;if(!!this.domOrder){var i=[];e.forEach(function(o){var a=r.cellComps[o.getInstanceId()];a&&i.push(a.getGui())}),wS(this.getGui(),i)}},t.prototype.newCellComp=function(e){var r=new M1(this.beans,e,this.rowCtrl.isPrintLayout(),this.getGui(),this.rowCtrl.isEditing());this.cellComps[e.getInstanceId()]=r,this.getGui().appendChild(r.getGui())},t.prototype.destroy=function(){n.prototype.destroy.call(this),this.destroyAllCells()},t.prototype.destroyAllCells=function(){var e=Zi(this.cellComps).filter(function(r){return r!=null});this.destroyCells(e)},t.prototype.setFullWidthRowComp=function(e){var r=this;this.fullWidthCellRenderer&&console.error("AG Grid - should not be setting fullWidthRowComponent twice"),this.fullWidthCellRenderer=e,this.addDestroyFunc(function(){r.fullWidthCellRenderer=r.beans.context.destroyBean(r.fullWidthCellRenderer)})},t.prototype.getFullWidthCellRenderer=function(){return this.fullWidthCellRenderer},t.prototype.destroyCells=function(e){var r=this;e.forEach(function(i){if(!!i){var o=i.getCtrl().getInstanceId();r.cellComps[o]===i&&(i.detach(),i.destroy(),r.cellComps[o]=null)}})},t}(te);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v27.3.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */var VU=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Ow=globalThis&&globalThis.__assign||function(){return Ow=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Ow.apply(this,arguments)},Su=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o};function WU(){var n=te.elementGettingCreated.getAttribute("name"),t=av.getRowContainerCssClasses(n),e,r=n===ne.CENTER,i=n===ne.TOP_CENTER||n===ne.BOTTOM_CENTER;return r?e='<div class="'+t.wrapper+`" ref="eWrapper" role="presentation">
                <div class="`+t.viewport+`" ref="eViewport" role="presentation">
                    <div class="`+t.container+`" ref="eContainer"></div>
                </div>
            </div>`:i?e='<div class="'+t.viewport+`" ref="eViewport" role="presentation">
                <div class="`+t.container+`" ref="eContainer"></div>
            </div>`:e='<div class="'+t.container+'" ref="eContainer"></div>',e}var F1=function(n){VU(t,n);function t(){var e=n.call(this,WU())||this;return e.rowComps={},e.name=te.elementGettingCreated.getAttribute("name"),e.type=O1(e.name),e}return t.prototype.postConstruct=function(){var e=this,r={setViewportHeight:function(o){return e.eViewport.style.height=o},setRowCtrls:function(o){return e.setRowCtrls(o)},setDomOrder:function(o){e.domOrder=o},setContainerWidth:function(o){return e.eContainer.style.width=o}},i=this.createManagedBean(new av(this.name));i.setComp(r,this.eContainer,this.eViewport,this.eWrapper)},t.prototype.preDestroy=function(){this.setRowCtrls([])},t.prototype.setRowCtrls=function(e){var r=this,i=Ow({},this.rowComps);this.rowComps={},this.lastPlacedElement=null;var o=function(a){var s=a.getInstanceId(),l=i[s];if(l)r.rowComps[s]=l,delete i[s],r.ensureDomOrder(l.getGui());else{var u=r.newRowComp(a);r.rowComps[s]=u,r.appendRow(u.getGui())}};e.forEach(o),Zi(i).forEach(function(a){r.eContainer.removeChild(a.getGui()),a.destroy()}),Jr(this.eContainer,e.length?"rowgroup":"presentation")},t.prototype.appendRow=function(e){this.domOrder?OM(this.eContainer,e,this.lastPlacedElement):this.eContainer.appendChild(e),this.lastPlacedElement=e},t.prototype.ensureDomOrder=function(e){this.domOrder&&(bS(this.eContainer,e,this.lastPlacedElement),this.lastPlacedElement=e)},t.prototype.newRowComp=function(e){av.getPinned(this.name);var r=new BU(e,this.beans,this.type);return r},Su([y("beans")],t.prototype,"beans",void 0),Su([I("eViewport")],t.prototype,"eViewport",void 0),Su([I("eContainer")],t.prototype,"eContainer",void 0),Su([I("eWrapper")],t.prototype,"eWrapper",void 0),Su([H],t.prototype,"postConstruct",null),Su([_t],t.prototype,"preDestroy",null),t}(te);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v27.3.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */var LT=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},I1=function(){function n(t){this.columnsToAggregate=[],this.columnsToGroup=[],this.columnsToPivot=[],this.pinned=t}return n.prototype.onDragEnter=function(t){var e=this;if(this.clearColumnsList(),!this.gridOptionsWrapper.isFunctionsReadOnly()){var r=t.dragItem.columns;!r||r.forEach(function(i){!i.isPrimary()||i.isAnyFunctionActive()||(i.isAllowValue()?e.columnsToAggregate.push(i):i.isAllowRowGroup()?e.columnsToGroup.push(i):i.isAllowPivot()&&e.columnsToPivot.push(i))})}},n.prototype.getIconName=function(){var t=this.columnsToAggregate.length+this.columnsToGroup.length+this.columnsToPivot.length;return t>0?this.pinned?It.ICON_PINNED:It.ICON_MOVE:null},n.prototype.onDragLeave=function(t){this.clearColumnsList()},n.prototype.clearColumnsList=function(){this.columnsToAggregate.length=0,this.columnsToGroup.length=0,this.columnsToPivot.length=0},n.prototype.onDragging=function(t){},n.prototype.onDragStop=function(t){this.columnsToAggregate.length>0&&this.columnModel.addValueColumns(this.columnsToAggregate,"toolPanelDragAndDrop"),this.columnsToGroup.length>0&&this.columnModel.addRowGroupColumns(this.columnsToGroup,"toolPanelDragAndDrop"),this.columnsToPivot.length>0&&this.columnModel.addPivotColumns(this.columnsToPivot,"toolPanelDragAndDrop")},LT([y("columnModel")],n.prototype,"columnModel",void 0),LT([y("gridOptionsWrapper")],n.prototype,"gridOptionsWrapper",void 0),n}();/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v27.3.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */var bp=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},L1=function(){function n(t,e){this.needToMoveLeft=!1,this.needToMoveRight=!1,this.pinned=t,this.eContainer=e,this.centerContainer=!Z(t)}return n.prototype.init=function(){var t=this;this.ctrlsService.whenReady(function(){t.gridBodyCon=t.ctrlsService.getGridBodyCtrl()})},n.prototype.getIconName=function(){return this.pinned?It.ICON_PINNED:It.ICON_MOVE},n.prototype.onDragEnter=function(t){var e=t.dragItem.columns,r=t.dragSource.type===nr.ToolPanel;if(r)this.setColumnsVisible(e,!0,"uiColumnDragged");else{var i=t.dragItem.visibleState,o=(e||[]).filter(function(a){return i[a.getId()]});this.setColumnsVisible(o,!0,"uiColumnDragged")}this.setColumnsPinned(e,this.pinned,"uiColumnDragged"),this.onDragging(t,!0)},n.prototype.onDragLeave=function(t){var e=!this.gridOptionsWrapper.isSuppressDragLeaveHidesColumns()&&!t.fromNudge;if(e){var r=t.dragSource.getDragItem(),i=r.columns;this.setColumnsVisible(i,!1,"uiColumnDragged")}this.ensureIntervalCleared()},n.prototype.setColumnsVisible=function(t,e,r){if(r===void 0&&(r="api"),t){var i=t.filter(function(o){return!o.getColDef().lockVisible});this.columnModel.setColumnsVisible(i,e,r)}},n.prototype.setColumnsPinned=function(t,e,r){if(r===void 0&&(r="api"),t){var i=t.filter(function(o){return!o.getColDef().lockPinned});this.columnModel.setColumnsPinned(i,e,r)}},n.prototype.onDragStop=function(){this.ensureIntervalCleared()},n.prototype.normaliseX=function(t){if(this.gridOptionsWrapper.isEnableRtl()){var e=this.eContainer.clientWidth;t=e-t}return this.centerContainer&&(t+=this.ctrlsService.getCenterRowContainerCtrl().getCenterViewportScrollLeft()),t},n.prototype.checkCenterForScrolling=function(t){if(this.centerContainer){var e=this.ctrlsService.getCenterRowContainerCtrl().getCenterViewportScrollLeft(),r=e+this.ctrlsService.getCenterRowContainerCtrl().getCenterWidth();this.gridOptionsWrapper.isEnableRtl()?(this.needToMoveRight=t<e+50,this.needToMoveLeft=t>r-50):(this.needToMoveLeft=t<e+50,this.needToMoveRight=t>r-50),this.needToMoveLeft||this.needToMoveRight?this.ensureIntervalStarted():this.ensureIntervalCleared()}},n.prototype.onDragging=function(t,e){var r=this;if(e===void 0&&(e=!1),this.lastDraggingEvent=t,!ye(t.hDirection)){var i=this.normaliseX(t.x);e||this.checkCenterForScrolling(i);var o=this.normaliseDirection(t.hDirection),a=t.dragSource.type,s=t.dragSource.getDragItem().columns;s=s.filter(function(l){return l.getColDef().lockPinned?l.getPinned()==r.pinned:!0}),this.attemptMoveColumns(a,s,o,i,e)}},n.prototype.normaliseDirection=function(t){if(this.gridOptionsWrapper.isEnableRtl())switch(t){case _i.Left:return _i.Right;case _i.Right:return _i.Left;default:console.error("AG Grid: Unknown direction "+t)}else return t},n.prototype.calculateOldIndex=function(t){var e=this.columnModel.getAllGridColumns(),r=aM(t.map(function(l){return e.indexOf(l)})),i=r[0],o=wt(r),a=o-i,s=a!==r.length-1;return s?null:i},n.prototype.attemptMoveColumns=function(t,e,r,i,o){var a=r===_i.Left,s=r===_i.Right,l=e.slice();this.columnModel.sortColumnsLikeGridColumns(l);var u=this.calculateValidMoves(l,s,i),c=this.calculateOldIndex(l);if(u.length!==0){var p=u[0],h=c!==null&&!o;if(t==nr.HeaderCell&&(h=c!==null),!(h&&(a&&p>=c||s&&p<=c)))for(var d=0;d<u.length;d++){var f=u[d];if(!!this.columnModel.doesMovePassRules(l,f)){this.columnModel.moveColumns(l,f,"uiColumnDragged");return}}}},n.prototype.calculateValidMoves=function(t,e,r){var i=this.gridOptionsWrapper.isSuppressMovableColumns()||t.some(function(E){return E.getColDef().suppressMovable});if(i)return[];var o=this.columnModel.getDisplayedColumns(this.pinned),a=this.columnModel.getAllGridColumns(),s=o.filter(function(E){return ri(t,E)}),l=o.filter(function(E){return!ri(t,E)}),u=a.filter(function(E){return!ri(t,E)}),c=0,p=r;if(e){var h=0;s.forEach(function(E){return h+=E.getActualWidth()}),p-=h}if(p>0){for(var d=0;d<l.length;d++){var f=l[d];if(p-=f.getActualWidth(),p<0)break;c++}e&&c++}var g;if(c>0){var v=l[c-1];g=u.indexOf(v)+1}else g=u.indexOf(l[0]),g===-1&&(g=0);var m=[g],C=function(E,P){return E-P};if(e){for(var b=g+1,w=a.length-1;b<=w;)m.push(b),b++;m.sort(C)}else{for(var b=g,w=a.length-1,S=a[b];b<=w&&this.isColumnHidden(o,S);)b++,m.push(b),S=a[b];b=g-1;for(var T=0;b>=T;)m.push(b),b--;m.sort(C).reverse()}return m},n.prototype.isColumnHidden=function(t,e){return t.indexOf(e)<0},n.prototype.ensureIntervalStarted=function(){this.movingIntervalId||(this.intervalCount=0,this.failedMoveAttempts=0,this.movingIntervalId=window.setInterval(this.moveInterval.bind(this),100),this.needToMoveLeft?this.dragAndDropService.setGhostIcon(It.ICON_LEFT,!0):this.dragAndDropService.setGhostIcon(It.ICON_RIGHT,!0))},n.prototype.ensureIntervalCleared=function(){this.movingIntervalId&&(window.clearInterval(this.movingIntervalId),this.movingIntervalId=null,this.dragAndDropService.setGhostIcon(It.ICON_MOVE))},n.prototype.moveInterval=function(){var t;this.intervalCount++,t=10+this.intervalCount*5,t>100&&(t=100);var e=null,r=this.gridBodyCon.getScrollFeature();if(this.needToMoveLeft?e=r.scrollHorizontally(-t):this.needToMoveRight&&(e=r.scrollHorizontally(t)),e!==0)this.onDragging(this.lastDraggingEvent),this.failedMoveAttempts=0;else{this.failedMoveAttempts++;var i=this.lastDraggingEvent.dragItem.columns,o=i.filter(function(s){return!s.getColDef().lockPinned});if(o.length>0&&(this.dragAndDropService.setGhostIcon(It.ICON_PINNED),this.failedMoveAttempts>7)){var a=this.needToMoveLeft?L.PINNED_LEFT:L.PINNED_RIGHT;this.setColumnsPinned(o,a,"uiColumnDragged"),this.dragAndDropService.nudge()}}},bp([y("columnModel")],n.prototype,"columnModel",void 0),bp([y("dragAndDropService")],n.prototype,"dragAndDropService",void 0),bp([y("gridOptionsWrapper")],n.prototype,"gridOptionsWrapper",void 0),bp([y("ctrlsService")],n.prototype,"ctrlsService",void 0),bp([H],n.prototype,"init",null),n}();/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v27.3.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */var HU=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),wp=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},N1=function(n){HU(t,n);function t(e,r){var i=n.call(this)||this;return i.pinned=e,i.eContainer=r,i}return t.prototype.postConstruct=function(){var e=this;this.ctrlsService.whenReady(function(r){switch(e.pinned){case L.PINNED_LEFT:e.eSecondaryContainers=[[r.gridBodyCtrl.getBodyViewportElement(),r.leftRowContainerCtrl.getContainerElement()],[r.bottomLeftRowContainerCtrl.getContainerElement()],[r.topLeftRowContainerCtrl.getContainerElement()]];break;case L.PINNED_RIGHT:e.eSecondaryContainers=[[r.gridBodyCtrl.getBodyViewportElement(),r.rightRowContainerCtrl.getContainerElement()],[r.bottomRightRowContainerCtrl.getContainerElement()],[r.topRightRowContainerCtrl.getContainerElement()]];break;default:e.eSecondaryContainers=[[r.gridBodyCtrl.getBodyViewportElement(),r.centerRowContainerCtrl.getViewportElement()],[r.bottomCenterRowContainerCtrl.getViewportElement()],[r.topCenterRowContainerCtrl.getViewportElement()]];break}})},t.prototype.isInterestedIn=function(e){return e===nr.HeaderCell||e===nr.ToolPanel&&this.gridOptionsWrapper.isAllowDragFromColumnsToolPanel()},t.prototype.getSecondaryContainers=function(){return this.eSecondaryContainers},t.prototype.getContainer=function(){return this.eContainer},t.prototype.init=function(){this.moveColumnFeature=this.createManagedBean(new L1(this.pinned,this.eContainer)),this.bodyDropPivotTarget=this.createManagedBean(new I1(this.pinned)),this.dragAndDropService.addDropTarget(this)},t.prototype.getIconName=function(){return this.currentDropListener.getIconName()},t.prototype.isDropColumnInPivotMode=function(e){return this.columnModel.isPivotMode()&&e.dragSource.type===nr.ToolPanel},t.prototype.onDragEnter=function(e){this.currentDropListener=this.isDropColumnInPivotMode(e)?this.bodyDropPivotTarget:this.moveColumnFeature,this.currentDropListener.onDragEnter(e)},t.prototype.onDragLeave=function(e){this.currentDropListener.onDragLeave(e)},t.prototype.onDragging=function(e){this.currentDropListener.onDragging(e)},t.prototype.onDragStop=function(e){this.currentDropListener.onDragStop(e)},wp([y("dragAndDropService")],t.prototype,"dragAndDropService",void 0),wp([y("columnModel")],t.prototype,"columnModel",void 0),wp([y("ctrlsService")],t.prototype,"ctrlsService",void 0),wp([H],t.prototype,"postConstruct",null),wp([H],t.prototype,"init",null),t}(j);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v27.3.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */var jU=globalThis&&globalThis.__read||function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},UU=globalThis&&globalThis.__spread||function(){for(var n=[],t=0;t<arguments.length;t++)n=n.concat(jU(arguments[t]));return n},gd=function(){function n(){}return n.getHeaderClassesFromColDef=function(t,e,r,i){return ye(t)?[]:this.getColumnClassesFromCollDef(t.headerClass,t,e,r,i)},n.getToolPanelClassesFromColDef=function(t,e,r,i){return ye(t)?[]:this.getColumnClassesFromCollDef(t.toolPanelClass,t,e,r,i)},n.getClassParams=function(t,e,r,i){return{colDef:t,column:r,columnGroup:i,api:e.getApi(),columnApi:e.getColumnApi(),context:e.getContext()}},n.getColumnClassesFromCollDef=function(t,e,r,i,o){if(ye(t))return[];var a;if(typeof t=="function"){var s=this.getClassParams(e,r,i,o);a=t(s)}else a=t;return typeof a=="string"?[a]:Array.isArray(a)?UU(a):[]},n}();/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v27.3.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */var zU=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),By=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},$U=function(n){zU(t,n);function t(e){var r=n.call(this,t.TEMPLATE,e)||this;return r.headerCompVersion=0,r.column=e.getColumnGroupChild(),r.pinned=e.getPinned(),r}return t.prototype.postConstruct=function(){var e=this,r=this.getGui(),i=function(s,l,u){var c=u||r;l!=null&&l!=""?c.setAttribute(s,l):c.removeAttribute(s)},o={setWidth:function(s){return r.style.width=s},addOrRemoveCssClass:function(s,l){return e.addOrRemoveCssClass(s,l)},setColId:function(s){return i("col-id",s)},setTitle:function(s){return i("title",s)},setAriaDescription:function(s){return NM(r,s)},setAriaSort:function(s){return s?jM(r,s):UM(r)},setUserCompDetails:function(s){return e.setUserCompDetails(s)},getUserCompInstance:function(){return e.headerComp}};this.ctrl.setComp(o,this.getGui(),this.eResize);var a=this.ctrl.getSelectAllGui();this.eResize.insertAdjacentElement("afterend",a)},t.prototype.destroyHeaderComp=function(){this.headerComp&&(this.getGui().removeChild(this.headerCompGui),this.headerComp=this.destroyBean(this.headerComp),this.headerCompGui=void 0)},t.prototype.setUserCompDetails=function(e){var r=this;this.headerCompVersion++;var i=this.headerCompVersion;e.newAgStackInstance().then(function(o){return r.afterCompCreated(i,o)})},t.prototype.afterCompCreated=function(e,r){if(e!=this.headerCompVersion||!this.isAlive()){this.destroyBean(r);return}this.destroyHeaderComp(),this.headerComp=r,this.headerCompGui=r.getGui(),this.getGui().appendChild(this.headerCompGui),this.ctrl.setDragSource(this.headerCompGui)},t.TEMPLATE=`<div class="ag-header-cell" role="columnheader" tabindex="-1">
            <div ref="eResize" class="ag-header-cell-resize" role="presentation"></div>
        </div>`,By([I("eResize")],t.prototype,"eResize",void 0),By([H],t.prototype,"postConstruct",null),By([_t],t.prototype,"destroyHeaderComp",null),t}(VS);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v27.3.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */var KU=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Vy=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},YU=function(n){KU(t,n);function t(e){return n.call(this,t.TEMPLATE,e)||this}return t.prototype.postConstruct=function(){var e=this,r=this.getGui(),i=function(a,s){return s!=null?r.setAttribute(a,s):r.removeAttribute(a)},o={addOrRemoveCssClass:function(a,s){return e.addOrRemoveCssClass(a,s)},addOrRemoveResizableCssClass:function(a,s){return e.eResize.classList.toggle(a,s)},setWidth:function(a){return r.style.width=a},setColId:function(a){return r.setAttribute("col-id",a)},setAriaExpanded:function(a){return i("aria-expanded",a)},setTitle:function(a){return i("title",a)},setUserCompDetails:function(a){return e.setUserCompDetails(a)}};this.ctrl.setComp(o,r,this.eResize)},t.prototype.setUserCompDetails=function(e){var r=this;e.newAgStackInstance().then(function(i){return r.afterHeaderCompCreated(i)})},t.prototype.afterHeaderCompCreated=function(e){var r=this,i=function(){return r.destroyBean(e)};if(!this.isAlive()){i();return}this.getGui().appendChild(e.getGui()),this.addDestroyFunc(i),this.ctrl.setDragSource(e.getGui())},t.TEMPLATE=`<div class="ag-header-group-cell" role="columnheader" tabindex="-1">
            <div ref="eResize" class="ag-header-cell-resize" role="presentation"></div>
        </div>`,Vy([y("userComponentFactory")],t.prototype,"userComponentFactory",void 0),Vy([I("eResize")],t.prototype,"eResize",void 0),Vy([H],t.prototype,"postConstruct",null),t}(VS);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v27.3.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */var XU=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),NT=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Zr;(function(n){n.COLUMN_GROUP="group",n.COLUMN="column",n.FLOATING_FILTER="filter"})(Zr||(Zr={}));var k1=function(n){XU(t,n);function t(e){var r=n.call(this)||this;r.headerComps={};var i=e.getType()==Zr.COLUMN_GROUP?"ag-header-row-column-group":e.getType()==Zr.FLOATING_FILTER?"ag-header-row-column-filter":"ag-header-row-column";return r.setTemplate('<div class="ag-header-row '+i+'" role="row"></div>'),r.ctrl=e,r}return t.prototype.init=function(){var e=this,r={setTransform:function(i){return e.getGui().style.transform=i},setHeight:function(i){return e.getGui().style.height=i},setTop:function(i){return e.getGui().style.top=i},setHeaderCtrls:function(i){return e.setHeaderCtrls(i)},setWidth:function(i){return e.getGui().style.width=i},setAriaRowIndex:function(i){return AS(e.getGui(),i)}};this.ctrl.setComp(r)},t.prototype.destroyHeaderCtrls=function(){this.setHeaderCtrls([])},t.prototype.setHeaderCtrls=function(e){var r=this;if(!!this.isAlive()){var i=this.headerComps;this.headerComps={},e.forEach(function(l){var u=l.getInstanceId(),c=i[u];delete i[u],c==null&&(c=r.createHeaderComp(l),r.getGui().appendChild(c.getGui())),r.headerComps[u]=c}),ut(i,function(l,u){r.getGui().removeChild(u.getGui()),r.destroyBean(u)});var o=this.gridOptionsWrapper.isEnsureDomOrder();if(o){var a=Zi(this.headerComps);a.sort(function(l,u){var c=l.getCtrl().getColumnGroupChild().getLeft(),p=u.getCtrl().getColumnGroupChild().getLeft();return c-p});var s=a.map(function(l){return l.getGui()});wS(this.getGui(),s)}}},t.prototype.createHeaderComp=function(e){var r;switch(this.ctrl.getType()){case Zr.COLUMN_GROUP:r=new YU(e);break;case Zr.FLOATING_FILTER:r=new b1(e);break;default:r=new $U(e);break}return this.createBean(r),r.setParentComponent(this),r},NT([H],t.prototype,"init",null),NT([_t],t.prototype,"destroyHeaderCtrls",null),t}(te);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v27.3.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */var qU=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),ZU=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},QU=0,vd=function(n){qU(t,n);function t(e,r){var i=n.call(this)||this;return i.lastFocusEvent=null,i.columnGroupChild=e,i.parentRowCtrl=r,i.instanceId=e.getUniqueId()+"-"+QU++,i}return t.prototype.shouldStopEventPropagation=function(e){var r=this.focusService.getFocusedHeader(),i=r.headerRowIndex,o=r.column;return JM(this.gridOptionsWrapper,e,i,o)},t.prototype.setGui=function(e){this.eGui=e,this.addDomData()},t.prototype.addDomData=function(){var e=this,r=t.DOM_DATA_KEY_HEADER_CTRL;this.gridOptionsWrapper.setDomData(this.eGui,r,this),this.addDestroyFunc(function(){return e.gridOptionsWrapper.setDomData(e.eGui,r,null)})},t.prototype.getGui=function(){return this.eGui},t.prototype.focus=function(e){return this.eGui?(this.lastFocusEvent=e||null,this.eGui.focus(),!0):!1},t.prototype.getRowIndex=function(){return this.parentRowCtrl.getRowIndex()},t.prototype.getParentRowCtrl=function(){return this.parentRowCtrl},t.prototype.getPinned=function(){return this.parentRowCtrl.getPinned()},t.prototype.getInstanceId=function(){return this.instanceId},t.prototype.getColumnGroupChild=function(){return this.columnGroupChild},t.DOM_DATA_KEY_HEADER_CTRL="headerCtrl",ZU([y("focusService")],t.prototype,"focusService",void 0),t}(j);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v27.3.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */var ot;(function(n){n.EVERYTHING="group",n.FILTER="filter",n.SORT="sort",n.MAP="map",n.AGGREGATE="aggregate",n.FILTER_AGGREGATES="filter_aggregates",n.PIVOT="pivot",n.NOTHING="nothing"})(ot||(ot={}));/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v27.3.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */var nt=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o};function Cl(n){var t=n,e=t!=null&&t.getFrameworkComponentInstance!=null;return e?t.getFrameworkComponentInstance():n}var G1=function(){function n(){this.detailGridInfoMap={},this.destroyCalled=!1}return n.prototype.registerOverlayWrapperComp=function(t){this.overlayWrapperComp=t},n.prototype.registerSideBarComp=function(t){this.sideBarComp=t},n.prototype.init=function(){var t=this;switch(this.rowModel.getType()){case L.ROW_MODEL_TYPE_CLIENT_SIDE:this.clientSideRowModel=this.rowModel;break;case L.ROW_MODEL_TYPE_INFINITE:this.infiniteRowModel=this.rowModel;break;case L.ROW_MODEL_TYPE_SERVER_SIDE:this.serverSideRowModel=this.rowModel;break}this.ctrlsService.whenReady(function(){t.gridBodyCtrl=t.ctrlsService.getGridBodyCtrl()})},n.prototype.__getAlignedGridService=function(){return this.alignedGridsService},n.prototype.__getContext=function(){return this.context},n.prototype.addDetailGridInfo=function(t,e){this.detailGridInfoMap[t]=e},n.prototype.removeDetailGridInfo=function(t){this.detailGridInfoMap[t]=void 0},n.prototype.getDetailGridInfo=function(t){return this.detailGridInfoMap[t]},n.prototype.forEachDetailGridInfo=function(t){var e=0;ut(this.detailGridInfoMap,function(r,i){Z(i)&&(t(i,e),e++)})},n.prototype.getDataAsCsv=function(t){if(ve.assertRegistered(ae.CsvExportModule,"api.getDataAsCsv"))return this.csvCreator.getDataAsCsv(t)},n.prototype.exportDataAsCsv=function(t){ve.assertRegistered(ae.CsvExportModule,"api.exportDataAsCSv")&&this.csvCreator.exportDataAsCsv(t)},n.prototype.getExcelExportMode=function(t){var e=this.gridOptionsWrapper.getDefaultExportParams("excel"),r=Object.assign({exportMode:"xlsx"},e,t);return r.exportMode},n.prototype.getDataAsExcel=function(t){if(!!ve.assertRegistered(ae.ExcelExportModule,"api.getDataAsExcel")){var e=this.getExcelExportMode(t);if(this.excelCreator.getFactoryMode(e)===Sa.MULTI_SHEET){console.warn("AG Grid: The Excel Exporter is currently on Multi Sheet mode. End that operation by calling `api.getMultipleSheetAsExcel()` or `api.exportMultipleSheetsAsExcel()`");return}return this.excelCreator.getDataAsExcel(t)}},n.prototype.exportDataAsExcel=function(t){if(!!ve.assertRegistered(ae.ExcelExportModule,"api.exportDataAsExcel")){var e=this.getExcelExportMode(t);if(this.excelCreator.getFactoryMode(e)===Sa.MULTI_SHEET){console.warn("AG Grid: The Excel Exporter is currently on Multi Sheet mode. End that operation by calling `api.getMultipleSheetAsExcel()` or `api.exportMultipleSheetsAsExcel()`");return}this.excelCreator.exportDataAsExcel(t)}},n.prototype.getSheetDataForExcel=function(t){if(!!ve.assertRegistered(ae.ExcelExportModule,"api.getSheetDataForExcel")){var e=this.getExcelExportMode(t);return this.excelCreator.setFactoryMode(Sa.MULTI_SHEET,e),this.excelCreator.getSheetDataForExcel(t)}},n.prototype.getMultipleSheetsAsExcel=function(t){if(ve.assertRegistered(ae.ExcelExportModule,"api.getMultipleSheetsAsExcel"))return this.excelCreator.getMultipleSheetsAsExcel(t)},n.prototype.exportMultipleSheetsAsExcel=function(t){if(ve.assertRegistered(ae.ExcelExportModule,"api.exportMultipleSheetsAsExcel"))return this.excelCreator.exportMultipleSheetsAsExcel(t)},n.prototype.setEnterpriseDatasource=function(t){console.warn("AG Grid: since version 18.x, api.setEnterpriseDatasource() should be replaced with api.setServerSideDatasource()"),this.setServerSideDatasource(t)},n.prototype.setGridAriaProperty=function(t,e){if(!!t){var r=this.ctrlsService.getGridBodyCtrl().getGui(),i="aria-"+t;e===null?r.removeAttribute(i):r.setAttribute(i,e)}},n.prototype.setServerSideDatasource=function(t){this.serverSideRowModel?this.serverSideRowModel.setDatasource(t):console.warn("AG Grid: you can only use an enterprise datasource when gridOptions.rowModelType is '"+L.ROW_MODEL_TYPE_SERVER_SIDE+"'")},n.prototype.setDatasource=function(t){this.gridOptionsWrapper.isRowModelInfinite()?this.rowModel.setDatasource(t):console.warn("AG Grid: you can only use a datasource when gridOptions.rowModelType is '"+L.ROW_MODEL_TYPE_INFINITE+"'")},n.prototype.setViewportDatasource=function(t){this.gridOptionsWrapper.isRowModelViewport()?this.rowModel.setViewportDatasource(t):console.warn("AG Grid: you can only use a viewport datasource when gridOptions.rowModelType is '"+L.ROW_MODEL_TYPE_VIEWPORT+"'")},n.prototype.setRowData=function(t){var e=this.immutableService==null;if(e){console.warn("AG Grid: you can only set rowData when using the Client Side Row Model");return}this.immutableService.isActive()?this.immutableService.setRowData(t):(this.selectionService.reset(),this.clientSideRowModel.setRowData(t))},n.prototype.setFloatingTopRowData=function(t){console.warn("AG Grid: since v12, api.setFloatingTopRowData() is now api.setPinnedTopRowData()"),this.setPinnedTopRowData(t)},n.prototype.setFloatingBottomRowData=function(t){console.warn("AG Grid: since v12, api.setFloatingBottomRowData() is now api.setPinnedBottomRowData()"),this.setPinnedBottomRowData(t)},n.prototype.getFloatingTopRowCount=function(){return console.warn("AG Grid: since v12, api.getFloatingTopRowCount() is now api.getPinnedTopRowCount()"),this.getPinnedTopRowCount()},n.prototype.getFloatingBottomRowCount=function(){return console.warn("AG Grid: since v12, api.getFloatingBottomRowCount() is now api.getPinnedBottomRowCount()"),this.getPinnedBottomRowCount()},n.prototype.getFloatingTopRow=function(t){return console.warn("AG Grid: since v12, api.getFloatingTopRow() is now api.getPinnedTopRow()"),this.getPinnedTopRow(t)},n.prototype.getFloatingBottomRow=function(t){return console.warn("AG Grid: since v12, api.getFloatingBottomRow() is now api.getPinnedBottomRow()"),this.getPinnedBottomRow(t)},n.prototype.setPinnedTopRowData=function(t){this.pinnedRowModel.setPinnedTopRowData(t)},n.prototype.setPinnedBottomRowData=function(t){this.pinnedRowModel.setPinnedBottomRowData(t)},n.prototype.getPinnedTopRowCount=function(){return this.pinnedRowModel.getPinnedTopRowCount()},n.prototype.getPinnedBottomRowCount=function(){return this.pinnedRowModel.getPinnedBottomRowCount()},n.prototype.getPinnedTopRow=function(t){return this.pinnedRowModel.getPinnedTopRow(t)},n.prototype.getPinnedBottomRow=function(t){return this.pinnedRowModel.getPinnedBottomRow(t)},n.prototype.setColumnDefs=function(t,e){e===void 0&&(e="api"),this.columnModel.setColumnDefs(t,e)},n.prototype.setAutoGroupColumnDef=function(t,e){this.gridOptionsWrapper.setProperty("autoGroupColumnDef",t,!0)},n.prototype.setDefaultColDef=function(t,e){this.gridOptionsWrapper.setProperty("defaultColDef",t,!0)},n.prototype.expireValueCache=function(){this.valueCache.expire()},n.prototype.getVerticalPixelRange=function(){return this.gridBodyCtrl.getScrollFeature().getVScrollPosition()},n.prototype.getHorizontalPixelRange=function(){return this.gridBodyCtrl.getScrollFeature().getHScrollPosition()},n.prototype.setAlwaysShowHorizontalScroll=function(t){this.gridOptionsWrapper.setProperty("alwaysShowHorizontalScroll",t)},n.prototype.setAlwaysShowVerticalScroll=function(t){this.gridOptionsWrapper.setProperty("alwaysShowVerticalScroll",t)},n.prototype.refreshToolPanel=function(){!this.sideBarComp||this.sideBarComp.refresh()},n.prototype.refreshCells=function(t){if(t===void 0&&(t={}),Array.isArray(t)){console.warn("since AG Grid v11.1, refreshCells() now takes parameters, please see the documentation.");return}this.rowRenderer.refreshCells(t)},n.prototype.flashCells=function(t){t===void 0&&(t={}),this.rowRenderer.flashCells(t)},n.prototype.redrawRows=function(t){t===void 0&&(t={});var e=t?t.rowNodes:void 0;this.rowRenderer.redrawRows(e)},n.prototype.setFunctionsReadOnly=function(t){this.gridOptionsWrapper.setProperty("functionsReadOnly",t)},n.prototype.refreshHeader=function(){this.ctrlsService.getHeaderRowContainerCtrls().forEach(function(t){return t.refresh()})},n.prototype.isAnyFilterPresent=function(){return this.filterManager.isAnyFilterPresent()},n.prototype.isColumnFilterPresent=function(){return this.filterManager.isColumnFilterPresent()||this.filterManager.isAggregateFilterPresent()},n.prototype.isQuickFilterPresent=function(){return this.filterManager.isQuickFilterPresent()},n.prototype.getModel=function(){return this.rowModel},n.prototype.setRowNodeExpanded=function(t,e){t&&t.setExpanded(e)},n.prototype.onGroupExpandedOrCollapsed=function(t){ye(this.clientSideRowModel)&&console.warn("AG Grid: cannot call onGroupExpandedOrCollapsed unless using normal row model"),Z(t)&&console.warn("AG Grid: api.onGroupExpandedOrCollapsed - refreshFromIndex parameter is no longer used, the grid will refresh all rows"),this.clientSideRowModel.refreshModel({step:ot.MAP})},n.prototype.refreshInMemoryRowModel=function(t){console.warn("ag-grid: since version 18.x, api.refreshInMemoryRowModel() should be replaced with api.refreshClientSideRowModel()"),this.refreshClientSideRowModel(t)},n.prototype.refreshClientSideRowModel=function(t){ye(this.clientSideRowModel)&&console.warn("cannot call refreshClientSideRowModel unless using normal row model");var e=ot.EVERYTHING,r={group:ot.EVERYTHING,filter:ot.FILTER,map:ot.MAP,aggregate:ot.AGGREGATE,sort:ot.SORT,pivot:ot.PIVOT};if(Z(t)&&(e=r[t]),ye(e)){console.error("AG Grid: invalid step "+t+", available steps are "+Object.keys(r).join(", "));return}var i=!this.gridOptionsWrapper.isSuppressAnimationFrame(),o={step:e,keepRenderedRows:!0,keepEditingRows:!0,animate:i};this.clientSideRowModel.refreshModel(o)},n.prototype.isAnimationFrameQueueEmpty=function(){return this.animationFrameService.isQueueEmpty()},n.prototype.flushAllAnimationFrames=function(){this.animationFrameService.flushAllFrames()},n.prototype.getRowNode=function(t){return this.rowModel.getRowNode(t)},n.prototype.getSizesForCurrentTheme=function(){return{rowHeight:this.gridOptionsWrapper.getRowHeightAsNumber(),headerHeight:this.gridOptionsWrapper.getHeaderHeight()}},n.prototype.expandAll=function(){this.clientSideRowModel?this.clientSideRowModel.expandOrCollapseAll(!0):this.serverSideRowModel?this.serverSideRowModel.expandAll(!0):console.warn("AG Grid: expandAll only works with Client Side Row Model and Server Side Row Model")},n.prototype.collapseAll=function(){this.clientSideRowModel?this.clientSideRowModel.expandOrCollapseAll(!1):this.serverSideRowModel?this.serverSideRowModel.expandAll(!1):console.warn("AG Grid: collapseAll only works with Client Side Row Model and Server Side Row Model")},n.prototype.getToolPanelInstance=function(t){if(!this.sideBarComp){console.warn("AG Grid: toolPanel is only available in AG Grid Enterprise");return}var e=this.sideBarComp.getToolPanelInstance(t);return Cl(e)},n.prototype.addVirtualRowListener=function(t,e,r){typeof t!="string"&&console.warn("AG Grid: addVirtualRowListener is deprecated, please use addRenderedRowListener."),this.addRenderedRowListener(t,e,r)},n.prototype.addRenderedRowListener=function(t,e,r){t==="virtualRowSelected"&&console.warn(`AG Grid: event virtualRowSelected is deprecated, to register for individual row
                selection events, add a listener directly to the row node.`),this.rowRenderer.addRenderedRowListener(t,e,r)},n.prototype.setQuickFilter=function(t){this.filterManager.setQuickFilter(t)},n.prototype.selectIndex=function(t,e,r){console.warn("AG Grid: do not use api for selection, call node.setSelected(value) instead"),r&&console.warn("AG Grid: suppressEvents is no longer supported, stop listening for the event if you no longer want it"),this.selectionService.selectIndex(t,e)},n.prototype.deselectIndex=function(t,e){e===void 0&&(e=!1),console.warn("AG Grid: do not use api for selection, call node.setSelected(value) instead"),e&&console.warn("AG Grid: suppressEvents is no longer supported, stop listening for the event if you no longer want it"),this.selectionService.deselectIndex(t)},n.prototype.selectNode=function(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!1),console.warn("AG Grid: API for selection is deprecated, call node.setSelected(value) instead"),r&&console.warn("AG Grid: suppressEvents is no longer supported, stop listening for the event if you no longer want it"),t.setSelectedParams({newValue:!0,clearSelection:!e})},n.prototype.deselectNode=function(t,e){e===void 0&&(e=!1),console.warn("AG Grid: API for selection is deprecated, call node.setSelected(value) instead"),e&&console.warn("AG Grid: suppressEvents is no longer supported, stop listening for the event if you no longer want it"),t.setSelectedParams({newValue:!1})},n.prototype.selectAll=function(){this.selectionService.selectAllRowNodes()},n.prototype.deselectAll=function(){this.selectionService.deselectAllRowNodes()},n.prototype.selectAllFiltered=function(){this.selectionService.selectAllRowNodes(!0)},n.prototype.deselectAllFiltered=function(){this.selectionService.deselectAllRowNodes(!0)},n.prototype.recomputeAggregates=function(){ye(this.clientSideRowModel)&&console.warn("cannot call recomputeAggregates unless using normal row model"),console.warn("recomputeAggregates is deprecated, please call api.refreshClientSideRowModel('aggregate') instead"),this.clientSideRowModel.refreshModel({step:ot.AGGREGATE})},n.prototype.sizeColumnsToFit=function(){this.gridBodyCtrl.sizeColumnsToFit()},n.prototype.showLoadingOverlay=function(){this.overlayWrapperComp.showLoadingOverlay()},n.prototype.showNoRowsOverlay=function(){this.overlayWrapperComp.showNoRowsOverlay()},n.prototype.hideOverlay=function(){this.overlayWrapperComp.hideOverlay()},n.prototype.isNodeSelected=function(t){return console.warn("AG Grid: no need to call api.isNodeSelected(), just call node.isSelected() instead"),t.isSelected()},n.prototype.getSelectedNodesById=function(){return console.error("AG Grid: since version 3.4, getSelectedNodesById no longer exists, use getSelectedNodes() instead"),null},n.prototype.getSelectedNodes=function(){return this.selectionService.getSelectedNodes()},n.prototype.getSelectedRows=function(){return this.selectionService.getSelectedRows()},n.prototype.getBestCostNodeSelection=function(){return this.selectionService.getBestCostNodeSelection()},n.prototype.getRenderedNodes=function(){return this.rowRenderer.getRenderedNodes()},n.prototype.ensureColIndexVisible=function(t){console.warn("AG Grid: ensureColIndexVisible(index) no longer supported, use ensureColumnVisible(colKey) instead.")},n.prototype.ensureColumnVisible=function(t,e){e===void 0&&(e="auto"),this.gridBodyCtrl.getScrollFeature().ensureColumnVisible(t,e)},n.prototype.ensureIndexVisible=function(t,e){this.gridBodyCtrl.getScrollFeature().ensureIndexVisible(t,e)},n.prototype.ensureNodeVisible=function(t,e){e===void 0&&(e=null),this.gridBodyCtrl.getScrollFeature().ensureNodeVisible(t,e)},n.prototype.forEachLeafNode=function(t){ye(this.clientSideRowModel)&&console.warn("cannot call forEachNode unless using normal row model"),this.clientSideRowModel.forEachLeafNode(t)},n.prototype.forEachNode=function(t){this.rowModel.forEachNode(t)},n.prototype.forEachNodeAfterFilter=function(t){ye(this.clientSideRowModel)&&console.warn("cannot call forEachNodeAfterFilter unless using normal row model"),this.clientSideRowModel.forEachNodeAfterFilter(t)},n.prototype.forEachNodeAfterFilterAndSort=function(t){ye(this.clientSideRowModel)&&console.warn("cannot call forEachNodeAfterFilterAndSort unless using normal row model"),this.clientSideRowModel.forEachNodeAfterFilterAndSort(t)},n.prototype.getFilterInstance=function(t,e){var r=this.getFilterInstanceImpl(t,function(o){if(!!e){var a=Cl(o);e(a)}}),i=Cl(r);return i},n.prototype.getFilterInstanceImpl=function(t,e){var r=this.columnModel.getPrimaryColumn(t);if(!!r){var i=this.filterManager.getFilterComponent(r,"NO_UI"),o=i&&i.resolveNow(null,function(a){return a});return o?setTimeout(e,0,o):i&&i.then(function(a){e(a)}),o}},n.prototype.destroyFilter=function(t){var e=this.columnModel.getPrimaryColumn(t);if(e)return this.filterManager.destroyFilter(e,"filterDestroyed")},n.prototype.getStatusPanel=function(t){if(!!this.statusBarService){var e=this.statusBarService.getStatusPanel(t);return Cl(e)}},n.prototype.getColumnDef=function(t){var e=this.columnModel.getPrimaryColumn(t);return e?e.getColDef():null},n.prototype.getColumnDefs=function(){return this.columnModel.getColumnDefs()},n.prototype.onFilterChanged=function(){this.filterManager.onFilterChanged()},n.prototype.onSortChanged=function(){this.sortController.onSortChanged("api")},n.prototype.setFilterModel=function(t){this.filterManager.setFilterModel(t)},n.prototype.getFilterModel=function(){return this.filterManager.getFilterModel()},n.prototype.getFocusedCell=function(){return this.focusService.getFocusedCell()},n.prototype.clearFocusedCell=function(){return this.focusService.clearFocusedCell()},n.prototype.setFocusedCell=function(t,e,r){this.focusService.setFocusedCell(t,e,r,!0)},n.prototype.setSuppressRowDrag=function(t){this.gridOptionsWrapper.setProperty(pe.PROP_SUPPRESS_ROW_DRAG,t)},n.prototype.setSuppressMoveWhenRowDragging=function(t){this.gridOptionsWrapper.setProperty(pe.PROP_SUPPRESS_MOVE_WHEN_ROW_DRAG,t)},n.prototype.setSuppressRowClickSelection=function(t){this.gridOptionsWrapper.setProperty(pe.PROP_SUPPRESS_ROW_CLICK_SELECTION,t)},n.prototype.addRowDropZone=function(t){this.gridBodyCtrl.getRowDragFeature().addRowDropZone(t)},n.prototype.removeRowDropZone=function(t){var e=this.dragAndDropService.findExternalZone(t);e&&this.dragAndDropService.removeDropTarget(e)},n.prototype.getRowDropZoneParams=function(t){return this.gridBodyCtrl.getRowDragFeature().getRowDropZone(t)},n.prototype.setHeaderHeight=function(t){this.gridOptionsWrapper.setProperty(pe.PROP_HEADER_HEIGHT,t)},n.prototype.setDomLayout=function(t){this.gridOptionsWrapper.setProperty(pe.PROP_DOM_LAYOUT,t)},n.prototype.setEnableCellTextSelection=function(t){this.gridBodyCtrl.setCellTextSelection(t)},n.prototype.setFillHandleDirection=function(t){this.gridOptionsWrapper.setProperty(pe.PROP_FILL_HANDLE_DIRECTION,t)},n.prototype.setGroupHeaderHeight=function(t){this.gridOptionsWrapper.setProperty(pe.PROP_GROUP_HEADER_HEIGHT,t)},n.prototype.setFloatingFiltersHeight=function(t){this.gridOptionsWrapper.setProperty(pe.PROP_FLOATING_FILTERS_HEIGHT,t)},n.prototype.setPivotHeaderHeight=function(t){this.gridOptionsWrapper.setProperty(pe.PROP_PIVOT_HEADER_HEIGHT,t)},n.prototype.setPivotGroupHeaderHeight=function(t){this.gridOptionsWrapper.setProperty(pe.PROP_PIVOT_GROUP_HEADER_HEIGHT,t)},n.prototype.setIsExternalFilterPresent=function(t){this.gridOptionsWrapper.setProperty(pe.PROP_IS_EXTERNAL_FILTER_PRESENT,t)},n.prototype.setDoesExternalFilterPass=function(t){this.gridOptionsWrapper.setProperty(pe.PROP_DOES_EXTERNAL_FILTER_PASS,t)},n.prototype.setNavigateToNextCell=function(t){this.gridOptionsWrapper.setProperty(pe.PROP_NAVIGATE_TO_NEXT_CELL,t)},n.prototype.setTabToNextCell=function(t){this.gridOptionsWrapper.setProperty(pe.PROP_TAB_TO_NEXT_CELL,t)},n.prototype.setTabToNextHeader=function(t){this.gridOptionsWrapper.setProperty(pe.PROP_TAB_TO_NEXT_HEADER,t)},n.prototype.setNavigateToNextHeader=function(t){this.gridOptionsWrapper.setProperty(pe.PROP_NAVIGATE_TO_NEXT_HEADER,t)},n.prototype.setGroupRowAggNodes=function(t){this.gridOptionsWrapper.setProperty(pe.PROP_GROUP_ROW_AGG_NODES,t)},n.prototype.setGetGroupRowAgg=function(t){this.gridOptionsWrapper.setProperty(pe.PROP_GET_GROUP_ROW_AGG,t)},n.prototype.setGetBusinessKeyForNode=function(t){this.gridOptionsWrapper.setProperty(pe.PROP_GET_BUSINESS_KEY_FOR_NODE,t)},n.prototype.setGetChildCount=function(t){this.gridOptionsWrapper.setProperty(pe.PROP_GET_CHILD_COUNT,t)},n.prototype.setProcessRowPostCreate=function(t){this.gridOptionsWrapper.setProperty(pe.PROP_PROCESS_ROW_POST_CREATE,t)},n.prototype.setGetRowNodeId=function(t){this.gridOptionsWrapper.setProperty(pe.PROP_GET_ROW_NODE_ID,t)},n.prototype.setGetRowId=function(t){this.gridOptionsWrapper.setProperty(pe.PROP_GET_ROW_ID,t)},n.prototype.setGetRowClass=function(t){this.gridOptionsWrapper.setProperty(pe.PROP_GET_ROW_CLASS,t)},n.prototype.setIsFullWidthCell=function(t){this.gridOptionsWrapper.setProperty(pe.PROP_IS_FULL_WIDTH_CELL,t)},n.prototype.setIsFullWidthRow=function(t){this.gridOptionsWrapper.setProperty(pe.PROP_IS_FULL_WIDTH_ROW,t)},n.prototype.setIsRowSelectable=function(t){this.gridOptionsWrapper.setProperty(pe.PROP_IS_ROW_SELECTABLE,t)},n.prototype.setIsRowMaster=function(t){this.gridOptionsWrapper.setProperty(pe.PROP_IS_ROW_MASTER,t)},n.prototype.setPostSort=function(t){this.gridOptionsWrapper.setProperty(pe.PROP_POST_SORT,t)},n.prototype.setPostSortRows=function(t){this.gridOptionsWrapper.setProperty(pe.PROP_POST_SORT_ROWS,t)},n.prototype.setGetDocument=function(t){this.gridOptionsWrapper.setProperty(pe.PROP_GET_DOCUMENT,t)},n.prototype.setGetContextMenuItems=function(t){this.gridOptionsWrapper.setProperty(pe.PROP_GET_CONTEXT_MENU_ITEMS,t)},n.prototype.setGetMainMenuItems=function(t){this.gridOptionsWrapper.setProperty(pe.PROP_GET_MAIN_MENU_ITEMS,t)},n.prototype.setProcessCellForClipboard=function(t){this.gridOptionsWrapper.setProperty(pe.PROP_PROCESS_CELL_FOR_CLIPBOARD,t)},n.prototype.setSendToClipboard=function(t){this.gridOptionsWrapper.setProperty(pe.PROP_SEND_TO_CLIPBOARD,t)},n.prototype.setProcessCellFromClipboard=function(t){this.gridOptionsWrapper.setProperty(pe.PROP_PROCESS_CELL_FROM_CLIPBOARD,t)},n.prototype.setProcessSecondaryColDef=function(t){this.gridOptionsWrapper.setProperty(pe.PROP_PROCESS_TO_SECONDARY_COLDEF,t)},n.prototype.setProcessSecondaryColGroupDef=function(t){this.gridOptionsWrapper.setProperty(pe.PROP_PROCESS_SECONDARY_COL_GROUP_DEF,t)},n.prototype.setPostProcessPopup=function(t){this.gridOptionsWrapper.setProperty(pe.PROP_POST_PROCESS_POPUP,t)},n.prototype.setDefaultGroupOrderComparator=function(t){this.gridOptionsWrapper.setProperty(pe.PROP_DEFAULT_GROUP_ORDER_COMPARATOR,t)},n.prototype.setInitialGroupOrderComparator=function(t){this.gridOptionsWrapper.setProperty(pe.PROP_INITIAL_GROUP_ORDER_COMPARATOR,t)},n.prototype.setGetChartToolbarItems=function(t){this.gridOptionsWrapper.setProperty(pe.PROP_GET_CHART_TOOLBAR_ITEMS,t)},n.prototype.setPaginationNumberFormatter=function(t){this.gridOptionsWrapper.setProperty(pe.PROP_PAGINATION_NUMBER_FORMATTER,t)},n.prototype.setGetServerSideStoreParams=function(t){this.gridOptionsWrapper.setProperty(pe.PROP_GET_SERVER_SIDE_STORE_PARAMS,t)},n.prototype.setIsServerSideGroupOpenByDefault=function(t){this.gridOptionsWrapper.setProperty(pe.PROP_IS_SERVER_SIDE_GROUPS_OPEN_BY_DEFAULT,t)},n.prototype.setIsApplyServerSideTransaction=function(t){this.gridOptionsWrapper.setProperty(pe.PROP_IS_APPLY_SERVER_SIDE_TRANSACTION,t)},n.prototype.setIsServerSideGroup=function(t){this.gridOptionsWrapper.setProperty(pe.PROP_IS_SERVER_SIDE_GROUP,t)},n.prototype.setGetServerSideGroupKey=function(t){this.gridOptionsWrapper.setProperty(pe.PROP_GET_SERVER_SIDE_GROUP_KEY,t)},n.prototype.setGetRowStyle=function(t){this.gridOptionsWrapper.setProperty(pe.PROP_GET_ROW_STYLE,t)},n.prototype.setGetRowHeight=function(t){this.gridOptionsWrapper.setProperty(pe.PROP_GET_ROW_HEIGHT,t)},n.prototype.isSideBarVisible=function(){return this.sideBarComp?this.sideBarComp.isDisplayed():!1},n.prototype.setSideBarVisible=function(t){if(!this.sideBarComp){t&&console.warn("AG Grid: sideBar is not loaded");return}this.sideBarComp.setDisplayed(t)},n.prototype.setSideBarPosition=function(t){if(!this.sideBarComp){console.warn("AG Grid: sideBar is not loaded");return}this.sideBarComp.setSideBarPosition(t)},n.prototype.openToolPanel=function(t){if(!this.sideBarComp){console.warn("AG Grid: toolPanel is only available in AG Grid Enterprise");return}this.sideBarComp.openToolPanel(t)},n.prototype.closeToolPanel=function(){if(!this.sideBarComp){console.warn("AG Grid: toolPanel is only available in AG Grid Enterprise");return}this.sideBarComp.close()},n.prototype.getOpenedToolPanel=function(){return this.sideBarComp?this.sideBarComp.openedItem():null},n.prototype.getSideBar=function(){return this.gridOptionsWrapper.getSideBar()},n.prototype.setSideBar=function(t){this.gridOptionsWrapper.setProperty("sideBar",w1.parse(t))},n.prototype.setSuppressClipboardPaste=function(t){this.gridOptionsWrapper.setProperty(pe.PROP_SUPPRESS_CLIPBOARD_PASTE,t)},n.prototype.isToolPanelShowing=function(){return this.sideBarComp.isToolPanelShowing()},n.prototype.doLayout=function(){var t="AG Grid - since version 25.1, doLayout was taken out, as it's not needed. The grid responds to grid size changes automatically";ct(function(){return console.warn(t)},"doLayoutDeprecated")},n.prototype.resetRowHeights=function(){if(Z(this.clientSideRowModel)){if(this.columnModel.isAutoRowHeightActive()){console.warn("AG Grid: calling gridApi.resetRowHeights() makes no sense when using Auto Row Height.");return}this.clientSideRowModel.resetRowHeights()}},n.prototype.setGroupRemoveSingleChildren=function(t){this.gridOptionsWrapper.setProperty(pe.PROP_GROUP_REMOVE_SINGLE_CHILDREN,t)},n.prototype.setGroupRemoveLowestSingleChildren=function(t){this.gridOptionsWrapper.setProperty(pe.PROP_GROUP_REMOVE_LOWEST_SINGLE_CHILDREN,t)},n.prototype.onRowHeightChanged=function(){this.clientSideRowModel?this.clientSideRowModel.onRowHeightChanged():this.serverSideRowModel&&this.serverSideRowModel.onRowHeightChanged()},n.prototype.getValue=function(t,e){var r=this.columnModel.getPrimaryColumn(t);return ye(r)&&(r=this.columnModel.getGridColumn(t)),ye(r)?null:this.valueService.getValue(r,e)},n.prototype.addEventListener=function(t,e){var r=this.gridOptionsWrapper.useAsyncEvents();this.eventService.addEventListener(t,e,r)},n.prototype.addGlobalListener=function(t){var e=this.gridOptionsWrapper.useAsyncEvents();this.eventService.addGlobalListener(t,e)},n.prototype.removeEventListener=function(t,e){var r=this.gridOptionsWrapper.useAsyncEvents();this.eventService.removeEventListener(t,e,r)},n.prototype.removeGlobalListener=function(t){var e=this.gridOptionsWrapper.useAsyncEvents();this.eventService.removeGlobalListener(t,e)},n.prototype.dispatchEvent=function(t){this.eventService.dispatchEvent(t)},n.prototype.destroy=function(){if(!this.destroyCalled){this.destroyCalled=!0;var t=this.ctrlsService.getGridCtrl();t&&t.destroyGridUi(),this.context.destroy()}},n.prototype.cleanDownReferencesToAvoidMemoryLeakInCaseApplicationIsKeepingReferenceToDestroyedGrid=function(){setTimeout(QD.bind(window,this,"Grid API"),100)},n.prototype.warnIfDestroyed=function(t){return this.destroyCalled&&console.warn("AG Grid: Grid API method "+t+" was called on a grid that was destroyed."),this.destroyCalled},n.prototype.resetQuickFilter=function(){this.warnIfDestroyed("resetQuickFilter")||this.rowModel.forEachNode(function(t){return t.quickFilterAggregateText=null})},n.prototype.getRangeSelections=function(){return console.warn(`AG Grid: in v20.1.x, api.getRangeSelections() is gone, please use getCellRanges() instead.
        We had to change how cell selections works a small bit to allow charting to integrate. The return type of
        getCellRanges() is a bit different, please check the AG Grid documentation.`),null},n.prototype.getCellRanges=function(){return this.rangeService?this.rangeService.getCellRanges():(console.warn("AG Grid: cell range selection is only available in AG Grid Enterprise"),null)},n.prototype.camelCaseToHumanReadable=function(t){return mS(t)},n.prototype.addRangeSelection=function(t){console.warn("AG Grid: As of version 21.x, range selection changed slightly to allow charting integration. Please call api.addCellRange() instead of api.addRangeSelection()")},n.prototype.addCellRange=function(t){this.rangeService||console.warn("AG Grid: cell range selection is only available in AG Grid Enterprise"),this.rangeService.addCellRange(t)},n.prototype.clearRangeSelection=function(){this.rangeService||console.warn("AG Grid: cell range selection is only available in AG Grid Enterprise"),this.rangeService.removeAllCellRanges()},n.prototype.undoCellEditing=function(){this.undoRedoService.undo()},n.prototype.redoCellEditing=function(){this.undoRedoService.redo()},n.prototype.getCurrentUndoSize=function(){return this.undoRedoService.getCurrentUndoStackSize()},n.prototype.getCurrentRedoSize=function(){return this.undoRedoService.getCurrentRedoStackSize()},n.prototype.getChartModels=function(){if(ve.assertRegistered(ae.RangeSelectionModule,"api.getChartModels")&&ve.assertRegistered(ae.GridChartsModule,"api.getChartModels"))return this.chartService.getChartModels()},n.prototype.getChartRef=function(t){if(ve.assertRegistered(ae.RangeSelectionModule,"api.getChartRef")&&ve.assertRegistered(ae.GridChartsModule,"api.getChartRef"))return this.chartService.getChartRef(t)},n.prototype.getChartImageDataURL=function(t){if(ve.assertRegistered(ae.RangeSelectionModule,"api.getChartImageDataURL")&&ve.assertRegistered(ae.GridChartsModule,"api.getChartImageDataURL"))return this.chartService.getChartImageDataURL(t)},n.prototype.createRangeChart=function(t){if(ve.assertRegistered(ae.RangeSelectionModule,"api.createRangeChart")&&ve.assertRegistered(ae.GridChartsModule,"api.createRangeChart"))return this.chartService.createRangeChart(t)},n.prototype.createCrossFilterChart=function(t){if(ve.assertRegistered(ae.RangeSelectionModule,"api.createCrossFilterChart")&&ve.assertRegistered(ae.GridChartsModule,"api.createCrossFilterChart"))return this.chartService.createCrossFilterChart(t)},n.prototype.restoreChart=function(t,e){if(ve.assertRegistered(ae.RangeSelectionModule,"api.restoreChart")&&ve.assertRegistered(ae.GridChartsModule,"api.restoreChart"))return this.chartService.restoreChart(t,e)},n.prototype.createPivotChart=function(t){if(ve.assertRegistered(ae.RangeSelectionModule,"api.createPivotChart")&&ve.assertRegistered(ae.GridChartsModule,"api.createPivotChart"))return this.chartService.createPivotChart(t)},n.prototype.copySelectedRowsToClipboard=function(t){this.clipboardService||console.warn("AG Grid: clipboard is only available in AG Grid Enterprise"),this.clipboardService.copySelectedRowsToClipboard(t)},n.prototype.copySelectedRangeToClipboard=function(t){this.clipboardService||console.warn("AG Grid: clipboard is only available in AG Grid Enterprise"),this.clipboardService.copySelectedRangeToClipboard(t)},n.prototype.copySelectedRangeDown=function(){this.clipboardService||console.warn("AG Grid: clipboard is only available in AG Grid Enterprise"),this.clipboardService.copyRangeDown()},n.prototype.showColumnMenuAfterButtonClick=function(t,e){var r=this.columnModel.getGridColumn(t);this.menuFactory.showMenuAfterButtonClick(r,e,"columnMenu")},n.prototype.showColumnMenuAfterMouseClick=function(t,e){var r=this.columnModel.getGridColumn(t);if(r||(r=this.columnModel.getPrimaryColumn(t)),!r){console.error("AG Grid: column '"+t+"' not found");return}this.menuFactory.showMenuAfterMouseEvent(r,e)},n.prototype.hidePopupMenu=function(){this.contextMenuFactory&&this.contextMenuFactory.hideActiveMenu(),this.menuFactory.hideActiveMenu()},n.prototype.setPopupParent=function(t){this.gridOptionsWrapper.setProperty(pe.PROP_POPUP_PARENT,t)},n.prototype.tabToNextCell=function(t){return this.navigationService.tabToNextCell(!1,t)},n.prototype.tabToPreviousCell=function(t){return this.navigationService.tabToNextCell(!0,t)},n.prototype.getCellRendererInstances=function(t){t===void 0&&(t={});var e=this.rowRenderer.getCellRendererInstances(t),r=e.map(Cl);return r},n.prototype.getCellEditorInstances=function(t){t===void 0&&(t={});var e=this.rowRenderer.getCellEditorInstances(t),r=e.map(Cl);return r},n.prototype.getEditingCells=function(){return this.rowRenderer.getEditingCells()},n.prototype.stopEditing=function(t){t===void 0&&(t=!1),this.rowRenderer.stopEditing(t)},n.prototype.startEditingCell=function(t){var e=this.columnModel.getGridColumn(t.colKey);if(!e){console.warn("AG Grid: no column found for "+t.colKey);return}var r={rowIndex:t.rowIndex,rowPinned:t.rowPinned||null,column:e},i=t.rowPinned==null;i&&this.gridBodyCtrl.getScrollFeature().ensureIndexVisible(t.rowIndex);var o=this.navigationService.getCellByPosition(r);!o||o.startRowOrCellEdit(t.key,t.charPress)},n.prototype.addAggFunc=function(t,e){this.aggFuncService&&this.aggFuncService.addAggFunc(t,e)},n.prototype.addAggFuncs=function(t){this.aggFuncService&&this.aggFuncService.addAggFuncs(t)},n.prototype.clearAggFuncs=function(){this.aggFuncService&&this.aggFuncService.clear()},n.prototype.applyServerSideTransaction=function(t){if(!this.serverSideTransactionManager){console.warn("AG Grid: Cannot apply Server Side Transaction if not using the Server Side Row Model.");return}return this.serverSideTransactionManager.applyTransaction(t)},n.prototype.applyServerSideTransactionAsync=function(t,e){if(!this.serverSideTransactionManager){console.warn("AG Grid: Cannot apply Server Side Transaction if not using the Server Side Row Model.");return}return this.serverSideTransactionManager.applyTransactionAsync(t,e)},n.prototype.retryServerSideLoads=function(){if(!this.serverSideRowModel){console.warn("AG Grid: API retryServerSideLoads() can only be used when using Server-Side Row Model.");return}this.serverSideRowModel.retryLoads()},n.prototype.flushServerSideAsyncTransactions=function(){if(!this.serverSideTransactionManager){console.warn("AG Grid: Cannot flush Server Side Transaction if not using the Server Side Row Model.");return}return this.serverSideTransactionManager.flushAsyncTransactions()},n.prototype.applyTransaction=function(t){if(!this.clientSideRowModel){console.error("AG Grid: updateRowData() only works with ClientSideRowModel. Working with InfiniteRowModel was deprecated in v23.1 and removed in v24.1");return}var e=this.clientSideRowModel.updateRowData(t);return this.rowRenderer.refreshFullWidthRows(e.update),this.gridOptionsWrapper.isSuppressChangeDetection()||this.rowRenderer.refreshCells(),e},n.prototype.setDeltaSort=function(t){this.gridOptionsWrapper.setProperty("deltaSort",t)},n.prototype.updateRowData=function(t){var e="AG Grid: as of v23.1, grid API updateRowData(transaction) is now called applyTransaction(transaction). updateRowData is deprecated and will be removed in a future major release.";return ct(function(){return console.warn(e)},"updateRowData deprecated"),this.applyTransaction(t)},n.prototype.applyTransactionAsync=function(t,e){if(!this.clientSideRowModel){console.error("AG Grid: api.applyTransactionAsync() only works with ClientSideRowModel.");return}this.clientSideRowModel.batchUpdateRowData(t,e)},n.prototype.flushAsyncTransactions=function(){if(!this.clientSideRowModel){console.error("AG Grid: api.applyTransactionAsync() only works with ClientSideRowModel.");return}this.clientSideRowModel.flushAsyncTransactions()},n.prototype.batchUpdateRowData=function(t,e){var r="AG Grid: as of v23.1, grid API batchUpdateRowData(transaction, callback) is now called applyTransactionAsync(transaction, callback). batchUpdateRowData is deprecated and will be removed in a future major release.";ct(function(){return console.warn(r)},"batchUpdateRowData deprecated"),this.applyTransactionAsync(t,e)},n.prototype.insertItemsAtIndex=function(t,e,r){console.warn("AG Grid: insertItemsAtIndex() is deprecated, use updateRowData(transaction) instead."),this.updateRowData({add:e,addIndex:t,update:null,remove:null})},n.prototype.removeItems=function(t,e){console.warn("AG Grid: removeItems() is deprecated, use updateRowData(transaction) instead.");var r=t.map(function(i){return i.data});this.updateRowData({add:null,addIndex:null,update:null,remove:r})},n.prototype.addItems=function(t,e){console.warn("AG Grid: addItems() is deprecated, use updateRowData(transaction) instead."),this.updateRowData({add:t,addIndex:null,update:null,remove:null})},n.prototype.refreshVirtualPageCache=function(){console.warn("AG Grid: refreshVirtualPageCache() is now called refreshInfiniteCache(), please call refreshInfiniteCache() instead"),this.refreshInfiniteCache()},n.prototype.refreshInfinitePageCache=function(){console.warn("AG Grid: refreshInfinitePageCache() is now called refreshInfiniteCache(), please call refreshInfiniteCache() instead"),this.refreshInfiniteCache()},n.prototype.refreshInfiniteCache=function(){this.infiniteRowModel?this.infiniteRowModel.refreshCache():console.warn("AG Grid: api.refreshInfiniteCache is only available when rowModelType='infinite'.")},n.prototype.purgeVirtualPageCache=function(){console.warn("AG Grid: purgeVirtualPageCache() is now called purgeInfiniteCache(), please call purgeInfiniteCache() instead"),this.purgeInfinitePageCache()},n.prototype.purgeInfinitePageCache=function(){console.warn("AG Grid: purgeInfinitePageCache() is now called purgeInfiniteCache(), please call purgeInfiniteCache() instead"),this.purgeInfiniteCache()},n.prototype.purgeInfiniteCache=function(){this.infiniteRowModel?this.infiniteRowModel.purgeCache():console.warn("AG Grid: api.purgeInfiniteCache is only available when rowModelType='infinite'.")},n.prototype.purgeEnterpriseCache=function(t){console.warn("ag-grid: since version 18.x, api.purgeEnterpriseCache() should be replaced with api.purgeServerSideCache()"),this.purgeServerSideCache(t)},n.prototype.purgeServerSideCache=function(t){t===void 0&&(t=[]),this.serverSideRowModel?(console.warn("AG Grid: since v25.0, api.purgeServerSideCache is deprecated. Please use api.refreshServerSideStore({purge: true}) instead."),this.refreshServerSideStore({route:t,purge:!0})):console.warn("AG Grid: api.purgeServerSideCache is only available when rowModelType='serverSide'.")},n.prototype.refreshServerSideStore=function(t){this.serverSideRowModel?this.serverSideRowModel.refreshStore(t):console.warn("AG Grid: api.refreshServerSideStore is only available when rowModelType='serverSide'.")},n.prototype.getServerSideStoreState=function(){return this.serverSideRowModel?this.serverSideRowModel.getStoreState():(console.warn("AG Grid: api.getServerSideStoreState is only available when rowModelType='serverSide'."),[])},n.prototype.getVirtualRowCount=function(){return console.warn("AG Grid: getVirtualRowCount() is now called getInfiniteRowCount(), please call getInfiniteRowCount() instead"),this.getInfiniteRowCount()},n.prototype.getInfiniteRowCount=function(){if(this.infiniteRowModel)return this.infiniteRowModel.getRowCount();console.warn("AG Grid: api.getVirtualRowCount is only available when rowModelType='virtual'.")},n.prototype.isMaxRowFound=function(){return console.warn("AG Grid: api.isLastRowIndexKnown is deprecated, please use api.isLastRowIndexKnown()"),this.isLastRowIndexKnown()},n.prototype.isLastRowIndexKnown=function(){if(this.infiniteRowModel)return this.infiniteRowModel.isLastRowIndexKnown();console.warn("AG Grid: api.isMaxRowFound is only available when rowModelType='virtual'.")},n.prototype.setVirtualRowCount=function(t,e){console.warn("AG Grid: setVirtualRowCount() is now called setInfiniteRowCount(), please call setInfiniteRowCount() instead"),this.setRowCount(t,e)},n.prototype.setInfiniteRowCount=function(t,e){console.warn("AG Grid: setInfiniteRowCount() is now called setRowCount(), please call setRowCount() instead"),this.setRowCount(t,e)},n.prototype.setRowCount=function(t,e){this.infiniteRowModel?this.infiniteRowModel.setRowCount(t,e):console.warn("AG Grid: api.setRowCount is only available for Infinite Row Model.")},n.prototype.getVirtualPageState=function(){return console.warn("AG Grid: getVirtualPageState() is now called getCacheBlockState(), please call getCacheBlockState() instead"),this.getCacheBlockState()},n.prototype.getInfinitePageState=function(){return console.warn("AG Grid: getInfinitePageState() is now called getCacheBlockState(), please call getCacheBlockState() instead"),this.getCacheBlockState()},n.prototype.getCacheBlockState=function(){return this.rowNodeBlockLoader.getBlockState()},n.prototype.checkGridSize=function(){console.warn("in AG Grid v25.2.0, checkGridSize() was removed, as it was legacy and didn't do anything uesful.")},n.prototype.getFirstRenderedRow=function(){return console.warn("in AG Grid v12, getFirstRenderedRow() was renamed to getFirstDisplayedRow()"),this.getFirstDisplayedRow()},n.prototype.getFirstDisplayedRow=function(){return this.rowRenderer.getFirstVirtualRenderedRow()},n.prototype.getLastRenderedRow=function(){return console.warn("in AG Grid v12, getLastRenderedRow() was renamed to getLastDisplayedRow()"),this.getLastDisplayedRow()},n.prototype.getLastDisplayedRow=function(){return this.rowRenderer.getLastVirtualRenderedRow()},n.prototype.getDisplayedRowAtIndex=function(t){return this.rowModel.getRow(t)},n.prototype.getDisplayedRowCount=function(){return this.rowModel.getRowCount()},n.prototype.paginationIsLastPageFound=function(){return this.paginationProxy.isLastPageFound()},n.prototype.paginationGetPageSize=function(){return this.paginationProxy.getPageSize()},n.prototype.paginationSetPageSize=function(t){this.gridOptionsWrapper.setProperty("paginationPageSize",t)},n.prototype.paginationGetCurrentPage=function(){return this.paginationProxy.getCurrentPage()},n.prototype.paginationGetTotalPages=function(){return this.paginationProxy.getTotalPages()},n.prototype.paginationGetRowCount=function(){return this.paginationProxy.getMasterRowCount()},n.prototype.paginationGoToNextPage=function(){this.paginationProxy.goToNextPage()},n.prototype.paginationGoToPreviousPage=function(){this.paginationProxy.goToPreviousPage()},n.prototype.paginationGoToFirstPage=function(){this.paginationProxy.goToFirstPage()},n.prototype.paginationGoToLastPage=function(){this.paginationProxy.goToLastPage()},n.prototype.paginationGoToPage=function(t){this.paginationProxy.goToPage(t)},n.prototype.setRowClass=function(t){this.gridOptionsWrapper.setProperty(pe.PROP_ROW_CLASS,t)},nt([Fe("immutableService")],n.prototype,"immutableService",void 0),nt([Fe("csvCreator")],n.prototype,"csvCreator",void 0),nt([Fe("excelCreator")],n.prototype,"excelCreator",void 0),nt([y("rowRenderer")],n.prototype,"rowRenderer",void 0),nt([y("navigationService")],n.prototype,"navigationService",void 0),nt([y("filterManager")],n.prototype,"filterManager",void 0),nt([y("columnModel")],n.prototype,"columnModel",void 0),nt([y("selectionService")],n.prototype,"selectionService",void 0),nt([y("gridOptionsWrapper")],n.prototype,"gridOptionsWrapper",void 0),nt([y("valueService")],n.prototype,"valueService",void 0),nt([y("alignedGridsService")],n.prototype,"alignedGridsService",void 0),nt([y("eventService")],n.prototype,"eventService",void 0),nt([y("pinnedRowModel")],n.prototype,"pinnedRowModel",void 0),nt([y("context")],n.prototype,"context",void 0),nt([y("rowModel")],n.prototype,"rowModel",void 0),nt([y("sortController")],n.prototype,"sortController",void 0),nt([y("paginationProxy")],n.prototype,"paginationProxy",void 0),nt([y("focusService")],n.prototype,"focusService",void 0),nt([y("dragAndDropService")],n.prototype,"dragAndDropService",void 0),nt([Fe("rangeService")],n.prototype,"rangeService",void 0),nt([Fe("clipboardService")],n.prototype,"clipboardService",void 0),nt([Fe("aggFuncService")],n.prototype,"aggFuncService",void 0),nt([y("menuFactory")],n.prototype,"menuFactory",void 0),nt([Fe("contextMenuFactory")],n.prototype,"contextMenuFactory",void 0),nt([y("valueCache")],n.prototype,"valueCache",void 0),nt([y("animationFrameService")],n.prototype,"animationFrameService",void 0),nt([Fe("statusBarService")],n.prototype,"statusBarService",void 0),nt([Fe("chartService")],n.prototype,"chartService",void 0),nt([Fe("undoRedoService")],n.prototype,"undoRedoService",void 0),nt([Fe("rowNodeBlockLoader")],n.prototype,"rowNodeBlockLoader",void 0),nt([Fe("ssrmTransactionManager")],n.prototype,"serverSideTransactionManager",void 0),nt([y("ctrlsService")],n.prototype,"ctrlsService",void 0),nt([Fe("frameworkComponentWrapper")],n.prototype,"frameworkComponentWrapper",void 0),nt([H],n.prototype,"init",null),nt([_t],n.prototype,"cleanDownReferencesToAvoidMemoryLeakInCaseApplicationIsKeepingReferenceToDestroyedGrid",null),n=nt([J("gridApi")],n),n}();/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v27.3.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */var JU=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),e4=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},hm=function(n){JU(t,n);function t(e,r,i,o){var a=n.call(this)||this;return a.columnOrGroup=e,a.eCell=r,a.ariaEl=a.eCell.querySelector("[role=columnheader]")||a.eCell,a.colsSpanning=o,a.beans=i,a}return t.prototype.setColsSpanning=function(e){this.colsSpanning=e,this.onLeftChanged()},t.prototype.getColumnOrGroup=function(){return this.beans.gridOptionsWrapper.isEnableRtl()&&this.colsSpanning?wt(this.colsSpanning):this.columnOrGroup},t.prototype.postConstruct=function(){this.addManagedListener(this.columnOrGroup,Se.EVENT_LEFT_CHANGED,this.onLeftChanged.bind(this)),this.setLeftFirstTime(),this.addManagedListener(this.eventService,x.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onLeftChanged.bind(this)),this.addManagedListener(this.beans.gridOptionsWrapper,pe.PROP_DOM_LAYOUT,this.onLeftChanged.bind(this))},t.prototype.setLeftFirstTime=function(){var e=this.beans.gridOptionsWrapper.isSuppressColumnMoveAnimation(),r=Z(this.columnOrGroup.getOldLeft()),i=this.beans.columnAnimationService.isActive()&&r&&!e;i?this.animateInLeft():this.onLeftChanged()},t.prototype.animateInLeft=function(){var e=this,r=this.getColumnOrGroup(),i=r.getLeft(),o=r.getOldLeft(),a=this.modifyLeftForPrintLayout(r,o),s=this.modifyLeftForPrintLayout(r,i);this.setLeft(a),this.actualLeft=s,this.beans.columnAnimationService.executeNextVMTurn(function(){e.actualLeft===s&&e.setLeft(s)})},t.prototype.onLeftChanged=function(){var e=this.getColumnOrGroup(),r=e.getLeft();this.actualLeft=this.modifyLeftForPrintLayout(e,r),this.setLeft(this.actualLeft)},t.prototype.modifyLeftForPrintLayout=function(e,r){var i=this.beans.gridOptionsWrapper.getDomLayout()===L.DOM_LAYOUT_PRINT;if(!i||e.getPinned()===L.PINNED_LEFT)return r;var o=this.beans.columnModel.getDisplayedColumnsLeftWidth();if(e.getPinned()===L.PINNED_RIGHT){var a=this.beans.columnModel.getBodyContainerWidth();return o+a+r}return o+r},t.prototype.setLeft=function(e){Z(e)&&(this.eCell.style.left=e+"px");var r;if(this.columnOrGroup instanceof Se)r=this.columnOrGroup;else{var i=this.columnOrGroup,o=i.getLeafColumns();if(!o.length)return;o.length>1&&HM(this.ariaEl,o.length),r=o[0]}var a=this.beans.columnModel.getAriaColumnIndex(r);DS(this.ariaEl,a)},e4([H],t.prototype,"postConstruct",null),t}(j);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v27.3.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */var t4=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),kT=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},zS=function(n){t4(t,n);function t(e,r){var i=n.call(this)||this;return i.columns=e,i.element=r,i}return t.prototype.postConstruct=function(){this.gridOptionsWrapper.isColumnHoverHighlight()&&this.addMouseHoverListeners()},t.prototype.addMouseHoverListeners=function(){this.addManagedListener(this.element,"mouseout",this.onMouseOut.bind(this)),this.addManagedListener(this.element,"mouseover",this.onMouseOver.bind(this))},t.prototype.onMouseOut=function(){this.columnHoverService.clearMouseOver()},t.prototype.onMouseOver=function(){this.columnHoverService.setMouseOver(this.columns)},kT([y("columnHoverService")],t.prototype,"columnHoverService",void 0),kT([H],t.prototype,"postConstruct",null),t}(j);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v27.3.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */var r4=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),xu=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},B1=function(n){r4(t,n);function t(e,r){var i=n.call(this,e,r)||this;return i.column=e,i}return t.prototype.setComp=function(e,r,i,o){n.prototype.setGui.call(this,r),this.comp=e,this.eButtonShowMainFilter=i,this.eFloatingFilterBody=o;var a=this.column.getColDef(),s=!!a.filter||!!a.filterFramework,l=!!a.floatingFilter;this.active=s&&l,this.setupWidth(),this.setupLeft(),this.setupHover(),this.setupFocus(),this.setupUserComp(),this.setupSyncWithFilter(),this.setupUi(),this.addManagedListener(this.eButtonShowMainFilter,"click",this.showParentFilter.bind(this))},t.prototype.setupUi=function(){if(this.comp.addOrRemoveButtonWrapperCssClass("ag-hidden",!this.active||this.suppressFilterButton),!!this.active){this.comp.addOrRemoveBodyCssClass("ag-floating-filter-full-body",this.suppressFilterButton),this.comp.addOrRemoveBodyCssClass("ag-floating-filter-body",!this.suppressFilterButton);var e=ar("filter",this.gridOptionsWrapper,this.column);e&&this.eButtonShowMainFilter.appendChild(e)}},t.prototype.setupFocus=function(){this.createManagedBean(new lo(this.eGui,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)}))},t.prototype.onTabKeyDown=function(e){var r=this.gridOptionsWrapper.getDocument(),i=r.activeElement,o=i===this.eGui;if(!o){var a=this.focusService.findNextFocusableElement(this.eGui,null,e.shiftKey);if(a){this.beans.headerNavigationService.scrollToColumn(this.column),e.preventDefault(),a.focus();return}var s=this.findNextColumnWithFloatingFilter(e.shiftKey);!s||this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:this.getParentRowCtrl().getRowIndex(),column:s},event:e})&&e.preventDefault()}},t.prototype.findNextColumnWithFloatingFilter=function(e){var r=this.beans.columnModel,i=this.column;do if(i=e?r.getDisplayedColBefore(i):r.getDisplayedColAfter(i),!i)break;while(!i.getColDef().filter||!i.getColDef().floatingFilter);return i},t.prototype.handleKeyDown=function(e){var r=this.gridOptionsWrapper.getDocument(),i=r.activeElement,o=i===this.eGui;switch(e.key){case U.UP:case U.DOWN:o||e.preventDefault();case U.LEFT:case U.RIGHT:if(o)return;e.stopPropagation();case U.ENTER:o&&this.focusService.focusInto(this.eGui)&&e.preventDefault();break;case U.ESCAPE:o||this.eGui.focus()}},t.prototype.onFocusIn=function(e){var r=this.eGui.contains(e.relatedTarget);if(!r){var i=!!e.relatedTarget&&!e.relatedTarget.classList.contains("ag-floating-filter"),o=!!e.relatedTarget&&sm(e.relatedTarget,"ag-floating-filter");if(i&&o&&e.target===this.eGui){var a=this.lastFocusEvent,s=!!(a&&a.key===U.TAB);if(a&&s){var l=a.shiftKey;this.focusService.focusInto(this.eGui,l)}}var u=this.getRowIndex();this.beans.focusService.setFocusedHeader(u,this.column)}},t.prototype.setupHover=function(){var e=this;this.createManagedBean(new zS([this.column],this.eGui));var r=function(){if(!!e.gridOptionsWrapper.isColumnHoverHighlight()){var i=e.columnHoverService.isHovered(e.column);e.comp.addOrRemoveCssClass("ag-column-hover",i)}};this.addManagedListener(this.eventService,x.EVENT_COLUMN_HOVER_CHANGED,r),r()},t.prototype.setupLeft=function(){var e=new hm(this.column,this.eGui,this.beans);this.createManagedBean(e)},t.prototype.setupUserComp=function(){var e=this;if(!!this.active){var r=this.column.getColDef(),i=this.filterManager.createFilterParams(this.column,r),o=this.userComponentFactory.mergeParamsWithApplicationProvidedParams(r,xw,i),a=this.userComponentFactory.getDefaultFloatingFilterType(r);a==null&&(a="agReadOnlyFloatingFilter");var s={column:this.column,filterParams:o,currentParentModel:function(){return e.currentParentModel()},parentFilterInstance:function(u){return e.parentFilterInstance(u)},showParentFilter:function(){return e.showParentFilter()},suppressFilterButton:!1};this.suppressFilterButton=r.floatingFilterComponentParams?!!r.floatingFilterComponentParams.suppressFilterButton:!1;var l=this.userComponentFactory.getFloatingFilterCompDetails(r,s,a);l&&this.comp.setCompDetails(l)}},t.prototype.currentParentModel=function(){var e=this.getFilterComponent(!1);return e?e.resolveNow(null,function(r){return r&&r.getModel()}):null},t.prototype.getFilterComponent=function(e){return e===void 0&&(e=!0),this.filterManager.getFilterComponent(this.column,"NO_UI",e)},t.prototype.parentFilterInstance=function(e){var r=this.getFilterComponent();r!=null&&r.then(function(i){e(Cl(i))})},t.prototype.showParentFilter=function(){var e=this.suppressFilterButton?this.eFloatingFilterBody:this.eButtonShowMainFilter;this.menuFactory.showMenuAfterButtonClick(this.column,e,"floatingFilter","filterMenuTab",["filterMenuTab"])},t.prototype.setupSyncWithFilter=function(){var e=this;if(!!this.active){var r=function(i){var o=e.comp.getFloatingFilterComp();if(!!o){var a=e.currentParentModel();o.then(function(s){s&&s.onParentModelChanged(a,i)})}};this.addManagedListener(this.column,Se.EVENT_FILTER_CHANGED,r),this.filterManager.isFilterActive(this.column)&&r(null)}},t.prototype.setupWidth=function(){var e=this,r=function(){var i=e.column.getActualWidth()+"px";e.comp.setWidth(i)};this.addManagedListener(this.column,Se.EVENT_WIDTH_CHANGED,r),r()},xu([y("userComponentFactory")],t.prototype,"userComponentFactory",void 0),xu([y("filterManager")],t.prototype,"filterManager",void 0),xu([y("columnHoverService")],t.prototype,"columnHoverService",void 0),xu([y("gridApi")],t.prototype,"gridApi",void 0),xu([y("menuFactory")],t.prototype,"menuFactory",void 0),xu([y("beans")],t.prototype,"beans",void 0),t}(vd);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v27.3.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */var n4=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Wy=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},i4=function(n){n4(t,n);function t(e,r,i,o,a){var s=n.call(this)||this;return s.pinned=e,s.column=r,s.eResize=i,s.comp=o,s.ctrl=a,s}return t.prototype.postConstruct=function(){var e=this,r=this.column.getColDef(),i=[],o,a,s=function(){if(Ft(e.eResize,o),!!o){var c=e.horizontalResizeService.addResizeBar({eResizeBar:e.eResize,onResizeStart:e.onResizeStart.bind(e),onResizing:e.onResizing.bind(e,!1),onResizeEnd:e.onResizing.bind(e,!0)});if(i.push(c),a){var p=e.gridOptionsWrapper.isSkipHeaderOnAutoSize(),h=function(){e.columnModel.autoSizeColumn(e.column,p,"uiColumnResized")};e.eResize.addEventListener("dblclick",h);var d=new qr(e.eResize);d.addEventListener(qr.EVENT_DOUBLE_TAP,h),e.addDestroyFunc(function(){e.eResize.removeEventListener("dblclick",h),d.removeEventListener(qr.EVENT_DOUBLE_TAP,h),d.destroy()})}}},l=function(){i.forEach(function(c){return c()}),i.length=0},u=function(){var c=e.column.isResizable(),p=!e.gridOptionsWrapper.isSuppressAutoSize()&&!r.suppressAutoSize,h=c!==o||p!==a;h&&(o=c,a=p,l(),s())};u(),this.addDestroyFunc(l),this.ctrl.addRefreshFunction(u)},t.prototype.onResizing=function(e,r){var i=this.normaliseResizeAmount(r),o=[{key:this.column,newWidth:this.resizeStartWidth+i}];this.columnModel.setColumnWidths(o,this.resizeWithShiftKey,e,"uiColumnDragged"),e&&this.comp.addOrRemoveCssClass("ag-column-resizing",!1)},t.prototype.onResizeStart=function(e){this.resizeStartWidth=this.column.getActualWidth(),this.resizeWithShiftKey=e,this.comp.addOrRemoveCssClass("ag-column-resizing",!0)},t.prototype.normaliseResizeAmount=function(e){var r=e,i=this.pinned!==L.PINNED_LEFT,o=this.pinned===L.PINNED_RIGHT;return this.gridOptionsWrapper.isEnableRtl()?i&&(r*=-1):o&&(r*=-1),r},Wy([y("horizontalResizeService")],t.prototype,"horizontalResizeService",void 0),Wy([y("columnModel")],t.prototype,"columnModel",void 0),Wy([H],t.prototype,"postConstruct",null),t}(j);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v27.3.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */var o4=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),oo=function(n){o4(t,n);function t(e,r,i){r===void 0&&(r="ag-checkbox"),i===void 0&&(i="checkbox");var o=n.call(this,e,r,i)||this;return o.labelAlignment="right",o.selected=!1,o.readOnly=!1,o.passive=!1,o}return t.prototype.addInputListeners=function(){this.addManagedListener(this.eInput,"click",this.onCheckboxClick.bind(this)),this.addManagedListener(this.eLabel,"click",this.toggle.bind(this))},t.prototype.getNextValue=function(){return this.selected===void 0?!0:!this.selected},t.prototype.setPassive=function(e){this.passive=e},t.prototype.isReadOnly=function(){return this.readOnly},t.prototype.setReadOnly=function(e){this.eWrapper.classList.toggle("ag-disabled",e),this.eInput.disabled=e,this.readOnly=e},t.prototype.setDisabled=function(e){return this.eWrapper.classList.toggle("ag-disabled",e),n.prototype.setDisabled.call(this,e)},t.prototype.toggle=function(){if(!this.eInput.disabled){var e=this.isSelected(),r=this.getNextValue();this.passive?this.dispatchChange(r,e):this.setValue(r)}},t.prototype.getValue=function(){return this.isSelected()},t.prototype.setValue=function(e,r){return this.refreshSelectedClass(e),this.setSelected(e,r),this},t.prototype.setName=function(e){var r=this.getInputElement();return r.name=e,this},t.prototype.isSelected=function(){return this.selected},t.prototype.setSelected=function(e,r){this.isSelected()!==e&&(this.previousValue=this.isSelected(),e=this.selected=typeof e=="boolean"?e:void 0,this.eInput.checked=e,this.eInput.indeterminate=e===void 0,r||this.dispatchChange(this.selected,this.previousValue))},t.prototype.dispatchChange=function(e,r,i){this.dispatchEvent({type:t.EVENT_CHANGED,selected:e,previousValue:r,event:i});var o=this.getInputElement(),a={type:x.EVENT_CHECKBOX_CHANGED,id:o.id,name:o.name,selected:e,previousValue:r};this.eventService.dispatchEvent(a)},t.prototype.onCheckboxClick=function(e){if(!(this.passive||this.eInput.disabled)){var r=this.isSelected(),i=this.selected=e.target.checked;this.refreshSelectedClass(i),this.dispatchChange(i,r,e)}},t.prototype.refreshSelectedClass=function(e){this.eWrapper.classList.toggle("ag-checked",e===!0),this.eWrapper.classList.toggle("ag-indeterminate",e==null)},t}(da);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v27.3.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */var a4=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Hd=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},s4=function(n){a4(t,n);function t(e){var r=n.call(this)||this;r.cbSelectAllVisible=!1,r.processingEventFromCheckbox=!1,r.column=e;var i=e.getColDef();return r.filteredOnly=i?!!i.headerCheckboxSelectionFilteredOnly:!1,r}return t.prototype.onSpaceKeyPressed=function(e){var r=this.cbSelectAll,i=this.gridOptionsWrapper.getDocument();r.isDisplayed()&&!r.getGui().contains(i.activeElement)&&(e.preventDefault(),r.setValue(!r.getValue()))},t.prototype.getCheckboxGui=function(){return this.cbSelectAll.getGui()},t.prototype.setComp=function(e){this.headerCellCtrl=e,this.cbSelectAll=this.createManagedBean(new oo),this.cbSelectAll.addCssClass("ag-header-select-all"),Jr(this.cbSelectAll.getGui(),"presentation"),this.showOrHideSelectAll(),this.addManagedListener(this.eventService,x.EVENT_NEW_COLUMNS_LOADED,this.showOrHideSelectAll.bind(this)),this.addManagedListener(this.eventService,x.EVENT_DISPLAYED_COLUMNS_CHANGED,this.showOrHideSelectAll.bind(this)),this.addManagedListener(this.eventService,x.EVENT_SELECTION_CHANGED,this.onSelectionChanged.bind(this)),this.addManagedListener(this.eventService,x.EVENT_MODEL_UPDATED,this.onModelChanged.bind(this)),this.addManagedListener(this.cbSelectAll,oo.EVENT_CHANGED,this.onCbSelectAll.bind(this)),this.cbSelectAll.getInputElement().setAttribute("tabindex","-1"),this.refreshSelectAllLabel()},t.prototype.showOrHideSelectAll=function(){this.cbSelectAllVisible=this.isCheckboxSelection(),this.cbSelectAll.setDisplayed(this.cbSelectAllVisible),this.cbSelectAllVisible&&(this.checkRightRowModelType(),this.updateStateOfCheckbox()),this.refreshSelectAllLabel()},t.prototype.onModelChanged=function(){!this.cbSelectAllVisible||this.updateStateOfCheckbox()},t.prototype.onSelectionChanged=function(){!this.cbSelectAllVisible||this.updateStateOfCheckbox()},t.prototype.getNextCheckboxState=function(e){return e.selected===0&&e.notSelected===0?!1:e.selected>0&&e.notSelected>0?null:e.selected>0},t.prototype.updateStateOfCheckbox=function(){if(!this.processingEventFromCheckbox){this.processingEventFromCheckbox=!0;var e=this.getSelectionCount(),r=this.getNextCheckboxState(e);this.cbSelectAll.setValue(r),this.refreshSelectAllLabel(),this.processingEventFromCheckbox=!1}},t.prototype.refreshSelectAllLabel=function(){if(!this.cbSelectAllVisible)this.headerCellCtrl.setAriaDescriptionProperty("selectAll",null);else{var e=this.gridOptionsWrapper.getLocaleTextFunc(),r=this.cbSelectAll.getValue(),i=r?e("ariaChecked","checked"):e("ariaUnchecked","unchecked"),o=e("ariaRowSelectAll","Press Space to toggle all rows selection");this.headerCellCtrl.setAriaDescriptionProperty("selectAll",o+" ("+i+")")}this.headerCellCtrl.refreshAriaDescription()},t.prototype.getSelectionCount=function(){var e=this,r=0,i=0,o=function(a){e.gridOptionsWrapper.isGroupSelectsChildren()&&a.group||(a.isSelected()?r++:a.selectable&&i++)};return this.filteredOnly?this.gridApi.forEachNodeAfterFilter(o):this.gridApi.forEachNode(o),{notSelected:i,selected:r}},t.prototype.checkRightRowModelType=function(){var e=this.rowModel.getType(),r=e===L.ROW_MODEL_TYPE_CLIENT_SIDE;r||console.warn("AG Grid: selectAllCheckbox is only available if using normal row model, you are using "+e)},t.prototype.onCbSelectAll=function(){if(!this.processingEventFromCheckbox&&!!this.cbSelectAllVisible){var e=this.cbSelectAll.getValue();e?this.selectionService.selectAllRowNodes(this.filteredOnly):this.selectionService.deselectAllRowNodes(this.filteredOnly)}},t.prototype.isCheckboxSelection=function(){var e=this.column.getColDef().headerCheckboxSelection;if(typeof e=="function"){var r=e,i={column:this.column,colDef:this.column.getColDef(),columnApi:this.columnApi,api:this.gridApi,context:this.gridOptionsWrapper.getContext()};e=r(i)}return e?this.gridOptionsWrapper.isRowModelServerSide()?(console.warn("AG Grid: headerCheckboxSelection is not supported for Server Side Row Model"),!1):this.gridOptionsWrapper.isRowModelInfinite()?(console.warn("AG Grid: headerCheckboxSelection is not supported for Infinite Row Model"),!1):this.gridOptionsWrapper.isRowModelViewport()?(console.warn("AG Grid: headerCheckboxSelection is not supported for Viewport Row Model"),!1):!0:!1},Hd([y("gridApi")],t.prototype,"gridApi",void 0),Hd([y("columnApi")],t.prototype,"columnApi",void 0),Hd([y("rowModel")],t.prototype,"rowModel",void 0),Hd([y("selectionService")],t.prototype,"selectionService",void 0),t}(j);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v27.3.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */var l4=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),fo=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},V1=function(n){l4(t,n);function t(e,r){var i=n.call(this,e,r)||this;return i.refreshFunctions=[],i.userHeaderClasses=new Set,i.ariaDescriptionProperties=new Map,i.column=e,i}return t.prototype.setComp=function(e,r,i){var o=this;n.prototype.setGui.call(this,r),this.comp=e,this.colDefVersion=this.columnModel.getColDefVersion(),this.updateState(),this.setupWidth(),this.setupMovingCss(),this.setupMenuClass(),this.setupSortableClass(),this.addColumnHoverListener(),this.setupFilterCss(),this.setupColId(),this.setupClassesFromColDef(),this.setupTooltip(),this.addActiveHeaderMouseListeners(),this.setupSelectAll(),this.setupUserComp(),this.refreshAria(),this.createManagedBean(new i4(this.getPinned(),this.column,i,e,this)),this.createManagedBean(new zS([this.column],r)),this.createManagedBean(new hm(this.column,r,this.beans)),this.createManagedBean(new lo(r,{shouldStopEventPropagation:function(a){return o.shouldStopEventPropagation(a)},onTabKeyDown:function(){return null},handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addManagedListener(this.eventService,x.EVENT_NEW_COLUMNS_LOADED,this.onNewColumnsLoaded.bind(this)),this.addManagedListener(this.eventService,x.EVENT_COLUMN_VALUE_CHANGED,this.onColumnValueChanged.bind(this)),this.addManagedListener(this.eventService,x.EVENT_COLUMN_ROW_GROUP_CHANGED,this.onColumnRowGroupChanged.bind(this)),this.addManagedListener(this.eventService,x.EVENT_COLUMN_PIVOT_CHANGED,this.onColumnPivotChanged.bind(this))},t.prototype.setupUserComp=function(){var e=this.lookupUserCompDetails();this.setCompDetails(e)},t.prototype.setCompDetails=function(e){this.userCompDetails=e,this.comp.setUserCompDetails(e)},t.prototype.lookupUserCompDetails=function(){var e=this.createParams(),r=this.column.getColDef();return this.userComponentFactory.getHeaderCompDetails(r,e)},t.prototype.createParams=function(){var e=this,r=this.column.getColDef(),i={column:this.column,displayName:this.displayName,enableSorting:r.sortable,enableMenu:this.menuEnabled,showColumnMenu:function(o){e.gridApi.showColumnMenuAfterButtonClick(e.column,o)},progressSort:function(o){e.sortController.progressSort(e.column,!!o,"uiColumnSorted")},setSort:function(o,a){e.sortController.setSortForColumn(e.column,o,!!a,"uiColumnSorted")},api:this.gridApi,columnApi:this.columnApi,context:this.gridOptionsWrapper.getContext(),eGridHeader:this.getGui()};return i},t.prototype.setupSelectAll=function(){this.selectAllFeature=this.createManagedBean(new s4(this.column)),this.selectAllFeature.setComp(this)},t.prototype.getSelectAllGui=function(){return this.selectAllFeature.getCheckboxGui()},t.prototype.handleKeyDown=function(e){e.key===U.SPACE&&this.selectAllFeature.onSpaceKeyPressed(e),e.key===U.ENTER&&this.onEnterKeyPressed(e)},t.prototype.onEnterKeyPressed=function(e){var r=this.comp.getUserCompInstance();if(!!r){if(e.ctrlKey||e.metaKey)this.menuEnabled&&r.showMenu&&(e.preventDefault(),r.showMenu());else if(this.sortable){var i=e.shiftKey;this.sortController.progressSort(this.column,i,"uiColumnSorted")}}},t.prototype.isMenuEnabled=function(){return this.menuEnabled},t.prototype.onFocusIn=function(e){if(!this.getGui().contains(e.relatedTarget)){var r=this.getRowIndex();this.focusService.setFocusedHeader(r,this.column)}this.setActiveHeader(!0)},t.prototype.onFocusOut=function(e){this.getGui().contains(e.relatedTarget)||this.setActiveHeader(!1)},t.prototype.setupTooltip=function(){var e=this,r={getColumn:function(){return e.column},getColDef:function(){return e.column.getColDef()},getGui:function(){return e.eGui},getLocation:function(){return"header"},getTooltipValue:function(){var o=e.column.getColDef().headerTooltip;return o}},i=this.createManagedBean(new HS(r,this.beans));i.setComp(this.comp),this.refreshFunctions.push(function(){return i.refreshToolTip()})},t.prototype.setupClassesFromColDef=function(){var e=this,r=function(){var i=e.column.getColDef(),o=e.gridOptionsWrapper,a=gd.getHeaderClassesFromColDef(i,o,e.column,null),s=e.userHeaderClasses;e.userHeaderClasses=new Set(a),a.forEach(function(l){s.has(l)?s.delete(l):e.comp.addOrRemoveCssClass(l,!0)}),s.forEach(function(l){return e.comp.addOrRemoveCssClass(l,!1)})};this.refreshFunctions.push(r),r()},t.prototype.setDragSource=function(e){var r=this;this.dragSourceElement=e,this.removeDragSource(),e&&(!this.draggable||(this.moveDragSource={type:nr.HeaderCell,eElement:e,defaultIconName:It.ICON_HIDE,getDragItem:function(){return r.createDragItem()},dragItemName:this.displayName,onDragStarted:function(){return r.column.setMoving(!0,"uiColumnMoved")},onDragStopped:function(){return r.column.setMoving(!1,"uiColumnMoved")}},this.dragAndDropService.addDragSource(this.moveDragSource,!0)))},t.prototype.createDragItem=function(){var e={};return e[this.column.getId()]=this.column.isVisible(),{columns:[this.column],visibleState:e}},t.prototype.removeDragSource=function(){this.moveDragSource&&(this.dragAndDropService.removeDragSource(this.moveDragSource),this.moveDragSource=void 0)},t.prototype.onNewColumnsLoaded=function(){var e=this.columnModel.getColDefVersion();e!=this.colDefVersion&&(this.colDefVersion=e,this.refresh())},t.prototype.updateState=function(){var e=this.column.getColDef();this.menuEnabled=this.menuFactory.isMenuEnabled(this.column)&&!e.suppressMenu,this.sortable=e.sortable,this.displayName=this.calculateDisplayName(),this.draggable=this.workOutDraggable()},t.prototype.addRefreshFunction=function(e){this.refreshFunctions.push(e)},t.prototype.refresh=function(){this.updateState(),this.refreshHeaderComp(),this.refreshAria(),this.refreshFunctions.forEach(function(e){return e()})},t.prototype.refreshHeaderComp=function(){var e=this.lookupUserCompDetails(),r=this.comp.getUserCompInstance(),i=r!=null&&this.userCompDetails.componentClass==e.componentClass,o=i?this.attemptHeaderCompRefresh(e.params):!1;o?this.setDragSource(this.dragSourceElement):this.setCompDetails(e)},t.prototype.attemptHeaderCompRefresh=function(e){var r=this.comp.getUserCompInstance();if(!r||!r.refresh)return!1;var i=r.refresh(e);return i},t.prototype.calculateDisplayName=function(){return this.columnModel.getDisplayNameForColumn(this.column,"header",!0)},t.prototype.checkDisplayName=function(){this.displayName!==this.calculateDisplayName()&&this.refresh()},t.prototype.workOutDraggable=function(){var e=this.column.getColDef(),r=this.gridOptionsWrapper.isSuppressMovableColumns(),i=!r&&!e.suppressMovable&&!e.lockPosition;return!!i||!!e.enableRowGroup||!!e.enablePivot},t.prototype.onColumnRowGroupChanged=function(){this.checkDisplayName()},t.prototype.onColumnPivotChanged=function(){this.checkDisplayName()},t.prototype.onColumnValueChanged=function(){this.checkDisplayName()},t.prototype.setupWidth=function(){var e=this,r=function(){e.comp.setWidth(e.column.getActualWidth()+"px")};this.addManagedListener(this.column,Se.EVENT_WIDTH_CHANGED,r),r()},t.prototype.setupMovingCss=function(){var e=this,r=function(){e.comp.addOrRemoveCssClass("ag-header-cell-moving",e.column.isMoving())};this.addManagedListener(this.column,Se.EVENT_MOVING_CHANGED,r),r()},t.prototype.setupMenuClass=function(){var e=this,r=function(){e.comp.addOrRemoveCssClass("ag-column-menu-visible",e.column.isMenuVisible())};this.addManagedListener(this.column,Se.EVENT_MENU_VISIBLE_CHANGED,r),r()},t.prototype.setupSortableClass=function(){var e=this,r=function(){e.comp.addOrRemoveCssClass("ag-header-cell-sortable",!!e.sortable)};r(),this.addRefreshFunction(r),this.addManagedListener(this.column,Se.EVENT_SORT_CHANGED,this.refreshAriaSort.bind(this))},t.prototype.refreshAriaSort=function(){if(this.sortable){var e=this.gridOptionsWrapper.getLocaleTextFunc();this.comp.setAriaSort(FM(this.column)),this.setAriaDescriptionProperty("sort",e("ariaSortableColumn","Press ENTER to sort."))}else this.comp.setAriaSort(),this.setAriaDescriptionProperty("sort",null)},t.prototype.refreshAriaMenu=function(){if(this.menuEnabled){var e=this.gridOptionsWrapper.getLocaleTextFunc();this.setAriaDescriptionProperty("menu",e("ariaMenuColumn","Press CTRL ENTER to open column menu."))}else this.setAriaDescriptionProperty("menu",null)},t.prototype.setAriaDescriptionProperty=function(e,r){r!=null?this.ariaDescriptionProperties.set(e,r):this.ariaDescriptionProperties.delete(e)},t.prototype.refreshAriaDescription=function(){var e=Array.from(this.ariaDescriptionProperties.values());this.comp.setAriaDescription(e.length?e.join(" "):void 0)},t.prototype.refreshAria=function(){this.refreshAriaSort(),this.refreshAriaMenu(),this.refreshAriaDescription()},t.prototype.addColumnHoverListener=function(){var e=this,r=function(){if(!!e.gridOptionsWrapper.isColumnHoverHighlight()){var i=e.columnHoverService.isHovered(e.column);e.comp.addOrRemoveCssClass("ag-column-hover",i)}};this.addManagedListener(this.eventService,x.EVENT_COLUMN_HOVER_CHANGED,r),r()},t.prototype.setupFilterCss=function(){var e=this,r=function(){e.comp.addOrRemoveCssClass("ag-header-cell-filtered",e.column.isFilterActive())};this.addManagedListener(this.column,Se.EVENT_FILTER_ACTIVE_CHANGED,r),r()},t.prototype.setupColId=function(){this.comp.setColId(this.column.getColId())},t.prototype.addActiveHeaderMouseListeners=function(){var e=this,r=function(i){return e.setActiveHeader(i.type==="mouseenter")};this.addManagedListener(this.getGui(),"mouseenter",r),this.addManagedListener(this.getGui(),"mouseleave",r)},t.prototype.setActiveHeader=function(e){this.comp.addOrRemoveCssClass("ag-header-active",e)},fo([y("columnModel")],t.prototype,"columnModel",void 0),fo([y("columnHoverService")],t.prototype,"columnHoverService",void 0),fo([y("beans")],t.prototype,"beans",void 0),fo([y("sortController")],t.prototype,"sortController",void 0),fo([y("menuFactory")],t.prototype,"menuFactory",void 0),fo([y("dragAndDropService")],t.prototype,"dragAndDropService",void 0),fo([y("gridApi")],t.prototype,"gridApi",void 0),fo([y("columnApi")],t.prototype,"columnApi",void 0),fo([y("userComponentFactory")],t.prototype,"userComponentFactory",void 0),fo([_t],t.prototype,"removeDragSource",null),t}(vd);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v27.3.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */var u4=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),jd=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},c4=function(n){u4(t,n);function t(e,r,i,o){var a=n.call(this)||this;return a.eResize=r,a.comp=e,a.pinned=i,a.columnGroup=o,a}return t.prototype.postConstruct=function(){var e=this;if(!this.columnGroup.isResizable()){this.comp.addOrRemoveResizableCssClass("ag-hidden",!0);return}var r=this.horizontalResizeService.addResizeBar({eResizeBar:this.eResize,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this,!1),onResizeEnd:this.onResizing.bind(this,!0)});if(this.addDestroyFunc(r),!this.gridOptionsWrapper.isSuppressAutoSize()){var i=this.gridOptionsWrapper.isSkipHeaderOnAutoSize();this.eResize.addEventListener("dblclick",function(){var o=[],a=e.columnGroup.getDisplayedLeafColumns();a.forEach(function(s){s.getColDef().suppressAutoSize||o.push(s.getColId())}),o.length>0&&e.columnModel.autoSizeColumns({columns:o,skipHeader:i,stopAtGroup:e.columnGroup,source:"uiColumnResized"}),e.resizeLeafColumnsToFit()})}},t.prototype.onResizeStart=function(e){var r=this;this.calculateInitialValues();var i=null;if(e&&(i=this.columnModel.getDisplayedGroupAfter(this.columnGroup)),i){var o=i.getDisplayedLeafColumns();this.resizeTakeFromCols=o.filter(function(a){return a.isResizable()}),this.resizeTakeFromStartWidth=0,this.resizeTakeFromCols.forEach(function(a){return r.resizeTakeFromStartWidth+=a.getActualWidth()}),this.resizeTakeFromRatios=[],this.resizeTakeFromCols.forEach(function(a){return r.resizeTakeFromRatios.push(a.getActualWidth()/r.resizeTakeFromStartWidth)})}else this.resizeTakeFromCols=null,this.resizeTakeFromStartWidth=null,this.resizeTakeFromRatios=null;this.comp.addOrRemoveCssClass("ag-column-resizing",!0)},t.prototype.onResizing=function(e,r){var i=this.normaliseDragChange(r),o=this.resizeStartWidth+i;this.resizeColumns(o,e)},t.prototype.resizeLeafColumnsToFit=function(){var e=this.autoWidthCalculator.getPreferredWidthForColumnGroup(this.columnGroup);this.calculateInitialValues(),e>this.resizeStartWidth&&this.resizeColumns(e,!0)},t.prototype.resizeColumns=function(e,r){r===void 0&&(r=!0);var i=[];if(i.push({columns:this.resizeCols,ratios:this.resizeRatios,width:e}),this.resizeTakeFromCols){var o=e-this.resizeStartWidth;i.push({columns:this.resizeTakeFromCols,ratios:this.resizeTakeFromRatios,width:this.resizeTakeFromStartWidth-o})}this.columnModel.resizeColumnSets({resizeSets:i,finished:r,source:"uiColumnDragged"}),r&&this.comp.addOrRemoveCssClass("ag-column-resizing",!1)},t.prototype.calculateInitialValues=function(){var e=this,r=this.columnGroup.getDisplayedLeafColumns();this.resizeCols=r.filter(function(i){return i.isResizable()}),this.resizeStartWidth=0,this.resizeCols.forEach(function(i){return e.resizeStartWidth+=i.getActualWidth()}),this.resizeRatios=[],this.resizeCols.forEach(function(i){return e.resizeRatios.push(i.getActualWidth()/e.resizeStartWidth)})},t.prototype.normaliseDragChange=function(e){var r=e;return this.gridOptionsWrapper.isEnableRtl()?this.pinned!==L.PINNED_LEFT&&(r*=-1):this.pinned===L.PINNED_RIGHT&&(r*=-1),r},jd([y("horizontalResizeService")],t.prototype,"horizontalResizeService",void 0),jd([y("autoWidthCalculator")],t.prototype,"autoWidthCalculator",void 0),jd([y("columnModel")],t.prototype,"columnModel",void 0),jd([H],t.prototype,"postConstruct",null),t}(j);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v27.3.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */var p4=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),h4=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},d4=function(n){p4(t,n);function t(e,r){var i=n.call(this)||this;return i.removeChildListenersFuncs=[],i.columnGroup=r,i.comp=e,i}return t.prototype.postConstruct=function(){this.addListenersToChildrenColumns(),this.addManagedListener(this.columnGroup,kr.EVENT_DISPLAYED_CHILDREN_CHANGED,this.onDisplayedChildrenChanged.bind(this)),this.onWidthChanged(),this.addDestroyFunc(this.removeListenersOnChildrenColumns.bind(this))},t.prototype.addListenersToChildrenColumns=function(){var e=this;this.removeListenersOnChildrenColumns();var r=this.onWidthChanged.bind(this);this.columnGroup.getLeafColumns().forEach(function(i){i.addEventListener(Se.EVENT_WIDTH_CHANGED,r),i.addEventListener(Se.EVENT_VISIBLE_CHANGED,r),e.removeChildListenersFuncs.push(function(){i.removeEventListener(Se.EVENT_WIDTH_CHANGED,r),i.removeEventListener(Se.EVENT_VISIBLE_CHANGED,r)})})},t.prototype.removeListenersOnChildrenColumns=function(){this.removeChildListenersFuncs.forEach(function(e){return e()}),this.removeChildListenersFuncs=[]},t.prototype.onDisplayedChildrenChanged=function(){this.addListenersToChildrenColumns(),this.onWidthChanged()},t.prototype.onWidthChanged=function(){this.comp.setWidth(this.columnGroup.getActualWidth()+"px")},h4([H],t.prototype,"postConstruct",null),t}(j);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v27.3.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */var f4=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Tu=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},W1=function(n){f4(t,n);function t(e,r){var i=n.call(this,e,r)||this;return i.columnGroup=e,i}return t.prototype.setComp=function(e,r,i){n.prototype.setGui.call(this,r),this.comp=e,this.displayName=this.columnModel.getDisplayNameForColumnGroup(this.columnGroup,"header"),this.addClasses(),this.addAttributes(),this.setupMovingCss(),this.setupExpandable(),this.setupTooltip(),this.setupUserComp();var o=this.getParentRowCtrl().getPinned(),a=this.columnGroup.getProvidedColumnGroup().getLeafColumns();this.createManagedBean(new zS(a,r)),this.createManagedBean(new hm(this.columnGroup,r,this.beans)),this.createManagedBean(new d4(e,this.columnGroup)),this.groupResizeFeature=this.createManagedBean(new c4(e,i,o,this.columnGroup)),this.createManagedBean(new lo(r,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:function(){},handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)}))},t.prototype.resizeLeafColumnsToFit=function(){this.groupResizeFeature.onResizeStart(!1),this.groupResizeFeature.resizeLeafColumnsToFit()},t.prototype.setupUserComp=function(){var e=this,r=this.displayName,i={displayName:this.displayName,columnGroup:this.columnGroup,setExpanded:function(u){e.columnModel.setColumnGroupOpened(e.columnGroup.getProvidedColumnGroup(),u,"gridInitializing")},api:this.gridApi,columnApi:this.columnApi,context:this.gridOptionsWrapper.getContext()};if(!r){for(var o=this.columnGroup,a=o.getLeafColumns();o.getParent()&&o.getParent().getLeafColumns().length===a.length;)o=o.getParent();var s=o.getColGroupDef();s&&(r=s.headerName),r||(r=a?this.columnModel.getDisplayNameForColumn(a[0],"header",!0):"")}var l=this.userComponentFactory.getHeaderGroupCompDetails(i);this.comp.setUserCompDetails(l)},t.prototype.setupTooltip=function(){var e=this,r=this.columnGroup.getColGroupDef(),i={getColumn:function(){return e.columnGroup},getGui:function(){return e.eGui},getLocation:function(){return"headerGroup"},getTooltipValue:function(){return r&&r.headerTooltip}};r&&(i.getColDef=function(){return r});var o=this.createManagedBean(new HS(i,this.beans));o.setComp(this.comp)},t.prototype.setupExpandable=function(){var e=this.columnGroup.getProvidedColumnGroup();this.refreshExpanded(),this.addManagedListener(e,at.EVENT_EXPANDABLE_CHANGED,this.refreshExpanded.bind(this)),this.addManagedListener(e,at.EVENT_EXPANDED_CHANGED,this.refreshExpanded.bind(this))},t.prototype.refreshExpanded=function(){var e=this.columnGroup;this.expandable=e.isExpandable();var r=e.isExpanded();this.expandable?this.comp.setAriaExpanded(r?"true":"false"):this.comp.setAriaExpanded(void 0)},t.prototype.addAttributes=function(){this.comp.setColId(this.columnGroup.getUniqueId())},t.prototype.addClasses=function(){var e=this,r=this.columnGroup.getColGroupDef(),i=gd.getHeaderClassesFromColDef(r,this.gridOptionsWrapper,null,this.columnGroup);i.push(this.columnGroup.isPadding()?"ag-header-group-cell-no-group":"ag-header-group-cell-with-group"),i.forEach(function(o){return e.comp.addOrRemoveCssClass(o,!0)})},t.prototype.setupMovingCss=function(){var e=this,r=this.columnGroup.getProvidedColumnGroup(),i=r.getLeafColumns(),o=function(){return e.comp.addOrRemoveCssClass("ag-header-cell-moving",e.columnGroup.isMoving())};i.forEach(function(a){e.addManagedListener(a,Se.EVENT_MOVING_CHANGED,o)}),o()},t.prototype.onFocusIn=function(e){if(!this.eGui.contains(e.relatedTarget)){var r=this.getRowIndex();this.beans.focusService.setFocusedHeader(r,this.columnGroup)}},t.prototype.handleKeyDown=function(e){var r=this.gridOptionsWrapper.getDocument(),i=r.activeElement,o=i===this.eGui;if(!(!this.expandable||!o)&&e.key===U.ENTER){var a=this.columnGroup,s=!a.isExpanded();this.columnModel.setColumnGroupOpened(a.getProvidedColumnGroup(),s,"uiColumnExpanded")}},t.prototype.setDragSource=function(e){var r=this;if(!this.isSuppressMoving()){var i=this.columnGroup.getProvidedColumnGroup().getLeafColumns(),o={type:nr.HeaderCell,eElement:e,defaultIconName:It.ICON_HIDE,dragItemName:this.displayName,getDragItem:this.getDragItemForGroup.bind(this),onDragStarted:function(){return i.forEach(function(a){return a.setMoving(!0,"uiColumnDragged")})},onDragStopped:function(){return i.forEach(function(a){return a.setMoving(!1,"uiColumnDragged")})}};this.dragAndDropService.addDragSource(o,!0),this.addDestroyFunc(function(){return r.dragAndDropService.removeDragSource(o)})}},t.prototype.getDragItemForGroup=function(){var e=this.columnGroup.getProvidedColumnGroup().getLeafColumns(),r={};e.forEach(function(o){return r[o.getId()]=o.isVisible()});var i=[];return this.columnModel.getAllDisplayedColumns().forEach(function(o){e.indexOf(o)>=0&&(i.push(o),$r(e,o))}),e.forEach(function(o){return i.push(o)}),{columns:i,visibleState:r}},t.prototype.isSuppressMoving=function(){var e=!1;this.columnGroup.getLeafColumns().forEach(function(i){(i.getColDef().suppressMovable||i.getColDef().lockPosition)&&(e=!0)});var r=e||this.gridOptionsWrapper.isSuppressMovableColumns();return r},Tu([y("beans")],t.prototype,"beans",void 0),Tu([y("columnModel")],t.prototype,"columnModel",void 0),Tu([y("dragAndDropService")],t.prototype,"dragAndDropService",void 0),Tu([y("userComponentFactory")],t.prototype,"userComponentFactory",void 0),Tu([y("gridApi")],t.prototype,"gridApi",void 0),Tu([y("columnApi")],t.prototype,"columnApi",void 0),t}(vd);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v27.3.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */var g4=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Hy=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},v4=0,Xf=function(n){g4(t,n);function t(e,r,i){var o=n.call(this)||this;return o.instanceId=v4++,o.headerCellCtrls={},o.rowIndex=e,o.pinned=r,o.type=i,o}return t.prototype.getInstanceId=function(){return this.instanceId},t.prototype.setComp=function(e){this.comp=e,this.onRowHeightChanged(),this.onVirtualColumnsChanged(),this.setWidth(),this.addEventListeners(),sd()&&this.comp.setTransform("translateZ(0)"),e.setAriaRowIndex(this.rowIndex+1)},t.prototype.addEventListeners=function(){this.addManagedListener(this.eventService,x.EVENT_COLUMN_RESIZED,this.onColumnResized.bind(this)),this.addManagedListener(this.gridOptionsWrapper,pe.PROP_DOM_LAYOUT,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,x.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,x.EVENT_VIRTUAL_COLUMNS_CHANGED,this.onVirtualColumnsChanged.bind(this)),this.addManagedListener(this.gridOptionsWrapper,pe.PROP_HEADER_HEIGHT,this.onRowHeightChanged.bind(this)),this.addManagedListener(this.gridOptionsWrapper,pe.PROP_PIVOT_HEADER_HEIGHT,this.onRowHeightChanged.bind(this)),this.addManagedListener(this.gridOptionsWrapper,pe.PROP_GROUP_HEADER_HEIGHT,this.onRowHeightChanged.bind(this)),this.addManagedListener(this.gridOptionsWrapper,pe.PROP_PIVOT_GROUP_HEADER_HEIGHT,this.onRowHeightChanged.bind(this)),this.addManagedListener(this.gridOptionsWrapper,pe.PROP_FLOATING_FILTERS_HEIGHT,this.onRowHeightChanged.bind(this))},t.prototype.getHeaderCellCtrl=function(e){return au(this.headerCellCtrls).find(function(r){return r.getColumnGroupChild()===e})},t.prototype.onDisplayedColumnsChanged=function(){this.onVirtualColumnsChanged(),this.setWidth()},t.prototype.getType=function(){return this.type},t.prototype.onColumnResized=function(){this.setWidth()},t.prototype.setWidth=function(){var e=this.getWidthForRow();this.comp.setWidth(e+"px")},t.prototype.getWidthForRow=function(){var e=this.gridOptionsWrapper.getDomLayout()===L.DOM_LAYOUT_PRINT;if(e){var r=this.pinned!=null;return r?0:this.columnModel.getContainerWidth(L.PINNED_RIGHT)+this.columnModel.getContainerWidth(L.PINNED_LEFT)+this.columnModel.getContainerWidth(null)}return this.columnModel.getContainerWidth(this.pinned)},t.prototype.onRowHeightChanged=function(){var e=this.columnModel.getHeaderRowCount(),r=[],i=0,o,a;this.columnModel.hasFloatingFilters()&&(e++,i=1),this.columnModel.isPivotMode()?(o=this.gridOptionsWrapper.getPivotGroupHeaderHeight(),a=this.gridOptionsWrapper.getPivotHeaderHeight()):(o=this.gridOptionsWrapper.getGroupHeaderHeight(),a=this.gridOptionsWrapper.getHeaderHeight());for(var s=1+i,l=e-s,u=0;u<l;u++)r.push(o);r.push(a);for(var u=0;u<i;u++)r.push(this.gridOptionsWrapper.getFloatingFiltersHeight());for(var c=0,u=0;u<this.rowIndex;u++)c+=r[u];this.comp.setTop(c+"px"),this.comp.setHeight(r[this.rowIndex]+"px")},t.prototype.getPinned=function(){return this.pinned},t.prototype.getRowIndex=function(){return this.rowIndex},t.prototype.onVirtualColumnsChanged=function(){var e=this,r=this.headerCellCtrls;this.headerCellCtrls={};var i=this.getColumnsInViewport();i.forEach(function(s){if(!s.isEmptyGroup()){var l=s.getUniqueId(),u=r[l];delete r[l];var c=u&&u.getColumnGroupChild()!=s;if(c&&(e.destroyBean(u),u=void 0),u==null)switch(e.type){case Zr.FLOATING_FILTER:u=e.createBean(new B1(s,e));break;case Zr.COLUMN_GROUP:u=e.createBean(new W1(s,e));break;default:u=e.createBean(new V1(s,e));break}e.headerCellCtrls[l]=u}});var o=function(s){var l=e.focusService.isHeaderWrapperFocused(s);if(!l)return!1;var u=e.columnModel.isDisplayed(s.getColumnGroupChild());return u};ut(r,function(s,l){var u=o(l);u?e.headerCellCtrls[s]=l:e.destroyBean(l)});var a=Zi(this.headerCellCtrls);this.comp.setHeaderCtrls(a)},t.prototype.destroyCtrls=function(){var e=this;ut(this.headerCellCtrls,function(r,i){e.destroyBean(i)}),this.headerCellCtrls={}},t.prototype.getColumnsInViewport=function(){var e=this.gridOptionsWrapper.getDomLayout()===L.DOM_LAYOUT_PRINT;return e?this.getColumnsInViewportPrintLayout():this.getColumnsInViewportNormalLayout()},t.prototype.getColumnsInViewportPrintLayout=function(){var e=this;if(this.pinned!=null)return[];var r=[],i=this.getActualDepth();return[L.PINNED_LEFT,null,L.PINNED_RIGHT].forEach(function(o){var a=e.columnModel.getVirtualHeaderGroupRow(o,i);r=r.concat(a)}),r},t.prototype.getActualDepth=function(){return this.type==Zr.FLOATING_FILTER?this.rowIndex-1:this.rowIndex},t.prototype.getColumnsInViewportNormalLayout=function(){return this.columnModel.getVirtualHeaderGroupRow(this.pinned,this.getActualDepth())},t.prototype.focusHeader=function(e,r){var i=Zi(this.headerCellCtrls),o=i.find(function(a){return a.getColumnGroupChild()==e});return o?(o.focus(r),!0):!1},Hy([y("columnModel")],t.prototype,"columnModel",void 0),Hy([y("focusService")],t.prototype,"focusService",void 0),Hy([_t],t.prototype,"destroyCtrls",null),t}(j);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v27.3.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */var m4=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),_p=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},y4=globalThis&&globalThis.__read||function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},C4=globalThis&&globalThis.__spread||function(){for(var n=[],t=0;t<arguments.length;t++)n=n.concat(y4(arguments[t]));return n},H1=function(n){m4(t,n);function t(e){var r=n.call(this)||this;return r.groupsRowCtrls=[],r.pinned=e,r}return t.prototype.setComp=function(e,r){this.comp=e,this.setupCenterWidth(),this.setupPinnedWidth(),this.setupDragAndDrop(r),this.addManagedListener(this.eventService,x.EVENT_GRID_COLUMNS_CHANGED,this.onGridColumnsChanged.bind(this)),this.ctrlsService.registerHeaderContainer(this,this.pinned),this.columnModel.isReady()&&this.refresh()},t.prototype.setupDragAndDrop=function(e){var r=new N1(this.pinned,e);this.createManagedBean(r)},t.prototype.refresh=function(e){var r=this;e===void 0&&(e=!1);var i=new vr,o=this.focusService.getFocusHeaderToUseAfterRefresh(),a=function(){var c=r.columnModel.getHeaderRowCount()-1;r.groupsRowCtrls=r.destroyBeans(r.groupsRowCtrls);for(var p=0;p<c;p++){var h=r.createBean(new Xf(i.next(),r.pinned,Zr.COLUMN_GROUP));r.groupsRowCtrls.push(h)}},s=function(){var c=i.next(),p=r.columnsRowCtrl==null||!e||r.columnsRowCtrl.getRowIndex()!==c;p&&(r.destroyBean(r.columnsRowCtrl),r.columnsRowCtrl=r.createBean(new Xf(c,r.pinned,Zr.COLUMN)))},l=function(){var c=r.columnModel.hasFloatingFilters(),p=function(){r.filtersRowCtrl=r.destroyBean(r.filtersRowCtrl)};if(!c){p();return}var h=i.next();if(r.filtersRowCtrl){var d=r.filtersRowCtrl.getRowIndex()!==h;(!e||d)&&p()}r.filtersRowCtrl||(r.filtersRowCtrl=r.createBean(new Xf(h,r.pinned,Zr.FLOATING_FILTER)))};a(),s(),l();var u=this.getAllCtrls();this.comp.setCtrls(u),this.restoreFocusOnHeader(o)},t.prototype.restoreFocusOnHeader=function(e){e==null||e.column.getPinned()!=this.pinned||this.focusService.focusHeaderPosition({headerPosition:e})},t.prototype.getAllCtrls=function(){var e=C4(this.groupsRowCtrls,[this.columnsRowCtrl]);return this.filtersRowCtrl&&e.push(this.filtersRowCtrl),e},t.prototype.onGridColumnsChanged=function(){this.refresh(!0)},t.prototype.setupCenterWidth=function(){var e=this;this.pinned==null&&this.createManagedBean(new US(function(r){return e.comp.setCenterWidth(r+"px")}))},t.prototype.setHorizontalScroll=function(e){this.comp.setContainerTransform("translateX("+e+"px)")},t.prototype.setupPinnedWidth=function(){var e=this;if(this.pinned!=null){var r=this.pinned===L.PINNED_LEFT,i=this.pinned===L.PINNED_RIGHT,o=function(){var a=r?e.pinnedWidthService.getPinnedLeftWidth():e.pinnedWidthService.getPinnedRightWidth();if(a!=null){var s=a==0,l=e.gridOptionsWrapper.isEnableRtl(),u=e.gridOptionsWrapper.getScrollbarWidth(),c=e.scrollVisibleService.isVerticalScrollShowing()&&(l&&r||!l&&i),p=c?a+u:a;e.comp.setPinnedContainerWidth(p+"px"),e.comp.addOrRemoveCssClass("ag-hidden",s)}};this.addManagedListener(this.eventService,x.EVENT_LEFT_PINNED_WIDTH_CHANGED,o),this.addManagedListener(this.eventService,x.EVENT_RIGHT_PINNED_WIDTH_CHANGED,o),this.addManagedListener(this.eventService,x.EVENT_SCROLL_VISIBILITY_CHANGED,o),this.addManagedListener(this.eventService,x.EVENT_SCROLLBAR_WIDTH_CHANGED,o)}},t.prototype.getHeaderCtrlForColumn=function(e){if(e instanceof Se)return this.columnsRowCtrl?this.columnsRowCtrl.getHeaderCellCtrl(e):void 0;if(this.groupsRowCtrls.length!==0)for(var r=0;r<this.groupsRowCtrls.length;r++){var i=this.groupsRowCtrls[r].getHeaderCellCtrl(e);if(i)return i}},t.prototype.getHtmlElementForColumnHeader=function(e){var r=this.getHeaderCtrlForColumn(e);return r?r.getGui():null},t.prototype.getRowType=function(e){var r=this.getAllCtrls(),i=r[e];return i?i.getType():void 0},t.prototype.focusHeader=function(e,r,i){var o=this.getAllCtrls(),a=o[e];return a?a.focusHeader(r,i):!1},t.prototype.getRowCount=function(){return this.getAllCtrls().length},_p([y("ctrlsService")],t.prototype,"ctrlsService",void 0),_p([y("scrollVisibleService")],t.prototype,"scrollVisibleService",void 0),_p([y("pinnedWidthService")],t.prototype,"pinnedWidthService",void 0),_p([y("columnModel")],t.prototype,"columnModel",void 0),_p([y("focusService")],t.prototype,"focusService",void 0),t}(j);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v27.3.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */var b4=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),jy=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},qf=function(n){b4(t,n);function t(e){var r=n.call(this)||this;return r.headerRowComps={},r.rowCompsList=[],r.pinned=e,r}return t.prototype.init=function(){var e=this;this.selectAndSetTemplate();var r={addOrRemoveCssClass:function(o,a){return e.addOrRemoveCssClass(o,a)},setCtrls:function(o){return e.setCtrls(o)},setCenterWidth:function(o){return e.eCenterContainer.style.width=o},setContainerTransform:function(o){return e.eCenterContainer.style.transform=o},setPinnedContainerWidth:function(o){var a=e.getGui();a.style.width=o,a.style.maxWidth=o,a.style.minWidth=o}},i=this.createManagedBean(new H1(this.pinned));i.setComp(r,this.getGui())},t.prototype.selectAndSetTemplate=function(){var e=this.pinned==L.PINNED_LEFT,r=this.pinned==L.PINNED_RIGHT,i=e?t.PINNED_LEFT_TEMPLATE:r?t.PINNED_RIGHT_TEMPLATE:t.CENTER_TEMPLATE;this.setTemplate(i),this.eRowContainer=this.eCenterContainer?this.eCenterContainer:this.getGui()},t.prototype.destroyRowComps=function(){this.setCtrls([])},t.prototype.destroyRowComp=function(e){this.destroyBean(e),this.eRowContainer.removeChild(e.getGui())},t.prototype.setCtrls=function(e){var r=this,i=this.headerRowComps;this.headerRowComps={},this.rowCompsList=[];var o,a=function(s){var l=s.getGui(),u=l.parentElement!=r.eRowContainer;u&&r.eRowContainer.appendChild(l),o&&bS(r.eRowContainer,l,o),o=l};e.forEach(function(s){var l=s.getInstanceId(),u=i[l];delete i[l];var c=u||r.createBean(new k1(s));r.headerRowComps[l]=c,r.rowCompsList.push(c),a(c)}),Zi(i).forEach(function(s){return r.destroyRowComp(s)})},t.PINNED_LEFT_TEMPLATE='<div class="ag-pinned-left-header" role="presentation"/>',t.PINNED_RIGHT_TEMPLATE='<div class="ag-pinned-right-header" role="presentation"/>',t.CENTER_TEMPLATE=`<div class="ag-header-viewport" role="presentation">
            <div class="ag-header-container" ref="eCenterContainer" role="rowgroup"></div>
        </div>`,jy([I("eCenterContainer")],t.prototype,"eCenterContainer",void 0),jy([H],t.prototype,"init",null),jy([_t],t.prototype,"destroyRowComps",null),t}(te);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v27.3.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */var w4=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Ou=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},$i;(function(n){n[n.UP=0]="UP",n[n.DOWN=1]="DOWN",n[n.LEFT=2]="LEFT",n[n.RIGHT=3]="RIGHT"})($i||($i={}));var j1=function(n){w4(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.postConstruct=function(){var e=this;this.ctrlsService.whenReady(function(r){e.gridBodyCon=r.gridBodyCtrl})},t.prototype.getHeaderRowCount=function(){var e=this.ctrlsService.getHeaderRowContainerCtrl();return e?e.getRowCount():0},t.prototype.getHeaderRowType=function(e){var r=this.ctrlsService.getHeaderRowContainerCtrl();if(r)return r.getRowType(e)},t.prototype.navigateVertically=function(e,r,i){if(r||(r=this.focusService.getFocusedHeader()),!r)return!1;var o=r.headerRowIndex,a=r.column,s=this.getHeaderRowCount(),l=e===$i.UP,u=l?o-1:o+1,c=null,p=!1;u<0&&(u=0,c=a,p=!0),u>=s&&(u=-1);var h=this.getHeaderRowType(o);if(!p){if(h===Zr.COLUMN_GROUP){var d=a;c=l?a.getParent():d.getDisplayedChildren()[0]}else if(h===Zr.FLOATING_FILTER)c=a;else{var d=a;c=l?d.getParent():d}if(!c)return!1}return this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:u,column:c},allowUserOverride:!0,event:i})},t.prototype.navigateHorizontally=function(e,r,i){r===void 0&&(r=!1);var o=this.focusService.getFocusedHeader(),a=e===$i.LEFT,s=this.gridOptionsWrapper.isEnableRtl(),l,u;return a!==s?(u="Before",l=this.headerPositionUtils.findHeader(o,u)):(u="After",l=this.headerPositionUtils.findHeader(o,u)),l?this.focusService.focusHeaderPosition({headerPosition:l,direction:u,fromTab:r,allowUserOverride:!0,event:i}):r?this.focusNextHeaderRow(o,u,i):!0},t.prototype.focusNextHeaderRow=function(e,r,i){var o=e.headerRowIndex,a=null,s;return r==="Before"?o>0&&(s=o-1,a=this.headerPositionUtils.findColAtEdgeForHeaderRow(s,"end")):(s=o+1,a=this.headerPositionUtils.findColAtEdgeForHeaderRow(s,"start")),this.focusService.focusHeaderPosition({headerPosition:a,direction:r,fromTab:!0,allowUserOverride:!0,event:i})},t.prototype.scrollToColumn=function(e,r){if(r===void 0&&(r="After"),!e.getPinned()){var i;if(e instanceof kr){var o=e.getDisplayedLeafColumns();i=r==="Before"?wt(o):o[0]}else i=e;this.gridBodyCon.getScrollFeature().ensureColumnVisible(i),this.gridBodyCon.getScrollFeature().horizontallyScrollHeaderCenterAndFloatingCenter(),this.animationFrameService.flushAllFrames()}},Ou([y("focusService")],t.prototype,"focusService",void 0),Ou([y("headerPositionUtils")],t.prototype,"headerPositionUtils",void 0),Ou([y("animationFrameService")],t.prototype,"animationFrameService",void 0),Ou([y("ctrlsService")],t.prototype,"ctrlsService",void 0),Ou([H],t.prototype,"postConstruct",null),t=Ou([J("headerNavigationService")],t),t}(j);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v27.3.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */var _4=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Ud=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},U1=function(n){_4(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.setComp=function(e,r,i){this.comp=e,this.eGui=r,this.createManagedBean(new lo(i,{onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addManagedListener(this.eventService,x.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.onPivotModeChanged.bind(this)),this.onPivotModeChanged(),this.setupHeaderHeight(),this.ctrlsService.registerGridHeaderCtrl(this)},t.prototype.setupHeaderHeight=function(){var e=this.setHeaderHeight.bind(this);e(),this.addManagedListener(this.gridOptionsWrapper,pe.PROP_HEADER_HEIGHT,e),this.addManagedListener(this.gridOptionsWrapper,pe.PROP_PIVOT_HEADER_HEIGHT,e),this.addManagedListener(this.gridOptionsWrapper,pe.PROP_GROUP_HEADER_HEIGHT,e),this.addManagedListener(this.gridOptionsWrapper,pe.PROP_PIVOT_GROUP_HEADER_HEIGHT,e),this.addManagedListener(this.gridOptionsWrapper,pe.PROP_FLOATING_FILTERS_HEIGHT,e),this.addManagedListener(this.eventService,x.EVENT_DISPLAYED_COLUMNS_CHANGED,e)},t.prototype.setHeaderHeight=function(){var e=this,r=e.columnModel,i=e.gridOptionsWrapper,o=0,a=r.getHeaderRowCount(),s,l,u,c=r.hasFloatingFilters();c&&(a++,o=1),r.isPivotMode()?(l=i.getPivotGroupHeaderHeight(),u=i.getPivotHeaderHeight()):(l=i.getGroupHeaderHeight(),u=i.getHeaderHeight());var p=1+o,h=a-p;s=o*i.getFloatingFiltersHeight(),s+=h*l,s+=u;var d=s+1+"px";this.comp.setHeightAndMinHeight(d)},t.prototype.onPivotModeChanged=function(){var e=this.columnModel.isPivotMode();this.comp.addOrRemoveCssClass("ag-pivot-on",e),this.comp.addOrRemoveCssClass("ag-pivot-off",!e)},t.prototype.onTabKeyDown=function(e){var r=this.gridOptionsWrapper.isEnableRtl(),i=e.shiftKey!==r?$i.LEFT:$i.RIGHT;(this.headerNavigationService.navigateHorizontally(i,!0,e)||this.focusService.focusNextGridCoreContainer(e.shiftKey))&&e.preventDefault()},t.prototype.handleKeyDown=function(e){var r=null;switch(e.key){case U.LEFT:r=$i.LEFT;case U.RIGHT:Z(r)||(r=$i.RIGHT),this.headerNavigationService.navigateHorizontally(r,!1,e);break;case U.UP:r=$i.UP;case U.DOWN:Z(r)||(r=$i.DOWN),this.headerNavigationService.navigateVertically(r,null,e)&&e.preventDefault();break;default:return}},t.prototype.onFocusOut=function(e){var r=this.gridOptionsWrapper.getDocument(),i=e.relatedTarget;!i&&this.eGui.contains(r.activeElement)||this.eGui.contains(i)||this.focusService.clearFocusedHeader()},Ud([y("headerNavigationService")],t.prototype,"headerNavigationService",void 0),Ud([y("focusService")],t.prototype,"focusService",void 0),Ud([y("columnModel")],t.prototype,"columnModel",void 0),Ud([y("ctrlsService")],t.prototype,"ctrlsService",void 0),t}(j);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v27.3.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */var S4=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),x4=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},z1=function(n){S4(t,n);function t(){return n.call(this,t.TEMPLATE)||this}return t.prototype.postConstruct=function(){var e=this,r={addOrRemoveCssClass:function(a,s){return e.addOrRemoveCssClass(a,s)},setHeightAndMinHeight:function(a){e.getGui().style.height=a,e.getGui().style.minHeight=a}},i=this.createManagedBean(new U1);i.setComp(r,this.getGui(),this.getFocusableElement());var o=function(a){e.createManagedBean(a),e.appendChild(a)};o(new qf(L.PINNED_LEFT)),o(new qf(null)),o(new qf(L.PINNED_RIGHT))},t.TEMPLATE='<div class="ag-header" role="presentation"/>',x4([H],t.prototype,"postConstruct",null),t}(te);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v27.3.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */var T4=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Uy=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},$1=function(n){T4(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.addResizeBar=function(e){var r=this,i={dragStartPixels:e.dragStartPixels||0,eElement:e.eResizeBar,onDragStart:this.onDragStart.bind(this,e),onDragStop:this.onDragStop.bind(this,e),onDragging:this.onDragging.bind(this,e)};this.dragService.addDragSource(i,!0);var o=function(){return r.dragService.removeDragSource(i)};return o},t.prototype.onDragStart=function(e,r){this.dragStartX=r.clientX,this.setResizeIcons();var i=r instanceof MouseEvent&&r.shiftKey===!0;e.onResizeStart(i)},t.prototype.setResizeIcons=function(){var e=this.ctrlsService.getGridCtrl();e.setResizeCursor(!0),e.disableUserSelect(!0)},t.prototype.onDragStop=function(e,r){e.onResizeEnd(this.resizeAmount),this.resetIcons()},t.prototype.resetIcons=function(){var e=this.ctrlsService.getGridCtrl();e.setResizeCursor(!1),e.disableUserSelect(!1)},t.prototype.onDragging=function(e,r){this.resizeAmount=r.clientX-this.dragStartX,e.onResizing(this.resizeAmount)},Uy([y("dragService")],t.prototype,"dragService",void 0),Uy([y("ctrlsService")],t.prototype,"ctrlsService",void 0),t=Uy([J("horizontalResizeService")],t),t}(j);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v27.3.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */var O4=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Sp=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},K1=function(n){O4(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.hideActiveMenu=function(){this.hidePopup&&this.hidePopup()},t.prototype.showMenuAfterMouseEvent=function(e,r){var i=this;this.showPopup(e,function(o){i.popupService.positionPopupUnderMouseEvent({column:e,type:"columnMenu",mouseEvent:r,ePopup:o})},r.target)},t.prototype.showMenuAfterButtonClick=function(e,r,i){var o=this;this.showPopup(e,function(a){o.popupService.positionPopupUnderComponent({type:i,eventSource:r,ePopup:a,keepWithinBounds:!0,column:e})},r)},t.prototype.showPopup=function(e,r,i){var o=this,a=this.filterManager.getOrCreateFilterWrapper(e,"COLUMN_MENU");if(!a)throw new Error("AG Grid - unable to show popup filter, filter instantiation failed");var s=document.createElement("div");Jr(s,"presentation"),s.classList.add("ag-menu"),this.tabListener=this.addManagedListener(s,"keydown",function(d){return o.trapFocusWithin(d,s)}),a.guiPromise.then(function(d){return s.appendChild(d)});var l,u=i||this.ctrlsService.getGridBodyCtrl().getGui(),c=function(d){e.setMenuVisible(!1,"contextMenu");var f=d instanceof KeyboardEvent;if(o.tabListener&&(o.tabListener=o.tabListener()),f&&i&&Zc(i)){var g=o.focusService.findTabbableParent(i);g&&g.focus()}},p=this.gridOptionsWrapper.getLocaleTextFunc(),h=this.popupService.addPopup({modal:!0,eChild:s,closeOnEsc:!0,closedCallback:c,positionCallback:function(){return r(s)},anchorToElement:u,ariaLabel:p("ariaLabelColumnMenu","Column Menu")});h&&(this.hidePopup=l=h.hideFunc),a.filterPromise.then(function(d){r(s),d.afterGuiAttached&&d.afterGuiAttached({container:"columnMenu",hidePopup:l})}),e.setMenuVisible(!0,"contextMenu")},t.prototype.trapFocusWithin=function(e,r){e.key!==U.TAB||e.defaultPrevented||this.focusService.findNextFocusableElement(r,!1,e.shiftKey)||(e.preventDefault(),this.focusService.focusInto(r,e.shiftKey))},t.prototype.isMenuEnabled=function(e){return e.isFilterAllowed()},Sp([y("filterManager")],t.prototype,"filterManager",void 0),Sp([y("popupService")],t.prototype,"popupService",void 0),Sp([y("focusService")],t.prototype,"focusService",void 0),Sp([y("ctrlsService")],t.prototype,"ctrlsService",void 0),t=Sp([J("menuFactory")],t),t}(j);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v27.3.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */var E4=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),zd=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},$S=function(n){E4(t,n);function t(e){var r=n.call(this,t.getTemplate(e.cssClass))||this;return r.items=[],r.tabbedItemScrollMap=new Map,r.params=e,e.items&&e.items.forEach(function(i){return r.addItem(i)}),r}return t.prototype.postConstruct=function(){this.createManagedBean(new lo(this.getFocusableElement(),{onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this)}))},t.getTemplate=function(e){return'<div class="ag-tabs '+e+`">
            <div ref="eHeader" role="tablist" class="ag-tabs-header `+(e?e+"-header":"")+`"></div>
            <div ref="eBody" role="presentation" class="ag-tabs-body `+(e?e+"-body":"")+`"></div>
        </div>`},t.prototype.handleKeyDown=function(e){var r=this.gridOptionsWrapper.getDocument();switch(e.key){case U.RIGHT:case U.LEFT:if(!this.eHeader.contains(r.activeElement))return;var i=this.items.indexOf(this.activeItem),o=e.key===U.RIGHT?Math.min(i+1,this.items.length-1):Math.max(i-1,0);if(i===o)return;e.preventDefault();var a=this.items[o];this.showItemWrapper(a),a.eHeaderButton.focus();break;case U.UP:case U.DOWN:e.stopPropagation();break}},t.prototype.onTabKeyDown=function(e){if(!e.defaultPrevented){var r=this,i=r.focusService,o=r.eHeader,a=r.eBody,s=r.activeItem,l=this.gridOptionsWrapper.getDocument(),u=l.activeElement;if(e.preventDefault(),o.contains(u))i.focusInto(a,e.shiftKey);else if(i.isFocusUnderManagedComponent(a))s.eHeaderButton.focus();else{var c=i.findNextFocusableElement(a,!1,e.shiftKey);c?c.focus():s.eHeaderButton.focus()}}},t.prototype.setAfterAttachedParams=function(e){this.afterAttachedParams=e},t.prototype.showFirstItem=function(){this.items.length>0&&this.showItemWrapper(this.items[0])},t.prototype.addItem=function(e){var r=document.createElement("span");Jr(r,"tab"),r.setAttribute("tabIndex","-1"),r.appendChild(e.title),r.classList.add("ag-tab"),this.eHeader.appendChild(r),lu(r,e.titleLabel);var i={tabbedItem:e,eHeaderButton:r};this.items.push(i),r.addEventListener("click",this.showItemWrapper.bind(this,i))},t.prototype.showItem=function(e){var r=this.items.find(function(i){return i.tabbedItem===e});r&&this.showItemWrapper(r)},t.prototype.showItemWrapper=function(e){var r=this,i=e.tabbedItem,o=e.eHeaderButton;if(this.params.onItemClicked&&this.params.onItemClicked({item:i}),this.activeItem===e){rM(this.params.onActiveItemClicked);return}this.lastScrollListener&&(this.lastScrollListener=this.lastScrollListener()),ni(this.eBody),i.bodyPromise.then(function(a){r.eBody.appendChild(a);var s=!r.focusService.isKeyboardMode();if(r.focusService.focusInto(r.eBody,!1,s),i.afterAttachedCallback&&i.afterAttachedCallback(r.afterAttachedParams),r.params.keepScrollPosition){var l=i.getScrollableContainer&&i.getScrollableContainer()||a;r.lastScrollListener=r.addManagedListener(l,"scroll",function(){r.tabbedItemScrollMap.set(i.name,l.scrollTop)});var u=r.tabbedItemScrollMap.get(i.name);u!==void 0&&setTimeout(function(){l.scrollTop=u},0)}}),this.activeItem&&this.activeItem.eHeaderButton.classList.remove("ag-tab-selected"),o.classList.add("ag-tab-selected"),this.activeItem=e},zd([y("focusService")],t.prototype,"focusService",void 0),zd([I("eHeader")],t.prototype,"eHeader",void 0),zd([I("eBody")],t.prototype,"eBody",void 0),zd([H],t.prototype,"postConstruct",null),t}(te);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v27.3.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */function R4(n){return new Dt(function(t){var e=new XMLHttpRequest;e.open("GET",n.url),e.send(),e.onreadystatechange=function(){e.readyState===4&&e.status===200&&t(JSON.parse(e.responseText))}})}/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v27.3.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */var P4=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),A4=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},GT=50,Y1=function(n){P4(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.polyfillFunctions=[],e}return t.prototype.observeResize=function(e,r){var i=this,o=this.gridOptionsWrapper.getDocument(),a=o.defaultView||window,s=Ma(r,GT),l=function(){var h=new a.ResizeObserver(s);return h.observe(e),function(){return h.disconnect()}},u=function(){var h=gw(e),d=fw(e),f=!0,g=function(){if(f){var v=gw(e),m=fw(e),C=v!==h||m!==d;C&&(h=v,d=m,r()),i.doNextPolyfillTurn(g)}};return g(),function(){return f=!1}},c=this.gridOptionsWrapper.isSuppressBrowserResizeObserver(),p=!!a.ResizeObserver;return p&&!c?l():u()},t.prototype.doNextPolyfillTurn=function(e){this.polyfillFunctions.push(e),this.schedulePolyfill()},t.prototype.schedulePolyfill=function(){var e=this;if(!this.polyfillScheduled){var r=function(){var i=e.polyfillFunctions;e.polyfillScheduled=!1,e.polyfillFunctions=[],i.forEach(function(o){return o()})};this.polyfillScheduled=!0,this.getFrameworkOverrides().setTimeout(r,GT)}},t=A4([J("resizeObserverService")],t),t}(j);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v27.3.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */var D4=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),zy=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},X1=function(n){D4(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.createTasksP1={list:[],sorted:!1},e.createTasksP2={list:[],sorted:!1},e.destroyTasks=[],e.ticking=!1,e.scrollGoingDown=!0,e.lastScrollTop=0,e.taskCount=0,e.cancelledTasks=new Set,e}return t.prototype.setScrollTop=function(e){this.scrollGoingDown=e>this.lastScrollTop,this.lastScrollTop=e},t.prototype.init=function(){this.useAnimationFrame=!this.gridOptionsWrapper.isSuppressAnimationFrame()},t.prototype.isOn=function(){return this.useAnimationFrame},t.prototype.verifyAnimationFrameOn=function(e){this.useAnimationFrame===!1&&console.warn("AG Grid: AnimationFrameService."+e+" called but animation frames are off")},t.prototype.createTask=function(e,r,i){this.verifyAnimationFrameOn(i);var o={task:e,index:r,createOrder:++this.taskCount};this.addTaskToList(this[i],o),this.schedule()},t.prototype.cancelTask=function(e){this.cancelledTasks.add(e)},t.prototype.addTaskToList=function(e,r){e.list.push(r),e.sorted=!1},t.prototype.sortTaskList=function(e){if(!e.sorted){var r=this.scrollGoingDown?1:-1;e.list.sort(function(i,o){return i.index!==o.index?r*(o.index-i.index):o.createOrder-i.createOrder}),e.sorted=!0}},t.prototype.addDestroyTask=function(e){this.verifyAnimationFrameOn("createTasksP3"),this.destroyTasks.push(e),this.schedule()},t.prototype.executeFrame=function(e){this.verifyAnimationFrameOn("executeFrame");for(var r=this.createTasksP1,i=r.list,o=this.createTasksP2,a=o.list,s=this.destroyTasks,l=new Date().getTime(),u=new Date().getTime()-l,c=e<=0,p=this.ctrlsService.getGridBodyCtrl();c||u<e;){var h=p.getScrollFeature().executeAnimationFrameScroll();if(!h){var d=void 0;if(i.length)this.sortTaskList(r),d=i.pop().task;else if(a.length)this.sortTaskList(o),d=a.pop().task;else if(s.length)d=s.pop();else{this.cancelledTasks.clear();break}this.cancelledTasks.has(d)||d()}u=new Date().getTime()-l}i.length||a.length||s.length?this.requestFrame():this.stopTicking()},t.prototype.stopTicking=function(){this.ticking=!1},t.prototype.flushAllFrames=function(){!this.useAnimationFrame||this.executeFrame(-1)},t.prototype.schedule=function(){!this.useAnimationFrame||this.ticking||(this.ticking=!0,this.requestFrame())},t.prototype.requestFrame=function(){var e=this.executeFrame.bind(this,60),r=this.gridOptionsWrapper.getDocument(),i=r.defaultView||window;i.requestAnimationFrame?i.requestAnimationFrame(e):i.webkitRequestAnimationFrame?i.webkitRequestAnimationFrame(e):i.setTimeout(e,0)},t.prototype.isQueueEmpty=function(){return!this.ticking},t.prototype.debounce=function(e){var r=this,i=!1;return function(){if(!r.isOn()){r.getFrameworkOverrides().setTimeout(e,0);return}i||(i=!0,r.addDestroyTask(function(){i=!1,e()}))}},zy([y("ctrlsService")],t.prototype,"ctrlsService",void 0),zy([H],t.prototype,"init",null),t=zy([J("animationFrameService")],t),t}(j);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v27.3.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */var M4=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),BT=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},q1="ag-resizer-wrapper",F4='<div class="'+q1+`">
        <div ref="eTopLeftResizer" class="ag-resizer ag-resizer-topLeft"></div>
        <div ref="eTopResizer" class="ag-resizer ag-resizer-top"></div>
        <div ref="eTopRightResizer" class="ag-resizer ag-resizer-topRight"></div>
        <div ref="eRightResizer" class="ag-resizer ag-resizer-right"></div>
        <div ref="eBottomRightResizer" class="ag-resizer ag-resizer-bottomRight"></div>
        <div ref="eBottomResizer" class="ag-resizer ag-resizer-bottom"></div>
        <div ref="eBottomLeftResizer" class="ag-resizer ag-resizer-bottomLeft"></div>
        <div ref="eLeftResizer" class="ag-resizer ag-resizer-left"></div>
    </div>`,md=function(n){M4(t,n);function t(e,r){var i=n.call(this)||this;return i.element=e,i.dragStartPosition={x:0,y:0},i.position={x:0,y:0},i.lastSize={width:-1,height:-1},i.positioned=!1,i.resizersAdded=!1,i.resizeListeners=[],i.boundaryEl=null,i.isResizing=!1,i.isMoving=!1,i.resizable={},i.movable=!1,i.currentResizer=null,i.config=Object.assign({},{popup:!1},r),i}return t.prototype.center=function(){var e=this.offsetParent,r=e.clientHeight,i=e.clientWidth,o=i/2-this.getWidth()/2,a=r/2-this.getHeight()/2;this.offsetElement(o,a)},t.prototype.initialisePosition=function(){var e=this.config,r=e.centered,i=e.forcePopupParentAsOffsetParent,o=e.minWidth,a=e.width,s=e.minHeight,l=e.height,u=e.x,c=e.y;this.offsetParent||this.setOffsetParent();var p=0,h=0,d=!!this.element.offsetParent;if(d){var f=this.findBoundaryElement(),g=window.getComputedStyle(f);if(g.minWidth!=null){var v=f.offsetWidth-this.element.offsetWidth;h=parseInt(g.minWidth,10)-v}if(g.minHeight!=null){var m=f.offsetHeight-this.element.offsetHeight;p=parseInt(g.minHeight,10)-m}}if(this.minHeight=s||p,this.minWidth=o||h,a&&this.setWidth(a),l&&this.setHeight(l),(!a||!l)&&this.refreshSize(),r)this.center();else if(u||c)this.offsetElement(u,c);else if(d&&i&&this.boundaryEl){var C=parseFloat(this.boundaryEl.style.top),b=parseFloat(this.boundaryEl.style.left);this.offsetElement(isNaN(b)?0:b,isNaN(C)?0:C)}this.positioned=!!this.offsetParent},t.prototype.isPositioned=function(){return this.positioned},t.prototype.getPosition=function(){return this.position},t.prototype.setMovable=function(e,r){if(!(!this.config.popup||e===this.movable)){this.movable=e;var i=this.moveElementDragListener||{eElement:r,onDragStart:this.onMoveStart.bind(this),onDragging:this.onMove.bind(this),onDragStop:this.onMoveEnd.bind(this)};e?(this.dragService.addDragSource(i),this.moveElementDragListener=i):(this.dragService.removeDragSource(i),this.moveElementDragListener=void 0)}},t.prototype.setResizable=function(e){var r=this;if(this.clearResizeListeners(),e?this.addResizers():this.removeResizers(),typeof e=="boolean"){if(e===!1)return;e={topLeft:e,top:e,topRight:e,right:e,bottomRight:e,bottom:e,bottomLeft:e,left:e}}Object.keys(e).forEach(function(i){var o=e,a=!!o[i],s=r.getResizerElement(i),l={dragStartPixels:0,eElement:s,onDragStart:function(u){return r.onResizeStart(u,i)},onDragging:r.onResize.bind(r),onDragStop:function(u){return r.onResizeEnd(u,i)}};(!!r.resizable[i]!==a||!r.isAlive()&&!a)&&(a?(r.dragService.addDragSource(l),r.resizeListeners.push(l),s.style.pointerEvents="all"):s.style.pointerEvents="none")})},t.prototype.removeSizeFromEl=function(){this.element.style.removeProperty("height"),this.element.style.removeProperty("width"),this.element.style.removeProperty("flex")},t.prototype.restoreLastSize=function(){this.element.style.flex="0 0 auto";var e=this.lastSize,r=e.height,i=e.width;i!==-1&&(this.element.style.width=i+"px"),r!==-1&&(this.element.style.height=r+"px")},t.prototype.getHeight=function(){return this.element.offsetHeight},t.prototype.setHeight=function(e){var r=this.config.popup,i=this.element,o=!1;if(typeof e=="string"&&e.indexOf("%")!==-1)jl(i,e),e=CS(i),o=!0;else if(this.positioned){var a=this.element.getBoundingClientRect(),s=this.offsetParent.getBoundingClientRect();e=Math.max(this.minHeight,e);var l=this.offsetParent.clientHeight,u=r?this.position.y:a.top,c=r?0:s.top;l&&e+u>l+c&&(e=l-u)}this.getHeight()!==e&&(o?(i.style.maxHeight="unset",i.style.minHeight="unset"):r?jl(i,e):(i.style.height=e+"px",i.style.flex="0 0 auto",this.lastSize.height=typeof e=="number"?e:parseFloat(e)))},t.prototype.getWidth=function(){return this.element.offsetWidth},t.prototype.setWidth=function(e){var r=this.element,i=this.config.popup,o=!1;if(typeof e=="string"&&e.indexOf("%")!==-1)qo(r,e),e=um(r),o=!0;else if(this.positioned){e=Math.max(this.minWidth,e);var a=this.offsetParent.clientWidth,s=i?this.position.x:this.element.getBoundingClientRect().left;a&&e+s>a&&(e=a-s)}this.getWidth()!==e&&(o?(r.style.maxWidth="unset",r.style.minWidth="unset"):this.config.popup?qo(r,e):(r.style.width=e+"px",r.style.flex=" unset",this.lastSize.width=typeof e=="number"?e:parseFloat(e)))},t.prototype.offsetElement=function(e,r){e===void 0&&(e=0),r===void 0&&(r=0);var i=this.config.forcePopupParentAsOffsetParent?this.boundaryEl:this.element;this.popupService.positionPopup({ePopup:i,x:e,y:r,keepWithinBounds:!0}),this.setPosition(parseFloat(i.style.left),parseFloat(i.style.top))},t.prototype.setPosition=function(e,r){this.position.x=e,this.position.y=r},t.prototype.updateDragStartPosition=function(e,r){this.dragStartPosition={x:e,y:r}},t.prototype.calculateMouseMovement=function(e){var r=e.e,i=e.isLeft,o=e.isTop,a=e.anywhereWithin,s=e.topBuffer,l=r.clientX-this.dragStartPosition.x,u=r.clientY-this.dragStartPosition.y,c=this.shouldSkipX(r,!!i,!!a,l)?0:l,p=this.shouldSkipY(r,!!o,s,u)?0:u;return{movementX:c,movementY:p}},t.prototype.shouldSkipX=function(e,r,i,o){var a=this.element.getBoundingClientRect(),s=this.offsetParent.getBoundingClientRect(),l=this.boundaryEl.getBoundingClientRect(),u=this.config.popup?this.position.x:a.left,c=u<=0&&s.left>=e.clientX||s.right<=e.clientX&&s.right<=l.right;return c?!0:(r?c=o<0&&e.clientX>u+s.left||o>0&&e.clientX<u+s.left:i?c=o<0&&e.clientX>l.right||o>0&&e.clientX<u+s.left:c=o<0&&e.clientX>l.right||o>0&&e.clientX<l.right,c)},t.prototype.shouldSkipY=function(e,r,i,o){i===void 0&&(i=0);var a=this.element.getBoundingClientRect(),s=this.offsetParent.getBoundingClientRect(),l=this.boundaryEl.getBoundingClientRect(),u=this.config.popup?this.position.y:a.top,c=u<=0&&s.top>=e.clientY||s.bottom<=e.clientY&&s.bottom<=l.bottom;return c?!0:(r?c=o<0&&e.clientY>u+s.top+i||o>0&&e.clientY<u+s.top:c=o<0&&e.clientY>l.bottom||o>0&&e.clientY<l.bottom,c)},t.prototype.createResizeMap=function(){var e=this.element;this.resizerMap={topLeft:{element:e.querySelector("[ref=eTopLeftResizer]")},top:{element:e.querySelector("[ref=eTopResizer]")},topRight:{element:e.querySelector("[ref=eTopRightResizer]")},right:{element:e.querySelector("[ref=eRightResizer]")},bottomRight:{element:e.querySelector("[ref=eBottomRightResizer]")},bottom:{element:e.querySelector("[ref=eBottomResizer]")},bottomLeft:{element:e.querySelector("[ref=eBottomLeftResizer]")},left:{element:e.querySelector("[ref=eLeftResizer]")}}},t.prototype.addResizers=function(){if(!this.resizersAdded){var e=this.element;if(!!e){var r=new DOMParser,i=r.parseFromString(F4,"text/html").body;e.appendChild(i.firstChild),this.createResizeMap(),this.resizersAdded=!0}}},t.prototype.removeResizers=function(){this.resizerMap=void 0;var e=this.element.querySelector("."+q1);e&&this.element.removeChild(e),this.resizersAdded=!1},t.prototype.getResizerElement=function(e){return this.resizerMap[e].element},t.prototype.onResizeStart=function(e,r){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.currentResizer={isTop:!!r.match(/top/i),isRight:!!r.match(/right/i),isBottom:!!r.match(/bottom/i),isLeft:!!r.match(/left/i)},this.element.classList.add("ag-resizing"),this.resizerMap[r].element.classList.add("ag-active");var i=this.config,o=i.popup,a=i.forcePopupParentAsOffsetParent;!o&&!a&&this.applySizeToSiblings(this.currentResizer.isBottom||this.currentResizer.isTop),this.isResizing=!0,this.updateDragStartPosition(e.clientX,e.clientY)},t.prototype.getSiblings=function(){var e=this.element,r=e.parentElement;return r?Array.prototype.slice.call(r.children).filter(function(i){return!i.classList.contains("ag-hidden")}):null},t.prototype.getMinSizeOfSiblings=function(){for(var e=this.getSiblings()||[],r=0,i=0,o=0;o<e.length;o++){var a=e[o],s=!!a.style.flex&&a.style.flex!=="0 0 auto";if(a!==this.element){var l=this.minHeight||0,u=this.minWidth||0;if(s){var c=window.getComputedStyle(a);c.minHeight&&(l=parseInt(c.minHeight,10)),c.minWidth&&(u=parseInt(c.minWidth,10))}else l=a.offsetHeight,u=a.offsetWidth;r+=l,i+=u}}return{height:r,width:i}},t.prototype.applySizeToSiblings=function(e){var r=null,i=this.getSiblings();if(!!i){for(var o=0;o<i.length;o++){var a=i[o];a!==r&&(e?a.style.height=a.offsetHeight+"px":a.style.width=a.offsetWidth+"px",a.style.flex="0 0 auto",a===this.element&&(r=i[o+1]))}r&&(r.style.removeProperty("height"),r.style.removeProperty("min-height"),r.style.removeProperty("max-height"),r.style.flex="1 1 auto")}},t.prototype.onResize=function(e){if(!(!this.isResizing||!this.currentResizer)){var r=this.config,i=r.popup,o=r.forcePopupParentAsOffsetParent,a=this.currentResizer,s=a.isTop,l=a.isRight,u=a.isBottom,c=a.isLeft,p=l||c,h=u||s,d=this.calculateMouseMovement({e,isLeft:c,isTop:s}),f=d.movementX,g=d.movementY,v=this.position.x,m=this.position.y,C=0,b=0;if(p&&f){var w=c?-1:1,S=this.getWidth(),T=S+f*w,E=!1;c&&(C=S-T,(v+C<=0||T<=this.minWidth)&&(E=!0,C=0)),E||this.setWidth(T)}if(h&&g){var w=s?-1:1,P=this.getHeight(),R=P+g*w,M=!1;s?(b=P-R,(m+b<=0||R<=this.minHeight)&&(M=!0,b=0)):!this.config.popup&&!this.config.forcePopupParentAsOffsetParent&&P<R&&this.getMinSizeOfSiblings().height+R>this.element.parentElement.offsetHeight&&(M=!0),M||this.setHeight(R)}this.updateDragStartPosition(e.clientX,e.clientY),((i||o)&&C||b)&&this.offsetElement(v+C,m+b)}},t.prototype.onResizeEnd=function(e,r){this.isResizing=!1,this.currentResizer=null,this.boundaryEl=null;var i={type:"resize",api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi()};this.element.classList.remove("ag-resizing"),this.resizerMap[r].element.classList.remove("ag-active"),this.dispatchEvent(i)},t.prototype.refreshSize=function(){var e=this.element;this.config.popup&&(this.config.width||this.setWidth(e.offsetWidth),this.config.height||this.setHeight(e.offsetHeight))},t.prototype.onMoveStart=function(e){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.isMoving=!0,this.element.classList.add("ag-moving"),this.updateDragStartPosition(e.clientX,e.clientY)},t.prototype.onMove=function(e){if(!!this.isMoving){var r=this.position,i=r.x,o=r.y,a;this.config.calculateTopBuffer&&(a=this.config.calculateTopBuffer());var s=this.calculateMouseMovement({e,isTop:!0,anywhereWithin:!0,topBuffer:a}),l=s.movementX,u=s.movementY;this.offsetElement(i+l,o+u),this.updateDragStartPosition(e.clientX,e.clientY)}},t.prototype.onMoveEnd=function(){this.isMoving=!1,this.boundaryEl=null,this.element.classList.remove("ag-moving")},t.prototype.setOffsetParent=function(){this.config.forcePopupParentAsOffsetParent?this.offsetParent=this.popupService.getPopupParent():this.offsetParent=this.element.offsetParent},t.prototype.findBoundaryElement=function(){for(var e=this.element;e;){if(window.getComputedStyle(e).position!=="static")return e;e=e.parentElement}return this.element},t.prototype.clearResizeListeners=function(){for(;this.resizeListeners.length;){var e=this.resizeListeners.pop();this.dragService.removeDragSource(e)}},t.prototype.destroy=function(){n.prototype.destroy.call(this),this.moveElementDragListener&&this.dragService.removeDragSource(this.moveElementDragListener),this.clearResizeListeners(),this.removeResizers()},BT([y("popupService")],t.prototype,"popupService",void 0),BT([y("dragService")],t.prototype,"dragService",void 0),t}(j);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v27.3.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */var I4=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),xp=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Z1=function(n){I4(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.postConstruct=function(){var e=this;this.ctrlsService.whenReady(function(r){e.centerRowContainerCtrl=r.centerRowContainerCtrl})},t.prototype.getPreferredWidthForColumn=function(e,r){var i=this.getHeaderCellForColumn(e);if(!i)return-1;var o=this.rowRenderer.getAllCellsForColumn(e);return r||o.push(i),this.addElementsToContainerAndGetWidth(o)},t.prototype.getPreferredWidthForColumnGroup=function(e){var r=this.getHeaderCellForColumn(e);return r?this.addElementsToContainerAndGetWidth([r]):-1},t.prototype.addElementsToContainerAndGetWidth=function(e){var r=this,i=document.createElement("span");i.style.position="fixed";var o=this.centerRowContainerCtrl.getContainerElement();o.appendChild(i),e.forEach(function(l){return r.cloneItemIntoDummy(l,i)});var a=i.offsetWidth;o.removeChild(i);var s=this.gridOptionsWrapper.getAutoSizePadding();return a+s},t.prototype.getHeaderCellForColumn=function(e){var r=null;return this.ctrlsService.getHeaderRowContainerCtrls().forEach(function(i){var o=i.getHtmlElementForColumnHeader(e);o!=null&&(r=o)}),r},t.prototype.cloneItemIntoDummy=function(e,r){var i=e.cloneNode(!0);i.style.width="",i.style.position="static",i.style.left="";var o=document.createElement("div"),a=o.classList,s=["ag-header-cell","ag-header-group-cell"].some(function(h){return i.classList.contains(h)});s?(a.add("ag-header","ag-header-row"),o.style.position="static"):a.add("ag-row");for(var l=e.parentElement;l;){var u=["ag-header-row","ag-row"].some(function(h){return l.classList.contains(h)});if(u){for(var c=0;c<l.classList.length;c++){var p=l.classList[c];p!="ag-row-position-absolute"&&a.add(p)}break}l=l.parentElement}o.appendChild(i),r.appendChild(o)},xp([y("rowRenderer")],t.prototype,"rowRenderer",void 0),xp([y("ctrlsService")],t.prototype,"ctrlsService",void 0),xp([y("rowCssClassCalculator")],t.prototype,"rowCssClassCalculator",void 0),xp([H],t.prototype,"postConstruct",null),t=xp([J("autoWidthCalculator")],t),t}(j);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v27.3.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */var L4=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),si=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},N4=globalThis&&globalThis.__read||function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},VT=globalThis&&globalThis.__spread||function(){for(var n=[],t=0;t<arguments.length;t++)n=n.concat(N4(arguments[t]));return n},Q1=function(n){L4(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.destroyFuncsForColumnListeners=[],e.rowCtrlsByRowIndex={},e.zombieRowCtrls={},e.allRowCtrls=[],e.topRowCtrls=[],e.bottomRowCtrls=[],e.refreshInProgress=!1,e}return t.prototype.postConstruct=function(){var e=this;this.ctrlsService.whenReady(function(){e.gridBodyCtrl=e.ctrlsService.getGridBodyCtrl(),e.initialise()})},t.prototype.initialise=function(){this.addManagedListener(this.eventService,x.EVENT_PAGINATION_CHANGED,this.onPageLoaded.bind(this)),this.addManagedListener(this.eventService,x.EVENT_PINNED_ROW_DATA_CHANGED,this.onPinnedRowDataChanged.bind(this)),this.addManagedListener(this.eventService,x.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,x.EVENT_BODY_SCROLL,this.redrawAfterScroll.bind(this)),this.addManagedListener(this.eventService,x.EVENT_BODY_HEIGHT_CHANGED,this.redrawAfterScroll.bind(this)),this.addManagedListener(this.gridOptionsWrapper,pe.PROP_DOM_LAYOUT,this.onDomLayoutChanged.bind(this)),this.addManagedListener(this.gridOptionsWrapper,pe.PROP_ROW_CLASS,this.redrawRows.bind(this)),this.addManagedListener(this.eventService,x.EVENT_NEW_COLUMNS_LOADED,this.onNewColumnsLoaded.bind(this)),this.registerCellEventListeners(),this.initialiseCache(),this.printLayout=this.gridOptionsWrapper.getDomLayout()===L.DOM_LAYOUT_PRINT,this.embedFullWidthRows=this.printLayout||this.gridOptionsWrapper.isEmbedFullWidthRows(),this.redrawAfterModelUpdate()},t.prototype.initialiseCache=function(){if(this.gridOptionsWrapper.isKeepDetailRows()){var e=this.gridOptionsWrapper.getKeepDetailRowsCount(),r=e!=null?e:3;this.cachedRowCtrls=new k4(r)}},t.prototype.getRowCtrls=function(){return this.allRowCtrls},t.prototype.updateAllRowCtrls=function(){var e=Zi(this.rowCtrlsByRowIndex);this.gridOptionsWrapper.isEnsureDomOrder()&&e.sort(function(o,a){return o.getRowNode().rowIndex-a.getRowNode.rowIndex});var r=Zi(this.zombieRowCtrls),i=this.cachedRowCtrls?this.cachedRowCtrls.getEntries():[];this.allRowCtrls=VT(e,r,i)},t.prototype.registerCellEventListeners=function(){var e=this;this.addManagedListener(this.eventService,x.EVENT_CELL_FOCUSED,function(i){e.getAllCellCtrls().forEach(function(o){return o.onCellFocused(i)}),e.getFullWidthRowCtrls().forEach(function(o){o.onFullWidthRowFocused(i)})}),this.addManagedListener(this.eventService,x.EVENT_FLASH_CELLS,function(i){e.getAllCellCtrls().forEach(function(o){return o.onFlashCells(i)})}),this.addManagedListener(this.eventService,x.EVENT_COLUMN_HOVER_CHANGED,function(){e.getAllCellCtrls().forEach(function(i){return i.onColumnHover()})}),this.addManagedListener(this.eventService,x.EVENT_DISPLAYED_COLUMNS_CHANGED,function(){e.getAllCellCtrls().forEach(function(i){return i.onDisplayedColumnsChanged()})}),this.addManagedListener(this.eventService,x.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,function(){e.printLayout&&e.getAllCellCtrls().forEach(function(i){return i.onLeftChanged()})});var r=this.gridOptionsWrapper.isEnableRangeSelection();r&&(this.addManagedListener(this.eventService,x.EVENT_RANGE_SELECTION_CHANGED,function(){e.getAllCellCtrls().forEach(function(i){return i.onRangeSelectionChanged()})}),this.addManagedListener(this.eventService,x.EVENT_COLUMN_MOVED,function(){e.getAllCellCtrls().forEach(function(i){return i.updateRangeBordersIfRangeCount()})}),this.addManagedListener(this.eventService,x.EVENT_COLUMN_PINNED,function(){e.getAllCellCtrls().forEach(function(i){return i.updateRangeBordersIfRangeCount()})}),this.addManagedListener(this.eventService,x.EVENT_COLUMN_VISIBLE,function(){e.getAllCellCtrls().forEach(function(i){return i.updateRangeBordersIfRangeCount()})})),this.refreshListenersToColumnsForCellComps(),this.addManagedListener(this.eventService,x.EVENT_GRID_COLUMNS_CHANGED,this.refreshListenersToColumnsForCellComps.bind(this)),this.addDestroyFunc(this.removeGridColumnListeners.bind(this))},t.prototype.removeGridColumnListeners=function(){this.destroyFuncsForColumnListeners.forEach(function(e){return e()}),this.destroyFuncsForColumnListeners.length=0},t.prototype.refreshListenersToColumnsForCellComps=function(){var e=this;this.removeGridColumnListeners();var r=this.columnModel.getAllGridColumns();!r||r.forEach(function(i){var o=function(c){e.getAllCellCtrls().forEach(function(p){p.getColumn()===i&&c(p)})},a=function(){o(function(c){return c.onLeftChanged()})},s=function(){o(function(c){return c.onWidthChanged()})},l=function(){o(function(c){return c.onFirstRightPinnedChanged()})},u=function(){o(function(c){return c.onLastLeftPinnedChanged()})};i.addEventListener(Se.EVENT_LEFT_CHANGED,a),i.addEventListener(Se.EVENT_WIDTH_CHANGED,s),i.addEventListener(Se.EVENT_FIRST_RIGHT_PINNED_CHANGED,l),i.addEventListener(Se.EVENT_LAST_LEFT_PINNED_CHANGED,u),e.destroyFuncsForColumnListeners.push(function(){i.removeEventListener(Se.EVENT_LEFT_CHANGED,a),i.removeEventListener(Se.EVENT_WIDTH_CHANGED,s),i.removeEventListener(Se.EVENT_FIRST_RIGHT_PINNED_CHANGED,l),i.removeEventListener(Se.EVENT_LAST_LEFT_PINNED_CHANGED,u)})})},t.prototype.onDomLayoutChanged=function(){var e=this.gridOptionsWrapper.getDomLayout()===L.DOM_LAYOUT_PRINT,r=e||this.gridOptionsWrapper.isEmbedFullWidthRows(),i=r!==this.embedFullWidthRows||this.printLayout!==e;this.printLayout=e,this.embedFullWidthRows=r,i&&this.redrawAfterModelUpdate()},t.prototype.datasourceChanged=function(){this.firstRenderedRow=0,this.lastRenderedRow=-1;var e=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(e)},t.prototype.onPageLoaded=function(e){var r={recycleRows:e.keepRenderedRows,animate:e.animate,newData:e.newData,newPage:e.newPage,onlyBody:!0};this.redrawAfterModelUpdate(r)},t.prototype.getAllCellsForColumn=function(e){var r=[];return this.getAllRowCtrls().forEach(function(i){var o=i.getCellElement(e);o&&r.push(o)}),r},t.prototype.refreshFloatingRowComps=function(){this.refreshFloatingRows(this.topRowCtrls,this.pinnedRowModel.getPinnedTopRowData()),this.refreshFloatingRows(this.bottomRowCtrls,this.pinnedRowModel.getPinnedBottomRowData())},t.prototype.getTopRowCtrls=function(){return this.topRowCtrls},t.prototype.getBottomRowCtrls=function(){return this.bottomRowCtrls},t.prototype.refreshFloatingRows=function(e,r){var i=this;e.forEach(function(o){o.destroyFirstPass(),o.destroySecondPass()}),e.length=0,r&&r.forEach(function(o){var a=new Rs(o,i.beans,!1,!1,i.printLayout);e.push(a)})},t.prototype.onPinnedRowDataChanged=function(){var e={recycleRows:!0};this.redrawAfterModelUpdate(e)},t.prototype.getRenderedIndexesForRowNodes=function(e){var r=[];return ye(e)||ut(this.rowCtrlsByRowIndex,function(i,o){var a=o.getRowNode();e.indexOf(a)>=0&&r.push(i)}),r},t.prototype.redrawRows=function(e){var r=e!=null&&e.length>0;if(r){var i=this.getRenderedIndexesForRowNodes(e);this.removeRowCtrls(i)}this.redrawAfterModelUpdate({recycleRows:r})},t.prototype.getCellToRestoreFocusToAfterRefresh=function(e){var r=e.suppressKeepFocus?null:this.focusService.getFocusCellToUseAfterRefresh();if(r==null)return null;var i=this.gridOptionsWrapper.getDocument(),o=i.activeElement,a=this.gridOptionsWrapper.getDomData(o,Es.DOM_DATA_KEY_CELL_CTRL),s=this.gridOptionsWrapper.getDomData(o,Rs.DOM_DATA_KEY_ROW_CTRL),l=a||s;return l?r:null},t.prototype.redrawAfterModelUpdate=function(e){e===void 0&&(e={}),this.getLockOnRefresh();var r=this.getCellToRestoreFocusToAfterRefresh(e);this.updateContainerHeights(),this.scrollToTopIfNewData(e);var i=!this.printLayout&&!!e.recycleRows,o=e.animate&&this.gridOptionsWrapper.isAnimateRows(),a=i?this.recycleRows():null;i||this.removeAllRowComps();var s=function(){if(r==null||a==null)return!1;var u=!1;return ut(a,function(c,p){var h=p.getRowNode(),d=h.rowIndex==r.rowIndex,f=h.rowPinned==r.rowPinned;d&&f&&(u=!0)}),u},l=s();this.redraw(a,o),e.onlyBody||this.refreshFloatingRowComps(),this.dispatchDisplayedRowsChanged(),l||this.restoreFocusedCell(r),this.releaseLockOnRefresh()},t.prototype.scrollToTopIfNewData=function(e){var r=e.newData||e.newPage,i=this.gridOptionsWrapper.isSuppressScrollOnNewData();r&&!i&&this.gridBodyCtrl.getScrollFeature().scrollToTop()},t.prototype.updateContainerHeights=function(){if(this.printLayout){this.rowContainerHeightService.setModelHeight(null);return}var e=this.paginationProxy.getCurrentPageHeight();e===0&&(e=1),this.rowContainerHeightService.setModelHeight(e)},t.prototype.getLockOnRefresh=function(){if(this.refreshInProgress)throw new Error("AG Grid: cannot get grid to draw rows when it is in the middle of drawing rows. Your code probably called a grid API method while the grid was in the render stage. To overcome this, put the API call into a timeout, e.g. instead of api.redrawRows(), call setTimeout(function() { api.redrawRows(); }, 0). To see what part of your code that caused the refresh check this stacktrace.");this.refreshInProgress=!0},t.prototype.releaseLockOnRefresh=function(){this.refreshInProgress=!1},t.prototype.isRefreshInProgress=function(){return this.refreshInProgress},t.prototype.restoreFocusedCell=function(e){e&&this.focusService.setFocusedCell(e.rowIndex,e.column,e.rowPinned,!0)},t.prototype.stopEditing=function(e){e===void 0&&(e=!1),this.getAllRowCtrls().forEach(function(r){r.stopEditing(e)})},t.prototype.onNewColumnsLoaded=function(){this.getAllCellCtrls().forEach(function(e){return e.onNewColumnsLoaded()})},t.prototype.getAllCellCtrls=function(){var e=[];return this.getAllRowCtrls().forEach(function(r){return e=e.concat(r.getAllCellCtrls())}),e},t.prototype.getAllRowCtrls=function(){var e=this,r=VT(this.topRowCtrls,this.bottomRowCtrls);return Object.keys(this.rowCtrlsByRowIndex).forEach(function(i){return r.push(e.rowCtrlsByRowIndex[i])}),r},t.prototype.addRenderedRowListener=function(e,r,i){var o=this.rowCtrlsByRowIndex[r];o&&o.addEventListener(e,i)},t.prototype.flashCells=function(e){e===void 0&&(e={});var r=e.flashDelay,i=e.fadeDelay;this.getCellCtrls(e.rowNodes,e.columns).forEach(function(o){return o.flashCell({flashDelay:r,fadeDelay:i})})},t.prototype.refreshCells=function(e){e===void 0&&(e={});var r={forceRefresh:e.force,newData:!1,suppressFlash:e.suppressFlash};this.getCellCtrls(e.rowNodes,e.columns).forEach(function(i){if(i.refreshShouldDestroy()){var o=i.getRowCtrl();o&&o.refreshCell(i)}else i.refreshCell(r)}),this.getFullWidthRowCtrls(e.rowNodes).forEach(function(i){i.refreshFullWidth()})},t.prototype.getCellRendererInstances=function(e){var r=this.getCellCtrls(e.rowNodes,e.columns).map(function(i){return i.getCellRenderer()}).filter(function(i){return i!=null});return r},t.prototype.getCellEditorInstances=function(e){var r=[];return this.getCellCtrls(e.rowNodes,e.columns).forEach(function(i){var o=i.getCellEditor();o&&r.push(o)}),r},t.prototype.getEditingCells=function(){var e=[];return this.getAllCellCtrls().forEach(function(r){if(r.isEditing()){var i=r.getCellPosition();e.push(i)}}),e},t.prototype.mapRowNodes=function(e){if(!!e){var r={top:{},bottom:{},normal:{}};return e.forEach(function(i){var o=i.id;i.rowPinned===L.PINNED_TOP?r.top[o]=i:i.rowPinned===L.PINNED_BOTTOM?r.bottom[o]=i:r.normal[o]=i}),r}},t.prototype.isRowInMap=function(e,r){var i=e.id,o=e.rowPinned;return o===L.PINNED_BOTTOM?r.bottom[i]!=null:o===L.PINNED_TOP?r.top[i]!=null:r.normal[i]!=null},t.prototype.getCellCtrls=function(e,r){var i=this,o=this.mapRowNodes(e),a=[],s;Z(r)&&(s={},r.forEach(function(u){var c=i.columnModel.getGridColumn(u);Z(c)&&(s[c.getId()]=!0)}));var l=function(u){var c=u.getRowNode();o!=null&&!i.isRowInMap(c,o)||u.getAllCellCtrls().forEach(function(p){var h=p.getColumn().getId(),d=s&&!s[h];d||a.push(p)})};return ut(this.rowCtrlsByRowIndex,function(u,c){l(c)}),this.topRowCtrls&&this.topRowCtrls.forEach(l),this.bottomRowCtrls&&this.bottomRowCtrls.forEach(l),a},t.prototype.destroy=function(){this.removeAllRowComps(),n.prototype.destroy.call(this)},t.prototype.removeAllRowComps=function(){var e=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(e)},t.prototype.recycleRows=function(){var e=[];ut(this.rowCtrlsByRowIndex,function(i,o){var a=o.getRowNode().id==null;a&&e.push(i)}),this.removeRowCtrls(e);var r={};return ut(this.rowCtrlsByRowIndex,function(i,o){var a=o.getRowNode();r[a.id]=o}),this.rowCtrlsByRowIndex={},r},t.prototype.removeRowCtrls=function(e){var r=this;e.forEach(function(i){var o=r.rowCtrlsByRowIndex[i];o&&(o.destroyFirstPass(),o.destroySecondPass()),delete r.rowCtrlsByRowIndex[i]})},t.prototype.redrawAfterScroll=function(){this.getLockOnRefresh(),this.redraw(null,!1,!0),this.releaseLockOnRefresh(),this.dispatchDisplayedRowsChanged()},t.prototype.removeRowCompsNotToDraw=function(e){var r={};e.forEach(function(a){return r[a]=!0});var i=Object.keys(this.rowCtrlsByRowIndex),o=i.filter(function(a){return!r[a]});this.removeRowCtrls(o)},t.prototype.calculateIndexesToDraw=function(e){var r=this,i=$M(this.firstRenderedRow,this.lastRenderedRow),o=function(a,s){var l=s.getRowNode().rowIndex;l!=null&&(l<r.firstRenderedRow||l>r.lastRenderedRow)&&r.doNotUnVirtualiseRow(s)&&i.push(l)};return ut(this.rowCtrlsByRowIndex,o),ut(e,o),i.sort(function(a,s){return a-s}),i},t.prototype.redraw=function(e,r,i){var o=this;r===void 0&&(r=!1),i===void 0&&(i=!1),this.rowContainerHeightService.updateOffset(),this.workOutFirstAndLastRowsToRender();var a=this.calculateIndexesToDraw(e);if(this.removeRowCompsNotToDraw(a),this.printLayout&&(r=!1),a.forEach(function(l){var u=o.createOrUpdateRowCtrl(l,e,r,i);Z(u)}),e){var s=i&&!this.gridOptionsWrapper.isSuppressAnimationFrame()&&!this.printLayout;s?this.beans.animationFrameService.addDestroyTask(function(){o.destroyRowCtrls(e,r),o.updateAllRowCtrls(),o.dispatchDisplayedRowsChanged()}):this.destroyRowCtrls(e,r)}this.updateAllRowCtrls(),this.gridBodyCtrl.updateRowCount()},t.prototype.dispatchDisplayedRowsChanged=function(){var e={type:x.EVENT_DISPLAYED_ROWS_CHANGED};this.eventService.dispatchEvent(e)},t.prototype.onDisplayedColumnsChanged=function(){var e=this.columnModel.isPinningLeft(),r=this.columnModel.isPinningRight(),i=this.pinningLeft!==e||r!==this.pinningRight;i&&(this.pinningLeft=e,this.pinningRight=r,this.embedFullWidthRows&&this.redrawFullWidthEmbeddedRows())},t.prototype.redrawFullWidthEmbeddedRows=function(){var e=[];this.getFullWidthRowCtrls().forEach(function(r){var i=r.getRowNode().rowIndex;e.push(i.toString())}),this.refreshFloatingRowComps(),this.removeRowCtrls(e),this.redrawAfterScroll()},t.prototype.getFullWidthRowCtrls=function(e){var r=this,i=this.mapRowNodes(e);return Zi(this.rowCtrlsByRowIndex).filter(function(o){if(!o.isFullWidth())return!1;var a=o.getRowNode();return!(i!=null&&!r.isRowInMap(a,i))})},t.prototype.refreshFullWidthRows=function(e){var r=[],i=!!e,o=i?{}:void 0;i&&o&&e.forEach(function(a){return o[a.id]=!0}),this.getFullWidthRowCtrls().forEach(function(a){var s=a.getRowNode();if(i&&o){var l=s.level>0&&s.parent?s.parent.id:void 0,u=!o[s.id]&&!o[l];if(u)return}var c=a.refreshFullWidth();if(!c){var p=a.getRowNode().rowIndex;r.push(p.toString())}}),this.removeRowCtrls(r),this.redrawAfterScroll()},t.prototype.createOrUpdateRowCtrl=function(e,r,i,o){var a,s=this.rowCtrlsByRowIndex[e];s||(a=this.paginationProxy.getRow(e),Z(a)&&Z(r)&&r[a.id]&&a.alreadyRendered&&(s=r[a.id],r[a.id]=null));var l=!s;if(l)if(a||(a=this.paginationProxy.getRow(e)),Z(a))s=this.createRowCon(a,i,o);else return;return a&&(a.alreadyRendered=!0),this.rowCtrlsByRowIndex[e]=s,s},t.prototype.destroyRowCtrls=function(e,r){var i=this,o=[];ut(e,function(a,s){if(!!s){if(i.cachedRowCtrls&&s.isCacheable()){i.cachedRowCtrls.addRow(s);return}s.destroyFirstPass(),r?(i.zombieRowCtrls[s.getInstanceId()]=s,o.push(function(){s.destroySecondPass(),delete i.zombieRowCtrls[s.getInstanceId()]})):s.destroySecondPass()}}),r&&(o.push(function(){i.updateAllRowCtrls(),i.dispatchDisplayedRowsChanged()}),JD(o))},t.prototype.workOutFirstAndLastRowsToRender=function(){var e=this,r,i;if(!this.paginationProxy.isRowsToRender())r=0,i=-1;else if(this.printLayout)r=this.paginationProxy.getPageFirstRow(),i=this.paginationProxy.getPageLastRow();else{var o=this.gridOptionsWrapper.getRowBufferInPixels(),a=this.ctrlsService.getGridBodyCtrl(),s=this.gridOptionsWrapper.isSuppressRowVirtualisation(),l=!1,u=void 0,c=void 0;do{var p=this.paginationProxy.getPixelOffset(),h=this.paginationProxy.getCurrentPagePixelRange(),d=h.pageFirstPixel,f=h.pageLastPixel,g=this.rowContainerHeightService.getDivStretchOffset();if(s)u=d+g,c=f+g;else{var v=a.getScrollFeature().getVScrollPosition(),m=v.top,C=v.bottom;u=Math.max(m+p-o,d)+g,c=Math.min(C+p+o,f)+g}l=this.ensureAllRowsInRangeHaveHeightsCalculated(u,c)}while(l);var b=this.paginationProxy.getRowIndexAtPixel(u),w=this.paginationProxy.getRowIndexAtPixel(c),S=this.paginationProxy.getPageFirstRow(),T=this.paginationProxy.getPageLastRow();b<S&&(b=S),w>T&&(w=T),r=b,i=w}var E=this.gridOptionsWrapper.getDomLayout()===L.DOM_LAYOUT_NORMAL,P=this.gridOptionsWrapper.isSuppressMaxRenderedRowRestriction(),R=Math.max(this.gridOptionsWrapper.getRowBuffer(),500);E&&!P&&i-r>R&&(i=r+R);var M=r!==this.firstRenderedRow,N=i!==this.lastRenderedRow;if(M||N){this.firstRenderedRow=r,this.lastRenderedRow=i;var B={type:x.EVENT_VIEWPORT_CHANGED,firstRow:r,lastRow:i,api:this.gridApi,columnApi:this.columnApi};this.eventService.dispatchEvent(B)}if(this.paginationProxy.isRowsToRender()){var k={type:x.EVENT_FIRST_DATA_RENDERED,firstRow:r,lastRow:i,api:this.gridApi,columnApi:this.columnApi};window.setTimeout(function(){return e.eventService.dispatchEventOnce(k)},50)}},t.prototype.ensureAllRowsInRangeHaveHeightsCalculated=function(e,r){var i=this.paginationProxy.ensureRowHeightsValid(e,r,-1,-1);return i&&this.updateContainerHeights(),i},t.prototype.getFirstVirtualRenderedRow=function(){return this.firstRenderedRow},t.prototype.getLastVirtualRenderedRow=function(){return this.lastRenderedRow},t.prototype.doNotUnVirtualiseRow=function(e){var r=!1,i=!0,o=e.getRowNode(),a=this.focusService.isRowNodeFocused(o),s=e.isEditing(),l=o.detail,u=a||s||l;if(!u)return r;var c=this.paginationProxy.isRowPresent(o);return c?i:r},t.prototype.createRowCon=function(e,r,i){var o=this.cachedRowCtrls?this.cachedRowCtrls.getRow(e):null;if(o)return o;var a=this.gridOptionsWrapper.isSuppressAnimationFrame(),s=i&&!a&&!this.printLayout,l=new Rs(e,this.beans,r,s,this.printLayout);return l},t.prototype.getRenderedNodes=function(){var e=this.rowCtrlsByRowIndex;return Object.keys(e).map(function(r){return e[r].getRowNode()})},t.prototype.getRowByPosition=function(e){var r;switch(e.rowPinned){case L.PINNED_TOP:r=this.topRowCtrls[e.rowIndex];break;case L.PINNED_BOTTOM:r=this.bottomRowCtrls[e.rowIndex];break;default:r=this.rowCtrlsByRowIndex[e.rowIndex];break}return r},t.prototype.getRowNode=function(e){switch(e.rowPinned){case L.PINNED_TOP:return this.pinnedRowModel.getPinnedTopRowData()[e.rowIndex];case L.PINNED_BOTTOM:return this.pinnedRowModel.getPinnedBottomRowData()[e.rowIndex];default:return this.rowModel.getRow(e.rowIndex)}},t.prototype.isRangeInRenderedViewport=function(e,r){var i=e==null||r==null;if(i)return!1;var o=e>this.lastRenderedRow,a=r<this.firstRenderedRow,s=!a&&!o;return s},si([y("paginationProxy")],t.prototype,"paginationProxy",void 0),si([y("columnModel")],t.prototype,"columnModel",void 0),si([y("pinnedRowModel")],t.prototype,"pinnedRowModel",void 0),si([y("rowModel")],t.prototype,"rowModel",void 0),si([y("focusService")],t.prototype,"focusService",void 0),si([y("columnApi")],t.prototype,"columnApi",void 0),si([y("gridApi")],t.prototype,"gridApi",void 0),si([y("beans")],t.prototype,"beans",void 0),si([y("rowContainerHeightService")],t.prototype,"rowContainerHeightService",void 0),si([Fe("ctrlsService")],t.prototype,"ctrlsService",void 0),si([H],t.prototype,"postConstruct",null),t=si([J("rowRenderer")],t),t}(j),k4=function(){function n(t){this.entriesMap={},this.entriesList=[],this.maxCount=t}return n.prototype.addRow=function(t){if(this.entriesMap[t.getRowNode().id]=t,this.entriesList.push(t),t.setCached(!0),this.entriesList.length>this.maxCount){var e=this.entriesList[0];e.destroyFirstPass(),e.destroySecondPass(),this.removeFromCache(e)}},n.prototype.getRow=function(t){if(t==null||t.id==null)return null;var e=this.entriesMap[t.id];if(!e)return null;this.removeFromCache(e),e.setCached(!1);var r=e.getRowNode()!=t;return r?null:e},n.prototype.removeFromCache=function(t){var e=t.getRowNode().id;delete this.entriesMap[e],$r(this.entriesList,t)},n.prototype.getEntries=function(){return this.entriesList},n}();/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v27.3.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */var G4=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),WT=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},J1=function(n){G4(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.formatValue=function(e,r,i,o,a){a===void 0&&(a=!0);var s=null,l,u=e.getColDef();if(o?l=o:a&&(l=r&&r.rowPinned&&u.pinnedRowValueFormatter?u.pinnedRowValueFormatter:u.valueFormatter),l){var c={value:i,node:r,data:r?r.data:null,colDef:u,column:e,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()};s=this.expressionService.evaluate(l,c)}else if(u.refData)return u.refData[i]||"";return s==null&&Array.isArray(i)&&(s=i.join(", ")),s},WT([y("expressionService")],t.prototype,"expressionService",void 0),t=WT([J("valueFormatterService")],t),t}(j);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v27.3.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */var B4=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Tp=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},eF=function(n){B4(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.init=function(){this.setPinnedTopRowData(this.gridOptionsWrapper.getPinnedTopRowData()),this.setPinnedBottomRowData(this.gridOptionsWrapper.getPinnedBottomRowData())},t.prototype.isEmpty=function(e){var r=e===L.PINNED_TOP?this.pinnedTopRows:this.pinnedBottomRows;return Jn(r)},t.prototype.isRowsToRender=function(e){return!this.isEmpty(e)},t.prototype.getRowAtPixel=function(e,r){var i=r===L.PINNED_TOP?this.pinnedTopRows:this.pinnedBottomRows;if(Jn(i))return 0;for(var o=0;o<i.length;o++){var a=i[o],s=a.rowTop+a.rowHeight-1;if(s>=e)return o}return i.length-1},t.prototype.setPinnedTopRowData=function(e){this.pinnedTopRows=this.createNodesFromData(e,!0);var r={type:x.EVENT_PINNED_ROW_DATA_CHANGED,api:this.gridApi,columnApi:this.columnApi};this.eventService.dispatchEvent(r)},t.prototype.setPinnedBottomRowData=function(e){this.pinnedBottomRows=this.createNodesFromData(e,!1);var r={type:x.EVENT_PINNED_ROW_DATA_CHANGED,api:this.gridApi,columnApi:this.columnApi};this.eventService.dispatchEvent(r)},t.prototype.createNodesFromData=function(e,r){var i=this,o=[];if(e){var a=0;e.forEach(function(s,l){var u=new Ee(i.beans);u.data=s;var c=r?Ee.ID_PREFIX_TOP_PINNED:Ee.ID_PREFIX_BOTTOM_PINNED;u.id=c+l,u.rowPinned=r?L.PINNED_TOP:L.PINNED_BOTTOM,u.setRowTop(a),u.setRowHeight(i.gridOptionsWrapper.getRowHeightForNode(u).height),u.setRowIndex(l),a+=u.rowHeight,o.push(u)})}return o},t.prototype.getPinnedTopRowData=function(){return this.pinnedTopRows},t.prototype.getPinnedBottomRowData=function(){return this.pinnedBottomRows},t.prototype.getPinnedTopTotalHeight=function(){return this.getTotalHeight(this.pinnedTopRows)},t.prototype.getPinnedTopRowCount=function(){return this.pinnedTopRows?this.pinnedTopRows.length:0},t.prototype.getPinnedBottomRowCount=function(){return this.pinnedBottomRows?this.pinnedBottomRows.length:0},t.prototype.getPinnedTopRow=function(e){return this.pinnedTopRows[e]},t.prototype.getPinnedBottomRow=function(e){return this.pinnedBottomRows[e]},t.prototype.forEachPinnedTopRow=function(e){Jn(this.pinnedTopRows)||this.pinnedTopRows.forEach(e)},t.prototype.forEachPinnedBottomRow=function(e){Jn(this.pinnedBottomRows)||this.pinnedBottomRows.forEach(e)},t.prototype.getPinnedBottomTotalHeight=function(){return this.getTotalHeight(this.pinnedBottomRows)},t.prototype.getTotalHeight=function(e){if(!e||e.length===0)return 0;var r=wt(e);return r.rowTop+r.rowHeight},Tp([y("columnApi")],t.prototype,"columnApi",void 0),Tp([y("gridApi")],t.prototype,"gridApi",void 0),Tp([y("beans")],t.prototype,"beans",void 0),Tp([H],t.prototype,"init",null),t=Tp([J("pinnedRowModel")],t),t}(j);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v27.3.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */var ei;(function(n){n.Applied="Applied",n.StoreNotFound="StoreNotFound",n.StoreLoading="StoreLoading",n.StoreWaitingToLoad="StoreWaitingToLoad",n.StoreLoadingFailed="StoreLoadingFailed",n.StoreWrongType="StoreWrongType",n.Cancelled="Cancelled"})(ei||(ei={}));/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v27.3.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */var yd=function(){function n(t,e){this.active=!0,this.nodeIdsToColumns={},this.mapToItems={},this.keepingColumns=t,this.pathRoot={rowNode:e,children:null},this.mapToItems[e.id]=this.pathRoot}return n.prototype.setInactive=function(){this.active=!1},n.prototype.isActive=function(){return this.active},n.prototype.depthFirstSearchChangedPath=function(t,e){if(t.children)for(var r=0;r<t.children.length;r++)this.depthFirstSearchChangedPath(t.children[r],e);e(t.rowNode)},n.prototype.depthFirstSearchEverything=function(t,e,r){if(t.childrenAfterGroup)for(var i=0;i<t.childrenAfterGroup.length;i++){var o=t.childrenAfterGroup[i];o.childrenAfterGroup?this.depthFirstSearchEverything(t.childrenAfterGroup[i],e,r):r&&e(o)}e(t)},n.prototype.forEachChangedNodeDepthFirst=function(t,e){e===void 0&&(e=!1),this.active?this.depthFirstSearchChangedPath(this.pathRoot,t):this.depthFirstSearchEverything(this.pathRoot.rowNode,t,e)},n.prototype.executeFromRootNode=function(t){t(this.pathRoot.rowNode)},n.prototype.createPathItems=function(t){for(var e=t,r=0;!this.mapToItems[e.id];){var i={rowNode:e,children:null};this.mapToItems[e.id]=i,r++,e=e.parent}return r},n.prototype.populateColumnsMap=function(t,e){var r=this;if(!(!this.keepingColumns||!e))for(var i=t;i;)this.nodeIdsToColumns[i.id]||(this.nodeIdsToColumns[i.id]={}),e.forEach(function(o){return r.nodeIdsToColumns[i.id][o.getId()]=!0}),i=i.parent},n.prototype.linkPathItems=function(t,e){for(var r=t,i=0;i<e;i++){var o=this.mapToItems[r.id],a=this.mapToItems[r.parent.id];a.children||(a.children=[]),a.children.push(o),r=r.parent}},n.prototype.addParentNode=function(t,e){if(!(!t||t.isRowPinned())){var r=this.createPathItems(t);this.linkPathItems(t,r),this.populateColumnsMap(t,e)}},n.prototype.canSkip=function(t){return this.active&&!this.mapToItems[t.id]},n.prototype.getValueColumnsForNode=function(t,e){if(!this.keepingColumns)return e;var r=this.nodeIdsToColumns[t.id],i=e.filter(function(o){return r[o.getId()]});return i},n.prototype.getNotValueColumnsForNode=function(t,e){if(!this.keepingColumns)return null;var r=this.nodeIdsToColumns[t.id],i=e.filter(function(o){return!r[o.getId()]});return i},n}();/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v27.3.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */var V4=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),On=function(n){V4(t,n);function t(e){var r=n.call(this)||this;return r.state=t.STATE_WAITING_TO_LOAD,r.version=0,r.id=e,r}return t.prototype.getId=function(){return this.id},t.prototype.load=function(){this.state=t.STATE_LOADING,this.loadFromDatasource()},t.prototype.getVersion=function(){return this.version},t.prototype.setStateWaitingToLoad=function(){this.version++,this.state=t.STATE_WAITING_TO_LOAD},t.prototype.getState=function(){return this.state},t.prototype.pageLoadFailed=function(e){var r=this.isRequestMostRecentAndLive(e);r&&(this.state=t.STATE_FAILED,this.processServerFail()),this.dispatchLoadCompleted(!1)},t.prototype.success=function(e,r){this.successCommon(e,r)},t.prototype.pageLoaded=function(e,r,i){this.successCommon(e,{rowData:r,rowCount:i})},t.prototype.isRequestMostRecentAndLive=function(e){var r=e===this.version,i=this.isAlive();return r&&i},t.prototype.successCommon=function(e,r){this.dispatchLoadCompleted();var i=this.isRequestMostRecentAndLive(e);i&&(this.state=t.STATE_LOADED,this.processServerResult(r))},t.prototype.dispatchLoadCompleted=function(e){e===void 0&&(e=!0);var r={type:t.EVENT_LOAD_COMPLETE,success:e,block:this};this.dispatchEvent(r)},t.EVENT_LOAD_COMPLETE="loadComplete",t.STATE_WAITING_TO_LOAD="needsLoading",t.STATE_LOADING="loading",t.STATE_LOADED="loaded",t.STATE_FAILED="failed",t}(j);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v27.3.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */var W4=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),$y=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},H4=globalThis&&globalThis.__param||function(n,t){return function(e,r){t(e,r,n)}},tF=function(n){W4(t,n);function t(){var r=n!==null&&n.apply(this,arguments)||this;return r.activeBlockLoadsCount=0,r.blocks=[],r.active=!0,r}e=t,t.prototype.postConstruct=function(){this.maxConcurrentRequests=this.gridOptionsWrapper.getMaxConcurrentDatasourceRequests();var r=this.gridOptionsWrapper.getBlockLoadDebounceMillis();r&&r>0&&(this.checkBlockToLoadDebounce=_.debounce(this.performCheckBlocksToLoad.bind(this),r))},t.prototype.setBeans=function(r){this.logger=r.create("RowNodeBlockLoader")},t.prototype.addBlock=function(r){this.blocks.push(r),r.addEventListener(On.EVENT_LOAD_COMPLETE,this.loadComplete.bind(this)),this.checkBlockToLoad()},t.prototype.removeBlock=function(r){_.removeFromArray(this.blocks,r)},t.prototype.destroy=function(){n.prototype.destroy.call(this),this.active=!1},t.prototype.loadComplete=function(){this.activeBlockLoadsCount--,this.checkBlockToLoad(),this.activeBlockLoadsCount==0&&this.dispatchEvent({type:e.BLOCK_LOADER_FINISHED_EVENT})},t.prototype.checkBlockToLoad=function(){this.checkBlockToLoadDebounce?this.checkBlockToLoadDebounce():this.performCheckBlocksToLoad()},t.prototype.performCheckBlocksToLoad=function(){if(!!this.active){if(this.printCacheStatus(),this.maxConcurrentRequests!=null&&this.activeBlockLoadsCount>=this.maxConcurrentRequests){this.logger.log("checkBlockToLoad: max loads exceeded");return}var r=null;this.blocks.forEach(function(i){i.getState()===On.STATE_WAITING_TO_LOAD&&(r=i)}),r&&(r.load(),this.activeBlockLoadsCount++,this.printCacheStatus())}},t.prototype.getBlockState=function(){var r={};return this.blocks.forEach(function(i){var o=i.getBlockStateJson(),a=o.id,s=o.state;r[a]=s}),r},t.prototype.printCacheStatus=function(){this.logger.isLogging()&&this.logger.log("printCacheStatus: activePageLoadsCount = "+this.activeBlockLoadsCount+","+(" blocks = "+JSON.stringify(this.getBlockState())))},t.prototype.isLoading=function(){return this.activeBlockLoadsCount>0};var e;return t.BLOCK_LOADER_FINISHED_EVENT="blockLoaderFinished",$y([H],t.prototype,"postConstruct",null),$y([H4(0,xr("loggerFactory"))],t.prototype,"setBeans",null),t=e=$y([J("rowNodeBlockLoader")],t),t}(j);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v27.3.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */var j4=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Op=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},rF=function(n){j4(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.currentPage=0,e.topDisplayedRowIndex=0,e.bottomDisplayedRowIndex=0,e.pixelOffset=0,e.masterRowCount=0,e}return t.prototype.postConstruct=function(){this.active=this.gridOptionsWrapper.isPagination(),this.paginateChildRows=this.gridOptionsWrapper.isPaginateChildRows(),this.addManagedListener(this.eventService,x.EVENT_MODEL_UPDATED,this.onModelUpdated.bind(this)),this.addManagedListener(this.gridOptionsWrapper,"paginationPageSize",this.onPaginationPageSizeChanged.bind(this)),this.onModelUpdated()},t.prototype.ensureRowHeightsValid=function(e,r,i,o){var a=this.rowModel.ensureRowHeightsValid(e,r,this.getPageFirstRow(),this.getPageLastRow());return a&&this.calculatePages(),a},t.prototype.onModelUpdated=function(e){this.calculatePages();var r={type:x.EVENT_PAGINATION_CHANGED,animate:e?e.animate:!1,newData:e?e.newData:!1,newPage:e?e.newPage:!1,keepRenderedRows:e?e.keepRenderedRows:!1,api:this.gridApi,columnApi:this.columnApi};this.eventService.dispatchEvent(r)},t.prototype.onPaginationPageSizeChanged=function(){this.calculatePages();var e={type:x.EVENT_PAGINATION_CHANGED,animate:!1,newData:!1,newPage:!1,keepRenderedRows:!0,api:this.gridApi,columnApi:this.columnApi};this.eventService.dispatchEvent(e)},t.prototype.goToPage=function(e){if(!(!this.active||this.currentPage===e)){this.currentPage=e;var r={type:x.EVENT_MODEL_UPDATED,animate:!1,keepRenderedRows:!1,newData:!1,newPage:!0,api:this.gridApi,columnApi:this.columnApi};this.onModelUpdated(r)}},t.prototype.getPixelOffset=function(){return this.pixelOffset},t.prototype.getRow=function(e){return this.rowModel.getRow(e)},t.prototype.getRowNode=function(e){return this.rowModel.getRowNode(e)},t.prototype.getRowIndexAtPixel=function(e){return this.rowModel.getRowIndexAtPixel(e)},t.prototype.getCurrentPageHeight=function(){return ye(this.topRowBounds)||ye(this.bottomRowBounds)?0:Math.max(this.bottomRowBounds.rowTop+this.bottomRowBounds.rowHeight-this.topRowBounds.rowTop,0)},t.prototype.getCurrentPagePixelRange=function(){var e=this.topRowBounds?this.topRowBounds.rowTop:0,r=this.bottomRowBounds?this.bottomRowBounds.rowTop+this.bottomRowBounds.rowHeight:0;return{pageFirstPixel:e,pageLastPixel:r}},t.prototype.isRowPresent=function(e){if(!this.rowModel.isRowPresent(e))return!1;var r=e.rowIndex>=this.topDisplayedRowIndex&&e.rowIndex<=this.bottomDisplayedRowIndex;return r},t.prototype.isEmpty=function(){return this.rowModel.isEmpty()},t.prototype.isRowsToRender=function(){return this.rowModel.isRowsToRender()},t.prototype.getNodesInRangeForSelection=function(e,r){return this.rowModel.getNodesInRangeForSelection(e,r)},t.prototype.forEachNode=function(e){return this.rowModel.forEachNode(e)},t.prototype.getType=function(){return this.rowModel.getType()},t.prototype.getRowBounds=function(e){var r=this.rowModel.getRowBounds(e);return r.rowIndex=e,r},t.prototype.getPageFirstRow=function(){return this.topRowBounds?this.topRowBounds.rowIndex:-1},t.prototype.getPageLastRow=function(){return this.bottomRowBounds?this.bottomRowBounds.rowIndex:-1},t.prototype.getRowCount=function(){return this.rowModel.getRowCount()},t.prototype.getPageForIndex=function(e){return Math.floor(e/this.pageSize)},t.prototype.goToPageWithIndex=function(e){if(!!this.active){var r=this.getPageForIndex(e);this.goToPage(r)}},t.prototype.isRowInPage=function(e){if(!this.active)return!0;var r=this.getPageForIndex(e.rowIndex);return r===this.currentPage},t.prototype.isLastPageFound=function(){return this.rowModel.isLastRowIndexKnown()},t.prototype.getCurrentPage=function(){return this.currentPage},t.prototype.goToNextPage=function(){this.goToPage(this.currentPage+1)},t.prototype.goToPreviousPage=function(){this.goToPage(this.currentPage-1)},t.prototype.goToFirstPage=function(){this.goToPage(0)},t.prototype.goToLastPage=function(){var e=this.rowModel.getRowCount(),r=Math.floor(e/this.pageSize);this.goToPage(r)},t.prototype.getPageSize=function(){return this.pageSize},t.prototype.getTotalPages=function(){return this.totalPages},t.prototype.setPageSize=function(){this.pageSize=this.gridOptionsWrapper.getPaginationPageSize(),(this.pageSize==null||this.pageSize<1)&&(this.pageSize=100)},t.prototype.calculatePages=function(){this.active?(this.setPageSize(),this.paginateChildRows?this.calculatePagesAllRows():this.calculatePagesMasterRowsOnly()):this.calculatedPagesNotActive(),this.topRowBounds=this.rowModel.getRowBounds(this.topDisplayedRowIndex),this.topRowBounds&&(this.topRowBounds.rowIndex=this.topDisplayedRowIndex),this.bottomRowBounds=this.rowModel.getRowBounds(this.bottomDisplayedRowIndex),this.bottomRowBounds&&(this.bottomRowBounds.rowIndex=this.bottomDisplayedRowIndex),this.setPixelOffset(Z(this.topRowBounds)?this.topRowBounds.rowTop:0)},t.prototype.setPixelOffset=function(e){this.pixelOffset!==e&&(this.pixelOffset=e,this.eventService.dispatchEvent({type:x.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED}))},t.prototype.setZeroRows=function(){this.masterRowCount=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=-1,this.currentPage=0,this.totalPages=0},t.prototype.calculatePagesMasterRowsOnly=function(){if(this.masterRowCount=this.rowModel.getTopLevelRowCount(),this.masterRowCount<=0){this.setZeroRows();return}var e=this.masterRowCount-1;this.totalPages=Math.floor(e/this.pageSize)+1,this.currentPage>=this.totalPages&&(this.currentPage=this.totalPages-1),(!Zg(this.currentPage)||this.currentPage<0)&&(this.currentPage=0);var r=this.pageSize*this.currentPage,i=this.pageSize*(this.currentPage+1)-1;if(i>e&&(i=e),this.topDisplayedRowIndex=this.rowModel.getTopLevelRowDisplayedIndex(r),i===e)this.bottomDisplayedRowIndex=this.rowModel.getRowCount()-1;else{var o=this.rowModel.getTopLevelRowDisplayedIndex(i+1);this.bottomDisplayedRowIndex=o-1}},t.prototype.getMasterRowCount=function(){return this.masterRowCount},t.prototype.calculatePagesAllRows=function(){if(this.masterRowCount=this.rowModel.getRowCount(),this.masterRowCount===0){this.setZeroRows();return}var e=this.masterRowCount-1;this.totalPages=Math.floor(e/this.pageSize)+1,this.currentPage>=this.totalPages&&(this.currentPage=this.totalPages-1),(!Zg(this.currentPage)||this.currentPage<0)&&(this.currentPage=0),this.topDisplayedRowIndex=this.pageSize*this.currentPage,this.bottomDisplayedRowIndex=this.pageSize*(this.currentPage+1)-1,this.bottomDisplayedRowIndex>e&&(this.bottomDisplayedRowIndex=e)},t.prototype.calculatedPagesNotActive=function(){this.pageSize=this.rowModel.getRowCount(),this.totalPages=1,this.currentPage=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=this.rowModel.getRowCount()-1},Op([y("rowModel")],t.prototype,"rowModel",void 0),Op([y("columnApi")],t.prototype,"columnApi",void 0),Op([y("gridApi")],t.prototype,"gridApi",void 0),Op([H],t.prototype,"postConstruct",null),t=Op([J("paginationProxy")],t),t}(j);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v27.3.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */var U4=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),HT=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},nF=function(n){U4(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.processAllCellClasses=function(e,r,i,o){this.processClassRules(e.cellClassRules,r,i,o),this.processStaticCellClasses(e,r,i)},t.prototype.processClassRules=function(e,r,i,o){if(e!=null){for(var a=Object.keys(e),s={},l={},u=function(h){var d=a[h],f=e[d],g;typeof f=="string"?g=c.expressionService.evaluate(f,r):typeof f=="function"&&(g=f(r)),d.split(" ").forEach(function(v){v==null||v.trim()==""||(g?s[v]=!0:l[v]=!0)})},c=this,p=0;p<a.length;p++)u(p);o&&Object.keys(l).forEach(o),Object.keys(s).forEach(i)}},t.prototype.getStaticCellClasses=function(e,r){var i=e.cellClass;if(!i)return[];var o;if(typeof i=="function"){var a=i;o=a(r)}else o=i;return typeof o=="string"&&(o=[o]),o||[]},t.prototype.processStaticCellClasses=function(e,r,i){var o=this.getStaticCellClasses(e,r);o.forEach(function(a){i(a)})},HT([y("expressionService")],t.prototype,"expressionService",void 0),t=HT([J("stylingService")],t),t}(j);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v27.3.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */var z4=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),KS=function(n){z4(t,n);function t(e){return n.call(this,e,"ag-radio-button","radio")||this}return t.prototype.isSelected=function(){return this.eInput.checked},t.prototype.toggle=function(){this.eInput.disabled||this.isSelected()||this.setValue(!0)},t.prototype.addInputListeners=function(){n.prototype.addInputListeners.call(this),this.addManagedListener(this.eventService,x.EVENT_CHECKBOX_CHANGED,this.onChange.bind(this))},t.prototype.onChange=function(e){e.selected&&e.name&&this.eInput.name&&this.eInput.name===e.name&&e.id&&this.eInput.id!==e.id&&this.setValue(!1,!0)},t}(oo);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v27.3.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */var $4=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),dm=function(n){$4(t,n);function t(e){return n.call(this,e,"ag-toggle-button")||this}return t.prototype.setValue=function(e,r){return n.prototype.setValue.call(this,e,r),this.addOrRemoveCssClass("ag-selected",this.getValue()),this},t}(oo);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v27.3.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */var K4=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),YS=function(n){K4(t,n);function t(e,r,i){return r===void 0&&(r="ag-text-field"),i===void 0&&(i="text"),n.call(this,e,r,i)||this}return t.prototype.postConstruct=function(){n.prototype.postConstruct.call(this),this.config.allowedCharPattern&&this.preventDisallowedCharacters()},t.prototype.setValue=function(e,r){var i=n.prototype.setValue.call(this,e,r);return this.eInput.value!==e&&(this.eInput.value=Z(e)?e:""),i},t.prototype.preventDisallowedCharacters=function(){var e=new RegExp("["+this.config.allowedCharPattern+"]"),r=function(i){i.key&&!e.test(i.key)&&i.preventDefault()};this.addManagedListener(this.eInput,"keypress",r),this.addManagedListener(this.eInput,"paste",function(i){var o,a=(o=i.clipboardData)===null||o===void 0?void 0:o.getData("text");a&&a.split("").some(function(s){return!e.test(s)})&&i.preventDefault()})},t}(da);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v27.3.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */var Y4=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),iF=function(n){Y4(t,n);function t(e){return n.call(this,e,"ag-text-area",null,"textarea")||this}return t.prototype.setValue=function(e,r){var i=n.prototype.setValue.call(this,e,r);return this.eInput.value=e,i},t.prototype.setCols=function(e){return this.eInput.cols=e,this},t.prototype.setRows=function(e){return this.eInput.rows=e,this},t}(da);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v27.3.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */var X4=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),oF=function(n){X4(t,n);function t(e){return n.call(this,e,"ag-number-field","number")||this}return t.prototype.postConstruct=function(){var e=this;n.prototype.postConstruct.call(this),this.addManagedListener(this.eInput,"blur",function(){var r=parseFloat(e.eInput.value),i=isNaN(r)?"":e.normalizeValue(r.toString());e.value!==i&&e.setValue(i)}),this.eInput.step="any"},t.prototype.normalizeValue=function(e){if(e==="")return"";this.precision&&(e=this.adjustPrecision(e));var r=parseFloat(e);return this.min!=null&&r<this.min?e=this.min.toString():this.max!=null&&r>this.max&&(e=this.max.toString()),e},t.prototype.adjustPrecision=function(e){if(this.precision){var r=parseFloat(e).toFixed(this.precision);e=parseFloat(r).toString()}return e},t.prototype.setMin=function(e){return this.min===e?this:(this.min=e,vh(this.eInput,"min",e),this)},t.prototype.setMax=function(e){return this.max===e?this:(this.max=e,vh(this.eInput,"max",e),this)},t.prototype.setPrecision=function(e){return this.precision=e,this},t.prototype.setStep=function(e){return this.step===e?this:(this.step=e,vh(this.eInput,"step",e),this)},t.prototype.setValue=function(e,r){e=this.adjustPrecision(e);var i=this.normalizeValue(e);return e!=i?this:n.prototype.setValue.call(this,e,r)},t}(YS);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v27.3.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */var q4=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),aF=function(n){q4(t,n);function t(e){return n.call(this,e,"ag-range-field","range")||this}return t.prototype.postConstruct=function(){n.prototype.postConstruct.call(this);var e=this.config,r=e.min,i=e.max,o=e.step;r!=null&&this.setMinValue(r),i!=null&&this.setMaxValue(i),this.setStep(o||1)},t.prototype.addInputListeners=function(){var e=this;this.addManagedListener(this.eInput,"input",function(r){var i=r.target.value;e.setValue(i)})},t.prototype.setMinValue=function(e){return this.min=e,this.eInput.setAttribute("min",e.toString()),this},t.prototype.setMaxValue=function(e){return this.max=e,this.eInput.setAttribute("max",e.toString()),this},t.prototype.setStep=function(e){return this.eInput.setAttribute("step",e.toString()),this},t.prototype.setValue=function(e,r){this.min!=null&&(e=Math.max(parseFloat(e),this.min).toString()),this.max!=null&&(e=Math.min(parseFloat(e),this.max).toString());var i=n.prototype.setValue.call(this,e,r);return this.eInput.value=e,i},t}(da);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v27.3.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */var Z4=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),$d=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},la=function(n){Z4(t,n);function t(e){var r=n.call(this,e,t.TEMPLATE)||this;return r.labelAlignment="top",r}return t.prototype.init=function(){this.eSlider.addCssClass("ag-slider-field")},t.prototype.onValueChange=function(e){var r=this,i=Qi.EVENT_CHANGED;return this.addManagedListener(this.eText,i,function(){var o=parseFloat(r.eText.getValue());r.eSlider.setValue(o.toString(),!0),e(o||0)}),this.addManagedListener(this.eSlider,i,function(){var o=r.eSlider.getValue();r.eText.setValue(o,!0),e(parseFloat(o))}),this},t.prototype.setSliderWidth=function(e){return this.eSlider.setWidth(e),this},t.prototype.setTextFieldWidth=function(e){return this.eText.setWidth(e),this},t.prototype.setMinValue=function(e){return this.eSlider.setMinValue(e),this.eText.setMin(e),this},t.prototype.setMaxValue=function(e){return this.eSlider.setMaxValue(e),this.eText.setMax(e),this},t.prototype.getValue=function(){return this.eText.getValue()},t.prototype.setValue=function(e){return this.getValue()===e?this:(this.eText.setValue(e,!0),this.eSlider.setValue(e,!0),this.dispatchEvent({type:Qi.EVENT_CHANGED}),this)},t.prototype.setStep=function(e){return this.eSlider.setStep(e),this.eText.setStep(e),this},t.TEMPLATE=`<div class="ag-slider">
            <label ref="eLabel"></label>
            <div class="ag-wrapper ag-slider-wrapper">
                <ag-input-range ref="eSlider"></ag-input-range>
                <ag-input-number-field ref="eText"></ag-input-number-field>
            </div>
        </div>`,$d([I("eLabel")],t.prototype,"eLabel",void 0),$d([I("eSlider")],t.prototype,"eSlider",void 0),$d([I("eText")],t.prototype,"eText",void 0),$d([H],t.prototype,"init",null),t}(LS);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v27.3.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */var Q4=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Ep=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},XS=function(n){Q4(t,n);function t(e){var r=n.call(this,e,t.TEMPLATE)||this;return r.radius=0,r.offsetX=0,r.offsetY=0,r}return t.prototype.postConstruct=function(){var e=this;n.prototype.postConstruct.call(this),this.dragListener={eElement:this.eParentCircle,dragStartPixels:0,onDragStart:function(r){e.parentCircleRect=e.eParentCircle.getBoundingClientRect()},onDragging:function(r){return e.calculateAngleDrag(r)},onDragStop:function(){}},this.dragService.addDragSource(this.dragListener),this.eAngleValue.setLabel("").setLabelWidth(5).setInputWidth(45).setMin(0).setMax(360).setValue(""+this.degrees).onValueChange(function(r){(r==null||r==="")&&(r="0"),r=e.eAngleValue.normalizeValue(r);var i=parseFloat(r);i>180&&(i=i-360),e.setValue(i)}),this.updateNumberInput(),Z(this.getValue())&&this.eAngleValue.setValue(this.normalizeNegativeValue(this.getValue()).toString()),this.addManagedListener(this,Qi.EVENT_CHANGED,function(){var r=e.gridOptionsWrapper.getDocument();e.eAngleValue.getInputElement().contains(r.activeElement)||e.updateNumberInput()})},t.prototype.updateNumberInput=function(){var e=this.normalizeNegativeValue(this.getValue());this.eAngleValue.setValue(e.toString())},t.prototype.positionChildCircle=function(e){var r=this.parentCircleRect||{width:24,height:24},i=this.eChildCircle,o=r.width/2,a=r.height/2;i.style.left=o+Math.cos(e)*8+"px",i.style.top=a+Math.sin(e)*8+"px"},t.prototype.calculatePolar=function(){var e=this.offsetX,r=this.offsetY,i=Math.atan2(r,e);this.degrees=this.toDegrees(i),this.radius=Math.sqrt(e*e+r*r),this.positionChildCircle(i)},t.prototype.calculateCartesian=function(){var e=this.toRadians(this.getValue()),r=this.getRadius();this.setOffsetX(Math.cos(e)*r).setOffsetY(Math.sin(e)*r)},t.prototype.setOffsetX=function(e){return this.offsetX!==e&&(this.offsetX=e,this.calculatePolar()),this},t.prototype.setOffsetY=function(e){return this.offsetY!==e&&(this.offsetY=e,this.calculatePolar()),this},t.prototype.calculateAngleDrag=function(e){var r=this.parentCircleRect,i=r.width/2,o=r.height/2,a=e.clientX-r.left,s=e.clientY-r.top,l=a-i,u=s-o,c=Math.atan2(u,l);this.setValue(c,!0)},t.prototype.toDegrees=function(e){return e/Math.PI*180},t.prototype.toRadians=function(e){return e/180*Math.PI},t.prototype.normalizeNegativeValue=function(e){return e<0?360+e:e},t.prototype.normalizeAngle180=function(e){return e%=Math.PI*2,e<-Math.PI?e+=Math.PI*2:e>=Math.PI&&(e-=Math.PI*2),e},t.prototype.getRadius=function(){return this.radius},t.prototype.setRadius=function(e){return this.radius===e?this:(this.radius=e,this.calculateCartesian(),this)},t.prototype.onValueChange=function(e){var r=this;return this.addManagedListener(this,Qi.EVENT_CHANGED,function(){e(r.degrees)}),this},t.prototype.getValue=function(e){return e?this.toRadians(this.degrees):this.degrees},t.prototype.setValue=function(e,r){var i;return r?i=e:i=this.normalizeAngle180(this.toRadians(e)),e=this.toDegrees(i),this.degrees!==e&&(this.degrees=Math.floor(e),this.calculateCartesian(),this.positionChildCircle(i),this.dispatchEvent({type:Qi.EVENT_CHANGED})),this},t.prototype.setWidth=function(e){return qo(this.getGui(),e),this},t.prototype.destroy=function(){this.dragService.removeDragSource(this.dragListener),n.prototype.destroy.call(this)},t.TEMPLATE=`<div class="ag-angle-select">
            <div ref="eLabel"></div>
            <div class="ag-wrapper ag-angle-select-wrapper">
                <div ref="eAngleSelectField" class="ag-angle-select-field">
                    <div ref="eParentCircle" class="ag-angle-select-parent-circle">
                        <div ref="eChildCircle" class="ag-angle-select-child-circle"></div>
                    </div>
                </div>
                <ag-input-number-field ref="eAngleValue"></ag-input-number-field>
            </div>
        </div>`,Ep([I("eLabel")],t.prototype,"eLabel",void 0),Ep([I("eParentCircle")],t.prototype,"eParentCircle",void 0),Ep([I("eChildCircle")],t.prototype,"eChildCircle",void 0),Ep([I("eAngleValue")],t.prototype,"eAngleValue",void 0),Ep([y("dragService")],t.prototype,"dragService",void 0),t}(LS);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v27.3.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */var J4=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Jo=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},ez=globalThis&&globalThis.__read||function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},tz=function(n){J4(t,n);function t(e){var r=n.call(this,t.TEMPLATE)||this;return r.H=1,r.S=1,r.B=1,r.A=1,r.isSpectrumDragging=!1,r.isSpectrumHueDragging=!1,r.isSpectrumAlphaDragging=!1,r.colorChanged=!1,r.picker=e.picker,r}return t.prototype.postConstruct=function(){var e=this.getGui();this.initRecentColors(),this.addManagedListener(this.spectrumVal,"mousedown",this.onSpectrumDraggerDown.bind(this)),this.addManagedListener(e,"mousemove",this.onSpectrumDraggerMove.bind(this)),this.addManagedListener(this.spectrumHue,"mousedown",this.onSpectrumHueDown.bind(this)),this.addManagedListener(e,"mousemove",this.onSpectrumHueMove.bind(this)),this.addManagedListener(this.spectrumAlpha,"mousedown",this.onSpectrumAlphaDown.bind(this)),this.addManagedListener(e,"mousemove",this.onSpectrumAlphaMove.bind(this)),this.addManagedListener(document,"mouseup",this.onMouseUp.bind(this)),this.addManagedListener(this.recentColors,"click",this.onRecentColorClick.bind(this))},t.prototype.refreshSpectrumRect=function(){return this.spectrumValRect=this.spectrumVal.getBoundingClientRect()},t.prototype.refreshHueRect=function(){return this.spectrumHueRect=this.spectrumHue.getBoundingClientRect()},t.prototype.refreshAlphaRect=function(){return this.spectrumAlphaRect=this.spectrumAlpha.getBoundingClientRect()},t.prototype.onSpectrumDraggerDown=function(e){this.refreshSpectrumRect(),this.isSpectrumDragging=!0,this.moveDragger(e)},t.prototype.onSpectrumDraggerMove=function(e){this.isSpectrumDragging&&this.moveDragger(e)},t.prototype.onSpectrumHueDown=function(e){this.refreshHueRect(),this.isSpectrumHueDragging=!0,this.moveHueSlider(e)},t.prototype.onSpectrumHueMove=function(e){this.isSpectrumHueDragging&&this.moveHueSlider(e)},t.prototype.onSpectrumAlphaDown=function(e){this.refreshAlphaRect(),this.isSpectrumAlphaDragging=!0,this.moveAlphaSlider(e)},t.prototype.onSpectrumAlphaMove=function(e){this.isSpectrumAlphaDragging&&this.moveAlphaSlider(e)},t.prototype.onMouseUp=function(){this.isSpectrumDragging=!1,this.isSpectrumHueDragging=!1,this.isSpectrumAlphaDragging=!1},t.prototype.moveDragger=function(e){var r=this.spectrumValRect;if(r){var i=e.clientX-r.left,o=e.clientY-r.top;i=Math.max(i,0),i=Math.min(i,r.width),o=Math.max(o,0),o=Math.min(o,r.height),this.setSpectrumValue(i/r.width,1-o/r.height)}},t.prototype.moveHueSlider=function(e){var r=this.spectrumHueRect;if(r){var i=this.spectrumHueSlider,o=i.getBoundingClientRect(),a=e.clientX-r.left;a=Math.max(a,0),a=Math.min(a,r.width),this.H=1-a/r.width,i.style.left=a+o.width/2+"px",this.update()}},t.prototype.moveAlphaSlider=function(e){var r=this.spectrumAlphaRect;if(r){var i=this.spectrumAlphaSlider,o=i.getBoundingClientRect(),a=e.clientX-r.left;a=Math.max(a,0),a=Math.min(a,r.width),this.A=a/r.width,i.style.left=a+o.width/2+"px",this.update()}},t.prototype.update=function(){var e=ds.fromHSB(this.H*360,this.S,this.B,this.A),r=ds.fromHSB(this.H*360,1,1),i=e.toRgbaString(),o=this.picker,a=ds.fromString(o.getValue());a.toRgbaString()!==i&&(this.colorChanged=!0),o.setValue(i),this.spectrumColor.style.backgroundColor=r.toRgbaString(),this.spectrumDragger.style.backgroundColor=i},t.prototype.setSpectrumValue=function(e,r){var i=this.spectrumValRect||this.refreshSpectrumRect();if(i){var o=this.spectrumDragger,a=o.getBoundingClientRect();e=Math.max(0,e),e=Math.min(1,e),r=Math.max(0,r),r=Math.min(1,r),this.S=e,this.B=r,o.style.left=e*i.width-a.width/2+"px",o.style.top=(1-r)*i.height-a.height/2+"px",this.update()}},t.prototype.initRecentColors=function(){var e=t.recentColors,r=e.map(function(i,o){return'<div class="ag-recent-color" id='+o+' style="background-color: '+i+'; width: 15px; height: 15px;" recent-color="'+i+'"></div>'});this.recentColors.innerHTML=r.join("")},t.prototype.setValue=function(e){var r=ds.fromString(e),i=ez(r.toHSB(),3),o=i[0],a=i[1],s=i[2];this.H=(isNaN(o)?0:o)/360,this.A=r.a;var l=this.spectrumHueRect||this.refreshHueRect(),u=this.spectrumAlphaRect||this.refreshAlphaRect();this.spectrumHueSlider.style.left=(this.H-1)*-l.width+"px",this.spectrumAlphaSlider.style.left=this.A*u.width+"px",this.setSpectrumValue(a,s)},t.prototype.onRecentColorClick=function(e){var r=e.target;if(!!Z(r.id)){var i=parseInt(r.id,10);this.setValue(t.recentColors[i]),this.destroy()}},t.prototype.addRecentColor=function(){var e=ds.fromHSB(this.H*360,this.S,this.B,this.A),r=e.toRgbaString(),i=t.recentColors;!this.colorChanged||i[0]===r||(i=i.filter(function(o){return o!=r}),i=[r].concat(i),i.length>t.maxRecentColors&&(i=i.slice(0,t.maxRecentColors)),t.recentColors=i)},t.prototype.destroy=function(){this.addRecentColor(),n.prototype.destroy.call(this)},t.maxRecentColors=8,t.recentColors=[],t.TEMPLATE=`<div class="ag-color-panel">
            <div ref="spectrumColor" class="ag-spectrum-color">
                <div class="ag-spectrum-sat ag-spectrum-fill">
                    <div ref="spectrumVal" class="ag-spectrum-val ag-spectrum-fill">
                        <div ref="spectrumDragger" class="ag-spectrum-dragger"></div>
                    </div>
                </div>
            </div>
            <div class="ag-spectrum-tools">
                <div ref="spectrumHue" class="ag-spectrum-hue ag-spectrum-tool">
                    <div class="ag-spectrum-hue-background"></div>
                    <div ref="spectrumHueSlider" class="ag-spectrum-slider"></div>
                </div>
                <div ref="spectrumAlpha" class="ag-spectrum-alpha ag-spectrum-tool">
                    <div class="ag-spectrum-alpha-background"></div>
                    <div ref="spectrumAlphaSlider" class="ag-spectrum-slider"></div>
                </div>
                <div ref="recentColors" class="ag-recent-colors"></div>
            </div>
        </div>`,Jo([I("spectrumColor")],t.prototype,"spectrumColor",void 0),Jo([I("spectrumVal")],t.prototype,"spectrumVal",void 0),Jo([I("spectrumDragger")],t.prototype,"spectrumDragger",void 0),Jo([I("spectrumHue")],t.prototype,"spectrumHue",void 0),Jo([I("spectrumHueSlider")],t.prototype,"spectrumHueSlider",void 0),Jo([I("spectrumAlpha")],t.prototype,"spectrumAlpha",void 0),Jo([I("spectrumAlphaSlider")],t.prototype,"spectrumAlphaSlider",void 0),Jo([I("recentColors")],t.prototype,"recentColors",void 0),Jo([H],t.prototype,"postConstruct",null),t}(te);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v27.3.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */var rz=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Rp=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},fm=function(n){rz(t,n);function t(e){var r=n.call(this,t.getTemplate(e))||this;return r.closable=!0,r.config=e,r}return t.getTemplate=function(e){var r=e&&e.cssIdentifier||"default";return'<div class="ag-panel ag-'+r+`-panel" tabindex="-1">
            <div ref="eTitleBar" class="ag-panel-title-bar ag-`+r+`-panel-title-bar ag-unselectable">
                <span ref="eTitle" class="ag-panel-title-bar-title ag-`+r+`-panel-title-bar-title"></span>
                <div ref="eTitleBarButtons" class="ag-panel-title-bar-buttons ag-`+r+`-panel-title-bar-buttons"></div>
            </div>
            <div ref="eContentWrapper" class="ag-panel-content-wrapper ag-`+r+`-panel-content-wrapper"></div>
        </div>`},t.prototype.postConstruct=function(){var e=this,r=this.config,i=r.component,o=r.closable,a=r.hideTitleBar,s=r.title,l=r.minWidth,u=l===void 0?250:l,c=r.width,p=r.minHeight,h=p===void 0?250:p,d=r.height,f=r.centered,g=r.popup,v=r.x,m=r.y;this.positionableFeature=new md(this.getGui(),{minWidth:u,width:c,minHeight:h,height:d,centered:f,x:v,y:m,popup:g,calculateTopBuffer:function(){return e.positionableFeature.getHeight()-e.getBodyHeight()}}),this.createManagedBean(this.positionableFeature);var C=this.getGui();i&&this.setBodyComponent(i),a?this.eTitleBar.classList.add("ag-hidden"):(s&&this.setTitle(s),this.setClosable(o!=null?o:this.closable)),this.addManagedListener(this.eTitleBar,"mousedown",function(b){var w=e.gridOptionsWrapper.getDocument();if(C.contains(b.relatedTarget)||C.contains(w.activeElement)||e.eTitleBarButtons.contains(b.target)){b.preventDefault();return}var S=e.eContentWrapper.querySelector("button, [href], input, select, textarea, [tabindex]");S&&S.focus()}),!(g&&this.positionableFeature.isPositioned())&&(this.renderComponent&&this.renderComponent(),this.positionableFeature.initialisePosition(),this.eContentWrapper.style.height="0")},t.prototype.renderComponent=function(){var e=this,r=this.getGui();r.focus(),this.close=function(){r.parentElement.removeChild(r),e.destroy()}},t.prototype.getHeight=function(){return this.positionableFeature.getHeight()},t.prototype.setHeight=function(e){this.positionableFeature.setHeight(e)},t.prototype.getWidth=function(){return this.positionableFeature.getWidth()},t.prototype.setWidth=function(e){this.positionableFeature.setWidth(e)},t.prototype.setClosable=function(e){if(e!==this.closable&&(this.closable=e),e){var r=this.closeButtonComp=new te(t.CLOSE_BTN_TEMPLATE);this.getContext().createBean(r);var i=r.getGui(),o=ar("close",this.gridOptionsWrapper);o.classList.add("ag-panel-title-bar-button-icon"),i.appendChild(o),this.addTitleBarButton(r),r.addManagedListener(i,"click",this.onBtClose.bind(this))}else if(this.closeButtonComp){var i=this.closeButtonComp.getGui();i.parentElement.removeChild(i),this.closeButtonComp=this.destroyBean(this.closeButtonComp)}},t.prototype.setBodyComponent=function(e){e.setParentComponent(this),this.eContentWrapper.appendChild(e.getGui())},t.prototype.addTitleBarButton=function(e,r){var i=this.eTitleBarButtons,o=i.children,a=o.length;r==null&&(r=a),r=Math.max(0,Math.min(r,a)),e.addCssClass("ag-panel-title-bar-button");var s=e.getGui();r===0?i.insertAdjacentElement("afterbegin",s):r===a?i.insertAdjacentElement("beforeend",s):o[r-1].insertAdjacentElement("afterend",s),e.setParentComponent(this)},t.prototype.getBodyHeight=function(){return ud(this.eContentWrapper)},t.prototype.getBodyWidth=function(){return lm(this.eContentWrapper)},t.prototype.setTitle=function(e){this.eTitle.innerText=e},t.prototype.onBtClose=function(){this.close()},t.prototype.destroy=function(){this.closeButtonComp&&(this.closeButtonComp=this.destroyBean(this.closeButtonComp));var e=this.getGui();e&&e.offsetParent&&this.close(),n.prototype.destroy.call(this)},t.CLOSE_BTN_TEMPLATE='<div class="ag-button"></div>',Rp([I("eContentWrapper")],t.prototype,"eContentWrapper",void 0),Rp([I("eTitleBar")],t.prototype,"eTitleBar",void 0),Rp([I("eTitleBarButtons")],t.prototype,"eTitleBarButtons",void 0),Rp([I("eTitle")],t.prototype,"eTitle",void 0),Rp([H],t.prototype,"postConstruct",null),t}(te);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v27.3.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */var nz=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),lv=globalThis&&globalThis.__assign||function(){return lv=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},lv.apply(this,arguments)},iz=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Wh=function(n){nz(t,n);function t(e){var r=n.call(this,lv(lv({},e),{popup:!0}))||this;return r.isMaximizable=!1,r.isMaximized=!1,r.maximizeListeners=[],r.resizeListenerDestroy=null,r.lastPosition={x:0,y:0,width:0,height:0},r}return t.prototype.postConstruct=function(){var e=this,r=this.getGui(),i=this.config,o=i.movable,a=i.resizable,s=i.maximizable;this.addCssClass("ag-dialog"),n.prototype.postConstruct.call(this),this.addManagedListener(r,"focusin",function(l){r.contains(l.relatedTarget)||e.popupService.bringPopupToFront(r)}),o&&this.setMovable(o),s&&this.setMaximizable(s),a&&this.setResizable(a)},t.prototype.renderComponent=function(){var e=this.getGui(),r=this.config,i=r.alwaysOnTop,o=r.modal,a=r.title,s=this.gridOptionsWrapper.getLocaleTextFunc(),l=this.popupService.addPopup({modal:o,eChild:e,closeOnEsc:!0,closedCallback:this.destroy.bind(this),alwaysOnTop:i,ariaLabel:a||s("ariaLabelDialog","Dialog")});l&&(this.close=l.hideFunc)},t.prototype.toggleMaximize=function(){var e=this.positionableFeature.getPosition();if(this.isMaximized){var r=this.lastPosition,i=r.x,o=r.y,a=r.width,s=r.height;this.setWidth(a),this.setHeight(s),this.positionableFeature.offsetElement(i,o)}else this.lastPosition.width=this.getWidth(),this.lastPosition.height=this.getHeight(),this.lastPosition.x=e.x,this.lastPosition.y=e.y,this.positionableFeature.offsetElement(0,0),this.setHeight("100%"),this.setWidth("100%");this.isMaximized=!this.isMaximized,this.refreshMaximizeIcon()},t.prototype.refreshMaximizeIcon=function(){Ft(this.maximizeIcon,!this.isMaximized),Ft(this.minimizeIcon,this.isMaximized)},t.prototype.clearMaximizebleListeners=function(){this.maximizeListeners.length&&(this.maximizeListeners.forEach(function(e){return e()}),this.maximizeListeners.length=0),this.resizeListenerDestroy&&(this.resizeListenerDestroy(),this.resizeListenerDestroy=null)},t.prototype.destroy=function(){this.maximizeButtonComp=this.destroyBean(this.maximizeButtonComp),this.clearMaximizebleListeners(),n.prototype.destroy.call(this)},t.prototype.setResizable=function(e){this.positionableFeature.setResizable(e)},t.prototype.setMovable=function(e){this.positionableFeature.setMovable(e,this.eTitleBar)},t.prototype.setMaximizable=function(e){var r=this;if(!e){this.clearMaximizebleListeners(),this.maximizeButtonComp&&(this.destroyBean(this.maximizeButtonComp),this.maximizeButtonComp=this.maximizeIcon=this.minimizeIcon=void 0);return}var i=this.eTitleBar;if(!(!i||e===this.isMaximizable)){var o=this.maximizeButtonComp=this.createBean(new te('<div class="ag-dialog-button"></span>')),a=o.getGui();a.appendChild(this.maximizeIcon=ar("maximize",this.gridOptionsWrapper)),this.maximizeIcon.classList.add("ag-panel-title-bar-button-icon"),a.appendChild(this.minimizeIcon=ar("minimize",this.gridOptionsWrapper)),this.minimizeIcon.classList.add("ag-panel-title-bar-button-icon","ag-hidden"),o.addManagedListener(a,"click",this.toggleMaximize.bind(this)),this.addTitleBarButton(o,0),this.maximizeListeners.push(this.addManagedListener(i,"dblclick",this.toggleMaximize.bind(this))),this.resizeListenerDestroy=this.addManagedListener(this,"resize",function(){r.isMaximized=!1,r.refreshMaximizeIcon()})}},iz([y("popupService")],t.prototype,"popupService",void 0),t}(fm);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v27.3.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */var oz=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),sF=function(n){oz(t,n);function t(e){var r=n.call(this,e,"ag-color-picker","colorPicker")||this;return e&&e.color&&(r.value=e.color),r}return t.prototype.postConstruct=function(){n.prototype.postConstruct.call(this),this.value&&this.setValue(this.value)},t.prototype.showPicker=function(){var e=this,r=this.getGui().getBoundingClientRect(),i=this.createBean(new Wh({closable:!1,modal:!0,hideTitleBar:!0,minWidth:190,width:190,height:250,x:r.right-190,y:r.top-250}));this.isPickerDisplayed=!0,i.addCssClass("ag-color-dialog"),ti(this.eWrapper,!0);var o=this.createBean(new tz({picker:this}));return o.addDestroyFunc(function(){i.isAlive()&&e.destroyBean(i)}),i.setParentComponent(this),i.setBodyComponent(o),o.setValue(this.getValue()),i.addDestroyFunc(function(){e.isDestroyingPicker?e.isDestroyingPicker=!1:(e.isDestroyingPicker=!0,o.isAlive()&&e.destroyBean(o)),e.isAlive()&&(ti(e.eWrapper,!1),e.getFocusableElement().focus()),e.isPickerDisplayed=!1}),i},t.prototype.setValue=function(e){return this.value===e?this:(this.eDisplayField.style.backgroundColor=e,n.prototype.setValue.call(this,e))},t.prototype.getValue=function(){return this.value},t}(i1);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v27.3.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */var az=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Ya=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},qi=function(n){az(t,n);function t(e){e===void 0&&(e={});var r=n.call(this,t.getTemplate(e))||this;r.suppressEnabledCheckbox=!0,r.suppressOpenCloseIcons=!1;var i=e.title,o=e.enabled,a=e.items,s=e.suppressEnabledCheckbox,l=e.suppressOpenCloseIcons;return r.title=i,r.cssIdentifier=e.cssIdentifier||"default",r.enabled=o!=null?o:!0,r.items=a||[],r.alignItems=e.alignItems||"center",s!=null&&(r.suppressEnabledCheckbox=s),l!=null&&(r.suppressOpenCloseIcons=l),r}return t.getTemplate=function(e){var r=e.cssIdentifier||"default",i=e.direction||"vertical";return'<div class="ag-group ag-'+r+`-group" role="presentation">
            <div class="ag-group-title-bar ag-`+r+`-group-title-bar ag-unselectable" ref="eTitleBar" role="button">
                <span class="ag-group-title-bar-icon ag-`+r+`-group-title-bar-icon" ref="eGroupOpenedIcon" role="presentation"></span>
                <span class="ag-group-title-bar-icon ag-`+r+`-group-title-bar-icon" ref="eGroupClosedIcon" role="presentation"></span>
                <span ref="eTitle" class="ag-group-title ag-`+r+`-group-title"></span>
            </div>
            <div ref="eToolbar" class="ag-group-toolbar ag-`+r+`-group-toolbar">
                <ag-checkbox ref="cbGroupEnabled"></ag-checkbox>
            </div>
            <div ref="eContainer" class="ag-group-container ag-group-container-`+i+" ag-"+r+`-group-container"></div>
        </div>`},t.prototype.postConstruct=function(){if(this.items.length){var e=this.items;this.items=[],this.addItems(e)}var r=this.gridOptionsWrapper.getLocaleTextFunc();this.cbGroupEnabled.setLabel(r("enabled","Enabled")),this.title&&this.setTitle(this.title),this.enabled&&this.setEnabled(this.enabled),this.setAlignItems(this.alignItems),this.hideEnabledCheckbox(this.suppressEnabledCheckbox),this.hideOpenCloseIcons(this.suppressOpenCloseIcons),this.setupExpandContract(),this.refreshAriaStatus(),this.refreshChildDisplay()},t.prototype.setupExpandContract=function(){var e=this;this.eGroupClosedIcon.appendChild(di("columnSelectClosed",this.gridOptionsWrapper,null)),this.eGroupOpenedIcon.appendChild(di("columnSelectOpen",this.gridOptionsWrapper,null)),this.addManagedListener(this.eTitleBar,"click",function(){return e.toggleGroupExpand()}),this.addManagedListener(this.eTitleBar,"keydown",function(r){switch(r.key){case U.ENTER:case U.SPACE:r.preventDefault(),e.toggleGroupExpand();break;case U.RIGHT:case U.LEFT:r.preventDefault(),e.toggleGroupExpand(r.key===U.RIGHT);break}})},t.prototype.refreshAriaStatus=function(){this.suppressOpenCloseIcons||ti(this.eTitleBar,this.expanded)},t.prototype.refreshChildDisplay=function(){var e=!this.suppressOpenCloseIcons;Ft(this.eToolbar,this.expanded&&!this.suppressEnabledCheckbox),Ft(this.eGroupOpenedIcon,e&&this.expanded),Ft(this.eGroupClosedIcon,e&&!this.expanded)},t.prototype.isExpanded=function(){return this.expanded},t.prototype.setAlignItems=function(e){this.alignItems!==e&&this.removeCssClass("ag-group-item-alignment-"+this.alignItems),this.alignItems=e;var r="ag-group-item-alignment-"+this.alignItems;return this.addCssClass(r),this},t.prototype.toggleGroupExpand=function(e){return this.suppressOpenCloseIcons?(this.expanded=!0,this.refreshChildDisplay(),Ft(this.eContainer,!0),this):(e=e!=null?e:!this.expanded,this.expanded===e?this:(this.expanded=e,this.refreshAriaStatus(),this.refreshChildDisplay(),Ft(this.eContainer,e),this.dispatchEvent({type:this.expanded?t.EVENT_EXPANDED:t.EVENT_COLLAPSED}),this))},t.prototype.addItems=function(e){var r=this;e.forEach(function(i){return r.addItem(i)})},t.prototype.addItem=function(e){var r=this.eContainer,i=e instanceof te?e.getGui():e;i.classList.add("ag-group-item","ag-"+this.cssIdentifier+"-group-item"),r.appendChild(i),this.items.push(i)},t.prototype.hideItem=function(e,r){var i=this.items[r];i.classList.toggle("ag-hidden",e)},t.prototype.setTitle=function(e){return this.eTitle.innerText=e,this},t.prototype.addCssClassToTitleBar=function(e){this.eTitleBar.classList.add(e)},t.prototype.setEnabled=function(e,r){return this.enabled=e,this.refreshDisabledStyles(),this.toggleGroupExpand(e),r||this.cbGroupEnabled.setValue(e),this},t.prototype.isEnabled=function(){return this.enabled},t.prototype.onEnableChange=function(e){var r=this;return this.cbGroupEnabled.onValueChange(function(i){r.setEnabled(i,!0),e(i)}),this},t.prototype.hideEnabledCheckbox=function(e){return this.suppressEnabledCheckbox=e,this.refreshChildDisplay(),this.refreshDisabledStyles(),this},t.prototype.hideOpenCloseIcons=function(e){return this.suppressOpenCloseIcons=e,e&&this.toggleGroupExpand(!0),this},t.prototype.refreshDisabledStyles=function(){this.addOrRemoveCssClass("ag-disabled",!this.enabled),this.suppressEnabledCheckbox&&!this.enabled?(this.eTitleBar.classList.add("ag-disabled-group-title-bar"),this.eTitleBar.removeAttribute("tabindex")):(this.eTitleBar.classList.remove("ag-disabled-group-title-bar"),this.eTitleBar.setAttribute("tabindex","0")),this.eContainer.classList.toggle("ag-disabled-group-container",!this.enabled)},t.EVENT_EXPANDED="expanded",t.EVENT_COLLAPSED="collapsed",Ya([I("eTitleBar")],t.prototype,"eTitleBar",void 0),Ya([I("eGroupOpenedIcon")],t.prototype,"eGroupOpenedIcon",void 0),Ya([I("eGroupClosedIcon")],t.prototype,"eGroupClosedIcon",void 0),Ya([I("eToolbar")],t.prototype,"eToolbar",void 0),Ya([I("cbGroupEnabled")],t.prototype,"cbGroupEnabled",void 0),Ya([I("eTitle")],t.prototype,"eTitle",void 0),Ya([I("eContainer")],t.prototype,"eContainer",void 0),Ya([H],t.prototype,"postConstruct",null),t}(te);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v27.3.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */var sz=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),jT=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},lF=function(n){sz(t,n);function t(e){var r=n.call(this)||this;r.skipTabGuardFocus=!1;var i=e.comp,o=e.eTopGuard,a=e.eBottomGuard,s=e.focusInnerElement,l=e.onFocusIn,u=e.onFocusOut,c=e.shouldStopEventPropagation,p=e.onTabKeyDown,h=e.handleKeyDown,d=e.eFocusableElement;return r.comp=i,r.eTopGuard=o,r.eBottomGuard=a,r.providedFocusInnerElement=s,r.eFocusableElement=d,r.providedFocusIn=l,r.providedFocusOut=u,r.providedShouldStopEventPropagation=c,r.providedOnTabKeyDown=p,r.providedHandleKeyDown=h,r}return t.prototype.postConstruct=function(){var e=this;this.createManagedBean(new lo(this.eFocusableElement,{shouldStopEventPropagation:function(){return e.shouldStopEventPropagation()},onTabKeyDown:function(r){return e.onTabKeyDown(r)},handleKeyDown:function(r){return e.handleKeyDown(r)},onFocusIn:function(r){return e.onFocusIn(r)},onFocusOut:function(r){return e.onFocusOut(r)}})),this.activateTabGuards(),[this.eTopGuard,this.eBottomGuard].forEach(function(r){return e.addManagedListener(r,"focus",e.onFocus.bind(e))})},t.prototype.handleKeyDown=function(e){this.providedHandleKeyDown&&this.providedHandleKeyDown(e)},t.prototype.tabGuardsAreActive=function(){return!!this.eTopGuard&&this.eTopGuard.hasAttribute("tabIndex")},t.prototype.shouldStopEventPropagation=function(){return this.providedShouldStopEventPropagation?this.providedShouldStopEventPropagation():!1},t.prototype.activateTabGuards=function(){this.comp.setTabIndex(this.getGridTabIndex())},t.prototype.deactivateTabGuards=function(){this.comp.setTabIndex()},t.prototype.onFocus=function(e){if(this.skipTabGuardFocus){this.skipTabGuardFocus=!1;return}var r=e.target===this.eBottomGuard;this.providedFocusInnerElement?this.providedFocusInnerElement(r):this.focusInnerElement(r)},t.prototype.onFocusIn=function(e){this.providedFocusIn&&this.providedFocusIn(e)||this.deactivateTabGuards()},t.prototype.onFocusOut=function(e){this.providedFocusOut&&this.providedFocusOut(e)||this.eFocusableElement.contains(e.relatedTarget)||this.activateTabGuards()},t.prototype.onTabKeyDown=function(e){var r=this;if(this.providedOnTabKeyDown){this.providedOnTabKeyDown(e);return}if(!e.defaultPrevented){var i=this.tabGuardsAreActive();i&&this.deactivateTabGuards();var o=this.getNextFocusableElement(e.shiftKey);i&&setTimeout(function(){return r.activateTabGuards()},0),o&&(o.focus(),e.preventDefault())}},t.prototype.getGridTabIndex=function(){return this.gridOptionsWrapper.getGridTabIndex()},t.prototype.focusInnerElement=function(e){e===void 0&&(e=!1);var r=this.focusService.findFocusableElements(this.eFocusableElement);this.tabGuardsAreActive()&&(r.splice(0,1),r.splice(r.length-1,1)),r.length&&r[e?r.length-1:0].focus()},t.prototype.getNextFocusableElement=function(e){return this.focusService.findNextFocusableElement(this.eFocusableElement,!1,e)},t.prototype.forceFocusOutOfContainer=function(e){e===void 0&&(e=!1);var r=e?this.eTopGuard:this.eBottomGuard;this.activateTabGuards(),this.skipTabGuardFocus=!0,r.focus()},jT([y("focusService")],t.prototype,"focusService",void 0),jT([H],t.prototype,"postConstruct",null),t}(j);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v27.3.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */var lz=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),uz=globalThis&&globalThis.__read||function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},cz=globalThis&&globalThis.__spread||function(){for(var n=[],t=0;t<arguments.length;t++)n=n.concat(uz(arguments[t]));return n},cu=function(n){lz(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.initialiseTabGuard=function(e){this.eTopGuard=this.createTabGuard("top"),this.eBottomGuard=this.createTabGuard("bottom"),this.eFocusableElement=this.getFocusableElement();var r=[this.eTopGuard,this.eBottomGuard],i={setTabIndex:function(o){r.forEach(function(a){return o!=null?a.setAttribute("tabIndex",o):a.removeAttribute("tabIndex")})}};this.addTabGuards(this.eTopGuard,this.eBottomGuard),this.tabGuardCtrl=this.createManagedBean(new lF({comp:i,eTopGuard:this.eTopGuard,eBottomGuard:this.eBottomGuard,eFocusableElement:this.eFocusableElement,onFocusIn:e.onFocusIn,onFocusOut:e.onFocusOut,focusInnerElement:e.focusInnerElement,handleKeyDown:e.handleKeyDown,onTabKeyDown:e.onTabKeyDown,shouldStopEventPropagation:e.shouldStopEventPropagation}))},t.prototype.createTabGuard=function(e){var r=document.createElement("div");return r.classList.add("ag-tab-guard","ag-tab-guard-"+e),Jr(r,"presentation"),r},t.prototype.addTabGuards=function(e,r){this.eFocusableElement.insertAdjacentElement("afterbegin",e),this.eFocusableElement.insertAdjacentElement("beforeend",r)},t.prototype.removeAllChildrenExceptTabGuards=function(){var e=[this.eTopGuard,this.eBottomGuard];ni(this.getFocusableElement()),this.addTabGuards.apply(this,cz(e))},t.prototype.forceFocusOutOfContainer=function(e){e===void 0&&(e=!1),this.tabGuardCtrl.forceFocusOutOfContainer(e)},t.prototype.appendChild=function(e,r){pd(e)||(e=e.getGui());var i=this.eBottomGuard;i?i.insertAdjacentElement("beforebegin",e):n.prototype.appendChild.call(this,e,r)},t}(te);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v27.3.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */var pz=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),uv=globalThis&&globalThis.__assign||function(){return uv=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},uv.apply(this,arguments)},UT=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Cd=function(n){pz(t,n);function t(e){e===void 0&&(e=1);var r=n.call(this,'<div class="ag-menu-list" role="tree"></div>')||this;return r.level=e,r.menuItems=[],r}return t.prototype.postConstruct=function(){var e=this;this.initialiseTabGuard({onTabKeyDown:function(r){return e.onTabKeyDown(r)},handleKeyDown:function(r){return e.handleKeyDown(r)}})},t.prototype.onTabKeyDown=function(e){var r=this.getParentComponent(),i=r&&r.getGui(),o=i&&i.classList.contains("ag-focus-managed");o||e.preventDefault(),e.shiftKey&&this.closeIfIsChild(e)},t.prototype.handleKeyDown=function(e){switch(e.key){case U.UP:case U.RIGHT:case U.DOWN:case U.LEFT:e.preventDefault(),this.handleNavKey(e.key);break;case U.ESCAPE:var r=this.findTopMenu();r&&this.focusService.focusInto(r.getGui());break}},t.prototype.clearActiveItem=function(){this.activeMenuItem&&(this.activeMenuItem.deactivate(),this.activeMenuItem=null)},t.prototype.addMenuItems=function(e){var r=this;e!=null&&e.forEach(function(i){i==="separator"?r.addSeparator():typeof i=="string"?console.warn("AG Grid: unrecognised menu item "+i):r.addItem(i)})},t.prototype.addItem=function(e){var r=this,i=this.createManagedBean(new Ti(uv(uv({},e),{isAnotherSubMenuOpen:function(){return r.menuItems.some(function(o){return o.isSubMenuOpen()})}})));i.setParentComponent(this),kM(i.getGui(),this.level),this.menuItems.push(i),this.appendChild(i.getGui()),this.addManagedListener(i,Ti.EVENT_MENU_ITEM_SELECTED,function(o){r.dispatchEvent(o)}),this.addManagedListener(i,Ti.EVENT_MENU_ITEM_ACTIVATED,function(o){r.activeMenuItem&&r.activeMenuItem!==o.menuItem&&r.activeMenuItem.deactivate(),r.activeMenuItem=o.menuItem})},t.prototype.activateFirstItem=function(){var e=this.menuItems.filter(function(r){return!r.isDisabled()})[0];!e||e.activate()},t.prototype.addSeparator=function(){var e=`
            <div class="ag-menu-separator" aria-hidden="true">
                <div class="ag-menu-separator-part"></div>
                <div class="ag-menu-separator-part"></div>
                <div class="ag-menu-separator-part"></div>
                <div class="ag-menu-separator-part"></div>
            </div>`;this.appendChild(Sr(e))},t.prototype.findTopMenu=function(){var e=this.getParentComponent();if(!e&&this instanceof t)return this;for(;;){var r=e&&e.getParentComponent&&e.getParentComponent();if(!r||!(r instanceof t||r instanceof Ti))break;e=r}return e instanceof t?e:void 0},t.prototype.handleNavKey=function(e){switch(e){case U.UP:case U.DOWN:var r=this.findNextItem(e===U.UP);r&&r!==this.activeMenuItem&&r.activate();return}var i=this.gridOptionsWrapper.isEnableRtl()?U.RIGHT:U.LEFT;e===i?this.closeIfIsChild():this.openChild()},t.prototype.closeIfIsChild=function(e){var r=this.getParentComponent();r&&r instanceof Ti&&(e&&e.preventDefault(),r.closeSubMenu(),r.getGui().focus())},t.prototype.openChild=function(){this.activeMenuItem&&this.activeMenuItem.openSubMenu(!0)},t.prototype.findNextItem=function(e){var r=this.menuItems.filter(function(l){return!l.isDisabled()});if(!!r.length){if(!this.activeMenuItem)return e?wt(r):r[0];e&&r.reverse();for(var i,o=!1,a=0;a<r.length;a++){var s=r[a];if(!o){s===this.activeMenuItem&&(o=!0);continue}i=s;break}return i||this.activeMenuItem}},t.prototype.destroy=function(){this.clearActiveItem(),n.prototype.destroy.call(this)},UT([y("focusService")],t.prototype,"focusService",void 0),UT([H],t.prototype,"postConstruct",null),t}(cu);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v27.3.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */var hz=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),dz=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},uF=function(n){hz(t,n);function t(e){var r=n.call(this)||this;return r.wrappedComponent=e,r.setTemplateFromElement(e.getGui()),r}return t.prototype.postConstruct=function(){var e=this;this.initialiseTabGuard({onTabKeyDown:function(r){return e.onTabKeyDown(r)},handleKeyDown:function(r){return e.handleKeyDown(r)}})},t.prototype.handleKeyDown=function(e){e.key===U.ESCAPE&&this.closePanel()},t.prototype.onTabKeyDown=function(e){e.defaultPrevented||(this.closePanel(),e.preventDefault())},t.prototype.closePanel=function(){var e=this.parentComponent;e.closeSubMenu(),setTimeout(function(){return e.getGui().focus()},0)},dz([H],t.prototype,"postConstruct",null),t}(cu);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v27.3.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */var fz=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),zT=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Ti=function(n){fz(t,n);function t(e){var r=n.call(this)||this;return r.params=e,r.isActive=!1,r.subMenuIsOpen=!1,r.setTemplate('<div class="'+r.getClassName()+'" tabindex="-1" role="treeitem"></div>'),r}return t.prototype.init=function(){var e=this;this.addIcon(),this.addName(),this.addShortcut(),this.addSubMenu(),this.addTooltip();var r=this.getGui();this.params.disabled?(this.addCssClass(this.getClassName("disabled")),ES(r,!0)):(this.addGuiEventListener("click",function(i){return e.onItemSelected(i)}),this.addGuiEventListener("keydown",function(i){(i.key===U.ENTER||i.key===U.SPACE)&&(i.preventDefault(),e.onItemSelected(i))}),this.addGuiEventListener("mousedown",function(i){i.stopPropagation(),i.preventDefault()}),this.addGuiEventListener("mouseenter",function(){return e.onMouseEnter()}),this.addGuiEventListener("mouseleave",function(){return e.onMouseLeave()})),this.params.cssClasses&&this.params.cssClasses.forEach(function(i){return e.addCssClass(i)})},t.prototype.isDisabled=function(){return!!this.params.disabled},t.prototype.openSubMenu=function(e){var r=this;if(e===void 0&&(e=!1),this.closeSubMenu(),!!this.params.subMenu){var i=Sr('<div class="ag-menu" role="presentation"></div>'),o;if(this.params.subMenu instanceof Array){var a=IM(this.getGui()),s=isNaN(a)?1:a+1,l=this.createBean(new Cd(s));l.setParentComponent(this),l.addMenuItems(this.params.subMenu),i.appendChild(l.getGui()),this.addManagedListener(l,t.EVENT_MENU_ITEM_SELECTED,function(C){return r.dispatchEvent(C)}),l.addGuiEventListener("mouseenter",function(){return r.cancelDeactivate()}),o=function(){return r.destroyBean(l)},e&&setTimeout(function(){return l.activateFirstItem()},0)}else{var u=this.params.subMenu,c=this.createBean(new uF(u));c.setParentComponent(this);var p=c.getGui(),h="mouseenter",d=function(){return r.cancelDeactivate()};p.addEventListener(h,d),o=function(){return p.removeEventListener(h,d)},i.appendChild(p),u.afterGuiAttached&&setTimeout(function(){return u.afterGuiAttached()},0)}var f=this.getGui(),g=this.popupService.positionPopupForMenu.bind(this.popupService,{eventSource:f,ePopup:i}),v=this.gridOptionsWrapper.getLocaleTextFunc(),m=this.popupService.addPopup({modal:!0,eChild:i,positionCallback:g,anchorToElement:f,ariaLabel:v("ariaLabelSubMenu","SubMenu")});this.subMenuIsOpen=!0,ti(f,!0),this.hideSubMenu=function(){m&&m.hideFunc(),r.subMenuIsOpen=!1,ti(f,!1),o()}}},t.prototype.closeSubMenu=function(){!this.hideSubMenu||(this.hideSubMenu(),this.hideSubMenu=null,ti(this.getGui(),!1))},t.prototype.isSubMenuOpen=function(){return this.subMenuIsOpen},t.prototype.activate=function(e){var r=this;this.cancelActivate(),!this.params.disabled&&(this.isActive=!0,this.addCssClass(this.getClassName("active")),this.getGui().focus(),e&&this.params.subMenu&&window.setTimeout(function(){r.isAlive()&&r.isActive&&r.openSubMenu()},300),this.onItemActivated())},t.prototype.deactivate=function(){this.cancelDeactivate(),this.removeCssClass(this.getClassName("active")),this.isActive=!1,this.subMenuIsOpen&&this.hideSubMenu()},t.prototype.addIcon=function(){if(!(!this.params.checked&&!this.params.icon&&this.params.isCompact)){var e=Sr('<span ref="eIcon" class="'+this.getClassName("part")+" "+this.getClassName("icon")+'" role="presentation"></span>');this.params.checked?e.appendChild(ar("check",this.gridOptionsWrapper)):this.params.icon&&(pd(this.params.icon)?e.appendChild(this.params.icon):typeof this.params.icon=="string"?e.innerHTML=this.params.icon:console.warn("AG Grid: menu item icon must be DOM node or string")),this.getGui().appendChild(e)}},t.prototype.addName=function(){if(!(!this.params.name&&this.params.isCompact)){var e=Sr('<span ref="eName" class="'+this.getClassName("part")+" "+this.getClassName("text")+'">'+(this.params.name||"")+"</span>");this.getGui().appendChild(e)}},t.prototype.addTooltip=function(){!this.params.tooltip||(this.tooltip=this.params.tooltip,this.gridOptionsWrapper.isEnableBrowserTooltips()?this.getGui().setAttribute("title",this.tooltip):this.createManagedBean(new cm(this)))},t.prototype.getTooltipParams=function(){return{location:"menu",value:this.tooltip}},t.prototype.addShortcut=function(){if(!(!this.params.shortcut&&this.params.isCompact)){var e=Sr('<span ref="eShortcut" class="'+this.getClassName("part")+" "+this.getClassName("shortcut")+'">'+(this.params.shortcut||"")+"</span>");this.getGui().appendChild(e)}},t.prototype.addSubMenu=function(){if(!(!this.params.subMenu&&this.params.isCompact)){var e=Sr('<span ref="ePopupPointer" class="'+this.getClassName("part")+" "+this.getClassName("popup-pointer")+'"></span>'),r=this.getGui();if(this.params.subMenu){var i=this.gridOptionsWrapper.isEnableRtl()?"smallLeft":"smallRight";ti(r,!1),e.appendChild(ar(i,this.gridOptionsWrapper))}r.appendChild(e)}},t.prototype.onItemSelected=function(e){if(this.params.action?this.params.action():this.openSubMenu(e&&e.type==="keydown"),!(this.params.subMenu&&!this.params.action)){var r={type:t.EVENT_MENU_ITEM_SELECTED,action:this.params.action,checked:this.params.checked,cssClasses:this.params.cssClasses,disabled:this.params.disabled,icon:this.params.icon,name:this.params.name,shortcut:this.params.shortcut,subMenu:this.params.subMenu,tooltip:this.params.tooltip,event:e};this.dispatchEvent(r)}},t.prototype.onItemActivated=function(){var e={type:t.EVENT_MENU_ITEM_ACTIVATED,menuItem:this};this.dispatchEvent(e)},t.prototype.cancelActivate=function(){this.activateTimeoutId&&(window.clearTimeout(this.activateTimeoutId),this.activateTimeoutId=0)},t.prototype.cancelDeactivate=function(){this.deactivateTimeoutId&&(window.clearTimeout(this.deactivateTimeoutId),this.deactivateTimeoutId=0)},t.prototype.onMouseEnter=function(){var e=this;this.cancelDeactivate(),this.params.isAnotherSubMenuOpen()?this.activateTimeoutId=window.setTimeout(function(){return e.activate(!0)},t.ACTIVATION_DELAY):this.activate(!0)},t.prototype.onMouseLeave=function(){var e=this;this.cancelActivate(),this.isSubMenuOpen()?this.deactivateTimeoutId=window.setTimeout(function(){return e.deactivate()},t.ACTIVATION_DELAY):this.deactivate()},t.prototype.getClassName=function(e){var r=this.params.isCompact?"ag-compact-menu-option":"ag-menu-option";return e?r+"-"+e:r},t.EVENT_MENU_ITEM_SELECTED="menuItemSelected",t.EVENT_MENU_ITEM_ACTIVATED="menuItemActivated",t.ACTIVATION_DELAY=80,zT([y("popupService")],t.prototype,"popupService",void 0),zT([H],t.prototype,"init",null),t}(te);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v27.3.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */var gz=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),li=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},vz=globalThis&&globalThis.__read||function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},mz=globalThis&&globalThis.__spread||function(){for(var n=[],t=0;t<arguments.length;t++)n=n.concat(vz(arguments[t]));return n},wc=function(n){gz(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}e=t,t.addKeyboardModeEvents=function(r,i){var o=e.instancesMonitored.get(r);o&&o.length>0?o.indexOf(i)===-1&&o.push(i):(e.instancesMonitored.set(r,[i]),r.addEventListener("keydown",e.toggleKeyboardMode),r.addEventListener("mousedown",e.toggleKeyboardMode))},t.removeKeyboardModeEvents=function(r,i){var o=e.instancesMonitored.get(r),a=[];o&&o.length&&(a=mz(o).filter(function(s){return s!==i}),e.instancesMonitored.set(r,a)),a.length===0&&(r.removeEventListener("keydown",e.toggleKeyboardMode),r.removeEventListener("mousedown",e.toggleKeyboardMode))},t.toggleKeyboardMode=function(r){var i=e.keyboardModeActive,o=r.type==="keydown";if(!(o&&(r.ctrlKey||r.metaKey||r.altKey))&&!(i&&o||!i&&!o)){e.keyboardModeActive=o;var a=r.target.ownerDocument;if(!!a){var s=e.instancesMonitored.get(a);s&&s.forEach(function(l){l.dispatchEvent({type:o?x.EVENT_KEYBOARD_FOCUS:x.EVENT_MOUSE_FOCUS})})}}},t.prototype.init=function(){var r=this,i=this.clearFocusedCell.bind(this);this.addManagedListener(this.eventService,x.EVENT_COLUMN_PIVOT_MODE_CHANGED,i),this.addManagedListener(this.eventService,x.EVENT_NEW_COLUMNS_LOADED,this.onColumnEverythingChanged.bind(this)),this.addManagedListener(this.eventService,x.EVENT_COLUMN_GROUP_OPENED,i),this.addManagedListener(this.eventService,x.EVENT_COLUMN_ROW_GROUP_CHANGED,i),this.ctrlsService.whenReady(function(o){r.gridCtrl=o.gridCtrl;var a=r.gridOptionsWrapper.getDocument();e.addKeyboardModeEvents(a,r.gridCtrl),r.addDestroyFunc(function(){return r.unregisterGridCompController(r.gridCtrl)})})},t.prototype.unregisterGridCompController=function(r){var i=this.gridOptionsWrapper.getDocument();e.removeKeyboardModeEvents(i,r)},t.prototype.onColumnEverythingChanged=function(){if(!!this.focusedCellPosition){var r=this.focusedCellPosition.column,i=this.columnModel.getGridColumn(r.getId());r!==i&&this.clearFocusedCell()}},t.prototype.isKeyboardMode=function(){return e.keyboardModeActive},t.prototype.getFocusCellToUseAfterRefresh=function(){var r=this.gridOptionsWrapper.getDocument();return this.gridOptionsWrapper.isSuppressFocusAfterRefresh()||!this.focusedCellPosition||this.isDomDataMissingInHierarchy(r.activeElement,Rs.DOM_DATA_KEY_ROW_CTRL)?null:this.focusedCellPosition},t.prototype.getFocusHeaderToUseAfterRefresh=function(){var r=this.gridOptionsWrapper.getDocument();return this.gridOptionsWrapper.isSuppressFocusAfterRefresh()||!this.focusedHeaderPosition||this.isDomDataMissingInHierarchy(r.activeElement,vd.DOM_DATA_KEY_HEADER_CTRL)?null:this.focusedHeaderPosition},t.prototype.isDomDataMissingInHierarchy=function(r,i){for(var o=r;o;){var a=this.gridOptionsWrapper.getDomData(o,i);if(a)return!1;o=o.parentNode}return!0},t.prototype.clearFocusedCell=function(){this.focusedCellPosition=null,this.onCellFocused(!1)},t.prototype.getFocusedCell=function(){return this.focusedCellPosition},t.prototype.setFocusedCell=function(r,i,o,a){a===void 0&&(a=!1);var s=this.columnModel.getGridColumn(i);if(!s){this.focusedCellPosition=null;return}this.focusedCellPosition=s?{rowIndex:r,rowPinned:Ts(o),column:s}:null,this.onCellFocused(a)},t.prototype.isCellFocused=function(r){return this.focusedCellPosition==null?!1:this.focusedCellPosition.column===r.column&&this.isRowFocused(r.rowIndex,r.rowPinned)},t.prototype.isRowNodeFocused=function(r){return this.isRowFocused(r.rowIndex,r.rowPinned)},t.prototype.isHeaderWrapperFocused=function(r){if(this.focusedHeaderPosition==null)return!1;var i=r.getColumnGroupChild(),o=r.getRowIndex(),a=r.getPinned(),s=this.focusedHeaderPosition,l=s.column,u=s.headerRowIndex;return i===l&&o===u&&a==l.getPinned()},t.prototype.clearFocusedHeader=function(){this.focusedHeaderPosition=null},t.prototype.getFocusedHeader=function(){return this.focusedHeaderPosition},t.prototype.setFocusedHeader=function(r,i){this.focusedHeaderPosition={headerRowIndex:r,column:i}},t.prototype.focusHeaderPosition=function(r){var i=r.direction,o=r.fromTab,a=r.allowUserOverride,s=r.event,l=r.headerPosition;if(a){var u=this.gridOptionsWrapper,c=this.getFocusedHeader(),p=this.headerNavigationService.getHeaderRowCount();if(o){var h=u.getTabToNextHeaderFunc();if(h){var d={backwards:i==="Before",previousHeaderPosition:c,nextHeaderPosition:l,headerRowCount:p};l=h(d)}}else{var h=u.getNavigateToNextHeaderFunc();if(h&&s){var f={key:s.key,previousHeaderPosition:c,nextHeaderPosition:l,headerRowCount:p,event:s};l=h(f)}}}if(!l)return!1;if(l.headerRowIndex===-1)return this.focusGridView(l.column);this.headerNavigationService.scrollToColumn(l.column,i);var g=this.ctrlsService.getHeaderRowContainerCtrl(l.column.getPinned()),v=g.focusHeader(l.headerRowIndex,l.column,s);return v},t.prototype.focusFirstHeader=function(){var r=this.columnModel.getAllDisplayedColumns()[0];return r?(r.getParent()&&(r=this.columnModel.getColumnGroupAtLevel(r,0)),this.focusHeaderPosition({headerPosition:{headerRowIndex:0,column:r}})):!1},t.prototype.focusLastHeader=function(r){var i=this.headerNavigationService.getHeaderRowCount()-1,o=wt(this.columnModel.getAllDisplayedColumns());return this.focusHeaderPosition({headerPosition:{headerRowIndex:i,column:o},event:r})},t.prototype.isAnyCellFocused=function(){return!!this.focusedCellPosition},t.prototype.isRowFocused=function(r,i){return this.focusedCellPosition==null?!1:this.focusedCellPosition.rowIndex===r&&this.focusedCellPosition.rowPinned===Ts(i)},t.prototype.findFocusableElements=function(r,i,o){o===void 0&&(o=!1);var a=L.FOCUSABLE_SELECTOR,s=L.FOCUSABLE_EXCLUDE;i&&(s+=", "+i),o&&(s+=', [tabindex="-1"]');var l=Array.prototype.slice.apply(r.querySelectorAll(a)),u=Array.prototype.slice.apply(r.querySelectorAll(s));if(!u.length)return l;var c=function(p,h){return p.filter(function(d){return h.indexOf(d)===-1})};return c(l,u)},t.prototype.focusInto=function(r,i,o){i===void 0&&(i=!1),o===void 0&&(o=!1);var a=this.findFocusableElements(r,null,o),s=i?wt(a):a[0];return s?(s.focus(),!0):!1},t.prototype.findNextFocusableElement=function(r,i,o){r===void 0&&(r=this.eGridDiv);var a=this.findFocusableElements(r,i?':not([tabindex="-1"])':null),s=this.gridOptionsWrapper.getDocument(),l=s.activeElement,u;i?u=a.findIndex(function(p){return p.contains(l)}):u=a.indexOf(l);var c=u+(o?-1:1);return c<0||c>=a.length?null:a[c]},t.prototype.isFocusUnderManagedComponent=function(r){var i=this.gridOptionsWrapper.getDocument(),o=r.querySelectorAll("."+lo.FOCUS_MANAGED_CLASS);if(!o.length)return!1;for(var a=0;a<o.length;a++)if(o[a].contains(i.activeElement))return!0;return!1},t.prototype.findTabbableParent=function(r,i){i===void 0&&(i=5);for(var o=0;r&&Xg(r)===null&&++o<=i;)r=r.parentElement;return Xg(r)===null?null:r},t.prototype.onCellFocused=function(r){var i={type:x.EVENT_CELL_FOCUSED,forceBrowserFocus:r,rowIndex:null,column:null,floating:null,api:this.gridApi,columnApi:this.columnApi,rowPinned:null,isFullWidthCell:!1};if(this.focusedCellPosition){var o=i.rowIndex=this.focusedCellPosition.rowIndex,a=i.rowPinned=this.focusedCellPosition.rowPinned;i.column=this.focusedCellPosition.column;var s=this.rowRenderer.getRowByPosition({rowIndex:o,rowPinned:a});s&&(i.isFullWidthCell=s.isFullWidth())}this.eventService.dispatchEvent(i)},t.prototype.focusGridView=function(r,i){if(this.gridOptionsWrapper.isSuppressCellFocus())return i?this.focusLastHeader():this.focusNextGridCoreContainer(!1);var o=i?this.rowPositionUtils.getLastRow():this.rowPositionUtils.getFirstRow();if(!o)return!1;var a=o.rowIndex,s=o.rowPinned,l=this.getFocusedHeader();if(!r&&l&&(r=l.column),a==null||!r)return!1;if(this.navigationService.ensureCellVisible({rowIndex:a,column:r,rowPinned:s}),this.setFocusedCell(a,r,Ts(s),!0),this.rangeService){var u={rowIndex:a,rowPinned:s,column:r};this.rangeService.setRangeToCell(u)}return!0},t.prototype.focusNextGridCoreContainer=function(r){return this.gridCtrl.focusNextInnerContainer(r)?!0:(!r&&!this.gridCtrl.isDetailGrid()&&this.gridCtrl.forceFocusOutOfContainer(),!1)};var e;return t.AG_KEYBOARD_FOCUS="ag-keyboard-focus",t.keyboardModeActive=!1,t.instancesMonitored=new Map,li([y("eGridDiv")],t.prototype,"eGridDiv",void 0),li([y("columnModel")],t.prototype,"columnModel",void 0),li([y("headerNavigationService")],t.prototype,"headerNavigationService",void 0),li([y("columnApi")],t.prototype,"columnApi",void 0),li([y("gridApi")],t.prototype,"gridApi",void 0),li([y("rowRenderer")],t.prototype,"rowRenderer",void 0),li([y("rowPositionUtils")],t.prototype,"rowPositionUtils",void 0),li([Fe("rangeService")],t.prototype,"rangeService",void 0),li([y("navigationService")],t.prototype,"navigationService",void 0),li([y("ctrlsService")],t.prototype,"ctrlsService",void 0),li([H],t.prototype,"init",null),t=e=li([J("focusService")],t),t}(j);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v27.3.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */var yz=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Pp=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},as;(function(n){n[n.vertical=0]="vertical",n[n.horizontal=1]="horizontal"})(as||(as={}));var Cz=0,cF=function(n){yz(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.popupList=[],e}return t.prototype.postConstruct=function(){var e=this;this.ctrlsService.whenReady(function(r){e.gridCtrl=r.gridCtrl,e.addManagedListener(e.gridCtrl,x.EVENT_KEYBOARD_FOCUS,function(){e.popupList.forEach(function(i){return i.element.classList.add(wc.AG_KEYBOARD_FOCUS)})}),e.addManagedListener(e.gridCtrl,x.EVENT_MOUSE_FOCUS,function(){e.popupList.forEach(function(i){return i.element.classList.remove(wc.AG_KEYBOARD_FOCUS)})})})},t.prototype.getPopupParent=function(){var e=this.gridOptionsWrapper.getPopupParent();return e||this.gridCtrl.getGui()},t.prototype.positionPopupForMenu=function(e){var r=e.eventSource.getBoundingClientRect(),i=this.getParentRect(),o=this.keepXYWithinBounds(e.ePopup,r.top-i.top,as.vertical),a=e.ePopup.clientWidth>0?e.ePopup.clientWidth:200;e.ePopup.style.minWidth=a+"px";var s=i.right-i.left,l=s-a,u;this.gridOptionsWrapper.isEnableRtl()?(u=p(),u<0&&(u=c()),u>l&&(u=0)):(u=c(),u>l&&(u=p()),u<0&&(u=0)),e.ePopup.style.left=u+"px",e.ePopup.style.top=o+"px";function c(){return r.right-i.left-2}function p(){return r.left-i.left-a}},t.prototype.positionPopupUnderMouseEvent=function(e){var r=e.ePopup,i=e.nudgeX,o=e.nudgeY,a=this.calculatePointerAlign(e.mouseEvent),s=a.x,l=a.y;this.positionPopup({ePopup:r,x:s,y:l,nudgeX:i,nudgeY:o,keepWithinBounds:!0}),this.callPostProcessPopup(e.type,e.ePopup,null,e.mouseEvent,e.column,e.rowNode)},t.prototype.calculatePointerAlign=function(e){var r=this.getParentRect();return{x:e.clientX-r.left,y:e.clientY-r.top}},t.prototype.positionPopupUnderComponent=function(e){var r=e.eventSource.getBoundingClientRect(),i=e.alignSide||"left",o=this.getParentRect(),a=r.left-o.left;i==="right"&&(a-=e.ePopup.offsetWidth-r.width),this.positionPopup({ePopup:e.ePopup,nudgeX:e.nudgeX,nudgeY:e.nudgeY,x:a,y:r.top-o.top+r.height,keepWithinBounds:e.keepWithinBounds}),this.callPostProcessPopup(e.type,e.ePopup,e.eventSource,null,e.column,e.rowNode)},t.prototype.positionPopupOverComponent=function(e){var r=e.eventSource.getBoundingClientRect(),i=this.getParentRect();this.positionPopup({ePopup:e.ePopup,nudgeX:e.nudgeX,nudgeY:e.nudgeY,x:r.left-i.left,y:r.top-i.top,keepWithinBounds:e.keepWithinBounds}),this.callPostProcessPopup(e.type,e.ePopup,e.eventSource,null,e.column,e.rowNode)},t.prototype.callPostProcessPopup=function(e,r,i,o,a,s){var l=this.gridOptionsWrapper.getPostProcessPopupFunc();if(l){var u={column:a,rowNode:s,ePopup:r,type:e,eventSource:i,mouseEvent:o};l(u)}},t.prototype.positionPopup=function(e){var r=e.ePopup,i=e.keepWithinBounds,o=e.nudgeX,a=e.nudgeY,s=e.x,l=e.y;o&&(s+=o),a&&(l+=a),i&&(s=this.keepXYWithinBounds(r,s,as.horizontal),l=this.keepXYWithinBounds(r,l,as.vertical)),r.style.left=s+"px",r.style.top=l+"px"},t.prototype.getActivePopups=function(){return this.popupList.map(function(e){return e.element})},t.prototype.getPopupList=function(){return this.popupList},t.prototype.getParentRect=function(){var e=this.gridOptionsWrapper.getDocument(),r=this.getPopupParent();r===e.body&&(r=e.documentElement);var i=getComputedStyle(r),o=r.getBoundingClientRect();return{top:o.top+parseFloat(i.borderTopWidth)||0,left:o.left+parseFloat(i.borderLeftWidth)||0,right:o.right+parseFloat(i.borderRightWidth)||0,bottom:o.bottom+parseFloat(i.borderBottomWidth)||0}},t.prototype.keepXYWithinBounds=function(e,r,i){var o=i===as.vertical,a=o?"clientHeight":"clientWidth",s=o?"top":"left",l=o?"offsetHeight":"offsetWidth",u=o?"scrollTop":"scrollLeft",c=this.gridOptionsWrapper.getDocument(),p=c.documentElement,h=this.getPopupParent(),d=h.getBoundingClientRect(),f=c.documentElement.getBoundingClientRect(),g=h===c.body,v=e[l],m=o?CS:um,C=g?m(p)+p[u]:h[a];g&&(C-=Math.abs(f[s]-d[s]));var b=C-v;return Math.min(Math.max(r,0),Math.abs(b))},t.prototype.keepPopupPositionedRelativeTo=function(e){var r=this,i=this.getPopupParent(),o=i.getBoundingClientRect(),a=e.element.getBoundingClientRect(),s=o.top-a.top,l=o.left-a.left,u=s,c=l,p=e.ePopup.style.top,h=parseInt(p.substring(0,p.length-1),10),d=e.ePopup.style.left,f=parseInt(d.substring(0,d.length-1),10);return new Dt(function(g){r.getFrameworkOverrides().setInterval(function(){var v=i.getBoundingClientRect(),m=e.element.getBoundingClientRect(),C=m.top==0&&m.left==0&&m.height==0&&m.width==0;if(C){e.hidePopup();return}var b=v.top-m.top;if(b!=u){var w=r.keepXYWithinBounds(e.ePopup,h+s-b,as.vertical);e.ePopup.style.top=w+"px"}u=b;var S=v.left-m.left;if(S!=c){var T=r.keepXYWithinBounds(e.ePopup,f+l-S,as.horizontal);e.ePopup.style.left=T+"px"}c=S},200).then(function(v){var m=function(){v!=null&&window.clearInterval(v)};g(m)})})},t.prototype.addPopup=function(e){var r=this,i=e.modal,o=e.eChild,a=e.closeOnEsc,s=e.closedCallback,l=e.click,u=e.alwaysOnTop,c=e.afterGuiAttached,p=e.positionCallback,h=e.anchorToElement,d=e.ariaLabel,f=this.gridOptionsWrapper.getDocument(),g=new Dt(function(M){return M(function(){})});if(!f)return console.warn("ag-grid: could not find the document, document is empty"),{hideFunc:function(){},stopAnchoringPromise:g};var v=this.popupList.findIndex(function(M){return M.element===o});if(v!==-1){var m=this.popupList[v];return{hideFunc:m.hideFunc,stopAnchoringPromise:m.stopAnchoringPromise}}var C=this.getPopupParent();o.style.top==null&&(o.style.top="0px"),o.style.left==null&&(o.style.left="0px");var b=document.createElement("div"),w=this.environment.getTheme().theme;w&&b.classList.add(w),b.classList.add("ag-popup"),o.classList.add(this.gridOptionsWrapper.isEnableRtl()?"ag-rtl":"ag-ltr","ag-popup-child"),o.hasAttribute("role")||Jr(o,"dialog"),lu(o,d),this.focusService.isKeyboardMode()&&o.classList.add(wc.AG_KEYBOARD_FOCUS),b.appendChild(o),C.appendChild(b),u?this.setAlwaysOnTop(b,!0):this.bringPopupToFront(b);var S=!1,T=function(M){if(!!b.contains(f.activeElement)){var N=M.key;N===U.ESCAPE&&R({keyboardEvent:M})}},E=function(M){return R({mouseEvent:M})},P=function(M){return R({touchEvent:M})},R=function(M){M===void 0&&(M={});var N=M.mouseEvent,B=M.touchEvent,k=M.keyboardEvent;r.isEventFromCurrentPopup({mouseEvent:N,touchEvent:B},o)||r.isEventSameChainAsOriginalEvent({originalMouseEvent:l,mouseEvent:N,touchEvent:B})||S||(S=!0,C.removeChild(b),f.removeEventListener("keydown",T),f.removeEventListener("mousedown",E),f.removeEventListener("touchstart",P),f.removeEventListener("contextmenu",E),r.eventService.removeEventListener(x.EVENT_DRAG_STARTED,E),s&&s(N||B||k),r.popupList=r.popupList.filter(function(G){return G.element!==o}),g&&g.then(function(G){return G&&G()}))};return c&&c({hidePopup:R}),window.setTimeout(function(){a&&f.addEventListener("keydown",T),i&&(f.addEventListener("mousedown",E),r.eventService.addEventListener(x.EVENT_DRAG_STARTED,E),f.addEventListener("touchstart",P),f.addEventListener("contextmenu",E))},0),p&&p(),h&&(g=this.keepPopupPositionedRelativeTo({element:h,ePopup:o,hidePopup:R})),this.popupList.push({element:o,wrapper:b,hideFunc:R,stopAnchoringPromise:g,instanceId:Cz++,isAnchored:!!h}),{hideFunc:R,stopAnchoringPromise:g}},t.prototype.hasAnchoredPopup=function(){return this.popupList.some(function(e){return e.isAnchored})},t.prototype.isEventFromCurrentPopup=function(e,r){var i=e.mouseEvent,o=e.touchEvent,a=i||o;if(!a)return!1;var s=this.popupList.findIndex(function(c){return c.element===r});if(s===-1)return!1;for(var l=s;l<this.popupList.length;l++){var u=this.popupList[l];if(Yg(u.element,a))return!0}return this.isElementWithinCustomPopup(a.target)},t.prototype.isElementWithinCustomPopup=function(e){for(var r=this.gridOptionsWrapper.getDocument();e&&e!==r.body;){if(e.classList.contains("ag-custom-component-popup")||e.parentElement===null)return!0;e=e.parentElement}return!1},t.prototype.isEventSameChainAsOriginalEvent=function(e){var r=e.originalMouseEvent,i=e.mouseEvent,o=e.touchEvent,a=null;if(i?a=i:o&&(a=o.touches[0]),a&&r){var s=i?i.screenX:0,l=i?i.screenY:0,u=Math.abs(r.screenX-s)<5,c=Math.abs(r.screenY-l)<5;if(u&&c)return!0}return!1},t.prototype.getWrapper=function(e){for(;!e.classList.contains("ag-popup")&&e.parentElement;)e=e.parentElement;return e.classList.contains("ag-popup")?e:null},t.prototype.setAlwaysOnTop=function(e,r){var i=this.getWrapper(e);!i||(i.classList.toggle("ag-always-on-top",!!r),r&&this.bringPopupToFront(i))},t.prototype.bringPopupToFront=function(e){var r=this.getPopupParent(),i=Array.prototype.slice.call(r.querySelectorAll(".ag-popup")),o=i.length,a=Array.prototype.slice.call(r.querySelectorAll(".ag-popup.ag-always-on-top")),s=a.length,l=this.getWrapper(e);if(!(!l||o<=1||!r.contains(e))){var u=i.indexOf(l),c=l.querySelectorAll("div"),p=[];if(c.forEach(function(g){g.scrollTop!==0&&p.push([g,g.scrollTop])}),s){var h=l.classList.contains("ag-always-on-top");h?u!==o-1&&wt(a).insertAdjacentElement("afterend",l):u!==o-s-1&&a[0].insertAdjacentElement("beforebegin",l)}else u!==o-1&&wt(i).insertAdjacentElement("afterend",l);for(;p.length;){var d=p.pop();d[0].scrollTop=d[1]}var f={type:"popupToFront",api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),eWrapper:l};this.eventService.dispatchEvent(f)}},Pp([y("environment")],t.prototype,"environment",void 0),Pp([y("focusService")],t.prototype,"focusService",void 0),Pp([y("ctrlsService")],t.prototype,"ctrlsService",void 0),Pp([H],t.prototype,"postConstruct",null),t=Pp([J("popupService")],t),t}(j);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v27.3.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */var bz=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Kd=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},bd=function(n){bz(t,n);function t(e,r,i){e===void 0&&(e="default"),r===void 0&&(r="listbox");var o=n.call(this,t.getTemplate(e))||this;return o.cssIdentifier=e,o.ariaRole=r,o.listName=i,o.renderedRows=new Map,o.rowHeight=20,o.isDestroyed=!1,o}return t.prototype.postConstruct=function(){var e=this;this.addScrollListener(),this.rowHeight=this.getItemHeight(),this.addResizeObserver(),this.initialiseTabGuard({onFocusIn:function(r){return e.onFocusIn(r)},onFocusOut:function(r){return e.onFocusOut(r)},focusInnerElement:function(r){return e.focusInnerElement(r)},onTabKeyDown:function(r){return e.onTabKeyDown(r)},handleKeyDown:function(r){return e.handleKeyDown(r)}}),this.setAriaProperties()},t.prototype.setAriaProperties=function(){var e=this.gridOptionsWrapper.getLocaleTextFunc(),r=e("ariaDefaultListName",this.listName||"List"),i=this.eContainer;Jr(i,this.ariaRole),lu(i,r)},t.prototype.addResizeObserver=function(){var e=this.drawVirtualRows.bind(this),r=this.resizeObserverService.observeResize(this.getGui(),e);this.addDestroyFunc(r)},t.prototype.focusInnerElement=function(e){this.focusRow(e?this.model.getRowCount()-1:0)},t.prototype.onFocusIn=function(e){var r=e.target;return r.classList.contains("ag-virtual-list-item")&&(this.lastFocusedRowIndex=LM(r)-1),!1},t.prototype.onFocusOut=function(e){return this.getFocusableElement().contains(e.relatedTarget)||(this.lastFocusedRowIndex=null),!1},t.prototype.handleKeyDown=function(e){switch(e.key){case U.UP:case U.DOWN:this.navigate(e.key===U.UP)&&e.preventDefault();break}},t.prototype.onTabKeyDown=function(e){this.navigate(e.shiftKey)?e.preventDefault():this.focusService.focusInto(this.getGui(),!e.shiftKey)},t.prototype.navigate=function(e){if(this.lastFocusedRowIndex==null)return!1;var r=this.lastFocusedRowIndex+(e?-1:1);return r<0||r>=this.model.getRowCount()?!1:(this.focusRow(r),!0)},t.prototype.getLastFocusedRow=function(){return this.lastFocusedRowIndex},t.prototype.focusRow=function(e){var r=this;this.ensureIndexVisible(e),window.setTimeout(function(){var i=r.renderedRows.get(e);i&&i.eDiv.focus()},10)},t.prototype.getComponentAt=function(e){var r=this.renderedRows.get(e);return r&&r.rowComponent},t.getTemplate=function(e){return`
            <div class="ag-virtual-list-viewport ag-`+e+`-virtual-list-viewport" role="presentation">
                <div class="ag-virtual-list-container ag-`+e+`-virtual-list-container" ref="eContainer"></div>
            </div>`},t.prototype.getItemHeight=function(){return this.gridOptionsWrapper.getListItemHeight()},t.prototype.ensureIndexVisible=function(e){var r=this.model.getRowCount();if(typeof e!="number"||e<0||e>=r){console.warn("AG Grid: invalid row index for ensureIndexVisible: "+e);return}var i=e*this.rowHeight,o=i+this.rowHeight,a=this.getGui(),s=a.scrollTop,l=a.offsetHeight,u=s+l,c=s>i,p=u<o;if(c)a.scrollTop=i;else if(p){var h=o-l;a.scrollTop=h}},t.prototype.setComponentCreator=function(e){this.componentCreator=e},t.prototype.getRowHeight=function(){return this.rowHeight},t.prototype.getScrollTop=function(){return this.getGui().scrollTop},t.prototype.setRowHeight=function(e){this.rowHeight=e,this.refresh()},t.prototype.refresh=function(){var e=this;if(!(this.model==null||this.isDestroyed)){var r=this.model.getRowCount();this.eContainer.style.height=r*this.rowHeight+"px",tM(function(){return e.eContainer.clientHeight>=r*e.rowHeight},function(){e.isDestroyed||(e.clearVirtualRows(),e.drawVirtualRows())})}},t.prototype.clearVirtualRows=function(){var e=this;this.renderedRows.forEach(function(r,i){return e.removeRow(i)})},t.prototype.drawVirtualRows=function(){var e=this.getGui(),r=e.scrollTop,i=r+e.offsetHeight,o=Math.floor(r/this.rowHeight),a=Math.floor(i/this.rowHeight);this.ensureRowsRendered(o,a)},t.prototype.ensureRowsRendered=function(e,r){var i=this;this.renderedRows.forEach(function(a,s){(s<e||s>r)&&s!==i.lastFocusedRowIndex&&i.removeRow(s)});for(var o=e;o<=r;o++)this.renderedRows.has(o)||o<this.model.getRowCount()&&this.insertRow(o)},t.prototype.insertRow=function(e){var r=this,i=this.model.getRow(e),o=document.createElement("div");if(o.classList.add("ag-virtual-list-item","ag-"+this.cssIdentifier+"-virtual-list-item"),Jr(o,this.ariaRole==="tree"?"treeitem":"option"),RS(o,this.model.getRowCount()),PS(o,e+1),o.setAttribute("tabindex","-1"),typeof this.model.isRowSelected=="function"){var a=this.model.isRowSelected(e);kc(o,!!a),zM(o,a)}o.style.height=this.rowHeight+"px",o.style.top=this.rowHeight*e+"px";var s=this.componentCreator(i,o);s.addGuiEventListener("focusin",function(){return r.lastFocusedRowIndex=e}),o.appendChild(s.getGui()),this.renderedRows.has(e-1)?this.renderedRows.get(e-1).eDiv.insertAdjacentElement("afterend",o):this.renderedRows.has(e+1)?this.renderedRows.get(e+1).eDiv.insertAdjacentElement("beforebegin",o):this.eContainer.appendChild(o),this.renderedRows.set(e,{rowComponent:s,eDiv:o})},t.prototype.removeRow=function(e){var r=this.renderedRows.get(e);this.eContainer.removeChild(r.eDiv),this.destroyBean(r.rowComponent),this.renderedRows.delete(e)},t.prototype.addScrollListener=function(){var e=this;this.addGuiEventListener("scroll",function(){return e.drawVirtualRows()})},t.prototype.setModel=function(e){this.model=e},t.prototype.destroy=function(){this.isDestroyed||(this.clearVirtualRows(),this.isDestroyed=!0,n.prototype.destroy.call(this))},Kd([y("resizeObserverService")],t.prototype,"resizeObserverService",void 0),Kd([y("focusService")],t.prototype,"focusService",void 0),Kd([I("eContainer")],t.prototype,"eContainer",void 0),Kd([H],t.prototype,"postConstruct",null),t}(cu);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v27.3.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */var wz=["mouseover","mouseout","mouseenter","mouseleave"],_z=["touchstart","touchend","touchmove","touchcancel"],pF=function(){function n(){this.isOutsideAngular=function(t){return ri(wz,t)}}return n.prototype.setTimeout=function(t,e){window.setTimeout(t,e)},n.prototype.setInterval=function(t,e){return new Dt(function(r){r(window.setInterval(t,e))})},n.prototype.addEventListener=function(t,e,r,i){var o=ri(_z,e);t.addEventListener(e,r,{capture:!!i,passive:o})},n.prototype.dispatchEvent=function(t,e,r){e()},n.prototype.frameworkComponent=function(t){return null},n.prototype.isFrameworkComponent=function(t){return!1},n}();/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v27.3.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */var Sz=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Ap=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},hF=function(n){Sz(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.getNextCellToFocus=function(e,r,i){return i===void 0&&(i=!1),i?this.getNextCellToFocusWithCtrlPressed(e,r):this.getNextCellToFocusWithoutCtrlPressed(e,r)},t.prototype.getNextCellToFocusWithCtrlPressed=function(e,r){var i=e===U.UP,o=e===U.DOWN,a=e===U.LEFT,s,l;if(i||o)l=i?this.paginationProxy.getPageFirstRow():this.paginationProxy.getPageLastRow(),s=r.column;else{var u=this.columnModel.getAllDisplayedColumns(),c=this.gridOptionsWrapper.isEnableRtl();l=r.rowIndex,s=a!==c?u[0]:wt(u)}return{rowIndex:l,rowPinned:null,column:s}},t.prototype.getNextCellToFocusWithoutCtrlPressed=function(e,r){for(var i=r,o=!1;!o;){switch(e){case U.UP:i=this.getCellAbove(i);break;case U.DOWN:i=this.getCellBelow(i);break;case U.RIGHT:this.gridOptionsWrapper.isEnableRtl()?i=this.getCellToLeft(i):i=this.getCellToRight(i);break;case U.LEFT:this.gridOptionsWrapper.isEnableRtl()?i=this.getCellToRight(i):i=this.getCellToLeft(i);break;default:i=null,console.warn("AG Grid: unknown key for navigation "+e);break}i?o=this.isCellGoodToFocusOn(i):o=!0}return i},t.prototype.isCellGoodToFocusOn=function(e){var r=e.column,i;switch(e.rowPinned){case L.PINNED_TOP:i=this.pinnedRowModel.getPinnedTopRow(e.rowIndex);break;case L.PINNED_BOTTOM:i=this.pinnedRowModel.getPinnedBottomRow(e.rowIndex);break;default:i=this.rowModel.getRow(e.rowIndex);break}if(!i)return!1;var o=r.isSuppressNavigable(i);return!o},t.prototype.getCellToLeft=function(e){if(!e)return null;var r=this.columnModel.getDisplayedColBefore(e.column);return r?{rowIndex:e.rowIndex,column:r,rowPinned:e.rowPinned}:null},t.prototype.getCellToRight=function(e){if(!e)return null;var r=this.columnModel.getDisplayedColAfter(e.column);return r?{rowIndex:e.rowIndex,column:r,rowPinned:e.rowPinned}:null},t.prototype.getRowBelow=function(e){var r=e.rowIndex,i=e.rowPinned;if(this.isLastRowInContainer(e))switch(i){case L.PINNED_BOTTOM:return null;case L.PINNED_TOP:return this.rowModel.isRowsToRender()?{rowIndex:this.paginationProxy.getPageFirstRow(),rowPinned:null}:this.pinnedRowModel.isRowsToRender(L.PINNED_BOTTOM)?{rowIndex:0,rowPinned:L.PINNED_BOTTOM}:null;default:return this.pinnedRowModel.isRowsToRender(L.PINNED_BOTTOM)?{rowIndex:0,rowPinned:L.PINNED_BOTTOM}:null}return{rowIndex:r+1,rowPinned:i}},t.prototype.getCellBelow=function(e){if(!e)return null;var r=this.getRowBelow(e);return r?{rowIndex:r.rowIndex,column:e.column,rowPinned:r.rowPinned}:null},t.prototype.isLastRowInContainer=function(e){var r=e.rowPinned,i=e.rowIndex;if(r===L.PINNED_TOP){var o=this.pinnedRowModel.getPinnedTopRowData().length-1;return o<=i}if(r===L.PINNED_BOTTOM){var a=this.pinnedRowModel.getPinnedBottomRowData().length-1;return a<=i}var s=this.paginationProxy.getPageLastRow();return s<=i},t.prototype.getRowAbove=function(e){var r=e.rowIndex,i=e.rowPinned,o=i?r===0:r===this.paginationProxy.getPageFirstRow();return o?i===L.PINNED_TOP?null:i?this.rowModel.isRowsToRender()?this.getLastBodyCell():this.pinnedRowModel.isRowsToRender(L.PINNED_TOP)?this.getLastFloatingTopRow():null:this.pinnedRowModel.isRowsToRender(L.PINNED_TOP)?this.getLastFloatingTopRow():null:{rowIndex:r-1,rowPinned:i}},t.prototype.getCellAbove=function(e){if(!e)return null;var r=this.getRowAbove({rowIndex:e.rowIndex,rowPinned:e.rowPinned});return r?{rowIndex:r.rowIndex,column:e.column,rowPinned:r.rowPinned}:null},t.prototype.getLastBodyCell=function(){var e=this.paginationProxy.getPageLastRow();return{rowIndex:e,rowPinned:null}},t.prototype.getLastFloatingTopRow=function(){var e=this.pinnedRowModel.getPinnedTopRowData().length-1;return{rowIndex:e,rowPinned:L.PINNED_TOP}},t.prototype.getNextTabbedCell=function(e,r){return r?this.getNextTabbedCellBackwards(e):this.getNextTabbedCellForwards(e)},t.prototype.getNextTabbedCellForwards=function(e){var r=this.columnModel.getAllDisplayedColumns(),i=e.rowIndex,o=e.rowPinned,a=this.columnModel.getDisplayedColAfter(e.column);if(!a){a=r[0];var s=this.getRowBelow(e);if(ye(s)||!s.rowPinned&&!this.paginationProxy.isRowInPage(s))return null;i=s?s.rowIndex:null,o=s?s.rowPinned:null}return{rowIndex:i,column:a,rowPinned:o}},t.prototype.getNextTabbedCellBackwards=function(e){var r=this.columnModel.getAllDisplayedColumns(),i=e.rowIndex,o=e.rowPinned,a=this.columnModel.getDisplayedColBefore(e.column);if(!a){a=wt(r);var s=this.getRowAbove({rowIndex:e.rowIndex,rowPinned:e.rowPinned});if(ye(s)||!s.rowPinned&&!this.paginationProxy.isRowInPage(s))return null;i=s?s.rowIndex:null,o=s?s.rowPinned:null}return{rowIndex:i,column:a,rowPinned:o}},Ap([y("columnModel")],t.prototype,"columnModel",void 0),Ap([y("rowModel")],t.prototype,"rowModel",void 0),Ap([y("pinnedRowModel")],t.prototype,"pinnedRowModel",void 0),Ap([y("paginationProxy")],t.prototype,"paginationProxy",void 0),t=Ap([J("cellNavigationService")],t),t}(j);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v27.3.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */var xz=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Dp=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Tz=globalThis&&globalThis.__param||function(n,t){return function(e,r){t(e,r,n)}},dF=function(n){xz(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.consuming=!1,e}return t.prototype.setBeans=function(e){this.logger=e.create("AlignedGridsService")},t.prototype.init=function(){this.addManagedListener(this.eventService,x.EVENT_COLUMN_MOVED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,x.EVENT_COLUMN_VISIBLE,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,x.EVENT_COLUMN_PINNED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,x.EVENT_COLUMN_GROUP_OPENED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,x.EVENT_COLUMN_RESIZED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,x.EVENT_BODY_SCROLL,this.fireScrollEvent.bind(this))},t.prototype.fireEvent=function(e){if(!this.consuming){var r=this.gridOptionsWrapper.getAlignedGrids();r&&r.forEach(function(i){if(i.api){var o=i.api.__getAlignedGridService();e(o)}})}},t.prototype.onEvent=function(e){this.consuming=!0,e(),this.consuming=!1},t.prototype.fireColumnEvent=function(e){this.fireEvent(function(r){r.onColumnEvent(e)})},t.prototype.fireScrollEvent=function(e){e.direction==="horizontal"&&this.fireEvent(function(r){r.onScrollEvent(e)})},t.prototype.onScrollEvent=function(e){var r=this;this.onEvent(function(){var i=r.ctrlsService.getGridBodyCtrl();i.getScrollFeature().setHorizontalScrollPosition(e.left)})},t.prototype.getMasterColumns=function(e){var r=[];return e.columns?e.columns.forEach(function(i){r.push(i)}):e.column&&r.push(e.column),r},t.prototype.getColumnIds=function(e){var r=[];return e.columns?e.columns.forEach(function(i){r.push(i.getColId())}):e.column&&r.push(e.column.getColId()),r},t.prototype.onColumnEvent=function(e){var r=this;this.onEvent(function(){switch(e.type){case x.EVENT_COLUMN_MOVED:case x.EVENT_COLUMN_VISIBLE:case x.EVENT_COLUMN_PINNED:case x.EVENT_COLUMN_RESIZED:var i=e;r.processColumnEvent(i);break;case x.EVENT_COLUMN_GROUP_OPENED:var o=e;r.processGroupOpenedEvent(o);break;case x.EVENT_COLUMN_PIVOT_CHANGED:console.warn("AG Grid: pivoting is not supported with aligned grids. You can only use one of these features at a time in a grid.");break}})},t.prototype.processGroupOpenedEvent=function(e){var r=e.columnGroup,i=null;if(r){var o=r.getGroupId();i=this.columnModel.getProvidedColumnGroup(o)}r&&!i||(this.logger.log("onColumnEvent-> processing "+e+" expanded = "+r.isExpanded()),this.columnModel.setColumnGroupOpened(i,r.isExpanded(),"alignedGridChanged"))},t.prototype.processColumnEvent=function(e){var r=this,i=e.column,o=null;if(i&&(o=this.columnModel.getPrimaryColumn(i.getColId())),!(i&&!o)){var a=this.getMasterColumns(e);switch(e.type){case x.EVENT_COLUMN_MOVED:{var s=e,l=e.columnApi.getColumnState(),u=l.map(function(v){return{colId:v.colId}});this.columnModel.applyColumnState({state:u,applyOrder:!0},"alignedGridChanged"),this.logger.log("onColumnEvent-> processing "+e.type+" toIndex = "+s.toIndex)}break;case x.EVENT_COLUMN_VISIBLE:{var c=e,l=e.columnApi.getColumnState(),u=l.map(function(C){return{colId:C.colId,hide:C.hide}});this.columnModel.applyColumnState({state:u},"alignedGridChanged"),this.logger.log("onColumnEvent-> processing "+e.type+" visible = "+c.visible)}break;case x.EVENT_COLUMN_PINNED:{var p=e,l=e.columnApi.getColumnState(),u=l.map(function(C){return{colId:C.colId,pinned:C.pinned}});this.columnModel.applyColumnState({state:u},"alignedGridChanged"),this.logger.log("onColumnEvent-> processing "+e.type+" pinned = "+p.pinned)}break;case x.EVENT_COLUMN_RESIZED:var h=e;a.forEach(function(v){r.logger.log("onColumnEvent-> processing "+e.type+" actualWidth = "+v.getActualWidth());var m=[{key:v.getColId(),newWidth:v.getActualWidth()}];r.columnModel.setColumnWidths(m,!1,h.finished,"alignedGridChanged")});break}var d=this.ctrlsService.getGridBodyCtrl(),f=d.isVerticalScrollShowing(),g=this.gridOptionsWrapper.getAlignedGrids();g&&g.forEach(function(v){v.api&&v.api.setAlwaysShowVerticalScroll(f)})}},Dp([y("columnModel")],t.prototype,"columnModel",void 0),Dp([y("ctrlsService")],t.prototype,"ctrlsService",void 0),Dp([Tz(0,xr("loggerFactory"))],t.prototype,"setBeans",null),Dp([H],t.prototype,"init",null),t=Dp([J("alignedGridsService")],t),t}(j);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v27.3.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */var Oz=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Eu=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Ez=globalThis&&globalThis.__param||function(n,t){return function(e,r){t(e,r,n)}},fF=function(n){Oz(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.setBeans=function(e){this.logger=e.create("selectionService"),this.reset()},t.prototype.init=function(){this.groupSelectsChildren=this.gridOptionsWrapper.isGroupSelectsChildren(),this.addManagedListener(this.eventService,x.EVENT_ROW_SELECTED,this.onRowSelected.bind(this))},t.prototype.setLastSelectedNode=function(e){this.lastSelectedNode=e},t.prototype.getLastSelectedNode=function(){return this.lastSelectedNode},t.prototype.getSelectedNodes=function(){var e=[];return ut(this.selectedNodes,function(r,i){i&&e.push(i)}),e},t.prototype.getSelectedRows=function(){var e=[];return ut(this.selectedNodes,function(r,i){i&&i.data&&e.push(i.data)}),e},t.prototype.removeGroupsFromSelection=function(){var e=this;ut(this.selectedNodes,function(r,i){i&&i.group&&(e.selectedNodes[i.id]=void 0)})},t.prototype.updateGroupsFromChildrenSelections=function(e){if(!!this.gridOptionsWrapper.isGroupSelectsChildren()&&this.rowModel.getType()===L.ROW_MODEL_TYPE_CLIENT_SIDE){var r=this.rowModel,i=r.getRootNode();e||(e=new yd(!0,i),e.setInactive()),e.forEachChangedNodeDepthFirst(function(o){o!==i&&o.calculateSelectedFromChildren()})}},t.prototype.getNodeForIdIfSelected=function(e){return this.selectedNodes[e]},t.prototype.clearOtherNodes=function(e){var r=this,i={},o=0;return ut(this.selectedNodes,function(a,s){if(s&&s.id!==e.id){var l=r.selectedNodes[s.id];o+=l.setSelectedParams({newValue:!1,clearSelection:!1,suppressFinishActions:!0}),r.groupSelectsChildren&&s.parent&&(i[s.parent.id]=s.parent)}}),ut(i,function(a,s){s.calculateSelectedFromChildren()}),o},t.prototype.onRowSelected=function(e){var r=e.node;this.groupSelectsChildren&&r.group||(r.isSelected()?this.selectedNodes[r.id]=r:this.selectedNodes[r.id]=void 0)},t.prototype.syncInRowNode=function(e,r){this.syncInOldRowNode(e,r),this.syncInNewRowNode(e)},t.prototype.syncInOldRowNode=function(e,r){var i=Z(r)&&e.id!==r.id;if(i&&r){var o=r.id,a=this.selectedNodes[o]==e;a&&(this.selectedNodes[r.id]=r)}},t.prototype.syncInNewRowNode=function(e){Z(this.selectedNodes[e.id])?(e.setSelectedInitialValue(!0),this.selectedNodes[e.id]=e):e.setSelectedInitialValue(!1)},t.prototype.reset=function(){this.logger.log("reset"),this.selectedNodes={},this.lastSelectedNode=null},t.prototype.getBestCostNodeSelection=function(){if(this.rowModel.getType()!==L.ROW_MODEL_TYPE_CLIENT_SIDE){console.warn("AG Grid: `getBestCostNodeSelection` is only available when using normal row model");return}var e=this.rowModel,r=e.getTopLevelNodes();if(r===null){console.warn("AG Grid: `selectAll` not available doing `rowModel=virtual`");return}var i=[];function o(a){for(var s=0,l=a.length;s<l;s++){var u=a[s];if(u.isSelected())i.push(u);else{var c=u;c.group&&c.children&&o(c.children)}}}return o(r),i},t.prototype.setRowModel=function(e){this.rowModel=e},t.prototype.isEmpty=function(){var e=0;return ut(this.selectedNodes,function(r,i){i&&e++}),e===0},t.prototype.deselectAllRowNodes=function(e){e===void 0&&(e=!1);var r=function(s){return s.selectThisNode(!1)},i=this.rowModel.getType()===L.ROW_MODEL_TYPE_CLIENT_SIDE;if(e){if(!i){console.error("AG Grid: selecting just filtered only works with In Memory Row Model");return}var o=this.rowModel;o.forEachNodeAfterFilter(r)}else ut(this.selectedNodes,function(s,l){l&&r(l)}),this.reset();i&&this.groupSelectsChildren&&this.updateGroupsFromChildrenSelections();var a={type:x.EVENT_SELECTION_CHANGED,api:this.gridApi,columnApi:this.columnApi};this.eventService.dispatchEvent(a)},t.prototype.selectAllRowNodes=function(e){if(e===void 0&&(e=!1),this.rowModel.getType()!==L.ROW_MODEL_TYPE_CLIENT_SIDE)throw new Error("selectAll only available with normal row model, ie not "+this.rowModel.getType());var r=this.rowModel,i=function(a){return a.selectThisNode(!0)};e?r.forEachNodeAfterFilter(i):r.forEachNode(i),this.rowModel.getType()===L.ROW_MODEL_TYPE_CLIENT_SIDE&&this.groupSelectsChildren&&this.updateGroupsFromChildrenSelections();var o={type:x.EVENT_SELECTION_CHANGED,api:this.gridApi,columnApi:this.columnApi};this.eventService.dispatchEvent(o)},t.prototype.selectNode=function(e,r){e&&e.setSelectedParams({newValue:!0,clearSelection:!r})},t.prototype.deselectIndex=function(e){var r=this.rowModel.getRow(e);this.deselectNode(r)},t.prototype.deselectNode=function(e){e&&e.setSelectedParams({newValue:!1,clearSelection:!1})},t.prototype.selectIndex=function(e,r){var i=this.rowModel.getRow(e);this.selectNode(i,r)},Eu([y("rowModel")],t.prototype,"rowModel",void 0),Eu([y("columnApi")],t.prototype,"columnApi",void 0),Eu([y("gridApi")],t.prototype,"gridApi",void 0),Eu([Ez(0,xr("loggerFactory"))],t.prototype,"setBeans",null),Eu([H],t.prototype,"init",null),t=Eu([J("selectionService")],t),t}(j);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v27.3.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */var Ky=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},gF=function(){function n(){}return n.prototype.sizeColumnsToFit=function(t){typeof t=="undefined"&&console.error("AG Grid: missing parameter to columnApi.sizeColumnsToFit(gridWidth)"),this.columnModel.sizeColumnsToFit(t,"api")},n.prototype.setColumnGroupOpened=function(t,e){this.columnModel.setColumnGroupOpened(t,e,"api")},n.prototype.getColumnGroup=function(t,e){return this.columnModel.getColumnGroup(t,e)},n.prototype.getProvidedColumnGroup=function(t){return this.columnModel.getProvidedColumnGroup(t)},n.prototype.getDisplayNameForColumn=function(t,e){return this.columnModel.getDisplayNameForColumn(t,e)||""},n.prototype.getDisplayNameForColumnGroup=function(t,e){return this.columnModel.getDisplayNameForColumnGroup(t,e)||""},n.prototype.getColumn=function(t){return this.columnModel.getPrimaryColumn(t)},n.prototype.applyColumnState=function(t){return this.columnModel.applyColumnState(t,"api")},n.prototype.getColumnState=function(){return this.columnModel.getColumnState()},n.prototype.resetColumnState=function(){this.columnModel.resetColumnState("api")},n.prototype.getColumnGroupState=function(){return this.columnModel.getColumnGroupState()},n.prototype.setColumnGroupState=function(t){this.columnModel.setColumnGroupState(t,"api")},n.prototype.resetColumnGroupState=function(){this.columnModel.resetColumnGroupState("api")},n.prototype.isPinning=function(){return this.columnModel.isPinningLeft()||this.columnModel.isPinningRight()},n.prototype.isPinningLeft=function(){return this.columnModel.isPinningLeft()},n.prototype.isPinningRight=function(){return this.columnModel.isPinningRight()},n.prototype.getDisplayedColAfter=function(t){return this.columnModel.getDisplayedColAfter(t)},n.prototype.getDisplayedColBefore=function(t){return this.columnModel.getDisplayedColBefore(t)},n.prototype.setColumnVisible=function(t,e){this.columnModel.setColumnVisible(t,e,"api")},n.prototype.setColumnsVisible=function(t,e){this.columnModel.setColumnsVisible(t,e,"api")},n.prototype.setColumnPinned=function(t,e){this.columnModel.setColumnPinned(t,e,"api")},n.prototype.setColumnsPinned=function(t,e){this.columnModel.setColumnsPinned(t,e,"api")},n.prototype.getAllColumns=function(){return this.columnModel.getAllPrimaryColumns()},n.prototype.getAllGridColumns=function(){return this.columnModel.getAllGridColumns()},n.prototype.getDisplayedLeftColumns=function(){return this.columnModel.getDisplayedLeftColumns()},n.prototype.getDisplayedCenterColumns=function(){return this.columnModel.getDisplayedCenterColumns()},n.prototype.getDisplayedRightColumns=function(){return this.columnModel.getDisplayedRightColumns()},n.prototype.getAllDisplayedColumns=function(){return this.columnModel.getAllDisplayedColumns()},n.prototype.getAllDisplayedVirtualColumns=function(){return this.columnModel.getViewportColumns()},n.prototype.moveColumn=function(t,e){typeof t=="number"?(console.warn("AG Grid: you are using moveColumn(fromIndex, toIndex) - moveColumn takes a column key and a destination index, not two indexes, to move with indexes use moveColumnByIndex(from,to) instead"),this.columnModel.moveColumnByIndex(t,e,"api")):this.columnModel.moveColumn(t,e,"api")},n.prototype.moveColumnByIndex=function(t,e){this.columnModel.moveColumnByIndex(t,e,"api")},n.prototype.moveColumns=function(t,e){this.columnModel.moveColumns(t,e,"api")},n.prototype.moveRowGroupColumn=function(t,e){this.columnModel.moveRowGroupColumn(t,e)},n.prototype.setColumnAggFunc=function(t,e){this.columnModel.setColumnAggFunc(t,e)},n.prototype.setColumnWidth=function(t,e,r,i){r===void 0&&(r=!0),this.columnModel.setColumnWidths([{key:t,newWidth:e}],!1,r,i)},n.prototype.setColumnWidths=function(t,e,r){e===void 0&&(e=!0),this.columnModel.setColumnWidths(t,!1,e,r)},n.prototype.setPivotMode=function(t){this.columnModel.setPivotMode(t)},n.prototype.isPivotMode=function(){return this.columnModel.isPivotMode()},n.prototype.getSecondaryPivotColumn=function(t,e){return this.columnModel.getSecondaryPivotColumn(t,e)},n.prototype.setValueColumns=function(t){this.columnModel.setValueColumns(t,"api")},n.prototype.getValueColumns=function(){return this.columnModel.getValueColumns()},n.prototype.removeValueColumn=function(t){this.columnModel.removeValueColumn(t,"api")},n.prototype.removeValueColumns=function(t){this.columnModel.removeValueColumns(t,"api")},n.prototype.addValueColumn=function(t){this.columnModel.addValueColumn(t,"api")},n.prototype.addValueColumns=function(t){this.columnModel.addValueColumns(t,"api")},n.prototype.setRowGroupColumns=function(t){this.columnModel.setRowGroupColumns(t,"api")},n.prototype.removeRowGroupColumn=function(t){this.columnModel.removeRowGroupColumn(t,"api")},n.prototype.removeRowGroupColumns=function(t){this.columnModel.removeRowGroupColumns(t,"api")},n.prototype.addRowGroupColumn=function(t){this.columnModel.addRowGroupColumn(t,"api")},n.prototype.addRowGroupColumns=function(t){this.columnModel.addRowGroupColumns(t,"api")},n.prototype.getRowGroupColumns=function(){return this.columnModel.getRowGroupColumns()},n.prototype.setPivotColumns=function(t){this.columnModel.setPivotColumns(t,"api")},n.prototype.removePivotColumn=function(t){this.columnModel.removePivotColumn(t,"api")},n.prototype.removePivotColumns=function(t){this.columnModel.removePivotColumns(t,"api")},n.prototype.addPivotColumn=function(t){this.columnModel.addPivotColumn(t,"api")},n.prototype.addPivotColumns=function(t){this.columnModel.addPivotColumns(t,"api")},n.prototype.getPivotColumns=function(){return this.columnModel.getPivotColumns()},n.prototype.getLeftDisplayedColumnGroups=function(){return this.columnModel.getDisplayedTreeLeft()},n.prototype.getCenterDisplayedColumnGroups=function(){return this.columnModel.getDisplayedTreeCentre()},n.prototype.getRightDisplayedColumnGroups=function(){return this.columnModel.getDisplayedTreeRight()},n.prototype.getAllDisplayedColumnGroups=function(){return this.columnModel.getAllDisplayedTrees()},n.prototype.autoSizeColumn=function(t,e){return this.columnModel.autoSizeColumn(t,e,"api")},n.prototype.autoSizeColumns=function(t,e){this.columnModel.autoSizeColumns({columns:t,skipHeader:e})},n.prototype.autoSizeAllColumns=function(t){this.columnModel.autoSizeAllColumns(t,"api")},n.prototype.setSecondaryColumns=function(t){this.columnModel.setSecondaryColumns(t,"api")},n.prototype.getSecondaryColumns=function(){return this.columnModel.getSecondaryColumns()},n.prototype.getPrimaryColumns=function(){return this.columnModel.getAllPrimaryColumns()},n.prototype.cleanDownReferencesToAvoidMemoryLeakInCaseApplicationIsKeepingReferenceToDestroyedGrid=function(){setTimeout(_.removeAllReferences.bind(window,this,"Column API"),100)},n.prototype.columnGroupOpened=function(t,e){console.error("AG Grid: columnGroupOpened no longer exists, use setColumnGroupOpened"),this.setColumnGroupOpened(t,e)},n.prototype.hideColumns=function(t,e){console.error("AG Grid: hideColumns is deprecated, use setColumnsVisible"),this.columnModel.setColumnsVisible(t,!e,"api")},n.prototype.hideColumn=function(t,e){console.error("AG Grid: hideColumn is deprecated, use setColumnVisible"),this.columnModel.setColumnVisible(t,!e,"api")},n.prototype.setState=function(t){return console.error("AG Grid: setState is deprecated, use setColumnState"),this.setColumnState(t)},n.prototype.getState=function(){return console.error("AG Grid: getState is deprecated, use getColumnState"),this.getColumnState()},n.prototype.resetState=function(){console.error("AG Grid: resetState is deprecated, use resetColumnState"),this.resetColumnState()},n.prototype.getAggregationColumns=function(){return console.error("AG Grid: getAggregationColumns is deprecated, use getValueColumns"),this.columnModel.getValueColumns()},n.prototype.removeAggregationColumn=function(t){console.error("AG Grid: removeAggregationColumn is deprecated, use removeValueColumn"),this.columnModel.removeValueColumn(t,"api")},n.prototype.removeAggregationColumns=function(t){console.error("AG Grid: removeAggregationColumns is deprecated, use removeValueColumns"),this.columnModel.removeValueColumns(t,"api")},n.prototype.addAggregationColumn=function(t){console.error("AG Grid: addAggregationColumn is deprecated, use addValueColumn"),this.columnModel.addValueColumn(t,"api")},n.prototype.addAggregationColumns=function(t){console.error("AG Grid: addAggregationColumns is deprecated, use addValueColumns"),this.columnModel.addValueColumns(t,"api")},n.prototype.setColumnAggFunction=function(t,e){console.error("AG Grid: setColumnAggFunction is deprecated, use setColumnAggFunc"),this.columnModel.setColumnAggFunc(t,e,"api")},n.prototype.getDisplayNameForCol=function(t){return console.error("AG Grid: getDisplayNameForCol is deprecated, use getDisplayNameForColumn"),this.getDisplayNameForColumn(t,null)},n.prototype.setColumnState=function(t){return console.error("AG Grid: setColumnState is deprecated, use applyColumnState"),this.columnModel.applyColumnState({state:t,applyOrder:!0},"api")},n.prototype.getOriginalColumnGroup=function(t){return console.error("AG Grid: getOriginalColumnGroup is deprecated, use getProvidedColumnGroup"),this.columnModel.getProvidedColumnGroup(t)},Ky([y("columnModel")],n.prototype,"columnModel",void 0),Ky([_t],n.prototype,"cleanDownReferencesToAvoidMemoryLeakInCaseApplicationIsKeepingReferenceToDestroyedGrid",null),n=Ky([J("columnApi")],n),n}();/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v27.3.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */var Rz=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Mp=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},vF=function(n){Rz(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.initialised=!1,e}return t.prototype.init=function(){var e=this;this.cellExpressions=this.gridOptionsWrapper.isEnableCellExpressions(),this.initialised=!0,this.eventService.addEventListener(x.EVENT_CELL_VALUE_CHANGED,function(r){return e.callColumnCellValueChangedHandler(r)},this.gridOptionsWrapper.useAsyncEvents())},t.prototype.getValue=function(e,r,i,o){if(i===void 0&&(i=!1),o===void 0&&(o=!1),this.initialised||this.init(),!!r){var a=e.getColDef(),s=a.field,l=e.getId(),u=r.data,c,p=r.groupData&&r.groupData[l]!==void 0,h=!o&&r.aggData&&r.aggData[l]!==void 0;if(i&&a.filterValueGetter?c=this.executeFilterValueGetter(a.filterValueGetter,u,e,r):this.gridOptionsWrapper.isTreeData()&&h?c=r.aggData[l]:this.gridOptionsWrapper.isTreeData()&&a.valueGetter?c=this.executeValueGetter(a.valueGetter,u,e,r):this.gridOptionsWrapper.isTreeData()&&s&&u?c=$g(u,s,e.isFieldContainsDots()):p?c=r.groupData[l]:h?c=r.aggData[l]:a.valueGetter?c=this.executeValueGetter(a.valueGetter,u,e,r):s&&u&&(c=$g(u,s,e.isFieldContainsDots())),this.cellExpressions&&typeof c=="string"&&c.indexOf("=")===0){var d=c.substring(1);c=this.executeValueGetter(d,u,e,r)}if(c==null){var f=this.getOpenedGroup(r,e);if(f!=null)return f}return c}},t.prototype.getOpenedGroup=function(e,r){if(!!this.gridOptionsWrapper.isShowOpenedGroup()){var i=r.getColDef();if(!!i.showRowGroup)for(var o=r.getColDef().showRowGroup,a=e.parent;a!=null;){if(a.rowGroupColumn&&(o===!0||o===a.rowGroupColumn.getId()))return a.key;a=a.parent}}},t.prototype.setValue=function(e,r,i,o){var a=this.columnModel.getPrimaryColumn(r);if(!e||!a)return!1;ye(e.data)&&(e.data={});var s=a.getColDef(),l=s.field,u=s.newValueHandler,c=s.valueSetter;if(ye(l)&&ye(u)&&ye(c))return console.warn("AG Grid: you need either field or valueSetter set on colDef for editing to work"),!1;var p={node:e,data:e.data,oldValue:this.getValue(a,e),newValue:i,colDef:a.getColDef(),column:a,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()};p.newValue=i;var h;if(u&&Z(u)?h=u(p):Z(c)?h=this.expressionService.evaluate(c,p):h=this.setValueUsingField(e.data,l,i,a.isFieldContainsDots()),h===void 0&&(h=!0),!h)return!1;e.resetQuickFilterAggregateText(),this.valueCache.onDataChanged(),p.newValue=this.getValue(a,e);var d={type:x.EVENT_CELL_VALUE_CHANGED,event:null,rowIndex:e.rowIndex,rowPinned:e.rowPinned,column:p.column,api:p.api,columnApi:p.columnApi,colDef:p.colDef,context:p.context,data:e.data,node:e,oldValue:p.oldValue,newValue:p.newValue,value:p.newValue,source:o};return this.eventService.dispatchEvent(d),!0},t.prototype.callColumnCellValueChangedHandler=function(e){var r=e.colDef.onCellValueChanged;typeof r=="function"&&r({node:e.node,data:e.data,oldValue:e.oldValue,newValue:e.newValue,colDef:e.colDef,column:e.column,api:e.api,columnApi:e.columnApi,context:e.context})},t.prototype.setValueUsingField=function(e,r,i,o){if(!r)return!1;var a=!1;if(!o)e[r]=i;else for(var s=r.split("."),l=e;s.length>0&&l;){var u=s.shift();s.length===0?l[u]=i:l=l[u]}return!a},t.prototype.executeFilterValueGetter=function(e,r,i,o){var a={data:r,node:o,column:i,colDef:i.getColDef(),api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext(),getValue:this.getValueCallback.bind(this,o)};return this.expressionService.evaluate(e,a)},t.prototype.executeValueGetter=function(e,r,i,o){var a=i.getId(),s=this.valueCache.getValue(o,a);if(s!==void 0)return s;var l={data:r,node:o,column:i,colDef:i.getColDef(),api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext(),getValue:this.getValueCallback.bind(this,o)},u=this.expressionService.evaluate(e,l);return this.valueCache.setValue(o,a,u),u},t.prototype.getValueCallback=function(e,r){var i=this.columnModel.getPrimaryColumn(r);return i?this.getValue(i,e):null},t.prototype.getKeyForNode=function(e,r){var i=this.getValue(e,r),o=e.getColDef().keyCreator,a=i;if(o){var s={value:i,colDef:e.getColDef(),column:e,node:r,data:r.data,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()};a=o(s)}return typeof a=="string"||a==null||(a=String(a),a==="[object Object]"&&ct(function(){console.warn("AG Grid: a column you are grouping or pivoting by has objects as values. If you want to group by complex objects then either a) use a colDef.keyCreator (se AG Grid docs) or b) to toString() on the object to return a key")},"getKeyForNode - warn about [object,object]")),a},Mp([y("expressionService")],t.prototype,"expressionService",void 0),Mp([y("columnModel")],t.prototype,"columnModel",void 0),Mp([y("valueCache")],t.prototype,"valueCache",void 0),Mp([H],t.prototype,"init",null),t=Mp([J("valueService")],t),t}(j);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v27.3.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */var Pz=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),$T=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Az=globalThis&&globalThis.__param||function(n,t){return function(e,r){t(e,r,n)}},mF=function(n){Pz(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.expressionToFunctionCache={},e}return t.prototype.setBeans=function(e){this.logger=e.create("ExpressionService")},t.prototype.evaluate=function(e,r){if(typeof e=="function"){var i=e;return i(r)}else if(typeof e=="string"){var o=e;return this.evaluateExpression(o,r)}else console.error("AG Grid: value should be either a string or a function",e)},t.prototype.evaluateExpression=function(e,r){try{var i=this.createExpressionFunction(e),o=i(r.value,r.context,r.oldValue,r.newValue,r.value,r.node,r.data,r.colDef,r.rowIndex,r.api,r.columnApi,r.getValue,r.column,r.columnGroup);return o}catch(a){return console.log("Processing of the expression failed"),console.log("Expression = "+e),console.log("Params =",r),console.log("Exception = "+a),null}},t.prototype.createExpressionFunction=function(e){if(this.expressionToFunctionCache[e])return this.expressionToFunctionCache[e];var r=this.createFunctionBody(e),i=new Function("x, ctx, oldValue, newValue, value, node, data, colDef, rowIndex, api, columnApi, getValue, column, columnGroup",r);return this.expressionToFunctionCache[e]=i,i},t.prototype.createFunctionBody=function(e){return e.indexOf("return")>=0?e:"return "+e+";"},$T([Az(0,xr("loggerFactory"))],t.prototype,"setBeans",null),t=$T([J("expressionService")],t),t}(j);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v27.3.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */var Dz=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Mz=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},yF=function(n){Dz(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.templateCache={},e.waitingCallbacks={},e}return t.prototype.getTemplate=function(e,r){var i=this.templateCache[e];if(i)return i;var o=this.waitingCallbacks[e],a=this;if(!o){o=[],this.waitingCallbacks[e]=o;var s=new XMLHttpRequest;s.onload=function(){a.handleHttpResult(this,e)},s.open("GET",e),s.send()}return r&&o.push(r),null},t.prototype.handleHttpResult=function(e,r){if(e.status!==200||e.response===null){console.warn("AG Grid: Unable to get template error "+e.status+" - "+r);return}this.templateCache[r]=e.response||e.responseText;for(var i=this.waitingCallbacks[r],o=0;o<i.length;o++){var a=i[o];a()}},t=Mz([J("templateService")],t),t}(j);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v27.3.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */var Fz=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),KT=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Iz=globalThis&&globalThis.__param||function(n,t){return function(e,r){t(e,r,n)}},CF=function(n){Fz(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.setBeans=function(e){this.logging=e.isDebug()},t.prototype.create=function(e){return new cv(e,this.isLogging.bind(this))},t.prototype.isLogging=function(){return this.logging},KT([Iz(0,xr("gridOptionsWrapper"))],t.prototype,"setBeans",null),t=KT([J("loggerFactory")],t),t}(j),cv=function(){function n(t,e){this.name=t,this.isLoggingFunc=e}return n.prototype.isLogging=function(){return this.isLoggingFunc()},n.prototype.log=function(t){this.isLoggingFunc()&&console.log("AG Grid."+this.name+": "+t)},n}();/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v27.3.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */var Lz=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),nl=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},bF=function(n){Lz(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.setComp=function(e,r,i){var o=this;this.view=e,this.eGridHostDiv=r,this.eGui=i,this.mouseEventService.stampTopLevelGridCompWithGridInstance(r),this.createManagedBean(new WS(this.view)),this.addRtlSupport(),this.addManagedListener(this,x.EVENT_KEYBOARD_FOCUS,function(){o.view.addOrRemoveKeyboardFocusClass(!0)}),this.addManagedListener(this,x.EVENT_MOUSE_FOCUS,function(){o.view.addOrRemoveKeyboardFocusClass(!1)});var a=this.resizeObserverService.observeResize(this.eGridHostDiv,this.onGridSizeChanged.bind(this));this.addDestroyFunc(function(){return a()}),this.ctrlsService.registerGridCtrl(this)},t.prototype.isDetailGrid=function(){var e,r,i=this.focusService.findTabbableParent(this.getGui());return((r=(e=i)===null||e===void 0?void 0:e.getAttribute("row-id"))===null||r===void 0?void 0:r.startsWith("detail"))||!1},t.prototype.showDropZones=function(){return ve.isRegistered(ae.RowGroupingModule)},t.prototype.showSideBar=function(){return ve.isRegistered(ae.SideBarModule)},t.prototype.showStatusBar=function(){return ve.isRegistered(ae.StatusBarModule)},t.prototype.showWatermark=function(){return ve.isRegistered(ae.EnterpriseCoreModule)},t.prototype.onGridSizeChanged=function(){var e={type:x.EVENT_GRID_SIZE_CHANGED,api:this.gridApi,columnApi:this.columnApi,clientWidth:this.eGridHostDiv.clientWidth,clientHeight:this.eGridHostDiv.clientHeight};this.eventService.dispatchEvent(e)},t.prototype.addRtlSupport=function(){var e=this.gridOptionsWrapper.isEnableRtl()?"ag-rtl":"ag-ltr";this.view.setRtlClass(e)},t.prototype.destroyGridUi=function(){this.view.destroyGridUi()},t.prototype.getGui=function(){return this.eGui},t.prototype.setResizeCursor=function(e){this.view.setCursor(e?"ew-resize":null)},t.prototype.disableUserSelect=function(e){this.view.setUserSelect(e?"none":null)},t.prototype.focusNextInnerContainer=function(e){var r=this.gridOptionsWrapper.getDocument(),i=this.view.getFocusableContainers(),o=i.findIndex(function(s){return s.contains(r.activeElement)}),a=o+(e?-1:1);return a<=0||a>=i.length?!1:this.focusService.focusInto(i[a])},t.prototype.focusInnerElement=function(e){var r=this.view.getFocusableContainers();if(e){if(r.length>1)return this.focusService.focusInto(wt(r),!0);var i=wt(this.columnModel.getAllDisplayedColumns());if(this.focusService.focusGridView(i,!0))return!0}return this.focusService.focusFirstHeader()},t.prototype.forceFocusOutOfContainer=function(e){e===void 0&&(e=!1),this.view.forceFocusOutOfContainer(e)},nl([y("columnApi")],t.prototype,"columnApi",void 0),nl([y("gridApi")],t.prototype,"gridApi",void 0),nl([y("focusService")],t.prototype,"focusService",void 0),nl([y("resizeObserverService")],t.prototype,"resizeObserverService",void 0),nl([y("columnModel")],t.prototype,"columnModel",void 0),nl([y("ctrlsService")],t.prototype,"ctrlsService",void 0),nl([y("mouseEventService")],t.prototype,"mouseEventService",void 0),t}(j);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v27.3.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */var Nz=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Fp=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},wF=function(n){Nz(t,n);function t(e){var r=n.call(this,void 0)||this;return r.eGridDiv=e,r}return t.prototype.postConstruct=function(){var e=this;this.logger=this.loggerFactory.create("GridComp");var r={destroyGridUi:function(){return e.destroyBean(e)},setRtlClass:function(o){return e.addCssClass(o)},addOrRemoveKeyboardFocusClass:function(o){return e.addOrRemoveCssClass(wc.AG_KEYBOARD_FOCUS,o)},forceFocusOutOfContainer:this.forceFocusOutOfContainer.bind(this),updateLayoutClasses:this.updateLayoutClasses.bind(this),getFocusableContainers:this.getFocusableContainers.bind(this),setUserSelect:function(o){e.getGui().style.userSelect=o!=null?o:"",e.getGui().style.webkitUserSelect=o!=null?o:""},setCursor:function(o){e.getGui().style.cursor=o!=null?o:""}};this.ctrl=this.createManagedBean(new bF);var i=this.createTemplate();this.setTemplate(i),this.ctrl.setComp(r,this.eGridDiv,this.getGui()),this.insertGridIntoDom(),this.initialiseTabGuard({onTabKeyDown:function(){},focusInnerElement:function(o){return e.ctrl.focusInnerElement(o)}})},t.prototype.insertGridIntoDom=function(){var e=this,r=this.getGui();this.eGridDiv.appendChild(r),this.addDestroyFunc(function(){e.eGridDiv.removeChild(r),e.logger.log("Grid removed from DOM")})},t.prototype.updateLayoutClasses=function(e,r){var i=this.eRootWrapperBody.classList;i.toggle(tr.AUTO_HEIGHT,r.autoHeight),i.toggle(tr.NORMAL,r.normal),i.toggle(tr.PRINT,r.print),this.addOrRemoveCssClass(tr.AUTO_HEIGHT,r.autoHeight),this.addOrRemoveCssClass(tr.NORMAL,r.normal),this.addOrRemoveCssClass(tr.PRINT,r.print)},t.prototype.createTemplate=function(){var e=this.ctrl.showDropZones()?"<ag-grid-header-drop-zones></ag-grid-header-drop-zones>":"",r=this.ctrl.showSideBar()?'<ag-side-bar ref="sideBar"></ag-side-bar>':"",i=this.ctrl.showStatusBar()?'<ag-status-bar ref="statusBar"></ag-status-bar>':"",o=this.ctrl.showWatermark()?"<ag-watermark></ag-watermark>":"",a=`<div class="ag-root-wrapper">
                `+e+`
                <div class="ag-root-wrapper-body" ref="rootWrapperBody">
                    <ag-grid-body ref="gridBody"></ag-grid-body>
                    `+r+`
                </div>
                `+i+`
                <ag-pagination></ag-pagination>
                `+o+`
            </div>`;return a},t.prototype.getFocusableElement=function(){return this.eRootWrapperBody},t.prototype.getFocusableContainers=function(){var e=[this.gridBodyComp.getGui()];return this.sideBarComp&&e.push(this.sideBarComp.getGui()),e.filter(function(r){return Zc(r)})},Fp([y("loggerFactory")],t.prototype,"loggerFactory",void 0),Fp([I("gridBody")],t.prototype,"gridBodyComp",void 0),Fp([I("sideBar")],t.prototype,"sideBarComp",void 0),Fp([I("rootWrapperBody")],t.prototype,"eRootWrapperBody",void 0),Fp([H],t.prototype,"postConstruct",null),t}(cu);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v27.3.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */var kz=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Yd=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},_F=function(n){kz(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}e=t,t.prototype.progressSort=function(r,i,o){var a=this.getNextSortDirection(r);this.setSortForColumn(r,a,i,o)},t.prototype.setSortForColumn=function(r,i,o,a){i!==L.SORT_ASC&&i!==L.SORT_DESC&&(i=null),r.setSort(i,a);var s=(o||this.gridOptionsWrapper.isAlwaysMultiSort())&&!this.gridOptionsWrapper.isSuppressMultiSort();s||this.clearSortBarThisColumn(r,a),this.updateSortIndex(r),this.dispatchSortChangedEvents(a)},t.prototype.updateSortIndex=function(r){var i=this.getColumnsWithSortingOrdered(),o=0;i.forEach(function(s){s!==r&&(s.setSortIndex(o),o++)}),r.getSort()&&r.setSortIndex(o);var a=this.columnModel.getPrimaryAndSecondaryAndAutoColumns();a.filter(function(s){return s.getSort()==null}).forEach(function(s){return s.setSortIndex()})},t.prototype.onSortChanged=function(r){this.dispatchSortChangedEvents(r)},t.prototype.isSortActive=function(){var r=this.columnModel.getPrimaryAndSecondaryAndAutoColumns(),i=r.filter(function(o){return!!o.getSort()});return i&&i.length>0},t.prototype.dispatchSortChangedEvents=function(r){var i={type:x.EVENT_SORT_CHANGED,api:this.gridApi,columnApi:this.columnApi,source:r};this.eventService.dispatchEvent(i)},t.prototype.clearSortBarThisColumn=function(r,i){this.columnModel.getPrimaryAndSecondaryAndAutoColumns().forEach(function(o){o!==r&&o.setSort(void 0,i)})},t.prototype.getNextSortDirection=function(r){var i;if(r.getColDef().sortingOrder?i=r.getColDef().sortingOrder:this.gridOptionsWrapper.getSortingOrder()?i=this.gridOptionsWrapper.getSortingOrder():i=e.DEFAULT_SORTING_ORDER,!Array.isArray(i)||i.length<=0)return console.warn("AG Grid: sortingOrder must be an array with at least one element, currently it's "+i),null;var o=i.indexOf(r.getSort()),a=o<0,s=o==i.length-1,l;return a||s?l=i[0]:l=i[o+1],e.DEFAULT_SORTING_ORDER.indexOf(l)<0?(console.warn("AG Grid: invalid sort type "+l),null):l},t.prototype.getColumnsWithSortingOrdered=function(){var r=this.columnModel.getPrimaryAndSecondaryAndAutoColumns(),i=r.filter(function(a){return!!a.getSort()}),o={};return r.forEach(function(a,s){return o[a.getId()]=s}),i.sort(function(a,s){var l=a.getSortIndex(),u=s.getSortIndex();if(l!=null&&u!=null)return l-u;if(l==null&&u==null){var c=o[a.getId()],p=o[s.getId()];return c>p?1:-1}else return u==null?-1:1}),i},t.prototype.getSortModel=function(){return this.getColumnsWithSortingOrdered().map(function(r){return{sort:r.getSort(),colId:r.getId()}})},t.prototype.getSortOptions=function(){return this.getColumnsWithSortingOrdered().map(function(r){return{sort:r.getSort(),column:r}})};var e;return t.DEFAULT_SORTING_ORDER=[L.SORT_ASC,L.SORT_DESC,null],Yd([y("columnModel")],t.prototype,"columnModel",void 0),Yd([y("columnApi")],t.prototype,"columnApi",void 0),Yd([y("gridApi")],t.prototype,"gridApi",void 0),t=e=Yd([J("sortController")],t),t}(j);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v27.3.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */var Gz=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Yy=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Bz=function(n){Gz(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.setMouseOver=function(e){this.selectedColumns=e;var r={type:x.EVENT_COLUMN_HOVER_CHANGED,api:this.gridApi,columnApi:this.columnApi};this.eventService.dispatchEvent(r)},t.prototype.clearMouseOver=function(){this.selectedColumns=null;var e={type:x.EVENT_COLUMN_HOVER_CHANGED,api:this.gridApi,columnApi:this.columnApi};this.eventService.dispatchEvent(e)},t.prototype.isHovered=function(e){return!!this.selectedColumns&&this.selectedColumns.indexOf(e)>=0},Yy([y("columnApi")],t.prototype,"columnApi",void 0),Yy([y("gridApi")],t.prototype,"gridApi",void 0),t=Yy([J("columnHoverService")],t),t}(j);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v27.3.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */var Vz=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Xy=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Wz=function(n){Vz(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.executeNextFuncs=[],e.executeLaterFuncs=[],e.active=!1,e.animationThreadCount=0,e}return t.prototype.postConstruct=function(){var e=this;this.ctrlsService.whenReady(function(r){return e.gridBodyCtrl=r.gridBodyCtrl})},t.prototype.isActive=function(){return this.active},t.prototype.start=function(){this.active||this.gridOptionsWrapper.isSuppressColumnMoveAnimation()||this.gridOptionsWrapper.isEnableRtl()||(this.ensureAnimationCssClassPresent(),this.active=!0)},t.prototype.finish=function(){!this.active||(this.flush(),this.active=!1)},t.prototype.executeNextVMTurn=function(e){this.active?this.executeNextFuncs.push(e):e()},t.prototype.executeLaterVMTurn=function(e){this.active?this.executeLaterFuncs.push(e):e()},t.prototype.ensureAnimationCssClassPresent=function(){var e=this;this.animationThreadCount++;var r=this.animationThreadCount;this.gridBodyCtrl.setColumnMovingCss(!0),this.executeLaterFuncs.push(function(){e.animationThreadCount===r&&e.gridBodyCtrl.setColumnMovingCss(!1)})},t.prototype.flush=function(){var e=this.executeNextFuncs;this.executeNextFuncs=[];var r=this.executeLaterFuncs;this.executeLaterFuncs=[],!(e.length===0&&r.length===0)&&(window.setTimeout(function(){return e.forEach(function(i){return i()})},0),window.setTimeout(function(){return r.forEach(function(i){return i()})},300))},Xy([y("ctrlsService")],t.prototype,"ctrlsService",void 0),Xy([H],t.prototype,"postConstruct",null),t=Xy([J("columnAnimationService")],t),t}(j);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v27.3.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */var Hz=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),qy=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},jz=function(n){Hz(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}e=t,t.prototype.createAutoGroupColumns=function(r,i){var o=this,a=[],s=this.gridOptionsWrapper.isTreeData(),l=this.gridOptionsWrapper.isGroupMultiAutoColumn();return s&&l&&(console.warn("AG Grid: you cannot mix groupMultiAutoColumn with treeData, only one column can be used to display groups when doing tree data"),l=!1),l?i.forEach(function(u,c){a.push(o.createOneAutoGroupColumn(r,u,c))}):a.push(this.createOneAutoGroupColumn(r)),a},t.prototype.createOneAutoGroupColumn=function(r,i,o){var a=this.generateDefaultColDef(i),s;i?s=L.GROUP_AUTO_COLUMN_ID+"-"+i.getId():s=e.GROUP_AUTO_COLUMN_BUNDLE_ID;var l=this.gridOptionsWrapper.getAutoGroupColumnDef();if(Pi(a,l),a=this.columnFactory.mergeColDefs(a),a.colId=s,!this.gridOptionsWrapper.isTreeData()){var u=ye(a.field)&&ye(a.valueGetter)&&ye(a.filterValueGetter);u&&(a.filter=!1)}o&&o>0&&(a.headerCheckboxSelection=!1);var c=r.find(function(h){return h.getId()==s});if(c)return c.setColDef(a,null),this.columnFactory.applyColumnState(c,a),c;var p=new Se(a,null,s,!0);return this.context.createBean(p),p},t.prototype.generateDefaultColDef=function(r){var i=this.gridOptionsWrapper.getAutoGroupColumnDef(),o=this.gridOptionsWrapper.getLocaleTextFunc(),a={headerName:o("group","Group")},s=i&&(i.cellRenderer||i.cellRendererFramework||i.cellRendererSelector);if(s||(a.cellRenderer="agGroupCellRenderer"),r){var l=r.getColDef();Object.assign(a,{headerName:this.columnModel.getDisplayNameForColumn(r,"header"),headerValueGetter:l.headerValueGetter}),(l.cellRenderer||l.cellRendererFramework)&&Object.assign(a,{cellRendererParams:{innerRenderer:l.cellRenderer,innerRendererFramework:l.cellRendererFramework,innerRendererParams:l.cellRendererParams}}),a.showRowGroup=r.getColId()}else a.showRowGroup=!0;return a};var e;return t.GROUP_AUTO_COLUMN_BUNDLE_ID=L.GROUP_AUTO_COLUMN_ID,qy([y("columnModel")],t.prototype,"columnModel",void 0),qy([y("columnFactory")],t.prototype,"columnFactory",void 0),t=e=qy([J("autoGroupColService")],t),t}(j);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v27.3.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */var Uz=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Zy=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},zz=function(n){Uz(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.postConstruct=function(){var e=this;this.ctrlsService.whenReady(function(r){e.centerRowContainerCon=r.centerRowContainerCtrl,e.addManagedListener(e.eventService,x.EVENT_BODY_HEIGHT_CHANGED,e.onBodyHeightChanged.bind(e)),e.addManagedListener(e.eventService,x.EVENT_SCROLL_VISIBILITY_CHANGED,e.onScrollVisibilityChanged.bind(e)),e.checkPageSize()})},t.prototype.notActive=function(){return!this.gridOptionsWrapper.isPaginationAutoPageSize()},t.prototype.onScrollVisibilityChanged=function(){this.checkPageSize()},t.prototype.onBodyHeightChanged=function(){this.checkPageSize()},t.prototype.checkPageSize=function(){if(!this.notActive()){var e=this.gridOptionsWrapper.getRowHeightAsNumber(),r=this.centerRowContainerCon.getViewportSizeFeature().getBodyHeight();if(r>0){var i=Math.floor(r/e);this.gridOptionsWrapper.setProperty("paginationPageSize",i)}}},Zy([y("ctrlsService")],t.prototype,"ctrlsService",void 0),Zy([H],t.prototype,"postConstruct",null),t=Zy([J("paginationAutoPageSizeService")],t),t}(j);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v27.3.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */var $z=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),YT=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},SF=function(n){$z(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.cacheVersion=0,e}return t.prototype.init=function(){this.active=this.gridOptionsWrapper.isValueCache(),this.neverExpires=this.gridOptionsWrapper.isValueCacheNeverExpires()},t.prototype.onDataChanged=function(){this.neverExpires||this.expire()},t.prototype.expire=function(){this.cacheVersion++},t.prototype.setValue=function(e,r,i){this.active&&(e.__cacheVersion!==this.cacheVersion&&(e.__cacheVersion=this.cacheVersion,e.__cacheData={}),e.__cacheData[r]=i)},t.prototype.getValue=function(e,r){if(!(!this.active||e.__cacheVersion!==this.cacheVersion))return e.__cacheData[r]},YT([H],t.prototype,"init",null),t=YT([J("valueCache")],t),t}(j);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v27.3.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */var Kz=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Xd=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Yz=function(n){Kz(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.init=function(){this.rowModel.getType()===L.ROW_MODEL_TYPE_CLIENT_SIDE&&(this.clientSideRowModel=this.rowModel),this.addManagedListener(this.eventService,x.EVENT_CELL_VALUE_CHANGED,this.onCellValueChanged.bind(this))},t.prototype.onCellValueChanged=function(e){e.source!==L.SOURCE_PASTE&&this.doChangeDetection(e.node,e.column)},t.prototype.doChangeDetection=function(e,r){if(!this.gridOptionsWrapper.isSuppressChangeDetection()){if(this.clientSideRowModel&&!e.isRowPinned()){var i=this.gridOptionsWrapper.isAggregateOnlyChangedColumns(),o=new yd(i,this.clientSideRowModel.getRootNode());o.addParentNode(e.parent,[r]),this.clientSideRowModel.doAggregate(o)}this.rowRenderer.refreshCells()}},Xd([y("rowModel")],t.prototype,"rowModel",void 0),Xd([y("rowRenderer")],t.prototype,"rowRenderer",void 0),Xd([H],t.prototype,"init",null),t=Xd([J("changeDetectionService")],t),t}(j);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v27.3.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */var Xz=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),XT=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},qz=function(n){Xz(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.adaptFunction=function(e,r){var i=this.componentMetadataProvider.retrieve(e);return i&&i.functionAdapter?i.functionAdapter(r):null},t.prototype.adaptCellRendererFunction=function(e){var r=function(){function i(){}return i.prototype.refresh=function(o){return!1},i.prototype.getGui=function(){return this.eGui},i.prototype.init=function(o){var a=e(o),s=typeof a;if(s==="string"||s==="number"||s==="boolean"){this.eGui=Sr("<span>"+a+"</span>");return}if(a==null){this.eGui=Sr("<span></span>");return}this.eGui=a},i}();return r},t.prototype.doesImplementIComponent=function(e){return e?e.prototype&&"getGui"in e.prototype:!1},XT([y("componentMetadataProvider")],t.prototype,"componentMetadataProvider",void 0),t=XT([J("agComponentUtils")],t),t}(j);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v27.3.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */var Zz=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Qy=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Qz=function(n){Zz(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.postConstruct=function(){this.componentMetaData={dateComponent:{mandatoryMethodList:["getDate","setDate"],optionalMethodList:["afterGuiAttached","setInputPlaceholder","setInputAriaLabel"]},detailCellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},headerComponent:{mandatoryMethodList:[],optionalMethodList:["refresh"]},headerGroupComponent:{mandatoryMethodList:[],optionalMethodList:[]},loadingCellRenderer:{mandatoryMethodList:[],optionalMethodList:[]},loadingOverlayComponent:{mandatoryMethodList:[],optionalMethodList:[]},noRowsOverlayComponent:{mandatoryMethodList:[],optionalMethodList:[]},floatingFilterComponent:{mandatoryMethodList:["onParentModelChanged"],optionalMethodList:["afterGuiAttached"]},floatingFilterWrapperComponent:{mandatoryMethodList:[],optionalMethodList:[]},cellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},cellEditor:{mandatoryMethodList:["getValue"],optionalMethodList:["isPopup","isCancelBeforeStart","isCancelAfterEnd","getPopupPosition","focusIn","focusOut","afterGuiAttached"]},innerRenderer:{mandatoryMethodList:[],optionalMethodList:["afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},fullWidthCellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},pinnedRowCellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},groupRowRenderer:{mandatoryMethodList:[],optionalMethodList:["afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},filter:{mandatoryMethodList:["isFilterActive","doesFilterPass","getModel","setModel"],optionalMethodList:["afterGuiAttached","onNewRowsLoaded","getModelAsString","onFloatingFilterChanged"]},filterComponent:{mandatoryMethodList:["isFilterActive","doesFilterPass","getModel","setModel"],optionalMethodList:["afterGuiAttached","onNewRowsLoaded","getModelAsString","onFloatingFilterChanged"]},statusPanel:{mandatoryMethodList:[],optionalMethodList:["afterGuiAttached"]},toolPanel:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"]},tooltipComponent:{mandatoryMethodList:[],optionalMethodList:[]}}},t.prototype.retrieve=function(e){return this.componentMetaData[e]},Qy([y("agComponentUtils")],t.prototype,"agComponentUtils",void 0),Qy([H],t.prototype,"postConstruct",null),t=Qy([J("componentMetadataProvider")],t),t}(j);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v27.3.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */var Jz=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),qT=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Jy=8,e6=4,eC=4,tC=6,t6={"ag-theme-custom":{headerHeight:25,headerCellMinWidth:24,listItemHeight:e6*5,rowHeight:25,chartMenuPanelWidth:220},"ag-theme-material":{headerHeight:Jy*7,headerCellMinWidth:48,listItemHeight:Jy*4,rowHeight:Jy*6,chartMenuPanelWidth:240},"ag-theme-balham":{headerHeight:eC*8,headerCellMinWidth:24,listItemHeight:eC*6,rowHeight:eC*7,chartMenuPanelWidth:220},"ag-theme-alpine":{headerHeight:tC*8,headerCellMinWidth:36,listItemHeight:tC*4,rowHeight:tC*7,chartMenuPanelWidth:240}},ZT={headerHeight:["ag-header-row"],headerCellMinWidth:["ag-header-cell"],listItemHeight:["ag-virtual-list-item"],rowHeight:["ag-row"],chartMenuPanelWidth:["ag-chart-docked-container"]},Ip={},xF=function(n){Jz(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.getSassVariable=function(e,r){var i="ag-theme-"+(e.match("material")?"material":e.match("balham")?"balham":e.match("alpine")?"alpine":"custom"),o=t6[i][r],a=0;Ip[e]||(Ip[e]={});var s=Ip[e][r];if(s!=null)return s;if(ZT[r]){var l=ZT[r],u=document.createElement("div");u.classList.add(e),u.style.position="absolute";var c=l.reduce(function(h,d){var f=document.createElement("div");return f.style.position="static",f.classList.add(d),h.appendChild(f),f},u);if(document.body){document.body.appendChild(u);var p=r.toLowerCase().indexOf("height")!==-1?"height":"width";a=parseInt(window.getComputedStyle(c)[p],10),document.body.removeChild(u)}}return Ip[e][r]=a||o,Ip[e][r]},t.prototype.isThemeDark=function(){var e=this.getTheme().theme;return!!e&&e.indexOf("dark")>=0},t.prototype.chartMenuPanelWidth=function(){var e=this.getTheme().themeFamily;return this.getSassVariable(e,"chartMenuPanelWidth")},t.prototype.getTheme=function(){for(var e=/\bag-(material|(?:theme-([\w\-]*)))\b/,r=this.eGridDiv,i=null;r&&(i=e.exec(r.className),!i);)r=r.parentElement||void 0;if(!i)return{};var o=i[0],a=i[2]===void 0;if(a){var s=o.replace("ag-","ag-theme-");ct(function(){return console.warn("AG Grid: As of v19 old theme are no longer provided. Please replace "+o+" with "+s+".")},"using-old-theme")}return{theme:o,el:r,themeFamily:o.replace(/-dark$/,"")}},qT([y("eGridDiv")],t.prototype,"eGridDiv",void 0),t=qT([J("environment")],t),t}(j);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v27.3.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */var r6=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),qd=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},n6=globalThis&&globalThis.__param||function(n,t){return function(e,r){t(e,r,n)}},i6=function(n){r6(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.scrollY=0,e.uiBodyHeight=0,e}return t.prototype.agWire=function(e){this.logger=e.create("RowContainerHeightService")},t.prototype.postConstruct=function(){this.addManagedListener(this.eventService,x.EVENT_BODY_HEIGHT_CHANGED,this.updateOffset.bind(this)),this.maxDivHeight=yM(),this.logger.log("maxDivHeight = "+this.maxDivHeight)},t.prototype.isStretching=function(){return this.stretching},t.prototype.getDivStretchOffset=function(){return this.divStretchOffset},t.prototype.updateOffset=function(){if(!!this.stretching){var e=this.ctrlsService.getGridBodyCtrl(),r=e.getScrollFeature().getVScrollPosition().top,i=this.getUiBodyHeight(),o=r!==this.scrollY||i!==this.uiBodyHeight;o&&(this.scrollY=r,this.uiBodyHeight=i,this.calculateOffset())}},t.prototype.calculateOffset=function(){this.setUiContainerHeight(this.maxDivHeight),this.pixelsToShave=this.modelHeight-this.uiContainerHeight,this.maxScrollY=this.uiContainerHeight-this.uiBodyHeight;var e=this.scrollY/this.maxScrollY,r=e*this.pixelsToShave;this.logger.log("Div Stretch Offset = "+r+" ("+this.pixelsToShave+" * "+e+")"),this.setDivStretchOffset(r)},t.prototype.setUiContainerHeight=function(e){e!==this.uiContainerHeight&&(this.uiContainerHeight=e,this.eventService.dispatchEvent({type:x.EVENT_ROW_CONTAINER_HEIGHT_CHANGED}))},t.prototype.clearOffset=function(){this.setUiContainerHeight(this.modelHeight),this.pixelsToShave=0,this.setDivStretchOffset(0)},t.prototype.setDivStretchOffset=function(e){var r=typeof e=="number"?Math.floor(e):null;this.divStretchOffset!==r&&(this.divStretchOffset=r,this.eventService.dispatchEvent({type:x.EVENT_HEIGHT_SCALE_CHANGED}))},t.prototype.setModelHeight=function(e){this.modelHeight=e,this.stretching=e!=null&&this.maxDivHeight>0&&e>this.maxDivHeight,this.stretching?this.calculateOffset():this.clearOffset()},t.prototype.getUiContainerHeight=function(){return this.uiContainerHeight},t.prototype.getRealPixelPosition=function(e){return e-this.divStretchOffset},t.prototype.getUiBodyHeight=function(){var e=this.ctrlsService.getGridBodyCtrl(),r=e.getScrollFeature().getVScrollPosition();return r.bottom-r.top},t.prototype.getScrollPositionForPixel=function(e){if(this.pixelsToShave<=0)return e;var r=this.modelHeight-this.getUiBodyHeight(),i=e/r,o=this.maxScrollY*i;return o},qd([y("ctrlsService")],t.prototype,"ctrlsService",void 0),qd([n6(0,xr("loggerFactory"))],t.prototype,"agWire",null),qd([H],t.prototype,"postConstruct",null),t=qd([J("rowContainerHeightService")],t),t}(j);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v27.3.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */var o6=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),QT=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},TF=function(n){o6(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.init=function(){this.groupSelectsChildren=this.gridOptionsWrapper.isGroupSelectsChildren(),this.isRowSelectableFunc=this.gridOptionsWrapper.getIsRowSelectableFunc()},t.prototype.updateSelectableAfterGrouping=function(e){if(this.isRowSelectableFunc){var r=function(i){return i.childrenAfterGroup};this.recurseDown(e.childrenAfterGroup,r)}},t.prototype.recurseDown=function(e,r){var i=this;!e||e.forEach(function(o){if(!!o.group){o.hasChildren()&&i.recurseDown(r(o),r);var a;if(i.groupSelectsChildren){var s=(r(o)||[]).find(function(l){return l.selectable===!0});a=Z(s)}else a=i.isRowSelectableFunc?i.isRowSelectableFunc(o):!1;o.setRowSelectable(a)}})},QT([H],t.prototype,"init",null),t=QT([J("selectableService")],t),t}(j);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v27.3.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */var a6=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),ui=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},s6=function(n){a6(t,n);function t(){var e=n.call(this)||this;return e.previousAndFirstButtonsDisabled=!1,e.nextButtonDisabled=!1,e.lastButtonDisabled=!1,e}return t.prototype.postConstruct=function(){var e=this,r=this.gridOptionsWrapper.isEnableRtl();this.setTemplate(this.getTemplate()),this.btFirst.insertAdjacentElement("afterbegin",ar(r?"last":"first",this.gridOptionsWrapper)),this.btPrevious.insertAdjacentElement("afterbegin",ar(r?"next":"previous",this.gridOptionsWrapper)),this.btNext.insertAdjacentElement("afterbegin",ar(r?"previous":"next",this.gridOptionsWrapper)),this.btLast.insertAdjacentElement("afterbegin",ar(r?"first":"last",this.gridOptionsWrapper));var i=this.gridOptionsWrapper.isPagination(),o=i&&!this.gridOptionsWrapper.isSuppressPaginationPanel();if(!o){this.setDisplayed(!1);return}this.addManagedListener(this.eventService,x.EVENT_PAGINATION_CHANGED,this.onPaginationChanged.bind(this)),[{el:this.btFirst,fn:this.onBtFirst.bind(this)},{el:this.btPrevious,fn:this.onBtPrevious.bind(this)},{el:this.btNext,fn:this.onBtNext.bind(this)},{el:this.btLast,fn:this.onBtLast.bind(this)}].forEach(function(a){var s=a.el,l=a.fn;e.addManagedListener(s,"click",l),e.addManagedListener(s,"keydown",function(u){(u.key===U.ENTER||u.key===U.SPACE)&&(u.preventDefault(),l())})}),this.onPaginationChanged()},t.prototype.onPaginationChanged=function(){this.enableOrDisableButtons(),this.updateRowLabels(),this.setCurrentPageLabel(),this.setTotalLabels()},t.prototype.onBtFirst=function(){this.previousAndFirstButtonsDisabled||this.paginationProxy.goToFirstPage()},t.prototype.setCurrentPageLabel=function(){var e=this.paginationProxy.getTotalPages()>0,r=this.paginationProxy.getCurrentPage(),i=e?r+1:0;this.lbCurrent.innerHTML=this.formatNumber(i)},t.prototype.formatNumber=function(e){var r=this.gridOptionsWrapper.getPaginationNumberFormatterFunc();if(r){var i={value:e};return r(i)}var o=this.gridOptionsWrapper.getLocaleTextFunc(),a=o("thousandSeparator",","),s=o("decimalSeparator",".");return MS(e,a,s)},t.prototype.getTemplate=function(){var e=this.gridOptionsWrapper.getLocaleTextFunc(),r=e("page","Page"),i=e("to","to"),o=e("of","of"),a=e("firstPage","First Page"),s=e("previousPage","Previous Page"),l=e("nextPage","Next Page"),u=e("lastPage","Last Page"),c=this.getCompId();return'<div class="ag-paging-panel ag-unselectable" id="ag-'+c+`">
                <span class="ag-paging-row-summary-panel" role="status">
                    <span id="ag-`+c+`-first-row" ref="lbFirstRowOnPage" class="ag-paging-row-summary-panel-number"></span>
                    <span id="ag-`+c+'-to">'+i+`</span>
                    <span id="ag-`+c+`-last-row" ref="lbLastRowOnPage" class="ag-paging-row-summary-panel-number"></span>
                    <span id="ag-`+c+'-of">'+o+`</span>
                    <span id="ag-`+c+`-row-count" ref="lbRecordCount" class="ag-paging-row-summary-panel-number"></span>
                </span>
                <span class="ag-paging-page-summary-panel" role="presentation">
                    <div ref="btFirst" class="ag-paging-button" role="button" aria-label="`+a+`"></div>
                    <div ref="btPrevious" class="ag-paging-button" role="button" aria-label="`+s+`"></div>
                    <span class="ag-paging-description" role="status">
                        <span id="ag-`+c+'-start-page">'+r+`</span>
                        <span id="ag-`+c+`-start-page-number" ref="lbCurrent" class="ag-paging-number"></span>
                        <span id="ag-`+c+'-of-page">'+o+`</span>
                        <span id="ag-`+c+`-of-page-number" ref="lbTotal" class="ag-paging-number"></span>
                    </span>
                    <div ref="btNext" class="ag-paging-button" role="button" aria-label="`+l+`"></div>
                    <div ref="btLast" class="ag-paging-button" role="button" aria-label="`+u+`"></div>
                </span>
            </div>`},t.prototype.onBtNext=function(){this.nextButtonDisabled||this.paginationProxy.goToNextPage()},t.prototype.onBtPrevious=function(){this.previousAndFirstButtonsDisabled||this.paginationProxy.goToPreviousPage()},t.prototype.onBtLast=function(){this.lastButtonDisabled||this.paginationProxy.goToLastPage()},t.prototype.enableOrDisableButtons=function(){var e=this.paginationProxy.getCurrentPage(),r=this.paginationProxy.isLastPageFound(),i=this.paginationProxy.getTotalPages();this.previousAndFirstButtonsDisabled=e===0,this.toggleButtonDisabled(this.btFirst,this.previousAndFirstButtonsDisabled),this.toggleButtonDisabled(this.btPrevious,this.previousAndFirstButtonsDisabled);var o=this.isZeroPagesToDisplay(),a=r&&e===i-1;this.nextButtonDisabled=a||o,this.lastButtonDisabled=!r||o||e===i-1,this.toggleButtonDisabled(this.btNext,this.nextButtonDisabled),this.toggleButtonDisabled(this.btLast,this.lastButtonDisabled)},t.prototype.toggleButtonDisabled=function(e,r){ES(e,r),e.classList.toggle("ag-disabled",r),r?e.removeAttribute("tabindex"):e.setAttribute("tabindex","0")},t.prototype.updateRowLabels=function(){var e=this.paginationProxy.getCurrentPage(),r=this.paginationProxy.getPageSize(),i=this.paginationProxy.isLastPageFound(),o=this.paginationProxy.isLastPageFound()?this.paginationProxy.getMasterRowCount():null,a,s;this.isZeroPagesToDisplay()?a=s=0:(a=r*e+1,s=a+r-1,i&&s>o&&(s=o)),this.lbFirstRowOnPage.innerHTML=this.formatNumber(a),this.rowNodeBlockLoader.isLoading()?this.lbLastRowOnPage.innerHTML="?":this.lbLastRowOnPage.innerHTML=this.formatNumber(s)},t.prototype.isZeroPagesToDisplay=function(){var e=this.paginationProxy.isLastPageFound(),r=this.paginationProxy.getTotalPages();return e&&r===0},t.prototype.setTotalLabels=function(){var e=this.paginationProxy.isLastPageFound(),r=this.paginationProxy.getTotalPages(),i=e?this.paginationProxy.getMasterRowCount():null;if(i===1){var o=this.paginationProxy.getRow(0),a=o&&o.group&&!(o.groupData||o.aggData);if(a){this.setTotalLabelsToZero();return}}if(e)this.lbTotal.innerHTML=this.formatNumber(r),this.lbRecordCount.innerHTML=this.formatNumber(i);else{var s=this.gridOptionsWrapper.getLocaleTextFunc()("more","more");this.lbTotal.innerHTML=s,this.lbRecordCount.innerHTML=s}},t.prototype.setTotalLabelsToZero=function(){this.lbFirstRowOnPage.innerHTML=this.formatNumber(0),this.lbCurrent.innerHTML=this.formatNumber(0),this.lbLastRowOnPage.innerHTML=this.formatNumber(0),this.lbTotal.innerHTML=this.formatNumber(0),this.lbRecordCount.innerHTML=this.formatNumber(0)},ui([y("paginationProxy")],t.prototype,"paginationProxy",void 0),ui([y("rowNodeBlockLoader")],t.prototype,"rowNodeBlockLoader",void 0),ui([I("btFirst")],t.prototype,"btFirst",void 0),ui([I("btPrevious")],t.prototype,"btPrevious",void 0),ui([I("btNext")],t.prototype,"btNext",void 0),ui([I("btLast")],t.prototype,"btLast",void 0),ui([I("lbRecordCount")],t.prototype,"lbRecordCount",void 0),ui([I("lbFirstRowOnPage")],t.prototype,"lbFirstRowOnPage",void 0),ui([I("lbLastRowOnPage")],t.prototype,"lbLastRowOnPage",void 0),ui([I("lbCurrent")],t.prototype,"lbCurrent",void 0),ui([I("lbTotal")],t.prototype,"lbTotal",void 0),ui([H],t.prototype,"postConstruct",null),t}(te);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v27.3.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */var l6=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Ru=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},oc;(function(n){n[n.Loading=0]="Loading",n[n.NoRows=1]="NoRows"})(oc||(oc={}));var u6=function(n){l6(t,n);function t(){var e=n.call(this,t.TEMPLATE)||this;return e.inProgress=!1,e.destroyRequested=!1,e.manuallyDisplayed=!1,e}return t.prototype.updateLayoutClasses=function(e,r){var i=this.eOverlayWrapper.classList;i.toggle(tr.AUTO_HEIGHT,r.autoHeight),i.toggle(tr.NORMAL,r.normal),i.toggle(tr.PRINT,r.print)},t.prototype.postConstruct=function(){this.createManagedBean(new WS(this)),this.setDisplayed(!1),this.addManagedListener(this.eventService,x.EVENT_ROW_DATA_CHANGED,this.onRowDataChanged.bind(this)),this.addManagedListener(this.eventService,x.EVENT_ROW_DATA_UPDATED,this.onRowDataChanged.bind(this)),this.addManagedListener(this.eventService,x.EVENT_NEW_COLUMNS_LOADED,this.onNewColumnsLoaded.bind(this)),this.gridOptionsWrapper.isRowModelDefault()&&!this.gridOptionsWrapper.getRowData()&&this.showLoadingOverlay(),this.gridApi.registerOverlayWrapperComp(this)},t.prototype.setWrapperTypeClass=function(e){var r=this.eOverlayWrapper.classList;r.toggle("ag-overlay-loading-wrapper",e===oc.Loading),r.toggle("ag-overlay-no-rows-wrapper",e===oc.NoRows)},t.prototype.showLoadingOverlay=function(){if(!this.gridOptionsWrapper.isSuppressLoadingOverlay()){var e={},r=this.userComponentFactory.getLoadingOverlayCompDetails(e),i=r.newAgStackInstance();this.showOverlay(i,oc.Loading)}},t.prototype.showNoRowsOverlay=function(){if(!this.gridOptionsWrapper.isSuppressNoRowsOverlay()){var e={},r=this.userComponentFactory.getNoRowsOverlayCompDetails(e),i=r.newAgStackInstance();this.showOverlay(i,oc.NoRows)}},t.prototype.showOverlay=function(e,r){var i=this;this.inProgress||(this.setWrapperTypeClass(r),this.destroyActiveOverlay(),this.inProgress=!0,e&&e.then(function(o){i.inProgress=!1,i.eOverlayWrapper.appendChild(o.getGui()),i.activeOverlay=o,i.destroyRequested&&(i.destroyRequested=!1,i.destroyActiveOverlay())}),this.manuallyDisplayed=this.columnModel.isReady()&&!this.paginationProxy.isEmpty(),this.setDisplayed(!0))},t.prototype.destroyActiveOverlay=function(){if(this.inProgress){this.destroyRequested=!0;return}!this.activeOverlay||(this.activeOverlay=this.getContext().destroyBean(this.activeOverlay),ni(this.eOverlayWrapper))},t.prototype.hideOverlay=function(){this.manuallyDisplayed=!1,this.destroyActiveOverlay(),this.setDisplayed(!1)},t.prototype.destroy=function(){this.destroyActiveOverlay(),n.prototype.destroy.call(this)},t.prototype.showOrHideOverlay=function(){var e=this.paginationProxy.isEmpty(),r=this.gridOptionsWrapper.isSuppressNoRowsOverlay();e&&!r?this.showNoRowsOverlay():this.hideOverlay()},t.prototype.onRowDataChanged=function(){this.showOrHideOverlay()},t.prototype.onNewColumnsLoaded=function(){this.columnModel.isReady()&&!this.paginationProxy.isEmpty()&&!this.manuallyDisplayed&&this.hideOverlay()},t.TEMPLATE=`
        <div class="ag-overlay" aria-hidden="true">
            <div class="ag-overlay-panel">
                <div class="ag-overlay-wrapper" ref="eOverlayWrapper"></div>
            </div>
        </div>`,Ru([y("userComponentFactory")],t.prototype,"userComponentFactory",void 0),Ru([y("paginationProxy")],t.prototype,"paginationProxy",void 0),Ru([y("gridApi")],t.prototype,"gridApi",void 0),Ru([y("columnModel")],t.prototype,"columnModel",void 0),Ru([I("eOverlayWrapper")],t.prototype,"eOverlayWrapper",void 0),Ru([H],t.prototype,"postConstruct",null),t}(te);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v27.3.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */var c6=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Zd=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},OF=function(n){c6(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.getFirstRow=function(){var e=0,r;return this.pinnedRowModel.getPinnedTopRowCount()?r=L.PINNED_TOP:this.rowModel.getRowCount()?(r=null,e=this.paginationProxy.getPageFirstRow()):this.pinnedRowModel.getPinnedBottomRowCount()&&(r=L.PINNED_BOTTOM),r===void 0?null:{rowIndex:e,rowPinned:r}},t.prototype.getLastRow=function(){var e,r=null,i=this.pinnedRowModel.getPinnedBottomRowCount(),o=this.pinnedRowModel.getPinnedTopRowCount();return i?(r=L.PINNED_BOTTOM,e=i-1):this.rowModel.getRowCount()?(r=null,e=this.paginationProxy.getPageLastRow()):o&&(r=L.PINNED_TOP,e=o-1),e===void 0?null:{rowIndex:e,rowPinned:r}},t.prototype.getRowNode=function(e){switch(e.rowPinned){case L.PINNED_TOP:return this.pinnedRowModel.getPinnedTopRowData()[e.rowIndex];case L.PINNED_BOTTOM:return this.pinnedRowModel.getPinnedBottomRowData()[e.rowIndex];default:return this.rowModel.getRow(e.rowIndex)}},t.prototype.sameRow=function(e,r){return!e&&!r?!0:e&&!r||!e&&r?!1:e.rowIndex===r.rowIndex&&e.rowPinned==r.rowPinned},t.prototype.before=function(e,r){switch(e.rowPinned){case L.PINNED_TOP:if(r.rowPinned!==L.PINNED_TOP)return!0;break;case L.PINNED_BOTTOM:if(r.rowPinned!==L.PINNED_BOTTOM)return!1;break;default:if(Z(r.rowPinned))return r.rowPinned!==L.PINNED_TOP;break}return e.rowIndex<r.rowIndex},Zd([y("rowModel")],t.prototype,"rowModel",void 0),Zd([y("pinnedRowModel")],t.prototype,"pinnedRowModel",void 0),Zd([y("paginationProxy")],t.prototype,"paginationProxy",void 0),t=Zd([J("rowPositionUtils")],t),t}(j);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v27.3.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */var p6=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),h6=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},EF=function(n){p6(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.createId=function(e){var r=e.rowIndex,i=e.rowPinned,o=e.column;return this.createIdFromValues(r,o,i)},t.prototype.createIdFromValues=function(e,r,i){return e+"."+(i==null?"null":i)+"."+r.getId()},t.prototype.equals=function(e,r){var i=e.column===r.column,o=e.rowPinned===r.rowPinned,a=e.rowIndex===r.rowIndex;return i&&o&&a},t=h6([J("cellPositionUtils")],t),t}(j);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v27.3.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */var d6=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Zf=function(){function n(t){this.cellValueChanges=t}return n}(),rC=function(n){d6(t,n);function t(e,r,i){var o=n.call(this,e)||this;return o.initialRange=r,o.finalRange=i,o}return t}(Zf),JT=function(){function n(t){this.actionStack=[],this.maxStackSize=t||n.DEFAULT_STACK_SIZE,this.actionStack=new Array(this.maxStackSize)}return n.prototype.pop=function(){return this.actionStack.pop()},n.prototype.push=function(t){var e=t.cellValueChanges&&t.cellValueChanges.length>0;!e||(this.actionStack.length===this.maxStackSize&&this.actionStack.shift(),this.actionStack.push(t))},n.prototype.clear=function(){this.actionStack=[]},n.prototype.getCurrentStackSize=function(){return this.actionStack.length},n.DEFAULT_STACK_SIZE=10,n}();/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v27.3.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */var f6=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Xa=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},g6=function(n){f6(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.cellValueChanges=[],e.activeCellEdit=null,e.activeRowEdit=null,e.isPasting=!1,e.isFilling=!1,e.onCellValueChanged=function(r){var i={column:r.column,rowIndex:r.rowIndex,rowPinned:r.rowPinned},o=e.activeCellEdit!==null&&e.cellPositionUtils.equals(e.activeCellEdit,i),a=e.activeRowEdit!==null&&e.rowPositionUtils.sameRow(e.activeRowEdit,i),s=o||a||e.isPasting||e.isFilling;if(!!s){var l=r.rowPinned,u=r.rowIndex,c=r.column,p=r.oldValue,h=r.value,d={rowPinned:l,rowIndex:u,columnId:c.getColId(),newValue:h,oldValue:p};e.cellValueChanges.push(d)}},e.clearStacks=function(){e.undoStack.clear(),e.redoStack.clear()},e}return t.prototype.init=function(){if(!!this.gridOptionsWrapper.isUndoRedoCellEditing()){var e=this.gridOptionsWrapper.getUndoRedoCellEditingLimit();e<=0||(this.undoStack=new JT(e),this.redoStack=new JT(e),this.addRowEditingListeners(),this.addCellEditingListeners(),this.addPasteListeners(),this.addFillListeners(),this.addManagedListener(this.eventService,x.EVENT_CELL_VALUE_CHANGED,this.onCellValueChanged),this.addManagedListener(this.eventService,x.EVENT_MODEL_UPDATED,this.clearStacks),this.addManagedListener(this.eventService,x.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.clearStacks),this.addManagedListener(this.eventService,x.EVENT_NEW_COLUMNS_LOADED,this.clearStacks),this.addManagedListener(this.eventService,x.EVENT_COLUMN_GROUP_OPENED,this.clearStacks),this.addManagedListener(this.eventService,x.EVENT_COLUMN_ROW_GROUP_CHANGED,this.clearStacks),this.addManagedListener(this.eventService,x.EVENT_COLUMN_MOVED,this.clearStacks),this.addManagedListener(this.eventService,x.EVENT_COLUMN_PINNED,this.clearStacks),this.addManagedListener(this.eventService,x.EVENT_COLUMN_VISIBLE,this.clearStacks),this.addManagedListener(this.eventService,x.EVENT_ROW_DRAG_END,this.clearStacks))}},t.prototype.getCurrentUndoStackSize=function(){return this.undoStack?this.undoStack.getCurrentStackSize():0},t.prototype.getCurrentRedoStackSize=function(){return this.redoStack?this.redoStack.getCurrentStackSize():0},t.prototype.undo=function(){if(!!this.undoStack){var e=this.undoStack.pop();!e||!e.cellValueChanges||(this.processAction(e,function(r){return r.oldValue}),e instanceof rC?this.processRangeAndCellFocus(e.cellValueChanges,e.initialRange):this.processRangeAndCellFocus(e.cellValueChanges),this.redoStack.push(e))}},t.prototype.redo=function(){if(!!this.redoStack){var e=this.redoStack.pop();!e||!e.cellValueChanges||(this.processAction(e,function(r){return r.newValue}),e instanceof rC?this.processRangeAndCellFocus(e.cellValueChanges,e.finalRange):this.processRangeAndCellFocus(e.cellValueChanges),this.undoStack.push(e))}},t.prototype.processAction=function(e,r){var i=this;e.cellValueChanges.forEach(function(o){var a=o.rowIndex,s=o.rowPinned,l=o.columnId,u={rowIndex:a,rowPinned:s},c=i.getRowNode(u);!c.displayed||c.setDataValue(l,r(o))})},t.prototype.processRangeAndCellFocus=function(e,r){var i;if(r){var o=r.startRow,a=r.endRow;i={rowPinned:o.rowPinned,rowIndex:o.rowIndex,columnId:r.startColumn.getColId()},this.setLastFocusedCell(i);var s={rowStartIndex:o.rowIndex,rowStartPinned:o.rowPinned,rowEndIndex:a.rowIndex,rowEndPinned:a.rowPinned,columnStart:r.startColumn,columns:r.columns};this.gridApi.addCellRange(s);return}var l=e[0],u=l.rowIndex,c=l.rowPinned,p={rowIndex:u,rowPinned:c},h=this.getRowNode(p);i={rowPinned:l.rowPinned,rowIndex:h.rowIndex,columnId:l.columnId},this.setLastFocusedCell(i)},t.prototype.setLastFocusedCell=function(e){var r=e.rowIndex,i=e.columnId,o=e.rowPinned;this.gridApi.ensureIndexVisible(r),this.gridApi.ensureColumnVisible(i),ve.isRegistered(ae.RangeSelectionModule)&&this.gridApi.clearRangeSelection(),this.focusService.setFocusedCell(r,i,o,!0)},t.prototype.addRowEditingListeners=function(){var e=this;this.addManagedListener(this.eventService,x.EVENT_ROW_EDITING_STARTED,function(r){e.activeRowEdit={rowIndex:r.rowIndex,rowPinned:r.rowPinned}}),this.addManagedListener(this.eventService,x.EVENT_ROW_EDITING_STOPPED,function(){var r=new Zf(e.cellValueChanges);e.pushActionsToUndoStack(r),e.activeRowEdit=null})},t.prototype.addCellEditingListeners=function(){var e=this;this.addManagedListener(this.eventService,x.EVENT_CELL_EDITING_STARTED,function(r){e.activeCellEdit={column:r.column,rowIndex:r.rowIndex,rowPinned:r.rowPinned}}),this.addManagedListener(this.eventService,x.EVENT_CELL_EDITING_STOPPED,function(){e.activeCellEdit=null;var r=!e.activeRowEdit&&!e.isPasting&&!e.isFilling;if(r){var i=new Zf(e.cellValueChanges);e.pushActionsToUndoStack(i)}})},t.prototype.addPasteListeners=function(){var e=this;this.addManagedListener(this.eventService,x.EVENT_PASTE_START,function(){e.isPasting=!0}),this.addManagedListener(this.eventService,x.EVENT_PASTE_END,function(){var r=new Zf(e.cellValueChanges);e.pushActionsToUndoStack(r),e.isPasting=!1})},t.prototype.addFillListeners=function(){var e=this;this.addManagedListener(this.eventService,x.EVENT_FILL_START,function(){e.isFilling=!0}),this.addManagedListener(this.eventService,x.EVENT_FILL_END,function(r){var i=new rC(e.cellValueChanges,r.initialRange,r.finalRange);e.pushActionsToUndoStack(i),e.isFilling=!1})},t.prototype.pushActionsToUndoStack=function(e){this.undoStack.push(e),this.cellValueChanges=[],this.redoStack.clear()},t.prototype.getRowNode=function(e){switch(e.rowPinned){case L.PINNED_TOP:return this.pinnedRowModel.getPinnedTopRowData()[e.rowIndex];case L.PINNED_BOTTOM:return this.pinnedRowModel.getPinnedBottomRowData()[e.rowIndex];default:return this.rowModel.getRow(e.rowIndex)}},Xa([y("focusService")],t.prototype,"focusService",void 0),Xa([y("gridApi")],t.prototype,"gridApi",void 0),Xa([y("rowModel")],t.prototype,"rowModel",void 0),Xa([y("pinnedRowModel")],t.prototype,"pinnedRowModel",void 0),Xa([y("cellPositionUtils")],t.prototype,"cellPositionUtils",void 0),Xa([y("rowPositionUtils")],t.prototype,"rowPositionUtils",void 0),Xa([H],t.prototype,"init",null),t=Xa([J("undoRedoService")],t),t}(j);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v27.3.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */var v6=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),nC=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},RF=function(n){v6(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.findHeader=function(e,r){var i,o,a;if(e.column instanceof kr?(o="getDisplayedGroup"+r,i=this.columnModel[o](e.column)):(a="getDisplayedCol"+r,i=this.columnModel[a](e.column)),i)return{column:i,headerRowIndex:e.headerRowIndex}},t.prototype.findColAtEdgeForHeaderRow=function(e,r){var i=this.columnModel.getAllDisplayedColumns(),o=i[r==="start"?0:i.length-1];if(!!o){var a=this.ctrlsService.getHeaderRowContainerCtrl(o.getPinned()),s=a.getRowType(e);if(s==Zr.COLUMN_GROUP){var l=this.columnModel.getColumnGroupAtLevel(o,e);return{headerRowIndex:e,column:l}}return{headerRowIndex:s==null?-1:e,column:o}}},nC([y("columnModel")],t.prototype,"columnModel",void 0),nC([y("ctrlsService")],t.prototype,"ctrlsService",void 0),t=nC([J("headerPositionUtils")],t),t}(j);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v27.3.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */var m6=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},y6=function(){function n(){}return n.prototype.buildColumnDefs=function(t,e,r){var i=this,o=[],a={};return t.forEach(function(s){for(var l=i.createDefFromColumn(s,e,r),u=!0,c=l,p=s.getOriginalParent();p;){var h=null;if(p.isPadding()){p=p.getOriginalParent();continue}var d=a[p.getGroupId()];if(d){d.children.push(c),u=!1;break}h=i.createDefFromGroup(p),h&&(h.children=[c],a[h.groupId]=h,c=h,p=p.getOriginalParent())}u&&o.push(c)}),o},n.prototype.createDefFromGroup=function(t){var e=zg(t.getColGroupDef(),["children"]);return e&&(e.groupId=t.getGroupId()),e},n.prototype.createDefFromColumn=function(t,e,r){var i=zg(t.getColDef());return i.colId=t.getColId(),i.width=t.getActualWidth(),i.rowGroup=t.isRowGroupActive(),i.rowGroupIndex=t.isRowGroupActive()?e.indexOf(t):null,i.pivot=t.isPivotActive(),i.pivotIndex=t.isPivotActive()?r.indexOf(t):null,i.aggFunc=t.isValueActive()?t.getAggFunc():null,i.hide=t.isVisible()?void 0:!0,i.pinned=t.isPinned()?t.getPinned():null,i.sort=t.getSort()?t.getSort():null,i.sortIndex=t.getSortIndex()!=null?t.getSortIndex():null,i},n=m6([J("columnDefFactory")],n),n}();/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v27.3.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */var iC=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},C6=function(){function n(){}return n.prototype.getInitialRowClasses=function(t){var e=[];return Z(t.extraCssClass)&&e.push(t.extraCssClass),e.push("ag-row"),e.push(t.rowFocused?"ag-row-focus":"ag-row-no-focus"),t.fadeRowIn&&e.push("ag-opacity-zero"),e.push(t.rowIsEven?"ag-row-even":"ag-row-odd"),t.rowNode.isRowPinned()&&e.push("ag-row-pinned"),t.rowNode.isSelected()&&e.push("ag-row-selected"),t.rowNode.footer&&e.push("ag-row-footer"),e.push("ag-row-level-"+t.rowLevel),t.rowNode.stub&&e.push("ag-row-loading"),t.fullWidthRow&&e.push("ag-full-width-row"),t.expandable&&(e.push("ag-row-group"),e.push(t.rowNode.expanded?"ag-row-group-expanded":"ag-row-group-contracted")),t.rowNode.dragging&&e.push("ag-row-dragging"),lw(e,this.processClassesFromGridOptions(t.rowNode)),lw(e,this.preProcessRowClassRules(t.rowNode)),e.push(t.printLayout?"ag-row-position-relative":"ag-row-position-absolute"),t.firstRowOnPage&&e.push("ag-row-first"),t.lastRowOnPage&&e.push("ag-row-last"),t.fullWidthRow&&(t.pinned===L.PINNED_LEFT&&e.push("ag-cell-last-left-pinned"),t.pinned===L.PINNED_RIGHT&&e.push("ag-cell-first-right-pinned")),e},n.prototype.processClassesFromGridOptions=function(t){var e=[],r=function(l){typeof l=="string"?e.push(l):Array.isArray(l)&&l.forEach(function(u){return e.push(u)})},i=this.gridOptionsWrapper.getRowClass();if(i){if(typeof i=="function")return console.warn("AG Grid: rowClass should not be a function, please use getRowClass instead"),[];r(i)}var o=this.gridOptionsWrapper.getRowClassFunc();if(o){var a={data:t.data,node:t,rowIndex:t.rowIndex},s=o(a);r(s)}return e},n.prototype.preProcessRowClassRules=function(t){var e=[];return this.processRowClassRules(t,function(r){e.push(r)},function(r){}),e},n.prototype.processRowClassRules=function(t,e,r){var i={data:t.data,node:t,rowIndex:t.rowIndex,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()};this.stylingService.processClassRules(this.gridOptionsWrapper.rowClassRules(),i,e,r)},n.prototype.calculateRowLevel=function(t){return t.group?t.level:t.parent?t.parent.level+1:0},iC([y("stylingService")],n.prototype,"stylingService",void 0),iC([y("gridOptionsWrapper")],n.prototype,"gridOptionsWrapper",void 0),n=iC([J("rowCssClassCalculator")],n),n}();/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v27.3.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */var Qd=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},PF=function(){function n(){}return n.prototype.doFullSort=function(t,e){var r=function(o,a){return{currentPos:a,rowNode:o}},i=t.map(r);return i.sort(this.compareRowNodes.bind(this,e)),i.map(function(o){return o.rowNode})},n.prototype.compareRowNodes=function(t,e,r){for(var i=e.rowNode,o=r.rowNode,a=0,s=t.length;a<s;a++){var l=t[a],u=l.sort===L.SORT_DESC,c=this.getValue(i,l.column),p=this.getValue(o,l.column),h=void 0,d=this.getComparator(l,i);d?h=d(c,p,i,o,u):h=_.defaultComparator(c,p,this.gridOptionsWrapper.isAccentedSort());var f=!isNaN(h);if(f&&h!==0)return l.sort===L.SORT_ASC?h:h*-1}return e.currentPos-r.currentPos},n.prototype.getComparator=function(t,e){var r=t.column,i=r.getColDef().comparator;if(i!=null)return i;if(e.rowGroupColumn)return e.rowGroupColumn.getColDef().comparator;if(!!r.getColDef().showRowGroup){var o=!e.group&&r.getColDef().field;if(!!o){var a=this.columnModel.getPrimaryColumn(o);if(!!a)return a.getColDef().comparator}}},n.prototype.getValue=function(t,e){return this.valueService.getValue(e,t,!1,!1)},Qd([y("gridOptionsWrapper")],n.prototype,"gridOptionsWrapper",void 0),Qd([y("valueService")],n.prototype,"valueService",void 0),Qd([y("columnModel")],n.prototype,"columnModel",void 0),n=Qd([J("rowNodeSorter")],n),n}();/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v27.3.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */var b6=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),w6=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},AF=function(n){b6(t,n);function t(){var r=n!==null&&n.apply(this,arguments)||this;return r.ready=!1,r.readyCallbacks=[],r}e=t,t.prototype.checkReady=function(){if(this.ready=this.gridCtrl!=null&&this.gridBodyCtrl!=null&&this.centerRowContainerCtrl!=null&&this.leftRowContainerCtrl!=null&&this.rightRowContainerCtrl!=null&&this.bottomCenterRowContainerCtrl!=null&&this.bottomLeftRowContainerCtrl!=null&&this.bottomRightRowContainerCtrl!=null&&this.topCenterRowContainerCtrl!=null&&this.topLeftRowContainerCtrl!=null&&this.topRightRowContainerCtrl!=null&&this.centerHeaderRowContainerCtrl!=null&&this.leftHeaderRowContainerCtrl!=null&&this.rightHeaderRowContainerCtrl!=null&&this.fakeHScrollCtrl!=null&&this.gridHeaderCtrl!=null,this.ready){var r=this.createReadyParams();this.readyCallbacks.forEach(function(i){return i(r)}),this.readyCallbacks.length=0}},t.prototype.whenReady=function(r){this.ready?r(this.createReadyParams()):this.readyCallbacks.push(r)},t.prototype.createReadyParams=function(){return{centerRowContainerCtrl:this.centerRowContainerCtrl,leftRowContainerCtrl:this.leftRowContainerCtrl,rightRowContainerCtrl:this.rightRowContainerCtrl,bottomCenterRowContainerCtrl:this.bottomCenterRowContainerCtrl,bottomLeftRowContainerCtrl:this.bottomLeftRowContainerCtrl,bottomRightRowContainerCtrl:this.bottomRightRowContainerCtrl,topCenterRowContainerCtrl:this.topCenterRowContainerCtrl,topLeftRowContainerCtrl:this.topLeftRowContainerCtrl,topRightRowContainerCtrl:this.topRightRowContainerCtrl,centerHeaderRowContainerCtrl:this.centerHeaderRowContainerCtrl,leftHeaderRowContainerCtrl:this.leftHeaderRowContainerCtrl,rightHeaderRowContainerCtrl:this.rightHeaderRowContainerCtrl,fakeHScrollCtrl:this.fakeHScrollCtrl,gridBodyCtrl:this.gridBodyCtrl,gridCtrl:this.gridCtrl,gridHeaderCtrl:this.gridHeaderCtrl}},t.prototype.registerFakeHScrollCtrl=function(r){this.fakeHScrollCtrl=r,this.checkReady()},t.prototype.registerGridHeaderCtrl=function(r){this.gridHeaderCtrl=r,this.checkReady()},t.prototype.registerCenterRowContainerCtrl=function(r){this.centerRowContainerCtrl=r,this.checkReady()},t.prototype.registerLeftRowContainerCtrl=function(r){this.leftRowContainerCtrl=r,this.checkReady()},t.prototype.registerRightRowContainerCtrl=function(r){this.rightRowContainerCtrl=r,this.checkReady()},t.prototype.registerTopCenterRowContainerCtrl=function(r){this.topCenterRowContainerCtrl=r,this.checkReady()},t.prototype.registerTopLeftRowContainerCon=function(r){this.topLeftRowContainerCtrl=r,this.checkReady()},t.prototype.registerTopRightRowContainerCtrl=function(r){this.topRightRowContainerCtrl=r,this.checkReady()},t.prototype.registerBottomCenterRowContainerCtrl=function(r){this.bottomCenterRowContainerCtrl=r,this.checkReady()},t.prototype.registerBottomLeftRowContainerCtrl=function(r){this.bottomLeftRowContainerCtrl=r,this.checkReady()},t.prototype.registerBottomRightRowContainerCtrl=function(r){this.bottomRightRowContainerCtrl=r,this.checkReady()},t.prototype.registerHeaderContainer=function(r,i){switch(i){case L.PINNED_LEFT:this.leftHeaderRowContainerCtrl=r;break;case L.PINNED_RIGHT:this.rightHeaderRowContainerCtrl=r;break;default:this.centerHeaderRowContainerCtrl=r;break}this.checkReady()},t.prototype.registerGridBodyCtrl=function(r){this.gridBodyCtrl=r,this.checkReady()},t.prototype.registerGridCtrl=function(r){this.gridCtrl=r,this.checkReady()},t.prototype.getFakeHScrollCtrl=function(){return this.fakeHScrollCtrl},t.prototype.getGridHeaderCtrl=function(){return this.gridHeaderCtrl},t.prototype.getGridCtrl=function(){return this.gridCtrl},t.prototype.getCenterRowContainerCtrl=function(){return this.centerRowContainerCtrl},t.prototype.getTopCenterRowContainerCtrl=function(){return this.topCenterRowContainerCtrl},t.prototype.getBottomCenterRowContainerCtrl=function(){return this.bottomCenterRowContainerCtrl},t.prototype.getGridBodyCtrl=function(){return this.gridBodyCtrl},t.prototype.getHeaderRowContainerCtrls=function(){return[this.leftHeaderRowContainerCtrl,this.rightHeaderRowContainerCtrl,this.centerHeaderRowContainerCtrl]},t.prototype.getHeaderRowContainerCtrl=function(r){switch(r){case L.PINNED_LEFT:return this.leftHeaderRowContainerCtrl;case L.PINNED_RIGHT:return this.rightHeaderRowContainerCtrl;default:return this.centerHeaderRowContainerCtrl}};var e;return t.NAME="ctrlsService",t=e=w6([J(e.NAME)],t),t}(j);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v27.3.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */var _6=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),S6=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},x6=function(n){_6(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.registry={},e}return t.prototype.register=function(e){this.registry[e.controllerName]=e.controllerClass},t.prototype.getInstance=function(e){var r=this.registry[e];if(r!=null)return new r},t=S6([J("ctrlsFactory")],t),t}(j);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v27.3.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */var T6=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Jd=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},O6=function(n){T6(t,n);function t(){return n.call(this)||this}return t.prototype.setComp=function(e,r,i,o){this.view=e,this.eViewport=i,this.eContainer=o,this.eGui=r,this.addManagedListener(this.eventService,x.EVENT_SCROLL_VISIBILITY_CHANGED,this.onScrollVisibilityChanged.bind(this)),this.onScrollVisibilityChanged();var a=this.setFakeHScrollSpacerWidths.bind(this);this.addManagedListener(this.eventService,x.EVENT_DISPLAYED_COLUMNS_CHANGED,a),this.addManagedListener(this.eventService,x.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,a),this.addManagedListener(this.gridOptionsWrapper,pe.PROP_DOM_LAYOUT,a),this.setFakeHScrollSpacerWidths(),this.invisibleScrollbar&&(this.hideAndShowInvisibleScrollAsNeeded(),this.addActiveListenerToggles()),this.ctrlsService.registerFakeHScrollCtrl(this)},t.prototype.addActiveListenerToggles=function(){var e=this,r=["mouseenter","mousedown","touchstart"],i=["mouseleave","mouseup","touchend"];r.forEach(function(o){return e.addManagedListener(e.eGui,o,function(){return e.view.addOrRemoveCssClass("ag-scrollbar-active",!0)})}),i.forEach(function(o){return e.addManagedListener(e.eGui,o,function(){return e.view.addOrRemoveCssClass("ag-scrollbar-active",!1)})})},t.prototype.postConstruct=function(){this.enableRtl=this.gridOptionsWrapper.isEnableRtl(),this.invisibleScrollbar=wM()},t.prototype.onScrollVisibilityChanged=function(){this.setScrollVisible(),this.setFakeHScrollSpacerWidths()},t.prototype.hideAndShowInvisibleScrollAsNeeded=function(){var e=this;this.addManagedListener(this.eventService,x.EVENT_BODY_SCROLL,function(r){r.direction==="horizontal"&&e.view.addOrRemoveCssClass("ag-scrollbar-scrolling",!0)}),this.addManagedListener(this.eventService,x.EVENT_BODY_SCROLL_END,function(){return e.view.addOrRemoveCssClass("ag-scrollbar-scrolling",!1)})},t.prototype.setFakeHScrollSpacerWidths=function(){var e=this.scrollVisibleService.isVerticalScrollShowing(),r=this.columnModel.getDisplayedColumnsRightWidth(),i=!this.enableRtl&&e,o=this.gridOptionsWrapper.getScrollbarWidth();i&&(r+=o),this.view.setRightSpacerFixedWidth(r),this.view.includeRightSpacerScrollerCss("ag-scroller-corner",r<=o);var a=this.columnModel.getDisplayedColumnsLeftWidth(),s=this.enableRtl&&e;s&&(a+=o),this.view.setLeftSpacerFixedWidth(a),this.view.includeLeftSpacerScrollerCss("ag-scroller-corner",a<=o)},t.prototype.setScrollVisible=function(){var e=this.scrollVisibleService.isHorizontalScrollShowing(),r=this.invisibleScrollbar,i=this.gridOptionsWrapper.isSuppressHorizontalScroll(),o=e&&this.gridOptionsWrapper.getScrollbarWidth()||0,a=o===0&&r?15:o,s=i?0:a;this.view.addOrRemoveCssClass("ag-scrollbar-invisible",r),this.view.setHeight(s),this.view.setViewportHeight(s),this.view.setContainerHeight(s)},t.prototype.getViewport=function(){return this.eViewport},t.prototype.getContainer=function(){return this.eContainer},Jd([y("scrollVisibleService")],t.prototype,"scrollVisibleService",void 0),Jd([y("columnModel")],t.prototype,"columnModel",void 0),Jd([y("ctrlsService")],t.prototype,"ctrlsService",void 0),Jd([H],t.prototype,"postConstruct",null),t}(j);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v27.3.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */var E6=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Lp=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},R6=function(n){E6(t,n);function t(){return n.call(this,t.TEMPLATE)||this}return t.prototype.postConstruct=function(){var e=this,r={addOrRemoveCssClass:function(o,a){return e.addOrRemoveCssClass(o,a)},setHeight:function(o){return jl(e.getGui(),o)},setContainerHeight:function(o){return jl(e.eContainer,o)},setViewportHeight:function(o){return jl(e.eViewport,o)},setRightSpacerFixedWidth:function(o){return qo(e.eRightSpacer,o)},setLeftSpacerFixedWidth:function(o){return qo(e.eLeftSpacer,o)},includeLeftSpacerScrollerCss:function(o,a){return e.eLeftSpacer.classList.toggle(o,a)},includeRightSpacerScrollerCss:function(o,a){return e.eRightSpacer.classList.toggle(o,a)}},i=this.createManagedBean(new O6);i.setComp(r,this.getGui(),this.eViewport,this.eContainer),this.createManagedBean(new US(function(o){return e.eContainer.style.width=o+"px"}))},t.TEMPLATE=`<div class="ag-body-horizontal-scroll" aria-hidden="true">
            <div class="ag-horizontal-left-spacer" ref="eLeftSpacer"></div>
            <div class="ag-body-horizontal-scroll-viewport" ref="eViewport">
                <div class="ag-body-horizontal-scroll-container" ref="eContainer"></div>
            </div>
            <div class="ag-horizontal-right-spacer" ref="eRightSpacer"></div>
        </div>`,Lp([I("eLeftSpacer")],t.prototype,"eLeftSpacer",void 0),Lp([I("eRightSpacer")],t.prototype,"eRightSpacer",void 0),Lp([I("eViewport")],t.prototype,"eViewport",void 0),Lp([I("eContainer")],t.prototype,"eContainer",void 0),Lp([H],t.prototype,"postConstruct",null),t}(te);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v27.3.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */var P6=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),oC=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},A6=function(n){P6(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.postConstruct=function(){var e=this.checkContainerWidths.bind(this);this.addManagedListener(this.eventService,x.EVENT_DISPLAYED_COLUMNS_CHANGED,e),this.addManagedListener(this.eventService,x.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,e),this.addManagedListener(this.gridOptionsWrapper,pe.PROP_DOM_LAYOUT,e)},t.prototype.checkContainerWidths=function(){var e=this.gridOptionsWrapper.getDomLayout()===L.DOM_LAYOUT_PRINT,r=e?0:this.columnModel.getDisplayedColumnsLeftWidth(),i=e?0:this.columnModel.getDisplayedColumnsRightWidth();r!=this.leftWidth&&(this.leftWidth=r,this.eventService.dispatchEvent({type:x.EVENT_LEFT_PINNED_WIDTH_CHANGED})),i!=this.rightWidth&&(this.rightWidth=i,this.eventService.dispatchEvent({type:x.EVENT_RIGHT_PINNED_WIDTH_CHANGED}))},t.prototype.getPinnedRightWidth=function(){return this.rightWidth},t.prototype.getPinnedLeftWidth=function(){return this.leftWidth},oC([y("columnModel")],t.prototype,"columnModel",void 0),oC([H],t.prototype,"postConstruct",null),t=oC([J("pinnedWidthService")],t),t}(j);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v27.3.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */var D6=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),ef=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},M6=function(n){D6(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.events=[],e}return t.prototype.postConstruct=function(){this.rowModel.getType()==L.ROW_MODEL_TYPE_CLIENT_SIDE&&(this.clientSideRowModel=this.rowModel)},t.prototype.dispatchExpanded=function(e){var r=this;if(this.clientSideRowModel==null){this.eventService.dispatchEvent(e);return}this.events.push(e);var i=function(){r.clientSideRowModel&&r.clientSideRowModel.onRowGroupOpened(),r.events.forEach(function(o){return r.eventService.dispatchEvent(o)}),r.events=[]};this.dispatchExpandedDebounced==null&&(this.dispatchExpandedDebounced=this.animationFrameService.debounce(i)),this.dispatchExpandedDebounced()},ef([y("animationFrameService")],t.prototype,"animationFrameService",void 0),ef([y("rowModel")],t.prototype,"rowModel",void 0),ef([H],t.prototype,"postConstruct",null),t=ef([J("rowNodeEventThrottle")],t),t}(j);/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v27.3.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */var F6=globalThis&&globalThis.__read||function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},eO=globalThis&&globalThis.__spread||function(){for(var n=[],t=0;t<arguments.length;t++)n=n.concat(F6(arguments[t]));return n},DF=function(){function n(t,e,r){if(!e){console.error("AG Grid: no gridOptions provided to the grid");return}this.gridOptions=e,new MF().create(t,e,function(i){var o=new wF(t);i.createBean(o)},void 0,r)}return n.prototype.destroy=function(){this.gridOptions&&this.gridOptions.api&&this.gridOptions.api.destroy()},n}(),MF=function(){function n(){}return n.prototype.create=function(t,e,r,i,o){var a=this,s=!!e.debug,l=this.getRegisteredModules(o),u=this.createBeansList(e.rowModelType,l),c=this.createProvidedBeans(t,e,o);if(!!u){var p={providedBeanInstances:c,beanClasses:u,debug:s},h=new cv("AG Grid",function(){return e.debug}),d=new cv("Context",function(){return p.debug}),f=new nM(p,d),g=f.getBean("beans");this.registerModuleUserComponents(g,l),this.registerStackComponents(g,l),this.registerControllers(g,l),r(f),g.ctrlsService.whenReady(function(){a.setColumnsAndData(g),a.dispatchGridReadyEvent(g,e);var v=ve.isRegistered(ae.EnterpriseCoreModule);h.log("initialised successfully, enterprise = "+v)}),i&&i(f)}},n.prototype.registerControllers=function(t,e){e.forEach(function(r){r.controllers&&r.controllers.forEach(function(i){return t.ctrlsFactory.register(i)})})},n.prototype.registerStackComponents=function(t,e){var r=this.createAgStackComponentsList(e);t.agStackComponentsRegistry.setupComponents(r)},n.prototype.getRegisteredModules=function(t){var e=t?t.modules:null,r=ve.getRegisteredModules(),i=[],o={};function a(s,l){function u(c){o[c.moduleName]||(o[c.moduleName]=!0,i.push(c),ve.register(c,s))}u(l),l.dependantModules&&l.dependantModules.forEach(a.bind(null,s))}return e&&e.forEach(a.bind(null,!0)),r&&r.forEach(a.bind(null,!ve.isPackageBased())),i},n.prototype.registerModuleUserComponents=function(t,e){var r=this.extractModuleEntity(e,function(i){return i.userComponents?i.userComponents:[]});r.forEach(function(i){t.userComponentRegistry.registerDefaultComponent(i.componentName,i.componentClass)})},n.prototype.createProvidedBeans=function(t,e,r){var i=r?r.frameworkOverrides:null;ye(i)&&(i=new pF);var o={gridOptions:e,eGridDiv:t,globalEventListener:r?r.globalEventListener:null,frameworkOverrides:i};return r&&r.providedBeanInstances&&Object.assign(o,r.providedBeanInstances),o},n.prototype.createAgStackComponentsList=function(t){var e=[{componentName:"AgCheckbox",componentClass:oo},{componentName:"AgRadioButton",componentClass:KS},{componentName:"AgToggleButton",componentClass:dm},{componentName:"AgInputTextField",componentClass:YS},{componentName:"AgInputTextArea",componentClass:iF},{componentName:"AgInputNumberField",componentClass:oF},{componentName:"AgInputRange",componentClass:aF},{componentName:"AgSelect",componentClass:hd},{componentName:"AgSlider",componentClass:la},{componentName:"AgAngleSelect",componentClass:XS},{componentName:"AgColorPicker",componentClass:sF},{componentName:"AgGridBody",componentClass:E1},{componentName:"AgHeaderRoot",componentClass:z1},{componentName:"AgPagination",componentClass:s6},{componentName:"AgOverlayWrapper",componentClass:u6},{componentName:"AgGroupComponent",componentClass:qi},{componentName:"AgPanel",componentClass:fm},{componentName:"AgDialog",componentClass:Wh},{componentName:"AgRowContainer",componentClass:F1},{componentName:"AgFakeHorizontalScroll",componentClass:R6}],r=this.extractModuleEntity(t,function(i){return i.agStackComponents?i.agStackComponents:[]});return e=e.concat(r),e},n.prototype.createBeansList=function(t,e){var r=this.getRowModelClass(t,e);if(!!r){var i=[r,jS,OF,EF,RF,zz,G1,g1,qz,Qz,Y1,m1,i6,$1,eF,y1,gM,so,pe,cF,fF,C1,dM,j1,rF,Q1,mF,cM,yF,dF,A1,SF,vF,CF,fM,Z1,K1,It,gF,wc,P1,xF,hF,J1,nF,R1,_F,Bz,Wz,TF,jz,Yz,X1,g6,vM,y6,C6,tF,PF,AF,A6,M6,x6],o=this.extractModuleEntity(e,function(s){return s.beans?s.beans:[]});i.push.apply(i,eO(o));var a=[];return i.forEach(function(s){a.indexOf(s)<0&&a.push(s)}),a}},n.prototype.extractModuleEntity=function(t,e){return[].concat.apply([],eO(t.map(e)))},n.prototype.setColumnsAndData=function(t){var e=t.gridOptionsWrapper.getColumnDefs();t.columnModel.setColumnDefs(e||[],"gridInitializing"),t.rowModel.start()},n.prototype.dispatchGridReadyEvent=function(t,e){var r={type:x.EVENT_GRID_READY,api:e.api,columnApi:e.columnApi};t.eventService.dispatchEvent(r)},n.prototype.getRowModelClass=function(t,e){t||(t=L.ROW_MODEL_TYPE_CLIENT_SIDE);var r={};e.forEach(function(o){ut(o.rowModels,function(a,s){r[a]=s})});var i=r[t];if(Z(i))return i;ve.isPackageBased()?[L.ROW_MODEL_TYPE_VIEWPORT,L.ROW_MODEL_TYPE_SERVER_SIDE].includes(t)?console.error('AG Grid: Row Model "'+t+`" not found. Please ensure the package 'ag-grid-enterprise' is imported. Please see: https://www.ag-grid.com/javascript-grid/packages/`):console.error("AG Grid: could not find row model for rowModelType "+t):t===L.ROW_MODEL_TYPE_INFINITE?console.error('AG Grid: Row Model "Infinite" not found. Please ensure the '+ae.InfiniteRowModelModule+" module is registered. Please see: https://www.ag-grid.com/javascript-grid/modules/"):t===L.ROW_MODEL_TYPE_VIEWPORT?console.error('AG Grid: Row Model "Viewport" not found. Please ensure the AG Grid Enterprise Module '+ae.ViewportRowModelModule+" module is registered. Please see: https://www.ag-grid.com/javascript-grid/modules/"):t===L.ROW_MODEL_TYPE_SERVER_SIDE?console.error('AG Grid: Row Model "Server Side" not found. Please ensure the AG Grid Enterprise Module '+ae.ServerSideRowModelModule+" module is registered. Please see: https://www.ag-grid.com/javascript-grid/modules/"):t===L.ROW_MODEL_TYPE_CLIENT_SIDE?console.error('AG Grid: Row Model "Client Side" not found. Please ensure the '+ae.ClientSideRowModelModule+" module is registered. Please see: https://www.ag-grid.com/javascript-grid/modules/"):console.error("AG Grid: could not find row model for rowModelType "+t)},n}();/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v27.3.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */function I6(n,t,e,r,i){i===void 0&&(i=!1),console.warn("AG Grid: Since ag-grid 11.0.0 defaultGroupComparator is not necessary. You can remove this from your colDef");var o=Z(e)&&e.group,a=Z(r)&&r.group,s=o&&a,l=!o&&!a;return s?iw(e.key,r.key,i):l?iw(n,t,i):o?1:-1}/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v27.3.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */var L6=function(){function n(){}return n.prototype.wrap=function(t,e,r,i){var o=this;r===void 0&&(r=[]);var a=this.createWrapper(t,i);return e.forEach(function(s){o.createMethod(a,s,!0)}),r.forEach(function(s){o.createMethod(a,s,!1)}),a},n.prototype.unwrap=function(t){return t},n.prototype.createMethod=function(t,e,r){t.addMethod(e,this.createMethodProxy(t,e,r))},n.prototype.createMethodProxy=function(t,e,r){return function(){return t.hasMethod(e)?t.callMethod(e,arguments):(r&&console.warn("AG Grid: Framework component is missing the method "+e+"()"),null)}},n}();/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v27.3.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */var Ew;(function(n){n.InsideBase="insideBase",n.InsideEnd="insideEnd",n.Center="center",n.OutsideEnd="outsideEnd"})(Ew||(Ew={}));/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v27.3.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */var Qc=typeof global=="undefined"?{}:global;Qc.HTMLElement=typeof HTMLElement=="undefined"?{}:HTMLElement;Qc.HTMLButtonElement=typeof HTMLButtonElement=="undefined"?{}:HTMLButtonElement;Qc.HTMLSelectElement=typeof HTMLSelectElement=="undefined"?{}:HTMLSelectElement;Qc.HTMLInputElement=typeof HTMLInputElement=="undefined"?{}:HTMLInputElement;Qc.Node=typeof Node=="undefined"?{}:Node;Qc.MouseEvent=typeof MouseEvent=="undefined"?{}:MouseEvent;var N6=Object.freeze(Object.defineProperty({__proto__:null,ColumnFactory:cM,ColumnModel:dM,ColumnKeyCreator:$D,ColumnUtils:fM,DisplayedGroupCreator:gM,GroupInstanceIdCreator:vS,ComponentUtil:Os,AgStackComponentsRegistry:vM,ColDefUtil:pw,UserComponentRegistry:g1,UserComponentFactory:m1,BeanStub:j,Context:nM,Autowired:y,PostConstruct:H,PreConstruct:ql,Optional:Fe,Bean:J,Qualifier:xr,PreDestroy:_t,QuerySelector:kW,RefSelector:I,get ExcelFactoryMode(){return Sa},DragAndDropService:It,get DragSourceType(){return nr},get HorizontalDirection(){return _i},get VerticalDirection(){return Vs},DragService:y1,Column:Se,ColumnGroup:kr,ProvidedColumnGroup:at,RowNode:Ee,get RowHighlightPosition(){return Uo},FilterManager:C1,ProvidedFilter:Ql,SimpleFilter:er,ScalarFilter:dr,NumberFilter:kS,TextFilter:dd,DateFilter:NS,TextFloatingFilter:s1,HeaderFilterCellComp:b1,FloatingFilterMapper:v1,GridBodyComp:E1,GridBodyCtrl:T1,get RowAnimationCssClasses(){return Jl},ScrollVisibleService:R1,MouseEventService:P1,NavigationService:A1,RowContainerComp:F1,get RowContainerName(){return ne},RowContainerCtrl:av,get RowContainerType(){return xn},getRowContainerTypeForName:O1,BodyDropPivotTarget:I1,BodyDropTarget:N1,CssClassApplier:gd,HeaderRowContainerComp:qf,GridHeaderComp:z1,GridHeaderCtrl:U1,HeaderRowComp:k1,get HeaderRowType(){return Zr},HeaderRowCtrl:Xf,HeaderCellCtrl:V1,HeaderFilterCellCtrl:B1,HeaderGroupCellCtrl:W1,AbstractHeaderCellCtrl:vd,HeaderRowContainerCtrl:H1,HorizontalResizeService:$1,MoveColumnFeature:L1,StandardMenuFactory:K1,TabbedLayout:$S,simpleHttpRequest:R4,ResizeObserverService:Y1,AnimationFrameService:X1,LargeTextCellEditor:l1,PopupEditorWrapper:D1,PopupSelectCellEditor:u1,PopupTextCellEditor:c1,SelectCellEditor:GS,TextCellEditor:ev,Beans:jS,AnimateShowChangeCellRenderer:p1,AnimateSlideCellRenderer:h1,GroupCellRenderer:Sw,GroupCellRendererCtrl:f1,SetLeftFeature:hm,PositionableFeature:md,AutoWidthCalculator:Z1,CheckboxSelectionComponent:BS,CellComp:M1,CellCtrl:Es,RowCtrl:Rs,RowRenderer:Q1,ValueFormatterService:J1,PinnedRowModel:eF,get ServerSideTransactionResultStatus(){return ei},ChangedPath:yd,RowNodeBlock:On,RowNodeBlockLoader:tF,PaginationProxy:rF,get ClientSideRowModelSteps(){return ot},StylingService:nF,get LayoutCssClasses(){return tr},AgAbstractField:Qi,AgCheckbox:oo,AgRadioButton:KS,AgToggleButton:dm,AgInputTextField:YS,AgInputTextArea:iF,AgInputNumberField:oF,AgInputRange:aF,AgSelect:hd,AgSlider:la,AgAngleSelect:XS,AgColorPicker:sF,AgGroupComponent:qi,AgMenuItemComponent:Ti,AgMenuList:Cd,AgMenuPanel:uF,AgDialog:Wh,AgPanel:fm,Component:te,CssClassManager:e1,ManagedFocusFeature:lo,TabGuardComp:cu,TabGuardCtrl:lF,PopupComponent:uu,PopupService:cF,TouchListener:qr,VirtualList:bd,get CellRangeType(){return Pn},get SelectionHandleType(){return Fa},AutoScrollService:fd,VanillaFrameworkOverrides:pF,CellNavigationService:hF,AlignedGridsService:dF,Constants:L,KeyCode:U,Grid:DF,GridCoreCreator:MF,GridApi:G1,Events:x,FocusService:wc,defaultGroupComparator:I6,GridOptionsWrapper:pe,EventService:so,SelectableService:TF,RowNodeSorter:PF,CtrlsService:AF,GridComp:wF,GridCtrl:bF,Logger:cv,LoggerFactory:CF,SelectionService:fF,SortController:_F,TemplateService:yF,ValueService:vF,ValueCache:SF,ExpressionService:mF,CellPositionUtils:EF,RowPositionUtils:OF,HeaderPositionUtils:RF,HeaderNavigationService:j1,get HeaderNavigationDirection(){return $i},ColumnApi:gF,BaseComponentWrapper:L6,Environment:xF,CustomTooltipFeature:cm,get ModuleNames(){return ae},ModuleRegistry:ve,Color:ds,stringToArray:mM,_,NumberSequence:vr,get AgPromiseStatus(){return Il},AgPromise:Dt,Timer:FW,PropertyKeys:To,get BarColumnLabelPlacement(){return Ew}},Symbol.toStringTag,{value:"Module"})),yr=wN(N6),qS={},gm={};Object.defineProperty(gm,"__esModule",{value:!0});class k6{}class G6 extends k6{constructor(t,e,r){super(),this.portal=null,this.reactComponent=t,this.portalManager=e,this.componentType=r,this.statelessComponent=this.isStateless(this.reactComponent)}getGui(){return this.eParentElement}destroy(){return this.componentInstance&&typeof this.componentInstance.destroy=="function"&&this.componentInstance.destroy(),this.portalManager.destroyPortal(this.portal)}createParentElement(t){const e=this.portalManager.getComponentWrappingElement(),r=document.createElement(e||"div");return r.classList.add("ag-react-container"),t.reactContainer=r,r}addParentContainerStyleAndClasses(){!this.componentInstance||(this.componentInstance.getReactContainerStyle&&this.componentInstance.getReactContainerStyle()&&Object.assign(this.eParentElement.style,this.componentInstance.getReactContainerStyle()),this.componentInstance.getReactContainerClasses&&this.componentInstance.getReactContainerClasses()&&this.componentInstance.getReactContainerClasses().forEach(e=>this.eParentElement.classList.add(e)))}statelessComponentRendered(){return this.eParentElement.childElementCount>0||this.eParentElement.childNodes.length>0}getFrameworkComponentInstance(){return this.componentInstance}isStatelessComponent(){return this.statelessComponent}getReactComponentName(){return this.reactComponent.name}getMemoType(){return this.hasSymbol()?Symbol.for("react.memo"):60115}hasSymbol(){return typeof Symbol=="function"&&Symbol.for}isStateless(t){return typeof t=="function"&&!(t.prototype&&t.prototype.isReactComponent)||typeof t=="object"&&t.$$typeof===this.getMemoType()}hasMethod(t){const e=this.getFrameworkComponentInstance();return!!e&&e[t]!==null||this.fallbackMethodAvailable(t)}callMethod(t,e){const r=this.getFrameworkComponentInstance();if(this.isStatelessComponent())return this.fallbackMethod(t,!!e&&e[0]?e[0]:{});if(!r){setTimeout(()=>this.callMethod(t,e));return}const i=r[t];if(i)return i.apply(r,e);if(this.fallbackMethodAvailable(t))return this.fallbackMethod(t,!!e&&e[0]?e[0]:{})}addMethod(t,e){this[t]=e}}gm.ReactComponent=G6;var $s={},Jc={};/**
 * @license React
 * react-dom-server-legacy.browser.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var FF=Te.exports;function $e(n){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+n,e=1;e<arguments.length;e++)t+="&args[]="+encodeURIComponent(arguments[e]);return"Minified React error #"+n+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var bn=Object.prototype.hasOwnProperty,B6=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,tO={},rO={};function IF(n){return bn.call(rO,n)?!0:bn.call(tO,n)?!1:B6.test(n)?rO[n]=!0:(tO[n]=!0,!1)}function hn(n,t,e,r,i,o,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=e,this.propertyName=n,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var Gr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){Gr[n]=new hn(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var t=n[0];Gr[t]=new hn(t,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){Gr[n]=new hn(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){Gr[n]=new hn(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){Gr[n]=new hn(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){Gr[n]=new hn(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){Gr[n]=new hn(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){Gr[n]=new hn(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){Gr[n]=new hn(n,5,!1,n.toLowerCase(),null,!1,!1)});var ZS=/[\-:]([a-z])/g;function QS(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var t=n.replace(ZS,QS);Gr[t]=new hn(t,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var t=n.replace(ZS,QS);Gr[t]=new hn(t,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var t=n.replace(ZS,QS);Gr[t]=new hn(t,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){Gr[n]=new hn(n,1,!1,n.toLowerCase(),null,!1,!1)});Gr.xlinkHref=new hn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){Gr[n]=new hn(n,1,!1,n.toLowerCase(),null,!0,!0)});var Qf={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},V6=["Webkit","ms","Moz","O"];Object.keys(Qf).forEach(function(n){V6.forEach(function(t){t=t+n.charAt(0).toUpperCase()+n.substring(1),Qf[t]=Qf[n]})});var W6=/["'&<>]/;function ln(n){if(typeof n=="boolean"||typeof n=="number")return""+n;n=""+n;var t=W6.exec(n);if(t){var e="",r,i=0;for(r=t.index;r<n.length;r++){switch(n.charCodeAt(r)){case 34:t="&quot;";break;case 38:t="&amp;";break;case 39:t="&#x27;";break;case 60:t="&lt;";break;case 62:t="&gt;";break;default:continue}i!==r&&(e+=n.substring(i,r)),i=r+1,e+=t}n=i!==r?e+n.substring(i,r):e}return n}var H6=/([A-Z])/g,j6=/^ms-/,Rw=Array.isArray;function ea(n,t){return{insertionMode:n,selectedValue:t}}function U6(n,t,e){switch(t){case"select":return ea(1,e.value!=null?e.value:e.defaultValue);case"svg":return ea(2,null);case"math":return ea(3,null);case"foreignObject":return ea(1,null);case"table":return ea(4,null);case"thead":case"tbody":case"tfoot":return ea(5,null);case"colgroup":return ea(7,null);case"tr":return ea(6,null)}return 4<=n.insertionMode||n.insertionMode===0?ea(1,null):n}var nO=new Map;function LF(n,t,e){if(typeof e!="object")throw Error($e(62));t=!0;for(var r in e)if(bn.call(e,r)){var i=e[r];if(i!=null&&typeof i!="boolean"&&i!==""){if(r.indexOf("--")===0){var o=ln(r);i=ln((""+i).trim())}else{o=r;var a=nO.get(o);a!==void 0||(a=ln(o.replace(H6,"-$1").toLowerCase().replace(j6,"-ms-")),nO.set(o,a)),o=a,i=typeof i=="number"?i===0||bn.call(Qf,r)?""+i:i+"px":ln((""+i).trim())}t?(t=!1,n.push(' style="',o,":",i)):n.push(";",o,":",i)}}t||n.push('"')}function Hn(n,t,e,r){switch(e){case"style":LF(n,t,r);return;case"defaultValue":case"defaultChecked":case"innerHTML":case"suppressContentEditableWarning":case"suppressHydrationWarning":return}if(!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N"){if(t=Gr.hasOwnProperty(e)?Gr[e]:null,t!==null){switch(typeof r){case"function":case"symbol":return;case"boolean":if(!t.acceptsBooleans)return}switch(e=t.attributeName,t.type){case 3:r&&n.push(" ",e,'=""');break;case 4:r===!0?n.push(" ",e,'=""'):r!==!1&&n.push(" ",e,'="',ln(r),'"');break;case 5:isNaN(r)||n.push(" ",e,'="',ln(r),'"');break;case 6:!isNaN(r)&&1<=r&&n.push(" ",e,'="',ln(r),'"');break;default:t.sanitizeURL&&(r=""+r),n.push(" ",e,'="',ln(r),'"')}}else if(IF(e)){switch(typeof r){case"function":case"symbol":return;case"boolean":if(t=e.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-")return}n.push(" ",e,'="',ln(r),'"')}}}function Jf(n,t,e){if(t!=null){if(e!=null)throw Error($e(60));if(typeof t!="object"||!("__html"in t))throw Error($e(61));t=t.__html,t!=null&&n.push(""+t)}}function z6(n){var t="";return FF.Children.forEach(n,function(e){e!=null&&(t+=e)}),t}function aC(n,t,e,r){n.push(Co(e));var i=e=null,o;for(o in t)if(bn.call(t,o)){var a=t[o];if(a!=null)switch(o){case"children":e=a;break;case"dangerouslySetInnerHTML":i=a;break;default:Hn(n,r,o,a)}}return n.push(">"),Jf(n,i,e),typeof e=="string"?(n.push(ln(e)),null):e}var $6=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,iO=new Map;function Co(n){var t=iO.get(n);if(t===void 0){if(!$6.test(n))throw Error($e(65,n));t="<"+n,iO.set(n,t)}return t}function K6(n,t,e,r,i){switch(t){case"select":n.push(Co("select"));var o=null,a=null;for(c in e)if(bn.call(e,c)){var s=e[c];if(s!=null)switch(c){case"children":o=s;break;case"dangerouslySetInnerHTML":a=s;break;case"defaultValue":case"value":break;default:Hn(n,r,c,s)}}return n.push(">"),Jf(n,a,o),o;case"option":a=i.selectedValue,n.push(Co("option"));var l=s=null,u=null,c=null;for(o in e)if(bn.call(e,o)){var p=e[o];if(p!=null)switch(o){case"children":s=p;break;case"selected":u=p;break;case"dangerouslySetInnerHTML":c=p;break;case"value":l=p;default:Hn(n,r,o,p)}}if(a!=null)if(e=l!==null?""+l:z6(s),Rw(a)){for(r=0;r<a.length;r++)if(""+a[r]===e){n.push(' selected=""');break}}else""+a===e&&n.push(' selected=""');else u&&n.push(' selected=""');return n.push(">"),Jf(n,c,s),s;case"textarea":n.push(Co("textarea")),c=a=o=null;for(s in e)if(bn.call(e,s)&&(l=e[s],l!=null))switch(s){case"children":c=l;break;case"value":o=l;break;case"defaultValue":a=l;break;case"dangerouslySetInnerHTML":throw Error($e(91));default:Hn(n,r,s,l)}if(o===null&&a!==null&&(o=a),n.push(">"),c!=null){if(o!=null)throw Error($e(92));if(Rw(c)&&1<c.length)throw Error($e(93));o=""+c}return typeof o=="string"&&o[0]===`
`&&n.push(`
`),o!==null&&n.push(ln(""+o)),null;case"input":n.push(Co("input")),l=c=s=o=null;for(a in e)if(bn.call(e,a)&&(u=e[a],u!=null))switch(a){case"children":case"dangerouslySetInnerHTML":throw Error($e(399,"input"));case"defaultChecked":l=u;break;case"defaultValue":s=u;break;case"checked":c=u;break;case"value":o=u;break;default:Hn(n,r,a,u)}return c!==null?Hn(n,r,"checked",c):l!==null&&Hn(n,r,"checked",l),o!==null?Hn(n,r,"value",o):s!==null&&Hn(n,r,"value",s),n.push("/>"),null;case"menuitem":n.push(Co("menuitem"));for(var h in e)if(bn.call(e,h)&&(o=e[h],o!=null))switch(h){case"children":case"dangerouslySetInnerHTML":throw Error($e(400));default:Hn(n,r,h,o)}return n.push(">"),null;case"title":n.push(Co("title")),o=null;for(p in e)if(bn.call(e,p)&&(a=e[p],a!=null))switch(p){case"children":o=a;break;case"dangerouslySetInnerHTML":throw Error($e(434));default:Hn(n,r,p,a)}return n.push(">"),o;case"listing":case"pre":n.push(Co(t)),a=o=null;for(l in e)if(bn.call(e,l)&&(s=e[l],s!=null))switch(l){case"children":o=s;break;case"dangerouslySetInnerHTML":a=s;break;default:Hn(n,r,l,s)}if(n.push(">"),a!=null){if(o!=null)throw Error($e(60));if(typeof a!="object"||!("__html"in a))throw Error($e(61));e=a.__html,e!=null&&(typeof e=="string"&&0<e.length&&e[0]===`
`?n.push(`
`,e):n.push(""+e))}return typeof o=="string"&&o[0]===`
`&&n.push(`
`),o;case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":n.push(Co(t));for(var d in e)if(bn.call(e,d)&&(o=e[d],o!=null))switch(d){case"children":case"dangerouslySetInnerHTML":throw Error($e(399,t));default:Hn(n,r,d,o)}return n.push("/>"),null;case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return aC(n,e,t,r);case"html":return i.insertionMode===0&&n.push("<!DOCTYPE html>"),aC(n,e,t,r);default:if(t.indexOf("-")===-1&&typeof e.is!="string")return aC(n,e,t,r);n.push(Co(t)),a=o=null;for(u in e)if(bn.call(e,u)&&(s=e[u],s!=null))switch(u){case"children":o=s;break;case"dangerouslySetInnerHTML":a=s;break;case"style":LF(n,r,s);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":break;default:IF(u)&&typeof s!="function"&&typeof s!="symbol"&&n.push(" ",u,'="',ln(s),'"')}return n.push(">"),Jf(n,a,o),o}}function oO(n,t,e){if(n.push('<!--$?--><template id="'),e===null)throw Error($e(395));return n.push(e),n.push('"></template>')}function Y6(n,t,e,r){switch(e.insertionMode){case 0:case 1:return n.push('<div hidden id="'),n.push(t.segmentPrefix),t=r.toString(16),n.push(t),n.push('">');case 2:return n.push('<svg aria-hidden="true" style="display:none" id="'),n.push(t.segmentPrefix),t=r.toString(16),n.push(t),n.push('">');case 3:return n.push('<math aria-hidden="true" style="display:none" id="'),n.push(t.segmentPrefix),t=r.toString(16),n.push(t),n.push('">');case 4:return n.push('<table hidden id="'),n.push(t.segmentPrefix),t=r.toString(16),n.push(t),n.push('">');case 5:return n.push('<table hidden><tbody id="'),n.push(t.segmentPrefix),t=r.toString(16),n.push(t),n.push('">');case 6:return n.push('<table hidden><tr id="'),n.push(t.segmentPrefix),t=r.toString(16),n.push(t),n.push('">');case 7:return n.push('<table hidden><colgroup id="'),n.push(t.segmentPrefix),t=r.toString(16),n.push(t),n.push('">');default:throw Error($e(397))}}function X6(n,t){switch(t.insertionMode){case 0:case 1:return n.push("</div>");case 2:return n.push("</svg>");case 3:return n.push("</math>");case 4:return n.push("</table>");case 5:return n.push("</tbody></table>");case 6:return n.push("</tr></table>");case 7:return n.push("</colgroup></table>");default:throw Error($e(397))}}var q6=/[<\u2028\u2029]/g;function sC(n){return JSON.stringify(n).replace(q6,function(t){switch(t){case"<":return"\\u003c";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw Error("escapeJSStringsForInstructionScripts encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React")}})}function Z6(n,t){return t=t===void 0?"":t,{bootstrapChunks:[],startInlineScript:"<script>",placeholderPrefix:t+"P:",segmentPrefix:t+"S:",boundaryPrefix:t+"B:",idPrefix:t,nextSuspenseID:0,sentCompleteSegmentFunction:!1,sentCompleteBoundaryFunction:!1,sentClientRenderFunction:!1,generateStaticMarkup:n}}function aO(n,t,e,r){return e.generateStaticMarkup?(n.push(ln(t)),!1):(t===""?n=r:(r&&n.push("<!-- -->"),n.push(ln(t)),n=!0),n)}var yh=Object.assign,Q6=Symbol.for("react.element"),NF=Symbol.for("react.portal"),kF=Symbol.for("react.fragment"),GF=Symbol.for("react.strict_mode"),BF=Symbol.for("react.profiler"),VF=Symbol.for("react.provider"),WF=Symbol.for("react.context"),HF=Symbol.for("react.forward_ref"),jF=Symbol.for("react.suspense"),UF=Symbol.for("react.suspense_list"),zF=Symbol.for("react.memo"),JS=Symbol.for("react.lazy"),J6=Symbol.for("react.scope"),e8=Symbol.for("react.debug_trace_mode"),t8=Symbol.for("react.legacy_hidden"),r8=Symbol.for("react.default_value"),sO=Symbol.iterator;function Pw(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case kF:return"Fragment";case NF:return"Portal";case BF:return"Profiler";case GF:return"StrictMode";case jF:return"Suspense";case UF:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case WF:return(n.displayName||"Context")+".Consumer";case VF:return(n._context.displayName||"Context")+".Provider";case HF:var t=n.render;return n=n.displayName,n||(n=t.displayName||t.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case zF:return t=n.displayName||null,t!==null?t:Pw(n.type)||"Memo";case JS:t=n._payload,n=n._init;try{return Pw(n(t))}catch{}}return null}var $F={};function lO(n,t){if(n=n.contextTypes,!n)return $F;var e={},r;for(r in n)e[r]=t[r];return e}var Ll=null;function vm(n,t){if(n!==t){n.context._currentValue2=n.parentValue,n=n.parent;var e=t.parent;if(n===null){if(e!==null)throw Error($e(401))}else{if(e===null)throw Error($e(401));vm(n,e)}t.context._currentValue2=t.value}}function KF(n){n.context._currentValue2=n.parentValue,n=n.parent,n!==null&&KF(n)}function YF(n){var t=n.parent;t!==null&&YF(t),n.context._currentValue2=n.value}function XF(n,t){if(n.context._currentValue2=n.parentValue,n=n.parent,n===null)throw Error($e(402));n.depth===t.depth?vm(n,t):XF(n,t)}function qF(n,t){var e=t.parent;if(e===null)throw Error($e(402));n.depth===e.depth?vm(n,e):qF(n,e),t.context._currentValue2=t.value}function pv(n){var t=Ll;t!==n&&(t===null?YF(n):n===null?KF(t):t.depth===n.depth?vm(t,n):t.depth>n.depth?XF(t,n):qF(t,n),Ll=n)}var uO={isMounted:function(){return!1},enqueueSetState:function(n,t){n=n._reactInternals,n.queue!==null&&n.queue.push(t)},enqueueReplaceState:function(n,t){n=n._reactInternals,n.replace=!0,n.queue=[t]},enqueueForceUpdate:function(){}};function cO(n,t,e,r){var i=n.state!==void 0?n.state:null;n.updater=uO,n.props=e,n.state=i;var o={queue:[],replace:!1};n._reactInternals=o;var a=t.contextType;if(n.context=typeof a=="object"&&a!==null?a._currentValue2:r,a=t.getDerivedStateFromProps,typeof a=="function"&&(a=a(e,i),i=a==null?i:yh({},i,a),n.state=i),typeof t.getDerivedStateFromProps!="function"&&typeof n.getSnapshotBeforeUpdate!="function"&&(typeof n.UNSAFE_componentWillMount=="function"||typeof n.componentWillMount=="function"))if(t=n.state,typeof n.componentWillMount=="function"&&n.componentWillMount(),typeof n.UNSAFE_componentWillMount=="function"&&n.UNSAFE_componentWillMount(),t!==n.state&&uO.enqueueReplaceState(n,n.state,null),o.queue!==null&&0<o.queue.length)if(t=o.queue,a=o.replace,o.queue=null,o.replace=!1,a&&t.length===1)n.state=t[0];else{for(o=a?t[0]:n.state,i=!0,a=a?1:0;a<t.length;a++){var s=t[a];s=typeof s=="function"?s.call(n,o,e,r):s,s!=null&&(i?(i=!1,o=yh({},o,s)):yh(o,s))}n.state=o}else o.queue=null}var n8={id:1,overflow:""};function Aw(n,t,e){var r=n.id;n=n.overflow;var i=32-eg(r)-1;r&=~(1<<i),e+=1;var o=32-eg(t)+i;if(30<o){var a=i-i%5;return o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,{id:1<<32-eg(t)+i|e<<i|r,overflow:o+n}}return{id:1<<o|e<<i|r,overflow:n}}var eg=Math.clz32?Math.clz32:a8,i8=Math.log,o8=Math.LN2;function a8(n){return n>>>=0,n===0?32:31-(i8(n)/o8|0)|0}function s8(n,t){return n===t&&(n!==0||1/n===1/t)||n!==n&&t!==t}var l8=typeof Object.is=="function"?Object.is:s8,Ia=null,e0=null,tg=null,Vt=null,rh=!1,hv=!1,Hh=0,bs=null,mm=0;function wl(){if(Ia===null)throw Error($e(321));return Ia}function pO(){if(0<mm)throw Error($e(312));return{memoizedState:null,queue:null,next:null}}function t0(){return Vt===null?tg===null?(rh=!1,tg=Vt=pO()):(rh=!0,Vt=tg):Vt.next===null?(rh=!1,Vt=Vt.next=pO()):(rh=!0,Vt=Vt.next),Vt}function r0(){e0=Ia=null,hv=!1,tg=null,mm=0,Vt=bs=null}function ZF(n,t){return typeof t=="function"?t(n):t}function hO(n,t,e){if(Ia=wl(),Vt=t0(),rh){var r=Vt.queue;if(t=r.dispatch,bs!==null&&(e=bs.get(r),e!==void 0)){bs.delete(r),r=Vt.memoizedState;do r=n(r,e.action),e=e.next;while(e!==null);return Vt.memoizedState=r,[r,t]}return[Vt.memoizedState,t]}return n=n===ZF?typeof t=="function"?t():t:e!==void 0?e(t):t,Vt.memoizedState=n,n=Vt.queue={last:null,dispatch:null},n=n.dispatch=u8.bind(null,Ia,n),[Vt.memoizedState,n]}function dO(n,t){if(Ia=wl(),Vt=t0(),t=t===void 0?null:t,Vt!==null){var e=Vt.memoizedState;if(e!==null&&t!==null){var r=e[1];e:if(r===null)r=!1;else{for(var i=0;i<r.length&&i<t.length;i++)if(!l8(t[i],r[i])){r=!1;break e}r=!0}if(r)return e[0]}}return n=n(),Vt.memoizedState=[n,t],n}function u8(n,t,e){if(25<=mm)throw Error($e(301));if(n===Ia)if(hv=!0,n={action:e,next:null},bs===null&&(bs=new Map),e=bs.get(t),e===void 0)bs.set(t,n);else{for(t=e;t.next!==null;)t=t.next;t.next=n}}function c8(){throw Error($e(394))}function tf(){}var fO={readContext:function(n){return n._currentValue2},useContext:function(n){return wl(),n._currentValue2},useMemo:dO,useReducer:hO,useRef:function(n){Ia=wl(),Vt=t0();var t=Vt.memoizedState;return t===null?(n={current:n},Vt.memoizedState=n):t},useState:function(n){return hO(ZF,n)},useInsertionEffect:tf,useLayoutEffect:function(){},useCallback:function(n,t){return dO(function(){return n},t)},useImperativeHandle:tf,useEffect:tf,useDebugValue:tf,useDeferredValue:function(n){return wl(),n},useTransition:function(){return wl(),[!1,c8]},useId:function(){var n=e0.treeContext,t=n.overflow;n=n.id,n=(n&~(1<<32-eg(n)-1)).toString(32)+t;var e=rg;if(e===null)throw Error($e(404));return t=Hh++,n=":"+e.idPrefix+"R"+n,0<t&&(n+="H"+t.toString(32)),n+":"},useMutableSource:function(n,t){return wl(),t(n._source)},useSyncExternalStore:function(n,t,e){if(e===void 0)throw Error($e(407));return e()}},rg=null,lC=FF.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentDispatcher;function p8(n){return console.error(n),null}function nh(){}function h8(n,t,e,r,i,o,a,s,l){var u=[],c=new Set;return t={destination:null,responseState:t,progressiveChunkSize:r===void 0?12800:r,status:0,fatalError:null,nextSegmentId:0,allPendingTasks:0,pendingRootTasks:0,completedRootSegment:null,abortableTasks:c,pingedTasks:u,clientRenderedBoundaries:[],completedBoundaries:[],partialBoundaries:[],onError:i===void 0?p8:i,onAllReady:o===void 0?nh:o,onShellReady:a===void 0?nh:a,onShellError:s===void 0?nh:s,onFatalError:l===void 0?nh:l},e=dv(t,0,null,e,!1,!1),e.parentFlushed=!0,n=n0(t,n,null,e,c,$F,null,n8),u.push(n),t}function n0(n,t,e,r,i,o,a,s){n.allPendingTasks++,e===null?n.pendingRootTasks++:e.pendingTasks++;var l={node:t,ping:function(){var u=n.pingedTasks;u.push(l),u.length===1&&eI(n)},blockedBoundary:e,blockedSegment:r,abortSet:i,legacyContext:o,context:a,treeContext:s};return i.add(l),l}function dv(n,t,e,r,i,o){return{status:0,id:-1,index:t,parentFlushed:!1,chunks:[],children:[],formatContext:r,boundary:e,lastPushedText:i,textEmbedded:o}}function jh(n,t){if(n=n.onError(t),n!=null&&typeof n!="string")throw Error('onError returned something with a type other than "string". onError should return a string and may return null or undefined but must not return anything else. It received something of type "'+typeof n+'" instead');return n}function fv(n,t){var e=n.onShellError;e(t),e=n.onFatalError,e(t),n.destination!==null?(n.status=2,n.destination.destroy(t)):(n.status=1,n.fatalError=t)}function gO(n,t,e,r,i){for(Ia={},e0=t,Hh=0,n=e(r,i);hv;)hv=!1,Hh=0,mm+=1,Vt=null,n=e(r,i);return r0(),n}function vO(n,t,e,r){var i=e.render(),o=r.childContextTypes;if(o!=null){var a=t.legacyContext;if(typeof e.getChildContext!="function")r=a;else{e=e.getChildContext();for(var s in e)if(!(s in o))throw Error($e(108,Pw(r)||"Unknown",s));r=yh({},a,e)}t.legacyContext=r,Yn(n,t,i),t.legacyContext=a}else Yn(n,t,i)}function mO(n,t){if(n&&n.defaultProps){t=yh({},t),n=n.defaultProps;for(var e in n)t[e]===void 0&&(t[e]=n[e]);return t}return t}function Dw(n,t,e,r,i){if(typeof e=="function")if(e.prototype&&e.prototype.isReactComponent){i=lO(e,t.legacyContext);var o=e.contextType;o=new e(r,typeof o=="object"&&o!==null?o._currentValue2:i),cO(o,e,r,i),vO(n,t,o,e)}else{o=lO(e,t.legacyContext),i=gO(n,t,e,r,o);var a=Hh!==0;if(typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0)cO(i,e,r,o),vO(n,t,i,e);else if(a){r=t.treeContext,t.treeContext=Aw(r,1,0);try{Yn(n,t,i)}finally{t.treeContext=r}}else Yn(n,t,i)}else if(typeof e=="string"){switch(i=t.blockedSegment,o=K6(i.chunks,e,r,n.responseState,i.formatContext),i.lastPushedText=!1,a=i.formatContext,i.formatContext=U6(a,e,r),Mw(n,t,o),i.formatContext=a,e){case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"input":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":break;default:i.chunks.push("</",e,">")}i.lastPushedText=!1}else{switch(e){case t8:case e8:case GF:case BF:case kF:Yn(n,t,r.children);return;case UF:Yn(n,t,r.children);return;case J6:throw Error($e(343));case jF:e:{e=t.blockedBoundary,i=t.blockedSegment,o=r.fallback,r=r.children,a=new Set;var s={id:null,rootSegmentID:-1,parentFlushed:!1,pendingTasks:0,forceClientRender:!1,completedSegments:[],byteSize:0,fallbackAbortableTasks:a,errorDigest:null},l=dv(n,i.chunks.length,s,i.formatContext,!1,!1);i.children.push(l),i.lastPushedText=!1;var u=dv(n,0,null,i.formatContext,!1,!1);u.parentFlushed=!0,t.blockedBoundary=s,t.blockedSegment=u;try{if(Mw(n,t,r),n.responseState.generateStaticMarkup||u.lastPushedText&&u.textEmbedded&&u.chunks.push("<!-- -->"),u.status=1,gv(s,u),s.pendingTasks===0)break e}catch(c){u.status=4,s.forceClientRender=!0,s.errorDigest=jh(n,c)}finally{t.blockedBoundary=e,t.blockedSegment=i}t=n0(n,o,e,l,a,t.legacyContext,t.context,t.treeContext),n.pingedTasks.push(t)}return}if(typeof e=="object"&&e!==null)switch(e.$$typeof){case HF:if(r=gO(n,t,e.render,r,i),Hh!==0){e=t.treeContext,t.treeContext=Aw(e,1,0);try{Yn(n,t,r)}finally{t.treeContext=e}}else Yn(n,t,r);return;case zF:e=e.type,r=mO(e,r),Dw(n,t,e,r,i);return;case VF:if(i=r.children,e=e._context,r=r.value,o=e._currentValue2,e._currentValue2=r,a=Ll,Ll=r={parent:a,depth:a===null?0:a.depth+1,context:e,parentValue:o,value:r},t.context=r,Yn(n,t,i),n=Ll,n===null)throw Error($e(403));r=n.parentValue,n.context._currentValue2=r===r8?n.context._defaultValue:r,n=Ll=n.parent,t.context=n;return;case WF:r=r.children,r=r(e._currentValue2),Yn(n,t,r);return;case JS:i=e._init,e=i(e._payload),r=mO(e,r),Dw(n,t,e,r,void 0);return}throw Error($e(130,e==null?e:typeof e,""))}}function Yn(n,t,e){if(t.node=e,typeof e=="object"&&e!==null){switch(e.$$typeof){case Q6:Dw(n,t,e.type,e.props,e.ref);return;case NF:throw Error($e(257));case JS:var r=e._init;e=r(e._payload),Yn(n,t,e);return}if(Rw(e)){yO(n,t,e);return}if(e===null||typeof e!="object"?r=null:(r=sO&&e[sO]||e["@@iterator"],r=typeof r=="function"?r:null),r&&(r=r.call(e))){if(e=r.next(),!e.done){var i=[];do i.push(e.value),e=r.next();while(!e.done);yO(n,t,i)}return}throw n=Object.prototype.toString.call(e),Error($e(31,n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n))}typeof e=="string"?(r=t.blockedSegment,r.lastPushedText=aO(t.blockedSegment.chunks,e,n.responseState,r.lastPushedText)):typeof e=="number"&&(r=t.blockedSegment,r.lastPushedText=aO(t.blockedSegment.chunks,""+e,n.responseState,r.lastPushedText))}function yO(n,t,e){for(var r=e.length,i=0;i<r;i++){var o=t.treeContext;t.treeContext=Aw(o,r,i);try{Mw(n,t,e[i])}finally{t.treeContext=o}}}function Mw(n,t,e){var r=t.blockedSegment.formatContext,i=t.legacyContext,o=t.context;try{return Yn(n,t,e)}catch(l){if(r0(),typeof l=="object"&&l!==null&&typeof l.then=="function"){e=l;var a=t.blockedSegment,s=dv(n,a.chunks.length,null,a.formatContext,a.lastPushedText,!0);a.children.push(s),a.lastPushedText=!1,n=n0(n,t.node,t.blockedBoundary,s,t.abortSet,t.legacyContext,t.context,t.treeContext).ping,e.then(n,n),t.blockedSegment.formatContext=r,t.legacyContext=i,t.context=o,pv(o)}else throw t.blockedSegment.formatContext=r,t.legacyContext=i,t.context=o,pv(o),l}}function d8(n){var t=n.blockedBoundary;n=n.blockedSegment,n.status=3,JF(this,t,n)}function QF(n,t,e){var r=n.blockedBoundary;n.blockedSegment.status=3,r===null?(t.allPendingTasks--,t.status!==2&&(t.status=2,t.destination!==null&&t.destination.push(null))):(r.pendingTasks--,r.forceClientRender||(r.forceClientRender=!0,n=e===void 0?Error($e(432)):e,r.errorDigest=t.onError(n),r.parentFlushed&&t.clientRenderedBoundaries.push(r)),r.fallbackAbortableTasks.forEach(function(i){return QF(i,t,e)}),r.fallbackAbortableTasks.clear(),t.allPendingTasks--,t.allPendingTasks===0&&(r=t.onAllReady,r()))}function gv(n,t){if(t.chunks.length===0&&t.children.length===1&&t.children[0].boundary===null){var e=t.children[0];e.id=t.id,e.parentFlushed=!0,e.status===1&&gv(n,e)}else n.completedSegments.push(t)}function JF(n,t,e){if(t===null){if(e.parentFlushed){if(n.completedRootSegment!==null)throw Error($e(389));n.completedRootSegment=e}n.pendingRootTasks--,n.pendingRootTasks===0&&(n.onShellError=nh,t=n.onShellReady,t())}else t.pendingTasks--,t.forceClientRender||(t.pendingTasks===0?(e.parentFlushed&&e.status===1&&gv(t,e),t.parentFlushed&&n.completedBoundaries.push(t),t.fallbackAbortableTasks.forEach(d8,n),t.fallbackAbortableTasks.clear()):e.parentFlushed&&e.status===1&&(gv(t,e),t.completedSegments.length===1&&t.parentFlushed&&n.partialBoundaries.push(t)));n.allPendingTasks--,n.allPendingTasks===0&&(n=n.onAllReady,n())}function eI(n){if(n.status!==2){var t=Ll,e=lC.current;lC.current=fO;var r=rg;rg=n.responseState;try{var i=n.pingedTasks,o;for(o=0;o<i.length;o++){var a=i[o],s=n,l=a.blockedSegment;if(l.status===0){pv(a.context);try{Yn(s,a,a.node),s.responseState.generateStaticMarkup||l.lastPushedText&&l.textEmbedded&&l.chunks.push("<!-- -->"),a.abortSet.delete(a),l.status=1,JF(s,a.blockedBoundary,l)}catch(f){if(r0(),typeof f=="object"&&f!==null&&typeof f.then=="function"){var u=a.ping;f.then(u,u)}else{a.abortSet.delete(a),l.status=4;var c=a.blockedBoundary,p=f,h=jh(s,p);if(c===null?fv(s,p):(c.pendingTasks--,c.forceClientRender||(c.forceClientRender=!0,c.errorDigest=h,c.parentFlushed&&s.clientRenderedBoundaries.push(c))),s.allPendingTasks--,s.allPendingTasks===0){var d=s.onAllReady;d()}}}finally{}}}i.splice(0,o),n.destination!==null&&i0(n,n.destination)}catch(f){jh(n,f),fv(n,f)}finally{rg=r,lC.current=e,e===fO&&pv(t)}}}function rf(n,t,e){switch(e.parentFlushed=!0,e.status){case 0:var r=e.id=n.nextSegmentId++;return e.lastPushedText=!1,e.textEmbedded=!1,n=n.responseState,t.push('<template id="'),t.push(n.placeholderPrefix),n=r.toString(16),t.push(n),t.push('"></template>');case 1:e.status=2;var i=!0;r=e.chunks;var o=0;e=e.children;for(var a=0;a<e.length;a++){for(i=e[a];o<i.index;o++)t.push(r[o]);i=ym(n,t,i)}for(;o<r.length-1;o++)t.push(r[o]);return o<r.length&&(i=t.push(r[o])),i;default:throw Error($e(390))}}function ym(n,t,e){var r=e.boundary;if(r===null)return rf(n,t,e);if(r.parentFlushed=!0,r.forceClientRender)return n.responseState.generateStaticMarkup||(r=r.errorDigest,t.push("<!--$!-->"),t.push("<template"),r&&(t.push(' data-dgst="'),r=ln(r),t.push(r),t.push('"')),t.push("></template>")),rf(n,t,e),n=n.responseState.generateStaticMarkup?!0:t.push("<!--/$-->"),n;if(0<r.pendingTasks){r.rootSegmentID=n.nextSegmentId++,0<r.completedSegments.length&&n.partialBoundaries.push(r);var i=n.responseState,o=i.nextSuspenseID++;return i=i.boundaryPrefix+o.toString(16),r=r.id=i,oO(t,n.responseState,r),rf(n,t,e),t.push("<!--/$-->")}if(r.byteSize>n.progressiveChunkSize)return r.rootSegmentID=n.nextSegmentId++,n.completedBoundaries.push(r),oO(t,n.responseState,r.id),rf(n,t,e),t.push("<!--/$-->");if(n.responseState.generateStaticMarkup||t.push("<!--$-->"),e=r.completedSegments,e.length!==1)throw Error($e(391));return ym(n,t,e[0]),n=n.responseState.generateStaticMarkup?!0:t.push("<!--/$-->"),n}function CO(n,t,e){return Y6(t,n.responseState,e.formatContext,e.id),ym(n,t,e),X6(t,e.formatContext)}function bO(n,t,e){for(var r=e.completedSegments,i=0;i<r.length;i++)tI(n,t,e,r[i]);if(r.length=0,n=n.responseState,r=e.id,e=e.rootSegmentID,t.push(n.startInlineScript),n.sentCompleteBoundaryFunction?t.push('$RC("'):(n.sentCompleteBoundaryFunction=!0,t.push('function $RC(a,b){a=document.getElementById(a);b=document.getElementById(b);b.parentNode.removeChild(b);if(a){a=a.previousSibling;var f=a.parentNode,c=a.nextSibling,e=0;do{if(c&&8===c.nodeType){var d=c.data;if("/$"===d)if(0===e)break;else e--;else"$"!==d&&"$?"!==d&&"$!"!==d||e++}d=c.nextSibling;f.removeChild(c);c=d}while(c);for(;b.firstChild;)f.insertBefore(b.firstChild,c);a.data="$";a._reactRetry&&a._reactRetry()}};$RC("')),r===null)throw Error($e(395));return e=e.toString(16),t.push(r),t.push('","'),t.push(n.segmentPrefix),t.push(e),t.push('")<\/script>')}function tI(n,t,e,r){if(r.status===2)return!0;var i=r.id;if(i===-1){if((r.id=e.rootSegmentID)===-1)throw Error($e(392));return CO(n,t,r)}return CO(n,t,r),n=n.responseState,t.push(n.startInlineScript),n.sentCompleteSegmentFunction?t.push('$RS("'):(n.sentCompleteSegmentFunction=!0,t.push('function $RS(a,b){a=document.getElementById(a);b=document.getElementById(b);for(a.parentNode.removeChild(a);a.firstChild;)b.parentNode.insertBefore(a.firstChild,b);b.parentNode.removeChild(b)};$RS("')),t.push(n.segmentPrefix),i=i.toString(16),t.push(i),t.push('","'),t.push(n.placeholderPrefix),t.push(i),t.push('")<\/script>')}function i0(n,t){try{var e=n.completedRootSegment;if(e!==null&&n.pendingRootTasks===0){ym(n,t,e),n.completedRootSegment=null;var r=n.responseState.bootstrapChunks;for(e=0;e<r.length-1;e++)t.push(r[e]);e<r.length&&t.push(r[e])}var i=n.clientRenderedBoundaries,o;for(o=0;o<i.length;o++){var a=i[o];r=t;var s=n.responseState,l=a.id,u=a.errorDigest,c=a.errorMessage,p=a.errorComponentStack;if(r.push(s.startInlineScript),s.sentClientRenderFunction?r.push('$RX("'):(s.sentClientRenderFunction=!0,r.push('function $RX(b,c,d,e){var a=document.getElementById(b);a&&(b=a.previousSibling,b.data="$!",a=a.dataset,c&&(a.dgst=c),d&&(a.msg=d),e&&(a.stck=e),b._reactRetry&&b._reactRetry())};$RX("')),l===null)throw Error($e(395));if(r.push(l),r.push('"'),u||c||p){r.push(",");var h=sC(u||"");r.push(h)}if(c||p){r.push(",");var d=sC(c||"");r.push(d)}if(p){r.push(",");var f=sC(p);r.push(f)}if(!r.push(")<\/script>")){n.destination=null,o++,i.splice(0,o);return}}i.splice(0,o);var g=n.completedBoundaries;for(o=0;o<g.length;o++)if(!bO(n,t,g[o])){n.destination=null,o++,g.splice(0,o);return}g.splice(0,o);var v=n.partialBoundaries;for(o=0;o<v.length;o++){var m=v[o];e:{i=n,a=t;var C=m.completedSegments;for(s=0;s<C.length;s++)if(!tI(i,a,m,C[s])){s++,C.splice(0,s);var b=!1;break e}C.splice(0,s),b=!0}if(!b){n.destination=null,o++,v.splice(0,o);return}}v.splice(0,o);var w=n.completedBoundaries;for(o=0;o<w.length;o++)if(!bO(n,t,w[o])){n.destination=null,o++,w.splice(0,o);return}w.splice(0,o)}finally{n.allPendingTasks===0&&n.pingedTasks.length===0&&n.clientRenderedBoundaries.length===0&&n.completedBoundaries.length===0&&t.push(null)}}function f8(n,t){try{var e=n.abortableTasks;e.forEach(function(r){return QF(r,n,t)}),e.clear(),n.destination!==null&&i0(n,n.destination)}catch(r){jh(n,r),fv(n,r)}}function g8(){}function rI(n,t,e,r){var i=!1,o=null,a="",s={push:function(u){return u!==null&&(a+=u),!0},destroy:function(u){i=!0,o=u}},l=!1;if(n=h8(n,Z6(e,t?t.identifierPrefix:void 0),{insertionMode:1,selectedValue:null},1/0,g8,void 0,function(){l=!0},void 0,void 0),eI(n),f8(n,r),n.status===1)n.status=2,s.destroy(n.fatalError);else if(n.status!==2&&n.destination===null){n.destination=s;try{i0(n,s)}catch(u){jh(n,u),fv(n,u)}}if(i)throw o;if(!l)throw Error($e(426));return a}Jc.renderToNodeStream=function(){throw Error($e(207))};Jc.renderToStaticMarkup=function(n,t){return rI(n,t,!0,'The server used "renderToStaticMarkup" which does not support Suspense. If you intended to have the server wait for the suspended component please switch to "renderToReadableStream" which supports Suspense on the server')};Jc.renderToStaticNodeStream=function(){throw Error($e(208))};Jc.renderToString=function(n,t){return rI(n,t,!1,'The server used "renderToString" which does not support Suspense. If you intended for this Suspense boundary to render the fallback content on the server consider throwing an Error somewhere within the Suspense boundary. If you intended to have the server wait for the suspended component please switch to "renderToReadableStream" which supports Suspense on the server')};Jc.version="18.2.0";var o0={};/**
 * @license React
 * react-dom-server.browser.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nI=Te.exports;function Qe(n){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+n,e=1;e<arguments.length;e++)t+="&args[]="+encodeURIComponent(arguments[e]);return"Minified React error #"+n+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Xn=null,qn=0;function me(n,t){if(t.length!==0)if(512<t.length)0<qn&&(n.enqueue(new Uint8Array(Xn.buffer,0,qn)),Xn=new Uint8Array(512),qn=0),n.enqueue(t);else{var e=Xn.length-qn;e<t.length&&(e===0?n.enqueue(Xn):(Xn.set(t.subarray(0,e),qn),n.enqueue(Xn),t=t.subarray(e)),Xn=new Uint8Array(512),qn=0),Xn.set(t,qn),qn+=t.length}}function zt(n,t){return me(n,t),!0}function wO(n){Xn&&0<qn&&(n.enqueue(new Uint8Array(Xn.buffer,0,qn)),Xn=null,qn=0)}var iI=new TextEncoder;function Je(n){return iI.encode(n)}function de(n){return iI.encode(n)}function oI(n,t){typeof n.error=="function"?n.error(t):n.close()}var wn=Object.prototype.hasOwnProperty,v8=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,_O={},SO={};function aI(n){return wn.call(SO,n)?!0:wn.call(_O,n)?!1:v8.test(n)?SO[n]=!0:(_O[n]=!0,!1)}function dn(n,t,e,r,i,o,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=e,this.propertyName=n,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var Br={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){Br[n]=new dn(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var t=n[0];Br[t]=new dn(t,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){Br[n]=new dn(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){Br[n]=new dn(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){Br[n]=new dn(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){Br[n]=new dn(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){Br[n]=new dn(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){Br[n]=new dn(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){Br[n]=new dn(n,5,!1,n.toLowerCase(),null,!1,!1)});var a0=/[\-:]([a-z])/g;function s0(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var t=n.replace(a0,s0);Br[t]=new dn(t,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var t=n.replace(a0,s0);Br[t]=new dn(t,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var t=n.replace(a0,s0);Br[t]=new dn(t,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){Br[n]=new dn(n,1,!1,n.toLowerCase(),null,!1,!1)});Br.xlinkHref=new dn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){Br[n]=new dn(n,1,!1,n.toLowerCase(),null,!0,!0)});var ng={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},m8=["Webkit","ms","Moz","O"];Object.keys(ng).forEach(function(n){m8.forEach(function(t){t=t+n.charAt(0).toUpperCase()+n.substring(1),ng[t]=ng[n]})});var y8=/["'&<>]/;function Nr(n){if(typeof n=="boolean"||typeof n=="number")return""+n;n=""+n;var t=y8.exec(n);if(t){var e="",r,i=0;for(r=t.index;r<n.length;r++){switch(n.charCodeAt(r)){case 34:t="&quot;";break;case 38:t="&amp;";break;case 39:t="&#x27;";break;case 60:t="&lt;";break;case 62:t="&gt;";break;default:continue}i!==r&&(e+=n.substring(i,r)),i=r+1,e+=t}n=i!==r?e+n.substring(i,r):e}return n}var C8=/([A-Z])/g,b8=/^ms-/,Fw=Array.isArray,w8=de("<script>"),_8=de("<\/script>"),S8=de('<script src="'),x8=de('<script type="module" src="'),xO=de('" async=""><\/script>'),T8=/(<\/|<)(s)(cript)/gi;function O8(n,t,e,r){return""+t+(e==="s"?"\\u0073":"\\u0053")+r}function E8(n,t,e,r,i){n=n===void 0?"":n,t=t===void 0?w8:de('<script nonce="'+Nr(t)+'">');var o=[];if(e!==void 0&&o.push(t,Je((""+e).replace(T8,O8)),_8),r!==void 0)for(e=0;e<r.length;e++)o.push(S8,Je(Nr(r[e])),xO);if(i!==void 0)for(r=0;r<i.length;r++)o.push(x8,Je(Nr(i[r])),xO);return{bootstrapChunks:o,startInlineScript:t,placeholderPrefix:de(n+"P:"),segmentPrefix:de(n+"S:"),boundaryPrefix:n+"B:",idPrefix:n,nextSuspenseID:0,sentCompleteSegmentFunction:!1,sentCompleteBoundaryFunction:!1,sentClientRenderFunction:!1}}function bo(n,t){return{insertionMode:n,selectedValue:t}}function R8(n){return bo(n==="http://www.w3.org/2000/svg"?2:n==="http://www.w3.org/1998/Math/MathML"?3:0,null)}function P8(n,t,e){switch(t){case"select":return bo(1,e.value!=null?e.value:e.defaultValue);case"svg":return bo(2,null);case"math":return bo(3,null);case"foreignObject":return bo(1,null);case"table":return bo(4,null);case"thead":case"tbody":case"tfoot":return bo(5,null);case"colgroup":return bo(7,null);case"tr":return bo(6,null)}return 4<=n.insertionMode||n.insertionMode===0?bo(1,null):n}var l0=de("<!-- -->");function TO(n,t,e,r){return t===""?r:(r&&n.push(l0),n.push(Je(Nr(t))),!0)}var OO=new Map,A8=de(' style="'),EO=de(":"),D8=de(";");function sI(n,t,e){if(typeof e!="object")throw Error(Qe(62));t=!0;for(var r in e)if(wn.call(e,r)){var i=e[r];if(i!=null&&typeof i!="boolean"&&i!==""){if(r.indexOf("--")===0){var o=Je(Nr(r));i=Je(Nr((""+i).trim()))}else{o=r;var a=OO.get(o);a!==void 0||(a=de(Nr(o.replace(C8,"-$1").toLowerCase().replace(b8,"-ms-"))),OO.set(o,a)),o=a,i=typeof i=="number"?i===0||wn.call(ng,r)?Je(""+i):Je(i+"px"):Je(Nr((""+i).trim()))}t?(t=!1,n.push(A8,o,EO,i)):n.push(D8,o,EO,i)}}t||n.push(_l)}var rs=de(" "),Ju=de('="'),_l=de('"'),RO=de('=""');function jn(n,t,e,r){switch(e){case"style":sI(n,t,r);return;case"defaultValue":case"defaultChecked":case"innerHTML":case"suppressContentEditableWarning":case"suppressHydrationWarning":return}if(!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N"){if(t=Br.hasOwnProperty(e)?Br[e]:null,t!==null){switch(typeof r){case"function":case"symbol":return;case"boolean":if(!t.acceptsBooleans)return}switch(e=Je(t.attributeName),t.type){case 3:r&&n.push(rs,e,RO);break;case 4:r===!0?n.push(rs,e,RO):r!==!1&&n.push(rs,e,Ju,Je(Nr(r)),_l);break;case 5:isNaN(r)||n.push(rs,e,Ju,Je(Nr(r)),_l);break;case 6:!isNaN(r)&&1<=r&&n.push(rs,e,Ju,Je(Nr(r)),_l);break;default:t.sanitizeURL&&(r=""+r),n.push(rs,e,Ju,Je(Nr(r)),_l)}}else if(aI(e)){switch(typeof r){case"function":case"symbol":return;case"boolean":if(t=e.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-")return}n.push(rs,Je(e),Ju,Je(Nr(r)),_l)}}}var ns=de(">"),PO=de("/>");function ig(n,t,e){if(t!=null){if(e!=null)throw Error(Qe(60));if(typeof t!="object"||!("__html"in t))throw Error(Qe(61));t=t.__html,t!=null&&n.push(Je(""+t))}}function M8(n){var t="";return nI.Children.forEach(n,function(e){e!=null&&(t+=e)}),t}var uC=de(' selected=""');function cC(n,t,e,r){n.push(wo(e));var i=e=null,o;for(o in t)if(wn.call(t,o)){var a=t[o];if(a!=null)switch(o){case"children":e=a;break;case"dangerouslySetInnerHTML":i=a;break;default:jn(n,r,o,a)}}return n.push(ns),ig(n,i,e),typeof e=="string"?(n.push(Je(Nr(e))),null):e}var pC=de(`
`),F8=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,AO=new Map;function wo(n){var t=AO.get(n);if(t===void 0){if(!F8.test(n))throw Error(Qe(65,n));t=de("<"+n),AO.set(n,t)}return t}var I8=de("<!DOCTYPE html>");function L8(n,t,e,r,i){switch(t){case"select":n.push(wo("select"));var o=null,a=null;for(c in e)if(wn.call(e,c)){var s=e[c];if(s!=null)switch(c){case"children":o=s;break;case"dangerouslySetInnerHTML":a=s;break;case"defaultValue":case"value":break;default:jn(n,r,c,s)}}return n.push(ns),ig(n,a,o),o;case"option":a=i.selectedValue,n.push(wo("option"));var l=s=null,u=null,c=null;for(o in e)if(wn.call(e,o)){var p=e[o];if(p!=null)switch(o){case"children":s=p;break;case"selected":u=p;break;case"dangerouslySetInnerHTML":c=p;break;case"value":l=p;default:jn(n,r,o,p)}}if(a!=null)if(e=l!==null?""+l:M8(s),Fw(a)){for(r=0;r<a.length;r++)if(""+a[r]===e){n.push(uC);break}}else""+a===e&&n.push(uC);else u&&n.push(uC);return n.push(ns),ig(n,c,s),s;case"textarea":n.push(wo("textarea")),c=a=o=null;for(s in e)if(wn.call(e,s)&&(l=e[s],l!=null))switch(s){case"children":c=l;break;case"value":o=l;break;case"defaultValue":a=l;break;case"dangerouslySetInnerHTML":throw Error(Qe(91));default:jn(n,r,s,l)}if(o===null&&a!==null&&(o=a),n.push(ns),c!=null){if(o!=null)throw Error(Qe(92));if(Fw(c)&&1<c.length)throw Error(Qe(93));o=""+c}return typeof o=="string"&&o[0]===`
`&&n.push(pC),o!==null&&n.push(Je(Nr(""+o))),null;case"input":n.push(wo("input")),l=c=s=o=null;for(a in e)if(wn.call(e,a)&&(u=e[a],u!=null))switch(a){case"children":case"dangerouslySetInnerHTML":throw Error(Qe(399,"input"));case"defaultChecked":l=u;break;case"defaultValue":s=u;break;case"checked":c=u;break;case"value":o=u;break;default:jn(n,r,a,u)}return c!==null?jn(n,r,"checked",c):l!==null&&jn(n,r,"checked",l),o!==null?jn(n,r,"value",o):s!==null&&jn(n,r,"value",s),n.push(PO),null;case"menuitem":n.push(wo("menuitem"));for(var h in e)if(wn.call(e,h)&&(o=e[h],o!=null))switch(h){case"children":case"dangerouslySetInnerHTML":throw Error(Qe(400));default:jn(n,r,h,o)}return n.push(ns),null;case"title":n.push(wo("title")),o=null;for(p in e)if(wn.call(e,p)&&(a=e[p],a!=null))switch(p){case"children":o=a;break;case"dangerouslySetInnerHTML":throw Error(Qe(434));default:jn(n,r,p,a)}return n.push(ns),o;case"listing":case"pre":n.push(wo(t)),a=o=null;for(l in e)if(wn.call(e,l)&&(s=e[l],s!=null))switch(l){case"children":o=s;break;case"dangerouslySetInnerHTML":a=s;break;default:jn(n,r,l,s)}if(n.push(ns),a!=null){if(o!=null)throw Error(Qe(60));if(typeof a!="object"||!("__html"in a))throw Error(Qe(61));e=a.__html,e!=null&&(typeof e=="string"&&0<e.length&&e[0]===`
`?n.push(pC,Je(e)):n.push(Je(""+e)))}return typeof o=="string"&&o[0]===`
`&&n.push(pC),o;case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":n.push(wo(t));for(var d in e)if(wn.call(e,d)&&(o=e[d],o!=null))switch(d){case"children":case"dangerouslySetInnerHTML":throw Error(Qe(399,t));default:jn(n,r,d,o)}return n.push(PO),null;case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return cC(n,e,t,r);case"html":return i.insertionMode===0&&n.push(I8),cC(n,e,t,r);default:if(t.indexOf("-")===-1&&typeof e.is!="string")return cC(n,e,t,r);n.push(wo(t)),a=o=null;for(u in e)if(wn.call(e,u)&&(s=e[u],s!=null))switch(u){case"children":o=s;break;case"dangerouslySetInnerHTML":a=s;break;case"style":sI(n,r,s);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":break;default:aI(u)&&typeof s!="function"&&typeof s!="symbol"&&n.push(rs,Je(u),Ju,Je(Nr(s)),_l)}return n.push(ns),ig(n,a,o),o}}var N8=de("</"),k8=de(">"),G8=de('<template id="'),B8=de('"></template>'),V8=de("<!--$-->"),W8=de('<!--$?--><template id="'),H8=de('"></template>'),j8=de("<!--$!-->"),U8=de("<!--/$-->"),z8=de("<template"),$8=de('"'),K8=de(' data-dgst="');de(' data-msg="');de(' data-stck="');var Y8=de("></template>");function DO(n,t,e){if(me(n,W8),e===null)throw Error(Qe(395));return me(n,e),zt(n,H8)}var X8=de('<div hidden id="'),q8=de('">'),Z8=de("</div>"),Q8=de('<svg aria-hidden="true" style="display:none" id="'),J8=de('">'),e5=de("</svg>"),t5=de('<math aria-hidden="true" style="display:none" id="'),r5=de('">'),n5=de("</math>"),i5=de('<table hidden id="'),o5=de('">'),a5=de("</table>"),s5=de('<table hidden><tbody id="'),l5=de('">'),u5=de("</tbody></table>"),c5=de('<table hidden><tr id="'),p5=de('">'),h5=de("</tr></table>"),d5=de('<table hidden><colgroup id="'),f5=de('">'),g5=de("</colgroup></table>");function v5(n,t,e,r){switch(e.insertionMode){case 0:case 1:return me(n,X8),me(n,t.segmentPrefix),me(n,Je(r.toString(16))),zt(n,q8);case 2:return me(n,Q8),me(n,t.segmentPrefix),me(n,Je(r.toString(16))),zt(n,J8);case 3:return me(n,t5),me(n,t.segmentPrefix),me(n,Je(r.toString(16))),zt(n,r5);case 4:return me(n,i5),me(n,t.segmentPrefix),me(n,Je(r.toString(16))),zt(n,o5);case 5:return me(n,s5),me(n,t.segmentPrefix),me(n,Je(r.toString(16))),zt(n,l5);case 6:return me(n,c5),me(n,t.segmentPrefix),me(n,Je(r.toString(16))),zt(n,p5);case 7:return me(n,d5),me(n,t.segmentPrefix),me(n,Je(r.toString(16))),zt(n,f5);default:throw Error(Qe(397))}}function m5(n,t){switch(t.insertionMode){case 0:case 1:return zt(n,Z8);case 2:return zt(n,e5);case 3:return zt(n,n5);case 4:return zt(n,a5);case 5:return zt(n,u5);case 6:return zt(n,h5);case 7:return zt(n,g5);default:throw Error(Qe(397))}}var y5=de('function $RS(a,b){a=document.getElementById(a);b=document.getElementById(b);for(a.parentNode.removeChild(a);a.firstChild;)b.parentNode.insertBefore(a.firstChild,b);b.parentNode.removeChild(b)};$RS("'),C5=de('$RS("'),b5=de('","'),w5=de('")<\/script>'),_5=de('function $RC(a,b){a=document.getElementById(a);b=document.getElementById(b);b.parentNode.removeChild(b);if(a){a=a.previousSibling;var f=a.parentNode,c=a.nextSibling,e=0;do{if(c&&8===c.nodeType){var d=c.data;if("/$"===d)if(0===e)break;else e--;else"$"!==d&&"$?"!==d&&"$!"!==d||e++}d=c.nextSibling;f.removeChild(c);c=d}while(c);for(;b.firstChild;)f.insertBefore(b.firstChild,c);a.data="$";a._reactRetry&&a._reactRetry()}};$RC("'),S5=de('$RC("'),x5=de('","'),T5=de('")<\/script>'),O5=de('function $RX(b,c,d,e){var a=document.getElementById(b);a&&(b=a.previousSibling,b.data="$!",a=a.dataset,c&&(a.dgst=c),d&&(a.msg=d),e&&(a.stck=e),b._reactRetry&&b._reactRetry())};$RX("'),E5=de('$RX("'),R5=de('"'),P5=de(")<\/script>"),hC=de(","),A5=/[<\u2028\u2029]/g;function dC(n){return JSON.stringify(n).replace(A5,function(t){switch(t){case"<":return"\\u003c";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw Error("escapeJSStringsForInstructionScripts encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React")}})}var Ch=Object.assign,D5=Symbol.for("react.element"),lI=Symbol.for("react.portal"),uI=Symbol.for("react.fragment"),cI=Symbol.for("react.strict_mode"),pI=Symbol.for("react.profiler"),hI=Symbol.for("react.provider"),dI=Symbol.for("react.context"),fI=Symbol.for("react.forward_ref"),gI=Symbol.for("react.suspense"),vI=Symbol.for("react.suspense_list"),mI=Symbol.for("react.memo"),u0=Symbol.for("react.lazy"),M5=Symbol.for("react.scope"),F5=Symbol.for("react.debug_trace_mode"),I5=Symbol.for("react.legacy_hidden"),L5=Symbol.for("react.default_value"),MO=Symbol.iterator;function Iw(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case uI:return"Fragment";case lI:return"Portal";case pI:return"Profiler";case cI:return"StrictMode";case gI:return"Suspense";case vI:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case dI:return(n.displayName||"Context")+".Consumer";case hI:return(n._context.displayName||"Context")+".Provider";case fI:var t=n.render;return n=n.displayName,n||(n=t.displayName||t.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case mI:return t=n.displayName||null,t!==null?t:Iw(n.type)||"Memo";case u0:t=n._payload,n=n._init;try{return Iw(n(t))}catch{}}return null}var yI={};function FO(n,t){if(n=n.contextTypes,!n)return yI;var e={},r;for(r in n)e[r]=t[r];return e}var Nl=null;function Cm(n,t){if(n!==t){n.context._currentValue=n.parentValue,n=n.parent;var e=t.parent;if(n===null){if(e!==null)throw Error(Qe(401))}else{if(e===null)throw Error(Qe(401));Cm(n,e)}t.context._currentValue=t.value}}function CI(n){n.context._currentValue=n.parentValue,n=n.parent,n!==null&&CI(n)}function bI(n){var t=n.parent;t!==null&&bI(t),n.context._currentValue=n.value}function wI(n,t){if(n.context._currentValue=n.parentValue,n=n.parent,n===null)throw Error(Qe(402));n.depth===t.depth?Cm(n,t):wI(n,t)}function _I(n,t){var e=t.parent;if(e===null)throw Error(Qe(402));n.depth===e.depth?Cm(n,e):_I(n,e),t.context._currentValue=t.value}function vv(n){var t=Nl;t!==n&&(t===null?bI(n):n===null?CI(t):t.depth===n.depth?Cm(t,n):t.depth>n.depth?wI(t,n):_I(t,n),Nl=n)}var IO={isMounted:function(){return!1},enqueueSetState:function(n,t){n=n._reactInternals,n.queue!==null&&n.queue.push(t)},enqueueReplaceState:function(n,t){n=n._reactInternals,n.replace=!0,n.queue=[t]},enqueueForceUpdate:function(){}};function LO(n,t,e,r){var i=n.state!==void 0?n.state:null;n.updater=IO,n.props=e,n.state=i;var o={queue:[],replace:!1};n._reactInternals=o;var a=t.contextType;if(n.context=typeof a=="object"&&a!==null?a._currentValue:r,a=t.getDerivedStateFromProps,typeof a=="function"&&(a=a(e,i),i=a==null?i:Ch({},i,a),n.state=i),typeof t.getDerivedStateFromProps!="function"&&typeof n.getSnapshotBeforeUpdate!="function"&&(typeof n.UNSAFE_componentWillMount=="function"||typeof n.componentWillMount=="function"))if(t=n.state,typeof n.componentWillMount=="function"&&n.componentWillMount(),typeof n.UNSAFE_componentWillMount=="function"&&n.UNSAFE_componentWillMount(),t!==n.state&&IO.enqueueReplaceState(n,n.state,null),o.queue!==null&&0<o.queue.length)if(t=o.queue,a=o.replace,o.queue=null,o.replace=!1,a&&t.length===1)n.state=t[0];else{for(o=a?t[0]:n.state,i=!0,a=a?1:0;a<t.length;a++){var s=t[a];s=typeof s=="function"?s.call(n,o,e,r):s,s!=null&&(i?(i=!1,o=Ch({},o,s)):Ch(o,s))}n.state=o}else o.queue=null}var N5={id:1,overflow:""};function Lw(n,t,e){var r=n.id;n=n.overflow;var i=32-og(r)-1;r&=~(1<<i),e+=1;var o=32-og(t)+i;if(30<o){var a=i-i%5;return o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,{id:1<<32-og(t)+i|e<<i|r,overflow:o+n}}return{id:1<<o|e<<i|r,overflow:n}}var og=Math.clz32?Math.clz32:B5,k5=Math.log,G5=Math.LN2;function B5(n){return n>>>=0,n===0?32:31-(k5(n)/G5|0)|0}function V5(n,t){return n===t&&(n!==0||1/n===1/t)||n!==n&&t!==t}var W5=typeof Object.is=="function"?Object.is:V5,La=null,c0=null,ag=null,Wt=null,ih=!1,mv=!1,Uh=0,ws=null,bm=0;function Sl(){if(La===null)throw Error(Qe(321));return La}function NO(){if(0<bm)throw Error(Qe(312));return{memoizedState:null,queue:null,next:null}}function p0(){return Wt===null?ag===null?(ih=!1,ag=Wt=NO()):(ih=!0,Wt=ag):Wt.next===null?(ih=!1,Wt=Wt.next=NO()):(ih=!0,Wt=Wt.next),Wt}function h0(){c0=La=null,mv=!1,ag=null,bm=0,Wt=ws=null}function SI(n,t){return typeof t=="function"?t(n):t}function kO(n,t,e){if(La=Sl(),Wt=p0(),ih){var r=Wt.queue;if(t=r.dispatch,ws!==null&&(e=ws.get(r),e!==void 0)){ws.delete(r),r=Wt.memoizedState;do r=n(r,e.action),e=e.next;while(e!==null);return Wt.memoizedState=r,[r,t]}return[Wt.memoizedState,t]}return n=n===SI?typeof t=="function"?t():t:e!==void 0?e(t):t,Wt.memoizedState=n,n=Wt.queue={last:null,dispatch:null},n=n.dispatch=H5.bind(null,La,n),[Wt.memoizedState,n]}function GO(n,t){if(La=Sl(),Wt=p0(),t=t===void 0?null:t,Wt!==null){var e=Wt.memoizedState;if(e!==null&&t!==null){var r=e[1];e:if(r===null)r=!1;else{for(var i=0;i<r.length&&i<t.length;i++)if(!W5(t[i],r[i])){r=!1;break e}r=!0}if(r)return e[0]}}return n=n(),Wt.memoizedState=[n,t],n}function H5(n,t,e){if(25<=bm)throw Error(Qe(301));if(n===La)if(mv=!0,n={action:e,next:null},ws===null&&(ws=new Map),e=ws.get(t),e===void 0)ws.set(t,n);else{for(t=e;t.next!==null;)t=t.next;t.next=n}}function j5(){throw Error(Qe(394))}function nf(){}var BO={readContext:function(n){return n._currentValue},useContext:function(n){return Sl(),n._currentValue},useMemo:GO,useReducer:kO,useRef:function(n){La=Sl(),Wt=p0();var t=Wt.memoizedState;return t===null?(n={current:n},Wt.memoizedState=n):t},useState:function(n){return kO(SI,n)},useInsertionEffect:nf,useLayoutEffect:function(){},useCallback:function(n,t){return GO(function(){return n},t)},useImperativeHandle:nf,useEffect:nf,useDebugValue:nf,useDeferredValue:function(n){return Sl(),n},useTransition:function(){return Sl(),[!1,j5]},useId:function(){var n=c0.treeContext,t=n.overflow;n=n.id,n=(n&~(1<<32-og(n)-1)).toString(32)+t;var e=sg;if(e===null)throw Error(Qe(404));return t=Uh++,n=":"+e.idPrefix+"R"+n,0<t&&(n+="H"+t.toString(32)),n+":"},useMutableSource:function(n,t){return Sl(),t(n._source)},useSyncExternalStore:function(n,t,e){if(e===void 0)throw Error(Qe(407));return e()}},sg=null,fC=nI.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentDispatcher;function U5(n){return console.error(n),null}function oh(){}function z5(n,t,e,r,i,o,a,s,l){var u=[],c=new Set;return t={destination:null,responseState:t,progressiveChunkSize:r===void 0?12800:r,status:0,fatalError:null,nextSegmentId:0,allPendingTasks:0,pendingRootTasks:0,completedRootSegment:null,abortableTasks:c,pingedTasks:u,clientRenderedBoundaries:[],completedBoundaries:[],partialBoundaries:[],onError:i===void 0?U5:i,onAllReady:o===void 0?oh:o,onShellReady:a===void 0?oh:a,onShellError:s===void 0?oh:s,onFatalError:l===void 0?oh:l},e=yv(t,0,null,e,!1,!1),e.parentFlushed=!0,n=d0(t,n,null,e,c,yI,null,N5),u.push(n),t}function d0(n,t,e,r,i,o,a,s){n.allPendingTasks++,e===null?n.pendingRootTasks++:e.pendingTasks++;var l={node:t,ping:function(){var u=n.pingedTasks;u.push(l),u.length===1&&OI(n)},blockedBoundary:e,blockedSegment:r,abortSet:i,legacyContext:o,context:a,treeContext:s};return i.add(l),l}function yv(n,t,e,r,i,o){return{status:0,id:-1,index:t,parentFlushed:!1,chunks:[],children:[],formatContext:r,boundary:e,lastPushedText:i,textEmbedded:o}}function zh(n,t){if(n=n.onError(t),n!=null&&typeof n!="string")throw Error('onError returned something with a type other than "string". onError should return a string and may return null or undefined but must not return anything else. It received something of type "'+typeof n+'" instead');return n}function Cv(n,t){var e=n.onShellError;e(t),e=n.onFatalError,e(t),n.destination!==null?(n.status=2,oI(n.destination,t)):(n.status=1,n.fatalError=t)}function VO(n,t,e,r,i){for(La={},c0=t,Uh=0,n=e(r,i);mv;)mv=!1,Uh=0,bm+=1,Wt=null,n=e(r,i);return h0(),n}function WO(n,t,e,r){var i=e.render(),o=r.childContextTypes;if(o!=null){var a=t.legacyContext;if(typeof e.getChildContext!="function")r=a;else{e=e.getChildContext();for(var s in e)if(!(s in o))throw Error(Qe(108,Iw(r)||"Unknown",s));r=Ch({},a,e)}t.legacyContext=r,Zn(n,t,i),t.legacyContext=a}else Zn(n,t,i)}function HO(n,t){if(n&&n.defaultProps){t=Ch({},t),n=n.defaultProps;for(var e in n)t[e]===void 0&&(t[e]=n[e]);return t}return t}function Nw(n,t,e,r,i){if(typeof e=="function")if(e.prototype&&e.prototype.isReactComponent){i=FO(e,t.legacyContext);var o=e.contextType;o=new e(r,typeof o=="object"&&o!==null?o._currentValue:i),LO(o,e,r,i),WO(n,t,o,e)}else{o=FO(e,t.legacyContext),i=VO(n,t,e,r,o);var a=Uh!==0;if(typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0)LO(i,e,r,o),WO(n,t,i,e);else if(a){r=t.treeContext,t.treeContext=Lw(r,1,0);try{Zn(n,t,i)}finally{t.treeContext=r}}else Zn(n,t,i)}else if(typeof e=="string"){switch(i=t.blockedSegment,o=L8(i.chunks,e,r,n.responseState,i.formatContext),i.lastPushedText=!1,a=i.formatContext,i.formatContext=P8(a,e,r),kw(n,t,o),i.formatContext=a,e){case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"input":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":break;default:i.chunks.push(N8,Je(e),k8)}i.lastPushedText=!1}else{switch(e){case I5:case F5:case cI:case pI:case uI:Zn(n,t,r.children);return;case vI:Zn(n,t,r.children);return;case M5:throw Error(Qe(343));case gI:e:{e=t.blockedBoundary,i=t.blockedSegment,o=r.fallback,r=r.children,a=new Set;var s={id:null,rootSegmentID:-1,parentFlushed:!1,pendingTasks:0,forceClientRender:!1,completedSegments:[],byteSize:0,fallbackAbortableTasks:a,errorDigest:null},l=yv(n,i.chunks.length,s,i.formatContext,!1,!1);i.children.push(l),i.lastPushedText=!1;var u=yv(n,0,null,i.formatContext,!1,!1);u.parentFlushed=!0,t.blockedBoundary=s,t.blockedSegment=u;try{if(kw(n,t,r),u.lastPushedText&&u.textEmbedded&&u.chunks.push(l0),u.status=1,bv(s,u),s.pendingTasks===0)break e}catch(c){u.status=4,s.forceClientRender=!0,s.errorDigest=zh(n,c)}finally{t.blockedBoundary=e,t.blockedSegment=i}t=d0(n,o,e,l,a,t.legacyContext,t.context,t.treeContext),n.pingedTasks.push(t)}return}if(typeof e=="object"&&e!==null)switch(e.$$typeof){case fI:if(r=VO(n,t,e.render,r,i),Uh!==0){e=t.treeContext,t.treeContext=Lw(e,1,0);try{Zn(n,t,r)}finally{t.treeContext=e}}else Zn(n,t,r);return;case mI:e=e.type,r=HO(e,r),Nw(n,t,e,r,i);return;case hI:if(i=r.children,e=e._context,r=r.value,o=e._currentValue,e._currentValue=r,a=Nl,Nl=r={parent:a,depth:a===null?0:a.depth+1,context:e,parentValue:o,value:r},t.context=r,Zn(n,t,i),n=Nl,n===null)throw Error(Qe(403));r=n.parentValue,n.context._currentValue=r===L5?n.context._defaultValue:r,n=Nl=n.parent,t.context=n;return;case dI:r=r.children,r=r(e._currentValue),Zn(n,t,r);return;case u0:i=e._init,e=i(e._payload),r=HO(e,r),Nw(n,t,e,r,void 0);return}throw Error(Qe(130,e==null?e:typeof e,""))}}function Zn(n,t,e){if(t.node=e,typeof e=="object"&&e!==null){switch(e.$$typeof){case D5:Nw(n,t,e.type,e.props,e.ref);return;case lI:throw Error(Qe(257));case u0:var r=e._init;e=r(e._payload),Zn(n,t,e);return}if(Fw(e)){jO(n,t,e);return}if(e===null||typeof e!="object"?r=null:(r=MO&&e[MO]||e["@@iterator"],r=typeof r=="function"?r:null),r&&(r=r.call(e))){if(e=r.next(),!e.done){var i=[];do i.push(e.value),e=r.next();while(!e.done);jO(n,t,i)}return}throw n=Object.prototype.toString.call(e),Error(Qe(31,n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n))}typeof e=="string"?(r=t.blockedSegment,r.lastPushedText=TO(t.blockedSegment.chunks,e,n.responseState,r.lastPushedText)):typeof e=="number"&&(r=t.blockedSegment,r.lastPushedText=TO(t.blockedSegment.chunks,""+e,n.responseState,r.lastPushedText))}function jO(n,t,e){for(var r=e.length,i=0;i<r;i++){var o=t.treeContext;t.treeContext=Lw(o,r,i);try{kw(n,t,e[i])}finally{t.treeContext=o}}}function kw(n,t,e){var r=t.blockedSegment.formatContext,i=t.legacyContext,o=t.context;try{return Zn(n,t,e)}catch(l){if(h0(),typeof l=="object"&&l!==null&&typeof l.then=="function"){e=l;var a=t.blockedSegment,s=yv(n,a.chunks.length,null,a.formatContext,a.lastPushedText,!0);a.children.push(s),a.lastPushedText=!1,n=d0(n,t.node,t.blockedBoundary,s,t.abortSet,t.legacyContext,t.context,t.treeContext).ping,e.then(n,n),t.blockedSegment.formatContext=r,t.legacyContext=i,t.context=o,vv(o)}else throw t.blockedSegment.formatContext=r,t.legacyContext=i,t.context=o,vv(o),l}}function $5(n){var t=n.blockedBoundary;n=n.blockedSegment,n.status=3,TI(this,t,n)}function xI(n,t,e){var r=n.blockedBoundary;n.blockedSegment.status=3,r===null?(t.allPendingTasks--,t.status!==2&&(t.status=2,t.destination!==null&&t.destination.close())):(r.pendingTasks--,r.forceClientRender||(r.forceClientRender=!0,n=e===void 0?Error(Qe(432)):e,r.errorDigest=t.onError(n),r.parentFlushed&&t.clientRenderedBoundaries.push(r)),r.fallbackAbortableTasks.forEach(function(i){return xI(i,t,e)}),r.fallbackAbortableTasks.clear(),t.allPendingTasks--,t.allPendingTasks===0&&(r=t.onAllReady,r()))}function bv(n,t){if(t.chunks.length===0&&t.children.length===1&&t.children[0].boundary===null){var e=t.children[0];e.id=t.id,e.parentFlushed=!0,e.status===1&&bv(n,e)}else n.completedSegments.push(t)}function TI(n,t,e){if(t===null){if(e.parentFlushed){if(n.completedRootSegment!==null)throw Error(Qe(389));n.completedRootSegment=e}n.pendingRootTasks--,n.pendingRootTasks===0&&(n.onShellError=oh,t=n.onShellReady,t())}else t.pendingTasks--,t.forceClientRender||(t.pendingTasks===0?(e.parentFlushed&&e.status===1&&bv(t,e),t.parentFlushed&&n.completedBoundaries.push(t),t.fallbackAbortableTasks.forEach($5,n),t.fallbackAbortableTasks.clear()):e.parentFlushed&&e.status===1&&(bv(t,e),t.completedSegments.length===1&&t.parentFlushed&&n.partialBoundaries.push(t)));n.allPendingTasks--,n.allPendingTasks===0&&(n=n.onAllReady,n())}function OI(n){if(n.status!==2){var t=Nl,e=fC.current;fC.current=BO;var r=sg;sg=n.responseState;try{var i=n.pingedTasks,o;for(o=0;o<i.length;o++){var a=i[o],s=n,l=a.blockedSegment;if(l.status===0){vv(a.context);try{Zn(s,a,a.node),l.lastPushedText&&l.textEmbedded&&l.chunks.push(l0),a.abortSet.delete(a),l.status=1,TI(s,a.blockedBoundary,l)}catch(f){if(h0(),typeof f=="object"&&f!==null&&typeof f.then=="function"){var u=a.ping;f.then(u,u)}else{a.abortSet.delete(a),l.status=4;var c=a.blockedBoundary,p=f,h=zh(s,p);if(c===null?Cv(s,p):(c.pendingTasks--,c.forceClientRender||(c.forceClientRender=!0,c.errorDigest=h,c.parentFlushed&&s.clientRenderedBoundaries.push(c))),s.allPendingTasks--,s.allPendingTasks===0){var d=s.onAllReady;d()}}}finally{}}}i.splice(0,o),n.destination!==null&&f0(n,n.destination)}catch(f){zh(n,f),Cv(n,f)}finally{sg=r,fC.current=e,e===BO&&vv(t)}}}function of(n,t,e){switch(e.parentFlushed=!0,e.status){case 0:var r=e.id=n.nextSegmentId++;return e.lastPushedText=!1,e.textEmbedded=!1,n=n.responseState,me(t,G8),me(t,n.placeholderPrefix),n=Je(r.toString(16)),me(t,n),zt(t,B8);case 1:e.status=2;var i=!0;r=e.chunks;var o=0;e=e.children;for(var a=0;a<e.length;a++){for(i=e[a];o<i.index;o++)me(t,r[o]);i=wm(n,t,i)}for(;o<r.length-1;o++)me(t,r[o]);return o<r.length&&(i=zt(t,r[o])),i;default:throw Error(Qe(390))}}function wm(n,t,e){var r=e.boundary;if(r===null)return of(n,t,e);if(r.parentFlushed=!0,r.forceClientRender)r=r.errorDigest,zt(t,j8),me(t,z8),r&&(me(t,K8),me(t,Je(Nr(r))),me(t,$8)),zt(t,Y8),of(n,t,e);else if(0<r.pendingTasks){r.rootSegmentID=n.nextSegmentId++,0<r.completedSegments.length&&n.partialBoundaries.push(r);var i=n.responseState,o=i.nextSuspenseID++;i=de(i.boundaryPrefix+o.toString(16)),r=r.id=i,DO(t,n.responseState,r),of(n,t,e)}else if(r.byteSize>n.progressiveChunkSize)r.rootSegmentID=n.nextSegmentId++,n.completedBoundaries.push(r),DO(t,n.responseState,r.id),of(n,t,e);else{if(zt(t,V8),e=r.completedSegments,e.length!==1)throw Error(Qe(391));wm(n,t,e[0])}return zt(t,U8)}function UO(n,t,e){return v5(t,n.responseState,e.formatContext,e.id),wm(n,t,e),m5(t,e.formatContext)}function zO(n,t,e){for(var r=e.completedSegments,i=0;i<r.length;i++)EI(n,t,e,r[i]);if(r.length=0,n=n.responseState,r=e.id,e=e.rootSegmentID,me(t,n.startInlineScript),n.sentCompleteBoundaryFunction?me(t,S5):(n.sentCompleteBoundaryFunction=!0,me(t,_5)),r===null)throw Error(Qe(395));return e=Je(e.toString(16)),me(t,r),me(t,x5),me(t,n.segmentPrefix),me(t,e),zt(t,T5)}function EI(n,t,e,r){if(r.status===2)return!0;var i=r.id;if(i===-1){if((r.id=e.rootSegmentID)===-1)throw Error(Qe(392));return UO(n,t,r)}return UO(n,t,r),n=n.responseState,me(t,n.startInlineScript),n.sentCompleteSegmentFunction?me(t,C5):(n.sentCompleteSegmentFunction=!0,me(t,y5)),me(t,n.segmentPrefix),i=Je(i.toString(16)),me(t,i),me(t,b5),me(t,n.placeholderPrefix),me(t,i),zt(t,w5)}function f0(n,t){Xn=new Uint8Array(512),qn=0;try{var e=n.completedRootSegment;if(e!==null&&n.pendingRootTasks===0){wm(n,t,e),n.completedRootSegment=null;var r=n.responseState.bootstrapChunks;for(e=0;e<r.length-1;e++)me(t,r[e]);e<r.length&&zt(t,r[e])}var i=n.clientRenderedBoundaries,o;for(o=0;o<i.length;o++){var a=i[o];r=t;var s=n.responseState,l=a.id,u=a.errorDigest,c=a.errorMessage,p=a.errorComponentStack;if(me(r,s.startInlineScript),s.sentClientRenderFunction?me(r,E5):(s.sentClientRenderFunction=!0,me(r,O5)),l===null)throw Error(Qe(395));me(r,l),me(r,R5),(u||c||p)&&(me(r,hC),me(r,Je(dC(u||"")))),(c||p)&&(me(r,hC),me(r,Je(dC(c||"")))),p&&(me(r,hC),me(r,Je(dC(p)))),zt(r,P5)}i.splice(0,o);var h=n.completedBoundaries;for(o=0;o<h.length;o++)zO(n,t,h[o]);h.splice(0,o),wO(t),Xn=new Uint8Array(512),qn=0;var d=n.partialBoundaries;for(o=0;o<d.length;o++){var f=d[o];e:{i=n,a=t;var g=f.completedSegments;for(s=0;s<g.length;s++)if(!EI(i,a,f,g[s])){s++,g.splice(0,s);var v=!1;break e}g.splice(0,s),v=!0}if(!v){n.destination=null,o++,d.splice(0,o);return}}d.splice(0,o);var m=n.completedBoundaries;for(o=0;o<m.length;o++)zO(n,t,m[o]);m.splice(0,o)}finally{wO(t),n.allPendingTasks===0&&n.pingedTasks.length===0&&n.clientRenderedBoundaries.length===0&&n.completedBoundaries.length===0&&t.close()}}function $O(n,t){try{var e=n.abortableTasks;e.forEach(function(r){return xI(r,n,t)}),e.clear(),n.destination!==null&&f0(n,n.destination)}catch(r){zh(n,r),Cv(n,r)}}o0.renderToReadableStream=function(n,t){return new Promise(function(e,r){var i,o,a=new Promise(function(c,p){o=c,i=p}),s=z5(n,E8(t?t.identifierPrefix:void 0,t?t.nonce:void 0,t?t.bootstrapScriptContent:void 0,t?t.bootstrapScripts:void 0,t?t.bootstrapModules:void 0),R8(t?t.namespaceURI:void 0),t?t.progressiveChunkSize:void 0,t?t.onError:void 0,o,function(){var c=new ReadableStream({type:"bytes",pull:function(p){if(s.status===1)s.status=2,oI(p,s.fatalError);else if(s.status!==2&&s.destination===null){s.destination=p;try{f0(s,p)}catch(h){zh(s,h),Cv(s,h)}}},cancel:function(){$O(s)}},{highWaterMark:0});c.allReady=a,e(c)},function(c){a.catch(function(){}),r(c)},i);if(t&&t.signal){var l=t.signal,u=function(){$O(s,l.reason),l.removeEventListener("abort",u)};l.addEventListener("abort",u)}OI(s)})};o0.version="18.2.0";var ep,RI;ep=Jc,RI=o0;$s.version=ep.version;$s.renderToString=ep.renderToString;$s.renderToStaticMarkup=ep.renderToStaticMarkup;$s.renderToNodeStream=ep.renderToNodeStream;$s.renderToStaticNodeStream=ep.renderToStaticNodeStream;$s.renderToReadableStream=RI.renderToReadableStream;var _m={};Object.defineProperty(_m,"__esModule",{value:!0});let K5=0;function Y5(){return`agPortalKey_${++K5}`}_m.default=Y5;var X5=fe&&fe.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(qS,"__esModule",{value:!0});const KO=Te.exports,q5=b_.exports,Z5=yr,Q5=gm,J5=$s,e$=X5(_m);class Sm extends Q5.ReactComponent{constructor(t,e,r,i){super(t,r,i),this.staticMarkup=null,this.staticRenderTime=0,this.parentComponent=e}init(t){return this.eParentElement=this.createParentElement(t),this.renderStaticMarkup(t),new Z5.AgPromise(e=>this.createReactComponent(t,e))}createReactComponent(t,e){this.isStatelessComponent()||(t.ref=o=>{this.componentInstance=o,this.addParentContainerStyleAndClasses(),this.removeStaticMarkup()});const r=KO.createElement(this.reactComponent,t),i=q5.createPortal(r,this.eParentElement,e$.default());this.portal=i,this.portalManager.mountReactPortal(i,this,o=>{e(o),this.isStatelessComponent()&&(this.isSlowRenderer()&&this.removeStaticMarkup(),setTimeout(()=>{this.removeStaticMarkup()}))})}fallbackMethodAvailable(t){return!1}fallbackMethod(t,e){}isSlowRenderer(){return this.staticRenderTime>=Sm.SLOW_RENDERING_THRESHOLD}isNullValue(){return this.staticMarkup===""}renderStaticMarkup(t){if(this.parentComponent.isDisableStaticMarkup()||!this.componentType.cellRenderer)return;const e=console.error,r=KO.createElement(this.reactComponent,t);try{console.error=()=>{};const i=Date.now(),o=J5.renderToStaticMarkup(r);this.staticRenderTime=Date.now()-i,console.error=e,o===""?this.staticMarkup=o:o&&(this.staticMarkup=document.createElement("span"),this.staticMarkup.innerHTML=o,this.eParentElement.appendChild(this.staticMarkup))}catch{}finally{console.error=e}}removeStaticMarkup(){this.parentComponent.isDisableStaticMarkup()||!this.componentType.cellRenderer||this.staticMarkup&&(this.staticMarkup.remove?(this.staticMarkup.remove(),this.staticMarkup=null):this.eParentElement.removeChild&&(this.eParentElement.removeChild(this.staticMarkup),this.staticMarkup=null))}rendered(){return this.isNullValue()||!!this.staticMarkup||this.isStatelessComponent()&&this.statelessComponentRendered()||!!(!this.isStatelessComponent()&&this.getFrameworkComponentInstance())}}qS.LegacyReactComponent=Sm;Sm.SLOW_RENDERING_THRESHOLD=3;var wd={},t$=fe&&fe.__rest||function(n,t){var e={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&t.indexOf(r)<0&&(e[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(e[r[i]]=n[r[i]]);return e},PI=fe&&fe.__importStar||function(n){if(n&&n.__esModule)return n;var t={};if(n!=null)for(var e in n)Object.hasOwnProperty.call(n,e)&&(t[e]=n[e]);return t.default=n,t},r$=fe&&fe.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(wd,"__esModule",{value:!0});const gC=PI(Te.exports),tp=r$(Jv.exports),rp=PI(yr);class _c extends gC.Component{constructor(t){super(t),this.props=t}render(){return null}static mapChildColumnDefs(t){return gC.default.Children.map(t,e=>e?_c.toColDef(e.props):null)}static toColDef(t){const{children:e}=t,r=t$(t,["children"]);return _c.hasChildColumns(e)&&(r.children=_c.mapChildColumnDefs(e)),r}static hasChildColumns(t){return gC.default.Children.count(t)>0}}wd.AgGridColumn=_c;np(rp.ColDefUtil.BOOLEAN_PROPERTIES,tp.default.bool);np(rp.ColDefUtil.STRING_PROPERTIES,tp.default.string);np(rp.ColDefUtil.OBJECT_PROPERTIES,tp.default.object);np(rp.ColDefUtil.ARRAY_PROPERTIES,tp.default.array);np(rp.ColDefUtil.NUMBER_PROPERTIES,tp.default.number);np(rp.ColDefUtil.FUNCTION_PROPERTIES,tp.default.func);function np(n,t){n.forEach(e=>{_c[e]=t})}var xm={};(function(n){Object.defineProperty(n,"__esModule",{value:!0});var t;(function(o){o.IdentityCheck="IdentityCheck",o.DeepValueCheck="DeepValueCheck",o.NoCheck="NoCheck"})(t=n.ChangeDetectionStrategyType||(n.ChangeDetectionStrategyType={}));class e{constructor(a){this.strategy=a}areEqual(a,s){return this.strategy(a,s)}}class r{areEqual(a,s){return r.areEquivalent(r.copy(a),r.copy(s))}static unwrapStringOrNumber(a){return a instanceof Number||a instanceof String?a.valueOf():a}static copy(a){if(!a)return a;if(Array.isArray(a)){const s=[];for(let l=0;l<a.length;l++)s.push(this.copy(a[l]));return s}return typeof a!="object"?a:[{},a].reduce((s,l)=>(Object.keys(l).forEach(function(u){s[u]=l[u]}),s),{})}static isNaN(a){return Number.isNaN?Number.isNaN(a):typeof a=="number"&&isNaN(a)}static areEquivalent(a,s){if(a=r.unwrapStringOrNumber(a),s=r.unwrapStringOrNumber(s),a===s)return!0;if(a===null||s===null||typeof a!=typeof s)return!1;if(r.isNaN(a)&&r.isNaN(s))return!0;if(a instanceof Date)return s instanceof Date&&a.valueOf()===s.valueOf();if(typeof a=="function")return!1;if(typeof a!="object"||a.$$typeof&&a.$$typeof.toString()==="Symbol(react.element)")return a==s;if(Object.isFrozen(a)||Object.isFrozen(s))return a===s;const l=a.areEquivPropertyTracking===void 0,u=s.areEquivPropertyTracking===void 0;try{let c;if(l)a.areEquivPropertyTracking=[];else if(a.areEquivPropertyTracking.some(function(h){return h===s}))return!0;if(u)s.areEquivPropertyTracking=[];else if(s.areEquivPropertyTracking.some(h=>h===a))return!0;a.areEquivPropertyTracking.push(s),s.areEquivPropertyTracking.push(a);const p={};for(c in a)c!="areEquivPropertyTracking"&&(p[c]=null);for(c in s)c!="areEquivPropertyTracking"&&(p[c]=null);for(c in p)if(!this.areEquivalent(a[c],s[c]))return!1;return!0}finally{l&&delete a.areEquivPropertyTracking,u&&delete s.areEquivPropertyTracking}}}class i{constructor(){this.strategyMap={[t.DeepValueCheck]:new r,[t.IdentityCheck]:new e((a,s)=>a===s),[t.NoCheck]:new e((a,s)=>!1)}}getStrategy(a){return this.strategyMap[a]}}n.ChangeDetectionService=i})(xm);var Tm={},n$=fe&&fe.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Tm,"__esModule",{value:!0});const YO=Te.exports,i$=b_.exports,o$=yr,a$=gm,s$=$s,XO=n$(_m);class l$ extends a$.ReactComponent{constructor(t,e,r){super(t,e,r),this.oldPortal=null,this.key=XO.default(),this.portalKey=XO.default()}init(t){return this.eParentElement=this.createParentElement(t),this.params=t,this.createOrUpdatePortal(t),new o$.AgPromise(e=>this.createReactComponent(e))}createOrUpdatePortal(t){this.isStatelessComponent()||(t.ref=e=>{this.componentInstance=e,this.addParentContainerStyleAndClasses()}),this.reactElement=YO.createElement(this.reactComponent,Object.assign(Object.assign({},t),{key:this.key})),this.portal=i$.createPortal(this.reactElement,this.eParentElement,this.portalKey)}createReactComponent(t){this.portalManager.mountReactPortal(this.portal,this,e=>{t(e)})}isNullValue(){return this.valueRenderedIsNull(this.params)}rendered(){return this.isStatelessComponent()&&this.statelessComponentRendered()||!!(!this.isStatelessComponent()&&this.getFrameworkComponentInstance())}valueRenderedIsNull(t){if(!this.componentType.cellRenderer)return!1;const e=console.error;try{return console.error=()=>{},s$.renderToStaticMarkup(YO.createElement(this.reactComponent,t))===""}catch{}finally{console.error=e}return!1}refreshComponent(t){this.oldPortal=this.portal,this.createOrUpdatePortal(t),this.portalManager.updateReactPortal(this.oldPortal,this.portal)}fallbackMethod(t,e){const r=this[`${t}Component`];if(r)return r.bind(this)(e)}fallbackMethodAvailable(t){return!!this[`${t}Component`]}}Tm.NewReactComponent=l$;var Om={};Object.defineProperty(Om,"__esModule",{value:!0});class Em{constructor(t,e,r){this.destroyed=!1,this.portals=[],this.hasPendingPortalUpdate=!1,this.wrappingElement=e||"div",this.parent=t,this.maxComponentCreationTimeMs=r||Em.MAX_COMPONENT_CREATION_TIME_IN_MS}getPortals(){return this.portals}destroy(){this.destroyed=!0}destroyPortal(t){this.portals=this.portals.filter(e=>e!==t),this.batchUpdate()}getComponentWrappingElement(){return this.wrappingElement}mountReactPortal(t,e,r){this.portals=[...this.portals,t],this.waitForInstance(e,r),this.batchUpdate()}updateReactPortal(t,e){this.portals[this.portals.indexOf(t)]=e,this.batchUpdate()}batchUpdate(){this.hasPendingPortalUpdate||(setTimeout(()=>{this.destroyed||this.parent.forceUpdate(()=>{this.hasPendingPortalUpdate=!1})}),this.hasPendingPortalUpdate=!0)}waitForInstance(t,e,r=Date.now()){if(this.destroyed){e(null);return}if(t.rendered())e(t);else{if(Date.now()-r>=this.maxComponentCreationTimeMs&&!this.hasPendingPortalUpdate){if(t.isNullValue()){e(t);return}console.error(`AG Grid: React Component '${t.getReactComponentName()}' not created within ${this.maxComponentCreationTimeMs}ms`);return}window.setTimeout(()=>{this.waitForInstance(t,e,r)})}}}Om.PortalManager=Em;Em.MAX_COMPONENT_CREATION_TIME_IN_MS=1e3;var Rm={},g0={},Or={},u$=fe&&fe.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Or,"__esModule",{value:!0});const c$=u$(Te.exports);Or.BeansContext=c$.default.createContext({});var Wa={};Object.defineProperty(Wa,"__esModule",{value:!0});Wa.showJsComp=(n,t,e,r)=>{if(!n||n.componentFromFramework)return;const o=n.newAgStackInstance();if(!o)return;let a,s,l=!1;return o.then(u=>{if(l){t.destroyBean(u);return}a=u,s=a.getGui(),e.appendChild(s),qO(r,a)}),()=>{l=!0,a&&(s&&s.parentElement&&s.parentElement.removeChild(s),t.destroyBean(a),r&&qO(r,void 0))}};const qO=(n,t)=>{if(!!n)if(n instanceof Function)n(t);else{const e=n;e.current=t}};Wa.createSyncJsComp=n=>{const t=n.newAgStackInstance();if(!!t)return t.resolveNow(null,e=>e)};var Cr={};Object.defineProperty(Cr,"__esModule",{value:!0});const Np=Te.exports;Cr.useEffectOnce=n=>{const t=Np.useRef(),e=Np.useRef(!1),r=Np.useRef(!1),[i,o]=Np.useState(0);e.current&&(r.current=!0),Np.useEffect(()=>(e.current||(t.current=n(),e.current=!0),o(a=>a+1),()=>{!r.current||t.current&&t.current()}),[])};var en={};Object.defineProperty(en,"__esModule",{value:!0});en.classesList=(...n)=>n.filter(e=>e!=null&&e!=="").join(" ");class v0{constructor(...t){this.classesMap={},t.forEach(e=>{this.classesMap[e]=!0})}setClass(t,e){if(!!this.classesMap[t]==e)return this;const i=new v0;return i.classesMap=Object.assign({},this.classesMap),i.classesMap[t]=e,i}toString(){return Object.keys(this.classesMap).filter(e=>this.classesMap[e]).join(" ")}}en.CssClasses=v0;en.isComponentStateless=n=>{const t=()=>typeof Symbol=="function"&&Symbol.for,e=()=>t()?Symbol.for("react.memo"):60115;return typeof n=="function"&&!(n.prototype&&n.prototype.isReactComponent)||typeof n=="object"&&n.$$typeof===e()};var p$=fe&&fe.__importStar||function(n){if(n&&n.__esModule)return n;var t={};if(n!=null)for(var e in n)Object.hasOwnProperty.call(n,e)&&(t[e]=n[e]);return t.default=n,t};Object.defineProperty(g0,"__esModule",{value:!0});const h$=yr,yt=p$(Te.exports),d$=Or,f$=Wa,g$=Cr,af=en,AI=yt.forwardRef((n,t)=>{const e=yt.useContext(d$.BeansContext).context,r=yt.useRef(null),i=yt.useRef(null),o=yt.useRef(null),a=yt.useRef(null),s=yt.useRef(null),[l,u]=yt.useState(),[c,p]=yt.useState(),[h,d]=yt.useState(),[f,g]=yt.useState(new af.CssClasses),[v,m]=yt.useState(new af.CssClasses("ag-hidden")),[C,b]=yt.useState(new af.CssClasses("ag-hidden")),[w,S]=yt.useState(new af.CssClasses("ag-invisible"));yt.useImperativeHandle(t,()=>({refresh(){return!1}})),yt.useEffect(()=>f$.showJsComp(l,e,i.current),[l]),g$.useEffectOnce(()=>{const k={setInnerRenderer:(V,z)=>{u(V),d(z)},setChildCount:V=>p(V),addOrRemoveCssClass:(V,z)=>g(ee=>ee.setClass(V,z)),setContractedDisplayed:V=>b(z=>z.setClass("ag-hidden",!V)),setExpandedDisplayed:V=>m(z=>z.setClass("ag-hidden",!V)),setCheckboxVisible:V=>S(z=>z.setClass("ag-invisible",!V))},G=e.createBean(new h$.GroupCellRendererCtrl);return G.init(k,r.current,o.current,a.current,s.current,AI,n),()=>{e.destroyBean(G)}});const T=yt.useMemo(()=>`ag-cell-wrapper ${f.toString()}`,[f]),E=yt.useMemo(()=>`ag-group-expanded ${v.toString()}`,[v]),P=yt.useMemo(()=>`ag-group-contracted ${C.toString()}`,[C]),R=yt.useMemo(()=>`ag-group-checkbox ${w.toString()}`,[w]),M=l&&l.componentFromFramework,N=M?l.componentClass:void 0,B=l==null&&h!=null;return yt.default.createElement("span",Object.assign({className:T,ref:r},n.colDef?{}:{role:"gridcell"}),yt.default.createElement("span",{className:E,ref:a}),yt.default.createElement("span",{className:P,ref:s}),yt.default.createElement("span",{className:R,ref:o}),yt.default.createElement("span",{className:"ag-group-value",ref:i},B&&yt.default.createElement(yt.default.Fragment,null,h),M&&yt.default.createElement(N,Object.assign({},l.params))),yt.default.createElement("span",{className:"ag-group-child-count"},c))});g0.default=AI;var m0={},_d={},y0={},C0={},b0={},w0={},_0={},S0={},v$=fe&&fe.__importStar||function(n){if(n&&n.__esModule)return n;var t={};if(n!=null)for(var e in n)Object.hasOwnProperty.call(n,e)&&(t[e]=n[e]);return t.default=n,t};Object.defineProperty(S0,"__esModule",{value:!0});const ir=v$(Te.exports),m$=Or,y$=yr,C$=en,b$=Wa,w$=Cr,_$=n=>{const{context:t}=ir.useContext(m$.BeansContext),[e,r]=ir.useState(),[i,o]=ir.useState(),[a,s]=ir.useState(),[l,u]=ir.useState(),[c,p]=ir.useState(),[h,d]=ir.useState(),f=ir.useRef(null),g=ir.useRef(null),v=ir.useRef(),{ctrl:m}=n,C=ir.useMemo(()=>new y$.CssClassManager(()=>f.current),[]);w$.useEffectOnce(()=>{const E={setWidth:R=>r(R),addOrRemoveCssClass:(R,M)=>C.addOrRemoveCssClass(R,M),setColId:R=>s(R),setTitle:R=>o(R),setAriaDescription:R=>p(R),setAriaSort:R=>u(R),setUserCompDetails:R=>d(R),getUserCompInstance:()=>v.current||void 0};m.setComp(E,f.current,g.current);const P=m.getSelectAllGui();g.current.insertAdjacentElement("afterend",P)}),ir.useEffect(()=>b$.showJsComp(h,t,f.current,v),[h]),ir.useEffect(()=>{let E;f.current.childNodes.forEach(P=>{P!=null&&P!==g.current&&(E=P)}),m.setDragSource(E)},[h]);const b=ir.useMemo(()=>({width:e}),[e]),w=ir.useMemo(()=>{var E;return!!(((E=h)===null||E===void 0?void 0:E.componentFromFramework)&&C$.isComponentStateless(h.componentClass))},[h]),S=h&&h.componentFromFramework,T=h&&h.componentClass;return ir.default.createElement("div",{ref:f,className:"ag-header-cell",style:b,title:i,"col-id":a,"aria-sort":l,role:"columnheader",tabIndex:-1,"aria-description":c},ir.default.createElement("div",{ref:g,className:"ag-header-cell-resize",role:"presentation"}),S&&w&&ir.default.createElement(T,Object.assign({},h.params)),S&&!w&&ir.default.createElement(T,Object.assign({},h.params,{ref:v})))};S0.default=ir.memo(_$);var x0={},S$=fe&&fe.__importStar||function(n){if(n&&n.__esModule)return n;var t={};if(n!=null)for(var e in n)Object.hasOwnProperty.call(n,e)&&(t[e]=n[e]);return t.default=n,t};Object.defineProperty(x0,"__esModule",{value:!0});const hr=S$(Te.exports),x$=Or,T$=Wa,O$=Cr,ZO=en,E$=n=>{const{context:t}=hr.useContext(x$.BeansContext),[e,r]=hr.useState(new ZO.CssClasses),[i,o]=hr.useState(new ZO.CssClasses),[a,s]=hr.useState(),[l,u]=hr.useState(),[c,p]=hr.useState(),[h,d]=hr.useState(),[f,g]=hr.useState(),v=hr.useRef(null),m=hr.useRef(null),{ctrl:C}=n;O$.useEffectOnce(()=>{const P={setWidth:R=>s(R),addOrRemoveCssClass:(R,M)=>r(N=>N.setClass(R,M)),setColId:R=>p(R),setTitle:R=>u(R),setUserCompDetails:R=>g(R),addOrRemoveResizableCssClass:(R,M)=>o(N=>N.setClass(R,M)),setAriaExpanded:R=>d(R)};C.setComp(P,v.current,m.current)}),hr.useEffect(()=>T$.showJsComp(f,t,v.current),[f]),hr.useEffect(()=>{let P;v.current.childNodes.forEach(R=>{R!=null&&R!==m.current&&(P=R)}),P&&C.setDragSource(P)},[f]);const b=hr.useMemo(()=>({width:a}),[a]),w=hr.useMemo(()=>"ag-header-group-cell "+e.toString(),[e]),S=hr.useMemo(()=>"ag-header-cell-resize "+i.toString(),[i]),T=f&&f.componentFromFramework,E=f&&f.componentClass;return hr.default.createElement("div",{ref:v,className:w,style:b,title:l,"col-id":c,role:"columnheader",tabIndex:-1,"aria-expanded":h},T&&hr.default.createElement(E,Object.assign({},f.params)),hr.default.createElement("div",{ref:m,className:S}))};x0.default=hr.memo(E$);var T0={},R$=fe&&fe.__importStar||function(n){if(n&&n.__esModule)return n;var t={};if(n!=null)for(var e in n)Object.hasOwnProperty.call(n,e)&&(t[e]=n[e]);return t.default=n,t};Object.defineProperty(T0,"__esModule",{value:!0});const kt=R$(Te.exports),P$=Or,A$=yr,sf=en,D$=Wa,QO=Cr,M$=n=>{const{context:t}=kt.useContext(P$.BeansContext),[e,r]=kt.useState(new sf.CssClasses),[i,o]=kt.useState(new sf.CssClasses),[a,s]=kt.useState(new sf.CssClasses),[l,u]=kt.useState(),[c,p]=kt.useState(),h=kt.useRef(null),d=kt.useRef(null),f=kt.useRef(null),g=kt.useRef(null),v=kt.useRef(!1),m=kt.useRef(),C=kt.useRef();QO.useEffectOnce(()=>{C.current=new A$.AgPromise(B=>{m.current=B})});const b=B=>{v.current||B!=null&&(m.current&&m.current(B),v.current=!0)},{ctrl:w}=n;QO.useEffectOnce(()=>{const B={addOrRemoveCssClass:(k,G)=>r(V=>V.setClass(k,G)),addOrRemoveBodyCssClass:(k,G)=>o(V=>V.setClass(k,G)),addOrRemoveButtonWrapperCssClass:(k,G)=>s(V=>V.setClass(k,G)),setWidth:k=>u(k),setCompDetails:k=>p(k),getFloatingFilterComp:()=>C.current?C.current:null,setMenuIcon:k=>g.current.appendChild(k)};w.setComp(B,h.current,g.current,d.current)}),kt.useEffect(()=>D$.showJsComp(c,t,d.current,b),[c]);const S=kt.useMemo(()=>({width:l}),[l]),T=kt.useMemo(()=>"ag-header-cell ag-floating-filter "+e.toString(),[e]),E=kt.useMemo(()=>i.toString(),[i]),P=kt.useMemo(()=>"ag-floating-filter-button "+a.toString(),[i]),R=kt.useMemo(()=>!!(c&&c.componentFromFramework&&sf.isComponentStateless(c.componentClass)),[c]),M=c&&c.componentFromFramework,N=c&&c.componentClass;return kt.default.createElement("div",{ref:h,className:T,style:S,role:"gridcell",tabIndex:-1},kt.default.createElement("div",{ref:d,className:E,role:"presentation"},M&&R&&kt.default.createElement(N,Object.assign({},c.params)),M&&!R&&kt.default.createElement(N,Object.assign({},c.params,{ref:b}))),kt.default.createElement("div",{ref:f,className:P,role:"presentation"},kt.default.createElement("button",{ref:g,type:"button","aria-label":"Open Filter Menu",className:"ag-floating-filter-button-button",tabIndex:-1})))};T0.default=kt.memo(M$);var F$=fe&&fe.__importStar||function(n){if(n&&n.__esModule)return n;var t={};if(n!=null)for(var e in n)Object.hasOwnProperty.call(n,e)&&(t[e]=n[e]);return t.default=n,t},O0=fe&&fe.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(_0,"__esModule",{value:!0});const il=yr,Mr=F$(Te.exports),I$=Or,L$=O0(S0),N$=O0(x0),k$=O0(T0),G$=Cr,B$=n=>{const{gridOptionsWrapper:t}=Mr.useContext(I$.BeansContext),[e,r]=Mr.useState(),[i,o]=Mr.useState(),[a,s]=Mr.useState(),[l,u]=Mr.useState(),[c,p]=Mr.useState(),[h,d]=Mr.useState([]),f=Mr.useRef(null),{ctrl:g}=n,v=g.getType()===il.HeaderRowType.COLUMN,m=g.getType()===il.HeaderRowType.COLUMN_GROUP,C=g.getType()===il.HeaderRowType.FLOATING_FILTER,b=Mr.useCallback((E,P)=>{if(t.isEnsureDomOrder())return P;const R=il._.mapById(E,k=>k.getInstanceId()),M=il._.mapById(P,k=>k.getInstanceId()),N=E.filter(k=>M.has(k.getInstanceId())),B=P.filter(k=>!R.has(k.getInstanceId()));return[...N,...B]},[]);G$.useEffectOnce(()=>{const E={setTransform:P=>r(P),setHeight:P=>o(P),setTop:P=>s(P),setHeaderCtrls:P=>d(R=>b(R,P)),setWidth:P=>u(P),setAriaRowIndex:P=>p(P)};g.setComp(E)});const w=Mr.useMemo(()=>({transform:e,height:i,top:a,width:l}),[e,i,a,l]),S=Mr.useMemo(()=>{const E=["ag-header-row"];return v&&E.push("ag-header-row-column"),m&&E.push("ag-header-row-column-group"),C&&E.push("ag-header-row-column-filter"),E.join(" ")},[]),T=Mr.useCallback(E=>{switch(g.getType()){case il.HeaderRowType.COLUMN_GROUP:return Mr.default.createElement(N$.default,{ctrl:E,key:E.getInstanceId()});case il.HeaderRowType.FLOATING_FILTER:return Mr.default.createElement(k$.default,{ctrl:E,key:E.getInstanceId()});default:return Mr.default.createElement(L$.default,{ctrl:E,key:E.getInstanceId()})}},[]);return Mr.default.createElement("div",{ref:f,className:S,role:"row",style:w,"aria-rowindex":c},h.map(T))};_0.default=Mr.memo(B$);var V$=fe&&fe.__importStar||function(n){if(n&&n.__esModule)return n;var t={};if(n!=null)for(var e in n)Object.hasOwnProperty.call(n,e)&&(t[e]=n[e]);return t.default=n,t},W$=fe&&fe.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(w0,"__esModule",{value:!0});const br=V$(Te.exports),H$=Or,vC=yr,j$=en,U$=W$(_0),z$=Cr,$$=n=>{const[t,e]=br.useState(new j$.CssClasses),[r,i]=br.useState(),[o,a]=br.useState(),[s,l]=br.useState(),[u,c]=br.useState([]),{context:p}=br.useContext(H$.BeansContext),h=br.useRef(null),d=n.pinned===vC.Constants.PINNED_LEFT,f=n.pinned===vC.Constants.PINNED_RIGHT,g=!d&&!f;z$.useEffectOnce(()=>{const w={addOrRemoveCssClass:(T,E)=>e(P=>P.setClass(T,E)),setCtrls:T=>c(T),setCenterWidth:T=>i(T),setContainerTransform:T=>a(T),setPinnedContainerWidth:T=>l(T)},S=p.createBean(new vC.HeaderRowContainerCtrl(n.pinned));return S.setComp(w,h.current),()=>{p.destroyBean(S)}});const v=br.useMemo(()=>t.toString(),[t]),m=()=>u.map(w=>br.default.createElement(U$.default,{ctrl:w,key:w.getInstanceId()})),C=br.useMemo(()=>({width:r,transform:o}),[r,o]),b=br.useMemo(()=>({width:s,minWidth:s,maxWidth:s}),[s]);return br.default.createElement(br.default.Fragment,null,d&&br.default.createElement("div",{ref:h,className:"ag-pinned-left-header "+v,role:"presentation",style:b},m()),f&&br.default.createElement("div",{ref:h,className:"ag-pinned-right-header "+v,role:"presentation",style:b},m()),g&&br.default.createElement("div",{ref:h,className:"ag-header-viewport "+v,role:"presentation"},br.default.createElement("div",{className:"ag-header-container",role:"rowgroup",style:C},m())))};w0.default=br.memo($$);var K$=fe&&fe.__importStar||function(n){if(n&&n.__esModule)return n;var t={};if(n!=null)for(var e in n)Object.hasOwnProperty.call(n,e)&&(t[e]=n[e]);return t.default=n,t},Y$=fe&&fe.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(b0,"__esModule",{value:!0});const Vi=K$(Te.exports),X$=Or,mC=yr,q$=en,yC=Y$(w0),Z$=Cr,Q$=()=>{const[n,t]=Vi.useState(new q$.CssClasses),[e,r]=Vi.useState(),{context:i}=Vi.useContext(X$.BeansContext),o=Vi.useRef(null);Z$.useEffectOnce(()=>{const l={addOrRemoveCssClass:(c,p)=>t(h=>h.setClass(c,p)),setHeightAndMinHeight:c=>r(c)},u=i.createBean(new mC.GridHeaderCtrl);return u.setComp(l,o.current,o.current),()=>{i.destroyBean(u)}});const a=Vi.useMemo(()=>{let l=n.toString();return"ag-header "+l},[n]),s=Vi.useMemo(()=>({height:e,minHeight:e}),[e]);return Vi.default.createElement("div",{ref:o,className:a,style:s,role:"presentation"},Vi.default.createElement(yC.default,{pinned:mC.Constants.PINNED_LEFT}),Vi.default.createElement(yC.default,{pinned:null}),Vi.default.createElement(yC.default,{pinned:mC.Constants.PINNED_RIGHT}))};b0.default=Vi.memo(Q$);var Sd={};Object.defineProperty(Sd,"__esModule",{value:!0});const J$=Cr,e9=(n,t)=>{J$.useEffectOnce(()=>{const e=t.current,r=e.parentElement;if(!r)return;const i=document.createComment(n);return r.insertBefore(i,e),()=>{r.removeChild(i)}})};Sd.default=e9;var E0={},R0={},DI={},P0={},t9=fe&&fe.__importStar||function(n){if(n&&n.__esModule)return n;var t={};if(n!=null)for(var e in n)Object.hasOwnProperty.call(n,e)&&(t[e]=n[e]);return t.default=n,t};Object.defineProperty(P0,"__esModule",{value:!0});const r9=yr,ah=t9(Te.exports),n9=b_.exports,i9=Or,o9=Cr,a9=n=>{const[t,e]=ah.useState(),{context:r,popupService:i,gridOptionsWrapper:o}=ah.useContext(i9.BeansContext);return o9.useEffectOnce(()=>{const{editDetails:a,cellCtrl:s,eParentCell:l}=n,{compDetails:u}=a,c=o.isStopEditingWhenCellsLoseFocus(),p=r.createBean(new r9.PopupEditorWrapper(u.params)),h=p.getGui();if(n.jsChildComp){const C=n.jsChildComp.getGui();C&&h.appendChild(C)}const d={column:s.getColumn(),rowNode:s.getRowNode(),type:"popupCellEditor",eventSource:l,ePopup:h,keepWithinBounds:!0},f=a.popupPosition==="under"?i.positionPopupUnderComponent.bind(i,d):i.positionPopupOverComponent.bind(i,d),g=o.getLocaleTextFunc(),v=i.addPopup({modal:c,eChild:h,closeOnEsc:!0,closedCallback:()=>{s.onPopupEditorClosed()},anchorToElement:l,positionCallback:f,ariaLabel:g("ariaLabelCellEditor","Cell Editor")}),m=v?v.hideFunc:void 0;return e(p),n.jsChildComp&&n.jsChildComp.afterGuiAttached&&n.jsChildComp.afterGuiAttached(),()=>{m!=null&&m(),r.destroyBean(p)}}),ah.default.createElement(ah.default.Fragment,null,t&&n.wrappedContent&&n9.createPortal(n.wrappedContent,t.getGui()))};P0.default=ah.memo(a9);var A0={};Object.defineProperty(A0,"__esModule",{value:!0});const CC=Te.exports,s9=Or,l9=Cr,u9=(n,t,e,r,i,o)=>{const{context:a,userComponentFactory:s}=CC.useContext(s9.BeansContext),l=CC.useCallback(()=>{const u=i.current;if(!u)return;const c=u.getGui();c&&c.parentElement&&c.parentElement.removeChild(c),a.destroyBean(u),i.current=void 0},[]);CC.useEffect(()=>{const u=n!=null,c=n&&n.compDetails&&!n.compDetails.componentFromFramework,p=t&&e==null;if(!(u&&c&&!p)){l();return}const d=n.compDetails;if(i.current){const C=i.current,w=C.refresh!=null&&n.force==!1?C.refresh(d.params):!1;if(w===!0||w===void 0)return;l()}const f=d.newAgStackInstance();if(!f)return;const g=f.resolveNow(null,C=>C);if(!g)return;const v=g.getGui();if(!v)return;(t?e:o.current).appendChild(v),i.current=g},[n,t,r]),l9.useEffectOnce(()=>l)};A0.default=u9;(function(n){var t=fe&&fe.__importStar||function(g){if(g&&g.__esModule)return g;var v={};if(g!=null)for(var m in g)Object.hasOwnProperty.call(g,m)&&(v[m]=g[m]);return v.default=g,v},e=fe&&fe.__importDefault||function(g){return g&&g.__esModule?g:{default:g}};Object.defineProperty(n,"__esModule",{value:!0});const r=yr,i=t(Te.exports),o=en,a=e(P0),s=e(A0),l=Or,u=Wa,c=Cr;(function(g){g[g.ShowValue=0]="ShowValue",g[g.EditValue=1]="EditValue"})(n.CellCompState||(n.CellCompState={}));const p=(g,v,m)=>{const C=m.getColumn();if(!g&&v.isPopup&&v.isPopup()){const b=`AG Grid: Found an issue in column ${C.getColId()}. If using React, specify an editor is a popup using colDef.cellEditorPopup=true. AG Grid React cannot depend on the editor component specifying if it's in a popup (via the isPopup() method on the editor), as React needs to know this information BEFORE the component is created.`;r._.doOnce(()=>console.warn(b),"jsEditorComp-isPopup-"+m.getColumn().getColId())}if(g&&v.getPopupPosition&&v.getPopupPosition()!=null){const b=`AG Grid: Found an issue in column ${C.getColId()}. If using React, specify an editor popup position using colDef.cellEditorPopupPosition=true. AG Grid React cannot depend on the editor component specifying it's position (via the getPopupPosition() method on the editor), as React needs to know this information BEFORE the component is created.`;r._.doOnce(()=>console.warn(b),"jsEditorComp-getPopupPosition-"+m.getColumn().getColId())}},h=(g,v,m,C,b,w)=>{const S=g.compDetails,T=S.componentClass,E=S.componentFromFramework&&!g.popup,P=S.componentFromFramework&&g.popup,R=!S.componentFromFramework&&g.popup;return i.default.createElement(i.default.Fragment,null,E&&i.default.createElement(T,Object.assign({},g.compDetails.params,{ref:v})),P&&i.default.createElement(a.default,{editDetails:g,cellCtrl:b,eParentCell:C,wrappedContent:i.default.createElement(T,Object.assign({},g.compDetails.params,{ref:m}))}),R&&w&&i.default.createElement(a.default,{editDetails:g,cellCtrl:b,eParentCell:C,jsChildComp:w}))},d=(g,v,m,C,b,w,S)=>{const{compDetails:T,value:E}=g,P=!T,R=T&&T.componentFromFramework,M=T&&T.componentClass,N=E&&E.toString?E.toString():E,B=()=>i.default.createElement(i.default.Fragment,null,P&&i.default.createElement(i.default.Fragment,null,N),R&&!w&&i.default.createElement(M,Object.assign({},T.params,{key:v,ref:C})),R&&w&&i.default.createElement(M,Object.assign({},T.params,{key:v})));return i.default.createElement(i.default.Fragment,null,b?i.default.createElement("span",{role:"presentation",id:`cell-${m}`,className:"ag-cell-value",ref:S},B()):B())},f=g=>{const{context:v}=i.useContext(l.BeansContext),{cellCtrl:m,printLayout:C,editingRow:b}=g,[w,S]=i.useState(),[T,E]=i.useState(),[P,R]=i.useState(1),[M,N]=i.useState(new o.CssClasses),[B,k]=i.useState(),[G,V]=i.useState(),[z,ee]=i.useState(),[Q,ue]=i.useState(),[X,se]=i.useState(),[$,q]=i.useState(),[ce,he]=i.useState(!1),[we,_e]=i.useState(!1),[Oe,De]=i.useState(!1),[Re,Ue]=i.useState(),gt=i.useMemo(()=>m.isForceWrapper(),[]),Pe=i.useRef(null),Ye=i.useRef(null),pt=i.useRef(),oe=i.useRef(),et=i.useRef(),[Ge,ie]=i.useState(0),Xe=i.useCallback(vt=>{et.current=vt,ie(Ht=>Ht+1)},[]),ht=i.useRef(),[St,oi]=i.useState(0),Ln=i.useCallback(vt=>{ht.current=vt,oi(Ht=>Ht+1)},[]),tn=w!=null&&(ce||Oe||we),Nn=gt||tn,ki=i.useCallback((vt,Ht)=>{oe.current=Ht,Ht&&(p(vt,Ht,m),Ht.isCancelBeforeStart&&Ht.isCancelBeforeStart()&&setTimeout(()=>m.stopEditing(),0))},[]),Ha=i.useCallback(vt=>ki(!0,vt),[]),ja=i.useCallback(vt=>ki(!1,vt),[]);s.default(w,Nn,ht.current,St,pt,Pe);const Qo=i.useRef();i.useEffect(()=>{const vt=Qo.current,Ht=w;if(Qo.current=w,vt==null||vt.compDetails==null||Ht==null||Ht.compDetails==null)return;const qe=vt.compDetails,Yt=Ht.compDetails;if(qe.componentClass!=Yt.componentClass||Ye.current==null||Ye.current.refresh==null)return;Ye.current.refresh(Yt.params)!=!0&&R(qs=>qs+1)},[w]),i.useEffect(()=>{if(!(T&&!T.compDetails.componentFromFramework))return;const Ht=T.compDetails,qe=T.popup===!0,Yt=u.createSyncJsComp(Ht);if(!Yt)return;const Wr=Yt.getGui();return ki(qe,Yt),qe||(Pe.current.appendChild(Wr),Yt.afterGuiAttached&&Yt.afterGuiAttached()),Ue(Yt),()=>{v.destroyBean(Yt),ki(qe,void 0),Ue(void 0),Wr&&Wr.parentElement&&Wr.parentElement.removeChild(Wr)}},[T]),i.useEffect(()=>{if(!m||!v||(ee(et.current?`cell-${m.getInstanceId()}`:void 0),!et.current||!Nn))return;const vt=[],Ht=qe=>{if(qe){const Yt=qe.getGui();et.current.insertAdjacentElement("afterbegin",Yt),vt.push(()=>{v.destroyBean(qe),r._.removeFromParent(Yt)})}return qe};return ce&&Ht(m.createSelectionCheckbox()),Oe&&Ht(m.createDndSource()),we&&Ht(m.createRowDragComp()),()=>{vt.forEach(qe=>{qe()})}},[Nn,Oe,we,ce,Ge]),c.useEffectOnce(()=>{if(!m)return;const vt={addOrRemoveCssClass:(qe,Yt)=>N(Wr=>Wr.setClass(qe,Yt)),setUserStyles:qe=>k(qe),getFocusableElement:()=>Pe.current,setTabIndex:qe=>V(qe),setRole:qe=>ue(qe),setColId:qe=>se(qe),setTitle:qe=>q(qe),setIncludeSelection:qe=>he(qe),setIncludeRowDrag:qe=>_e(qe),setIncludeDndSource:qe=>De(qe),getCellEditor:()=>oe.current||null,getCellRenderer:()=>Ye.current?Ye.current:pt.current,getParentOfValue:()=>ht.current?ht.current:et.current?et.current:Pe.current,setRenderDetails:(qe,Yt,Wr)=>{S({value:Yt,compDetails:qe,force:Wr})},setEditDetails:(qe,Yt,Wr)=>{qe?(E({compDetails:qe,popup:Yt,popupPosition:Wr}),Yt||S(void 0)):E(void 0)}},Ht=et.current||void 0;m.setComp(vt,Pe.current,Ht,C,b)});const Ua=i.useMemo(()=>!!(w&&w.compDetails&&w.compDetails.componentFromFramework&&o.isComponentStateless(w.compDetails.componentClass)),[w]),Ys=i.useMemo(()=>{let vt=M.toString();return Nn||(vt+=" ag-cell-value"),vt},[M,tn]),Xs=i.useMemo(()=>m.getInstanceId(),[]),za=()=>i.default.createElement(i.default.Fragment,null,w!=null&&d(w,P,Xs,Ye,Nn,Ua,Ln),T!=null&&h(T,ja,Ha,Pe.current,m,Re));return i.default.createElement("div",{ref:Pe,className:Ys,style:B,tabIndex:G,role:Q,"col-id":X,title:$,"aria-describedby":z},Nn?i.default.createElement("div",{className:"ag-cell-wrapper",role:"presentation",ref:Xe},za()):za())};n.default=i.memo(f)})(DI);var c9=fe&&fe.__importStar||function(n){if(n&&n.__esModule)return n;var t={};if(n!=null)for(var e in n)Object.hasOwnProperty.call(n,e)&&(t[e]=n[e]);return t.default=n,t},p9=fe&&fe.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(R0,"__esModule",{value:!0});const Ot=c9(Te.exports),h9=yr,d9=Wa,f9=en,g9=Or,v9=p9(DI),m9=Cr,y9=(n,t,e)=>{if(e){const l={list:t,instanceIdMap:new Map};return t.forEach(u=>l.instanceIdMap.set(u.getInstanceId(),u)),l}const r=[],i=[],o=new Map,a=new Map;return t.forEach(l=>a.set(l.getInstanceId(),l)),n.list.forEach(l=>{const u=l.getInstanceId();a.has(u)&&(r.push(l),o.set(u,l))}),t.forEach(l=>{const u=l.getInstanceId();n.instanceIdMap.has(u)||(i.push(l),o.set(u,l))}),{list:[...r,...i],instanceIdMap:o}},C9=n=>{const{context:t}=Ot.useContext(g9.BeansContext),{rowCtrl:e,containerType:r}=n,[i,o]=Ot.useState(),[a,s]=Ot.useState(),[l,u]=Ot.useState(),[c,p]=Ot.useState(),[h,d]=Ot.useState(),[f,g]=Ot.useState(),[v,m]=Ot.useState({list:[],instanceIdMap:new Map}),[C,b]=Ot.useState(),[w,S]=Ot.useState(!1),[T,E]=Ot.useState(e.getInitialRowTop()),[P,R]=Ot.useState(e.getInitialTransform()),M=Ot.useRef(null),N=Ot.useRef(),B=Ot.useRef(!1),[k,G]=Ot.useState(0);Ot.useEffect(()=>{var $;if(B.current||!C||k>10)return;const q=($=M.current)===null||$===void 0?void 0:$.firstChild;q?(e.setupDetailRowAutoHeight(q),B.current=!0):G(ce=>ce+1)},[C,k]);const V=Ot.useMemo(()=>new h9.CssClassManager(()=>M.current),[]);m9.useEffectOnce(()=>{if(!e.isAlive())return;const $={setTop:q=>E(q),setTransform:q=>R(q),addOrRemoveCssClass:(q,ce)=>V.addOrRemoveCssClass(q,ce),setDomOrder:q=>S(q),setRowIndex:q=>o(q),setRowId:q=>s(q),setRowBusinessKey:q=>p(q),setTabIndex:q=>d(q),setUserStyles:q=>g(q),setRole:q=>u(q),setCellCtrls:q=>m(ce=>y9(ce,q,w)),showFullWidth:q=>b(q),getFullWidthCellRenderer:()=>N.current};e.setComp($,M.current,r)}),Ot.useEffect(()=>d9.showJsComp(C,t,M.current,N),[C]);const z=Ot.useMemo(()=>{const $={top:T,transform:P};return Object.assign($,f),$},[T,P,f]),ee=C&&C.componentFromFramework,Q=v!=null,ue=Ot.useMemo(()=>{var $;return!!((($=C)===null||$===void 0?void 0:$.componentFromFramework)&&f9.isComponentStateless(C.componentClass))},[C]),X=()=>v.list.map($=>Ot.default.createElement(v9.default,{cellCtrl:$,editingRow:e.isEditing(),printLayout:e.isPrintLayout(),key:$.getInstanceId()})),se=()=>{const $=C.componentClass;return Ot.default.createElement(Ot.default.Fragment,null,ue&&Ot.default.createElement($,Object.assign({},C.params)),!ue&&Ot.default.createElement($,Object.assign({},C.params,{ref:N})))};return Ot.default.createElement("div",{ref:M,role:l,style:z,"row-index":i,"row-id":a,"row-business-key":c,tabIndex:h},Q&&X(),ee&&se())};R0.default=Ot.memo(C9);var b9=fe&&fe.__importStar||function(n){if(n&&n.__esModule)return n;var t={};if(n!=null)for(var e in n)Object.hasOwnProperty.call(n,e)&&(t[e]=n[e]);return t.default=n,t},MI=fe&&fe.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(E0,"__esModule",{value:!0});const Pu=yr,jt=b9(Te.exports),bC=en,w9=MI(Sd),_9=MI(R0),S9=Or,x9=Cr,T9=n=>{const{context:t}=jt.useContext(S9.BeansContext),[e,r]=jt.useState(""),[i,o]=jt.useState([]),[a,s]=jt.useState([]),[l,u]=jt.useState(!1),[c,p]=jt.useState(""),{name:h}=n,d=jt.useMemo(()=>Pu.getRowContainerTypeForName(h),[h]),f=jt.useRef(null),g=jt.useRef(null),v=jt.useRef(null),m=jt.useMemo(()=>Pu.RowContainerCtrl.getRowContainerCssClasses(h),[h]),C=jt.useMemo(()=>bC.classesList(m.wrapper),[]),b=jt.useMemo(()=>bC.classesList(m.viewport),[]),w=jt.useMemo(()=>bC.classesList(m.container),[]),S=h===Pu.RowContainerName.CENTER,T=h===Pu.RowContainerName.TOP_CENTER||h===Pu.RowContainerName.BOTTOM_CENTER,E=!S&&!T,P=S?f:T?g:v;w9.default(" AG Row Container "+h+" ",P),jt.useEffect(()=>{o(B=>{if(l)return a;const k=B.filter(z=>a.indexOf(z)>=0),G=a.filter(z=>k.indexOf(z)<0);return[...k,...G]})},[l,a]),x9.useEffectOnce(()=>{const B=[],k={setViewportHeight:r,setRowCtrls:V=>s(V),setDomOrder:V=>u(V),setContainerWidth:V=>p(V)},G=t.createBean(new Pu.RowContainerCtrl(h));return B.push(G),G.setComp(k,v.current,g.current,f.current),()=>{t.destroyBeans(B)}});const R=jt.useMemo(()=>({height:e}),[e]),M=jt.useMemo(()=>({width:c}),[c]),N=()=>jt.default.createElement("div",{className:w,ref:v,role:a.length?"rowgroup":"presentation",style:M},i.map(B=>jt.default.createElement(_9.default,{rowCtrl:B,containerType:d,key:B.getInstanceId()})));return jt.default.createElement(jt.default.Fragment,null,S&&jt.default.createElement("div",{className:C,ref:f,role:"presentation"},jt.default.createElement("div",{className:b,ref:g,role:"presentation",style:R},N())),T&&jt.default.createElement("div",{className:b,ref:g,role:"presentation",style:R},N()),E&&N())};E0.default=jt.memo(T9);var O9=fe&&fe.__importStar||function(n){if(n&&n.__esModule)return n;var t={};if(n!=null)for(var e in n)Object.hasOwnProperty.call(n,e)&&(t[e]=n[e]);return t.default=n,t},D0=fe&&fe.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(C0,"__esModule",{value:!0});const Bn=yr,Et=O9(Te.exports),E9=Or,R9=D0(b0),lf=D0(Sd),P9=D0(E0),A9=Cr,uf=en,D9=()=>{const{context:n,agStackComponentsRegistry:t,resizeObserverService:e}=Et.useContext(E9.BeansContext),[r,i]=Et.useState(""),[o,a]=Et.useState(0),[s,l]=Et.useState(0),[u,c]=Et.useState(0),[p,h]=Et.useState(0),[d,f]=Et.useState(""),[g,v]=Et.useState(""),[m,C]=Et.useState(null),[b,w]=Et.useState(null),[S,T]=Et.useState(""),[E,P]=Et.useState(null),[R,M]=Et.useState("ag-layout-normal"),N=Et.useRef(null),B=Et.useRef(null),k=Et.useRef(null),G=Et.useRef(null);lf.default(" AG Grid Body ",N),lf.default(" AG Pinned Top ",B),lf.default(" AG Middle ",k),lf.default(" AG Pinned Bottom ",G),A9.useEffectOnce(()=>{const q=[],ce=[];if(!n)return;const he=Oe=>{const De=t.getComponentClass(Oe),Re=n.createBean(new De);return q.push(Re),Re};N.current.appendChild(document.createComment(" AG Fake Horizontal Scroll ")),N.current.appendChild(he("AG-FAKE-HORIZONTAL-SCROLL").getGui()),N.current.appendChild(document.createComment(" AG Overlay Wrapper ")),N.current.appendChild(he("AG-OVERLAY-WRAPPER").getGui());const we={setRowAnimationCssOnBodyViewport:i,setColumnCount:a,setRowCount:l,setTopHeight:c,setBottomHeight:h,setTopDisplay:f,setBottomDisplay:v,setColumnMovingCss:C,updateLayoutClasses:M,setAlwaysVerticalScrollClass:w,setPinnedTopBottomOverflowY:T,setCellSelectableCss:P,registerBodyViewportResizeListener:Oe=>{const De=e.observeResize(k.current,Oe);ce.push(()=>De())}},_e=n.createBean(new Bn.GridBodyCtrl);return q.push(_e),_e.setComp(we,N.current,k.current,B.current,G.current),()=>{n.destroyBeans(q),ce.forEach(Oe=>Oe())}});const V=Et.useMemo(()=>uf.classesList("ag-root","ag-unselectable",m,R),[m,R]),z=Et.useMemo(()=>uf.classesList("ag-body-viewport",r,R,b,E),[r,R,b,E]),ee=Et.useMemo(()=>uf.classesList("ag-floating-top",E),[E]),Q=Et.useMemo(()=>uf.classesList("ag-floating-bottom",E),[E]),ue=Et.useMemo(()=>({height:u,minHeight:u,display:d,overflowY:S}),[u,d,S]),X=Et.useMemo(()=>({height:p,minHeight:p,display:g,overflowY:S}),[p,g,S]),se=q=>Et.default.createElement(P9.default,{name:q,key:`${q}-container`}),$=({section:q,children:ce,className:he,style:we})=>Et.default.createElement("div",{ref:q,className:he,role:"presentation",style:we},ce.map(se));return Et.default.createElement("div",{ref:N,className:V,role:"grid","aria-colcount":o,"aria-rowcount":s},Et.default.createElement(R9.default,null),$({section:B,className:ee,style:ue,children:[Bn.RowContainerName.TOP_LEFT,Bn.RowContainerName.TOP_CENTER,Bn.RowContainerName.TOP_RIGHT,Bn.RowContainerName.TOP_FULL_WIDTH]}),$({section:k,className:z,children:[Bn.RowContainerName.LEFT,Bn.RowContainerName.CENTER,Bn.RowContainerName.RIGHT,Bn.RowContainerName.FULL_WIDTH]}),$({section:G,className:Q,style:X,children:[Bn.RowContainerName.BOTTOM_LEFT,Bn.RowContainerName.BOTTOM_CENTER,Bn.RowContainerName.BOTTOM_RIGHT,Bn.RowContainerName.BOTTOM_FULL_WIDTH]}))};C0.default=Et.memo(D9);var M0={},M9=fe&&fe.__importStar||function(n){if(n&&n.__esModule)return n;var t={};if(n!=null)for(var e in n)Object.hasOwnProperty.call(n,e)&&(t[e]=n[e]);return t.default=n,t};Object.defineProperty(M0,"__esModule",{value:!0});const Hi=M9(Te.exports),F9=yr,I9=Or,L9=Cr,N9=(n,t)=>{const{children:e,eFocusableElement:r,onTabKeyDown:i,gridCtrl:o}=n,{context:a}=Hi.useContext(I9.BeansContext),s=Hi.useRef(null),l=Hi.useRef(null),u=Hi.useRef(),[c,p]=Hi.useState();Hi.useImperativeHandle(t,()=>({forceFocusOutOfContainer(){u.current.forceFocusOutOfContainer()}})),L9.useEffectOnce(()=>{const d=s.current,f=l.current,g={setTabIndex:m=>m==null?p(void 0):p(parseInt(m,10))},v=u.current=a.createBean(new F9.TabGuardCtrl({comp:g,eTopGuard:d,eBottomGuard:f,eFocusableElement:r,onTabKeyDown:i,focusInnerElement:m=>o.focusInnerElement(m)}));return()=>{a.destroyBean(v)}});const h=d=>Hi.default.createElement("div",{className:`ag-tab-guard ag-tab-guard-${d}`,role:"presentation",tabIndex:c,ref:d==="top"?s:l});return Hi.default.createElement(Hi.default.Fragment,null,h("top"),e,h("bottom"))},k9=Hi.forwardRef(N9);M0.default=Hi.memo(k9);var G9=fe&&fe.__importStar||function(n){if(n&&n.__esModule)return n;var t={};if(n!=null)for(var e in n)Object.hasOwnProperty.call(n,e)&&(t[e]=n[e]);return t.default=n,t},F0=fe&&fe.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(y0,"__esModule",{value:!0});const JO=yr,Ut=G9(Te.exports),B9=Or,V9=F0(C0),W9=F0(Sd),H9=F0(M0),eE=Cr,tE=en,j9=({context:n})=>{const[t,e]=Ut.useState(""),[r,i]=Ut.useState(""),[o,a]=Ut.useState(""),[s,l]=Ut.useState(null),[u,c]=Ut.useState(null),[p,h]=Ut.useState(!1),[d,f]=Ut.useState(),g=Ut.useRef(null),v=Ut.useRef(null),m=Ut.useRef(),C=Ut.useRef(null),b=Ut.useRef(()=>{}),w=Ut.useCallback(()=>{},[]),S=Ut.useMemo(()=>n.getBean("beans"),[]);W9.default(" AG Grid ",v),eE.useEffectOnce(()=>{const N=g.current=n.createBean(new JO.GridCtrl);return()=>{n.destroyBean(N),g.current=null}}),eE.useEffectOnce(()=>{const N=g.current;b.current=N.focusInnerElement.bind(N);const B={destroyGridUi:()=>{},setRtlClass:e,addOrRemoveKeyboardFocusClass:k=>i(k?JO.FocusService.AG_KEYBOARD_FOCUS:""),forceFocusOutOfContainer:()=>{m.current.forceFocusOutOfContainer()},updateLayoutClasses:a,getFocusableContainers:()=>{const k=[],G=v.current.querySelector(".ag-root"),V=v.current.querySelector(".ag-side-bar");return G&&k.push(G),V&&k.push(V),k},setCursor:l,setUserSelect:c};N.setComp(B,v.current,v.current),h(!0)}),Ut.useEffect(()=>{if(!d)return;const N=g.current,B=[],{agStackComponentsRegistry:k}=S,G=k.getComponentClass("AG-GRID-HEADER-DROP-ZONES"),V=k.getComponentClass("AG-SIDE-BAR"),z=k.getComponentClass("AG-STATUS-BAR"),ee=k.getComponentClass("AG-WATERMARK"),Q=k.getComponentClass("AG-PAGINATION"),ue=[],X=v.current,se=C.current;if(N.showDropZones()&&G){const $=n.createBean(new G),q=$.getGui();X.insertAdjacentElement("afterbegin",q),ue.push(q),B.push($)}if(N.showSideBar()&&V){const $=n.createBean(new V),q=$.getGui(),ce=se.querySelector(".ag-tab-guard-bottom");ce&&(ce.insertAdjacentElement("beforebegin",q),ue.push(q)),B.push($)}if(N.showStatusBar()&&z){const $=n.createBean(new z),q=$.getGui();X.insertAdjacentElement("beforeend",q),ue.push(q),B.push($)}if(Q){const $=n.createBean(new Q),q=$.getGui();X.insertAdjacentElement("beforeend",q),ue.push(q),B.push($)}if(N.showWatermark()&&ee){const $=n.createBean(new ee),q=$.getGui();X.insertAdjacentElement("beforeend",q),ue.push(q),B.push($)}return()=>{n.destroyBeans(B),ue.forEach($=>{$.parentElement&&$.parentElement.removeChild($)})}},[d]);const T=Ut.useMemo(()=>tE.classesList("ag-root-wrapper",t,r,o),[t,r,o]),E=Ut.useMemo(()=>tE.classesList("ag-root-wrapper-body","ag-focus-managed",o),[o]),P=Ut.useMemo(()=>({userSelect:u!=null?u:"",WebkitUserSelect:u!=null?u:"",cursor:s!=null?s:""}),[u,s]),R=C.current,M=Ut.useCallback(N=>{m.current=N,f(!0)},[]);return Ut.default.createElement("div",{ref:v,className:T,style:P},Ut.default.createElement("div",{className:E,ref:C},p&&R&&Ut.default.createElement(B9.BeansContext.Provider,{value:S},Ut.default.createElement(H9.default,{ref:M,eFocusableElement:R,onTabKeyDown:w,gridCtrl:g.current},Ut.default.createElement(V9.default,null)))))};y0.default=Ut.memo(j9);var U9=fe&&fe.__importStar||function(n){if(n&&n.__esModule)return n;var t={};if(n!=null)for(var e in n)Object.hasOwnProperty.call(n,e)&&(t[e]=n[e]);return t.default=n,t},z9=fe&&fe.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(_d,"__esModule",{value:!0});const na=yr,cf=U9(Te.exports),pf=wd,wC=xm,$9=Tm,K9=Om,Y9=z9(y0),X9=Rm;class q9 extends cf.Component{constructor(t){super(t),this.props=t,this.destroyFuncs=[],this.changeDetectionService=new wC.ChangeDetectionService,this.eGui=cf.default.createRef(),this.whenReadyFuncs=[],this.ready=!1,this.renderedAfterMount=!1,this.mounted=!1,this.state={context:void 0},this.portalManager=new K9.PortalManager(this,t.componentWrappingElement,t.maxComponentCreationTimeMs),this.destroyFuncs.push(()=>this.portalManager.destroy())}render(){return""+this.state.context,this.state.context&&(this.renderedAfterMount=!0),cf.default.createElement("div",{style:this.createStyleForDiv(),className:this.props.className,ref:this.eGui},this.state.context&&cf.default.createElement(Y9.default,{context:this.state.context}),this.portalManager.getPortals())}createStyleForDiv(){return Object.assign({height:"100%"},this.props.containerStyle||{})}componentDidMount(){if(this.mounted)return;this.mounted=!0;const t=this.props.modules||[],e={providedBeanInstances:{frameworkComponentWrapper:new Z9(this.portalManager)},modules:t,frameworkOverrides:new X9.ReactFrameworkOverrides(!0)};this.gridOptions=this.props.gridOptions||{};const{children:r}=this.props;pf.AgGridColumn.hasChildColumns(r)&&(this.gridOptions.columnDefs=pf.AgGridColumn.mapChildColumnDefs(r)),this.gridOptions=na.ComponentUtil.copyAttributesToGridOptions(this.gridOptions,this.props);const i=s=>{this.setState({context:s}),s.getBean(na.CtrlsService.NAME).whenReady(()=>{this.api=this.gridOptions.api,this.columnApi=this.gridOptions.columnApi,this.props.setGridApi(this.api,this.columnApi),this.destroyFuncs.push(()=>this.api.destroy())})},o=s=>{s.getBean(na.CtrlsService.NAME).whenReady(()=>{this.whenReadyFuncs.forEach(u=>u()),this.whenReadyFuncs.length=0,this.ready=!0})};new na.GridCoreCreator().create(this.eGui.current,this.gridOptions,i,o,e)}componentWillUnmount(){this.renderedAfterMount&&(this.destroyFuncs.forEach(t=>t()),this.destroyFuncs.length=0)}componentDidUpdate(t){this.processPropsChanges(t,this.props)}processPropsChanges(t,e){const r={};this.extractGridPropertyChanges(t,e,r),this.extractDeclarativeColDefChanges(e,r),this.processChanges(r)}extractDeclarativeColDefChanges(t,e){if(this.props.gridOptions&&this.props.gridOptions.columnDefs||this.props.columnDefs)return;const r=!!t.debug,i="columnDefs",o=this.gridOptions.columnDefs;if(pf.AgGridColumn.hasChildColumns(t.children)){const a=this.changeDetectionService.getStrategy(this.getStrategyTypeForProp(i)),s=pf.AgGridColumn.mapChildColumnDefs(t.children);a.areEqual(o,s)||(r&&console.log("agGridReact: colDefs definitions changed"),e[i]={previousValue:o,currentValue:s})}else o&&o.length>0&&(e[i]={previousValue:o,currentValue:[]})}extractGridPropertyChanges(t,e,r){const i=!!e.debug;Object.keys(e).forEach(o=>{na._.includes(na.ComponentUtil.ALL_PROPERTIES,o)&&(this.changeDetectionService.getStrategy(this.getStrategyTypeForProp(o)).areEqual(t[o],e[o])||(i&&console.log(`agGridReact: [${o}] property changed`),r[o]={previousValue:t[o],currentValue:e[o]}))}),na.ComponentUtil.getEventCallbacks().forEach(o=>{t[o]!==e[o]&&(i&&console.log(`agGridReact: [${o}] event callback changed`),r[o]={previousValue:t[o],currentValue:e[o]})})}processChanges(t){this.processWhenReady(()=>na.ComponentUtil.processOnChange(t,this.gridOptions,this.api,this.columnApi))}processWhenReady(t){this.ready?t():this.whenReadyFuncs.push(t)}getStrategyTypeForProp(t){if(t==="rowData"){if(this.props.rowDataChangeDetectionStrategy)return this.props.rowDataChangeDetectionStrategy;if(this.isImmutableDataActive())return wC.ChangeDetectionStrategyType.IdentityCheck}return wC.ChangeDetectionStrategyType.DeepValueCheck}isImmutableDataActive(){return this.props.deltaRowDataMode||this.props.immutableData||this.props.getRowId!=null||this.props.gridOptions&&(this.props.gridOptions.deltaRowDataMode||this.props.gridOptions.immutableData||this.props.gridOptions.getRowId!=null)}}_d.AgGridReactUi=q9;class Z9 extends na.BaseComponentWrapper{constructor(t){super(),this.parent=t}createWrapper(t,e){return new $9.NewReactComponent(t,this.parent,e)}}var Q9=fe&&fe.__importStar||function(n){if(n&&n.__esModule)return n;var t={};if(n!=null)for(var e in n)Object.hasOwnProperty.call(n,e)&&(t[e]=n[e]);return t.default=n,t};Object.defineProperty(m0,"__esModule",{value:!0});const yn=Q9(Te.exports),rE=en,J9=Or,e7=_d,nE=Cr,t7=(n,t)=>{const{ctrlsFactory:e,context:r,gridOptionsWrapper:i,resizeObserverService:o,clientSideRowModel:a,serverSideRowModel:s}=yn.useContext(J9.BeansContext),[l,u]=yn.useState(new rE.CssClasses),[c,p]=yn.useState(new rE.CssClasses),[h,d]=yn.useState(),[f,g]=yn.useState(),v=yn.useRef(),m=yn.useRef(null),C=yn.useMemo(()=>l.toString()+" ag-details-row",[l]),b=yn.useMemo(()=>c.toString()+" ag-details-grid",[c]);t&&yn.useImperativeHandle(t,()=>({refresh(){return v.current.refresh()}})),nE.useEffectOnce(()=>{n.template&&typeof n.template=="string"&&console.warn("AG Grid: detailCellRendererParams.template is not supported by React - this only works with frameworks that work against String templates. To change the template, please provide your own React Detail Cell Renderer.")}),nE.useEffectOnce(()=>{const S={addOrRemoveCssClass:(P,R)=>u(M=>M.setClass(P,R)),addOrRemoveDetailGridCssClass:(P,R)=>p(M=>M.setClass(P,R)),setDetailGrid:P=>d(P),setRowData:P=>g(P),getGui:()=>m.current},T=e.getInstance("detailCellRenderer");if(!T)return;r.createBean(T),T.init(S,n),v.current=T;let E;if(i.isDetailRowAutoHeight()){const P=()=>{if(m.current==null)return;const R=m.current.clientHeight;R!=null&&R>0&&setTimeout(()=>{n.node.setRowHeight(R),a?a.onRowHeightChanged():s&&s.onRowHeightChanged()},0)};E=o.observeResize(m.current,P),P()}return()=>{r.destroyBean(T),E&&E()}});const w=yn.useCallback((S,T)=>{v.current.registerDetailWithMaster(S,T)},[]);return yn.default.createElement("div",{className:C,ref:m},h&&yn.default.createElement(e7.AgGridReactUi,Object.assign({className:b},h,{rowData:f,setGridApi:w})))};m0.default=yn.forwardRef(t7);var FI=fe&&fe.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Rm,"__esModule",{value:!0});const r7=yr,iE=FI(g0),n7=FI(m0);class i7 extends r7.VanillaFrameworkOverrides{constructor(t){super(),this.frameworkComponents={agGroupCellRenderer:iE.default,agGroupRowRenderer:iE.default,agDetailCellRenderer:n7.default},this.reactUi=t}frameworkComponent(t){if(!!this.reactUi)return this.frameworkComponents[t]}isFrameworkComponent(t){if(!t)return!1;const e=t.prototype;return!(e&&"getGui"in e)}}Rm.ReactFrameworkOverrides=i7;var o7=fe&&fe.__importDefault||function(n){return n&&n.__esModule?n:{default:n}},a7=fe&&fe.__importStar||function(n){if(n&&n.__esModule)return n;var t={};if(n!=null)for(var e in n)Object.hasOwnProperty.call(n,e)&&(t[e]=n[e]);return t.default=n,t};Object.defineProperty(uS,"__esModule",{value:!0});const an=yr,Ks=o7(Jv.exports),oE=a7(Te.exports),s7=qS,hf=wd,_C=xm,l7=Tm,u7=Om,c7=Rm;class Gc extends oE.Component{constructor(t){super(t),this.props=t,this.changeDetectionService=new _C.ChangeDetectionService,this.api=null,this.destroyed=!1,this.SYNCHRONOUS_CHANGE_PROPERTIES=["context"],this.portalManager=new u7.PortalManager(this,t.componentWrappingElement,t.maxComponentCreationTimeMs)}render(){return oE.default.createElement("div",{style:this.createStyleForDiv(),className:this.props.className,ref:t=>{this.eGridDiv=t}},this.portalManager.getPortals())}createStyleForDiv(){return Object.assign({height:"100%"},this.props.containerStyle||{})}componentDidMount(){const t=this.props.modules||[],e={providedBeanInstances:{agGridReact:this,frameworkComponentWrapper:new p7(this,this.portalManager)},modules:t,frameworkOverrides:new c7.ReactFrameworkOverrides(!1)},r=this.props.gridOptions||{},{children:i}=this.props;hf.AgGridColumn.hasChildColumns(i)&&(r.columnDefs=hf.AgGridColumn.mapChildColumnDefs(i)),this.gridOptions=an.ComponentUtil.copyAttributesToGridOptions(r,this.props),new an.Grid(this.eGridDiv,this.gridOptions,e),this.api=this.gridOptions.api,this.columnApi=this.gridOptions.columnApi,this.props.setGridApi(this.api,this.columnApi)}getStrategyTypeForProp(t){if(t==="rowData"){if(this.props.rowDataChangeDetectionStrategy)return this.props.rowDataChangeDetectionStrategy;if(this.isImmutableDataActive())return _C.ChangeDetectionStrategyType.IdentityCheck}return _C.ChangeDetectionStrategyType.DeepValueCheck}isImmutableDataActive(){return this.props.deltaRowDataMode||this.props.immutableData||this.props.getRowId!=null||this.props.gridOptions&&(this.props.gridOptions.deltaRowDataMode||this.props.gridOptions.immutableData||this.props.gridOptions.getRowId!=null)}shouldComponentUpdate(t){return this.processPropsChanges(this.props,t),!1}componentDidUpdate(t){this.processPropsChanges(t,this.props)}processPropsChanges(t,e){const r={};this.extractGridPropertyChanges(t,e,r),this.extractDeclarativeColDefChanges(e,r),this.processSynchronousChanges(r),this.processAsynchronousChanges(r)}extractDeclarativeColDefChanges(t,e){if(this.props.gridOptions&&this.props.gridOptions.columnDefs||this.props.columnDefs)return;const r=!!t.debug,i="columnDefs",o=this.gridOptions.columnDefs;if(hf.AgGridColumn.hasChildColumns(t.children)){const a=this.changeDetectionService.getStrategy(this.getStrategyTypeForProp(i)),s=hf.AgGridColumn.mapChildColumnDefs(t.children);a.areEqual(o,s)||(r&&console.log("agGridReact: colDefs definitions changed"),e[i]={previousValue:o,currentValue:s})}else o&&o.length>0&&(e[i]={previousValue:o,currentValue:[]})}extractGridPropertyChanges(t,e,r){const i=!!e.debug;Object.keys(e).forEach(o=>{an._.includes(an.ComponentUtil.ALL_PROPERTIES,o)&&(this.changeDetectionService.getStrategy(this.getStrategyTypeForProp(o)).areEqual(t[o],e[o])||(i&&console.log(`agGridReact: [${o}] property changed`),r[o]={previousValue:t[o],currentValue:e[o]}))}),an.ComponentUtil.getEventCallbacks().forEach(o=>{t[o]!==e[o]&&(i&&console.log(`agGridReact: [${o}] event callback changed`),r[o]={previousValue:t[o],currentValue:e[o]})})}componentWillUnmount(){this.api&&(this.api.destroy(),this.api=null),this.destroyed=!0,this.portalManager.destroy()}isDisableStaticMarkup(){return this.props.disableStaticMarkup===!0}isLegacyComponentRendering(){return this.props.legacyComponentRendering===!0}processSynchronousChanges(t){const e=Object.assign({},t);if(Object.keys(e).length>0){const r={};this.SYNCHRONOUS_CHANGE_PROPERTIES.forEach(i=>{e[i]&&(r[i]=e[i],delete e[i])}),Object.keys(r).length>0&&!!this.api&&an.ComponentUtil.processOnChange(r,this.gridOptions,this.api,this.columnApi)}return e}processAsynchronousChanges(t){Object.keys(t).length>0&&window.setTimeout(()=>{this.api&&an.ComponentUtil.processOnChange(t,this.gridOptions,this.api,this.columnApi)})}}uS.AgGridReactLegacy=Gc;Gc.MAX_COMPONENT_CREATION_TIME_IN_MS=1e3;Gc.defaultProps={legacyComponentRendering:!1,disableStaticMarkup:!1,maxComponentCreationTimeMs:Gc.MAX_COMPONENT_CREATION_TIME_IN_MS};Gc.propTypes={gridOptions:Ks.default.object};pu(an.ComponentUtil.getEventCallbacks(),Ks.default.func);pu(an.ComponentUtil.BOOLEAN_PROPERTIES,Ks.default.bool);pu(an.ComponentUtil.STRING_PROPERTIES,Ks.default.string);pu(an.ComponentUtil.OBJECT_PROPERTIES,Ks.default.object);pu(an.ComponentUtil.ARRAY_PROPERTIES,Ks.default.array);pu(an.ComponentUtil.NUMBER_PROPERTIES,Ks.default.number);pu(an.ComponentUtil.FUNCTION_PROPERTIES,Ks.default.func);function pu(n,t){n.forEach(e=>{Gc[e]=t})}class p7 extends an.BaseComponentWrapper{constructor(t,e){super(),this.agGridReact=t,this.portalManager=e}createWrapper(t,e){return this.agGridReact.isLegacyComponentRendering()?new s7.LegacyReactComponent(t,this.agGridReact,this.portalManager,e):new l7.NewReactComponent(t,this.portalManager,e)}}var h7=fe&&fe.__importStar||function(n){if(n&&n.__esModule)return n;var t={};if(n!=null)for(var e in n)Object.hasOwnProperty.call(n,e)&&(t[e]=n[e]);return t.default=n,t};Object.defineProperty(lS,"__esModule",{value:!0});const aE=h7(Te.exports),d7=uS,f7=_d;class g7 extends aE.Component{constructor(){super(...arguments),this.setGridApi=(t,e)=>{this.api=t,this.columnApi=e}}render(){const t=this.props.suppressReactUi?d7.AgGridReactLegacy:f7.AgGridReactUi;return aE.default.createElement(t,Object.assign({},this.props,{setGridApi:this.setGridApi}))}}lS.AgGridReact=g7;var v7=lS.AgGridReact;wd.AgGridColumn;xm.ChangeDetectionStrategyType;_d.AgGridReactUi;var m7=globalThis&&globalThis.__read||function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},y7=globalThis&&globalThis.__spread||function(){for(var n=[],t=0;t<arguments.length;t++)n=n.concat(m7(arguments[t]));return n},C7=function(){function n(t,e,r,i,o,a,s,l){this.nextId=0,this.allNodesMap={},this.rootNode=t,this.gridOptionsWrapper=e,this.eventService=r,this.columnModel=i,this.gridApi=o,this.columnApi=a,this.beans=l,this.selectionService=s,this.rootNode.group=!0,this.rootNode.level=-1,this.rootNode.id=n.ROOT_NODE_ID,this.rootNode.allLeafChildren=[],this.rootNode.childrenAfterGroup=[],this.rootNode.childrenAfterSort=[],this.rootNode.childrenAfterAggFilter=[],this.rootNode.childrenAfterFilter=[],this.postConstruct()}return n.prototype.postConstruct=function(){this.suppressParentsInRowNodes=this.gridOptionsWrapper.isSuppressParentsInRowNodes(),this.isRowMasterFunc=this.gridOptionsWrapper.getIsRowMasterFunc(),this.doingTreeData=this.gridOptionsWrapper.isTreeData(),this.doingMasterDetail=this.gridOptionsWrapper.isMasterDetail()},n.prototype.getCopyOfNodesMap=function(){return _.cloneObject(this.allNodesMap)},n.prototype.getRowNode=function(t){return this.allNodesMap[t]},n.prototype.setRowData=function(t){var e=this;if(typeof t=="string"){console.warn("AG Grid: rowData must be an array, however you passed in a string. If you are loading JSON, make sure you convert the JSON string to JavaScript objects first");return}var r=this.rootNode,i=this.rootNode.sibling;r.childrenAfterFilter=null,r.childrenAfterGroup=null,r.childrenAfterAggFilter=null,r.childrenAfterSort=null,r.childrenMapped=null,r.updateHasChildren(),this.nextId=0,this.allNodesMap={},t?r.allLeafChildren=t.map(function(o){return e.createNode(o,e.rootNode,n.TOP_LEVEL)}):(r.allLeafChildren=[],r.childrenAfterGroup=[]),i&&(i.childrenAfterFilter=r.childrenAfterFilter,i.childrenAfterGroup=r.childrenAfterGroup,i.childrenAfterAggFilter=r.childrenAfterAggFilter,i.childrenAfterSort=r.childrenAfterSort,i.childrenMapped=r.childrenMapped,i.allLeafChildren=r.allLeafChildren)},n.prototype.updateRowData=function(t,e){var r={remove:[],update:[],add:[]},i=[];return this.executeRemove(t,r,i),this.executeUpdate(t,r,i),this.executeAdd(t,r),this.updateSelection(i),e&&_.sortRowNodesByOrder(this.rootNode.allLeafChildren,e),r},n.prototype.updateSelection=function(t){var e=t.length>0;if(e&&t.forEach(function(i){i.setSelected(!1,!1,!0)}),this.selectionService.updateGroupsFromChildrenSelections(),e){var r={type:x.EVENT_SELECTION_CHANGED,api:this.gridApi,columnApi:this.columnApi};this.eventService.dispatchEvent(r)}},n.prototype.executeAdd=function(t,e){var r=this,i=t.add,o=t.addIndex;if(!_.missingOrEmpty(i)){var a=i.map(function(h){return r.createNode(h,r.rootNode,n.TOP_LEVEL)}),s=typeof o=="number"&&o>=0,l,u;if(s){var c=this.rootNode.allLeafChildren,p=o===0?0:c.reduce(function(h,d,f){var g,v=d.rowIndex,m=(g=c[h])===null||g===void 0?void 0:g.rowIndex,C=v!=null&&m!=null&&v<o&&v>m;return C?f:h},0)+1;l=c.slice(0,p),u=c.slice(p,c.length)}else l=this.rootNode.allLeafChildren,u=[];this.rootNode.allLeafChildren=y7(l,a,u),this.rootNode.sibling&&(this.rootNode.sibling.allLeafChildren=this.rootNode.allLeafChildren),e.add=a}},n.prototype.executeRemove=function(t,e,r){var i=this,o=t.remove;if(!_.missingOrEmpty(o)){var a={};o.forEach(function(s){var l=i.lookupRowNode(s);!l||(l.isSelected()&&r.push(l),l.clearRowTopAndRowIndex(),a[l.id]=!0,delete i.allNodesMap[l.id],e.remove.push(l))}),this.rootNode.allLeafChildren=this.rootNode.allLeafChildren.filter(function(s){return!a[s.id]}),this.rootNode.sibling&&(this.rootNode.sibling.allLeafChildren=this.rootNode.allLeafChildren)}},n.prototype.executeUpdate=function(t,e,r){var i=this,o=t.update;_.missingOrEmpty(o)||o.forEach(function(a){var s=i.lookupRowNode(a);!s||(s.updateData(a),!s.selectable&&s.isSelected()&&r.push(s),i.setMasterForRow(s,a,n.TOP_LEVEL,!1),e.update.push(s))})},n.prototype.lookupRowNode=function(t){var e=this.gridOptionsWrapper.getRowIdFunc(),r;if(e){var i=e({data:t,level:0});if(r=this.allNodesMap[i],!r)return console.error("AG Grid: could not find row id="+i+", data item was not found for this id"),null}else if(r=this.rootNode.allLeafChildren.find(function(o){return o.data===t}),!r)return console.error("AG Grid: could not find data item as object was not found",t),console.error("Consider using getRowId to help the Grid find matching row data"),null;return r||null},n.prototype.createNode=function(t,e,r){var i=new Ee(this.beans);return i.group=!1,this.setMasterForRow(i,t,r,!0),e&&!this.suppressParentsInRowNodes&&(i.parent=e),i.level=r,i.setDataAndId(t,this.nextId.toString()),this.allNodesMap[i.id]&&console.warn("AG Grid: duplicate node id '"+i.id+"' detected from getRowId callback, this could cause issues in your grid."),this.allNodesMap[i.id]=i,this.nextId++,i},n.prototype.setMasterForRow=function(t,e,r,i){if(this.doingTreeData)t.setMaster(!1),i&&(t.expanded=!1);else if(this.doingMasterDetail?this.isRowMasterFunc?t.setMaster(this.isRowMasterFunc(e)):t.setMaster(!0):t.setMaster(!1),i){var o=this.columnModel.getRowGroupColumns(),a=o?o.length:0,s=r+a;t.expanded=t.master?this.isExpanded(s):!1}},n.prototype.isExpanded=function(t){var e=this.gridOptionsWrapper.getGroupDefaultExpanded();return e===-1?!0:t<e},n.TOP_LEVEL=0,n.ROOT_NODE_ID="ROOT_NODE_ID",n}(),b7=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Rr=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},So;(function(n){n[n.Normal=0]="Normal",n[n.AfterFilter=1]="AfterFilter",n[n.AfterFilterAndSort=2]="AfterFilterAndSort",n[n.PivotNodes=3]="PivotNodes"})(So||(So={}));var w7=function(n){b7(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.init=function(){var e=this.refreshModel.bind(this,{step:ot.EVERYTHING}),r=!this.gridOptionsWrapper.isSuppressAnimationFrame(),i=this.refreshModel.bind(this,{step:ot.EVERYTHING,afterColumnsChanged:!0,keepRenderedRows:!0,animate:r});this.addManagedListener(this.eventService,x.EVENT_NEW_COLUMNS_LOADED,i),this.addManagedListener(this.eventService,x.EVENT_COLUMN_ROW_GROUP_CHANGED,e),this.addManagedListener(this.eventService,x.EVENT_COLUMN_VALUE_CHANGED,this.onValueChanged.bind(this)),this.addManagedListener(this.eventService,x.EVENT_COLUMN_PIVOT_CHANGED,this.refreshModel.bind(this,{step:ot.PIVOT})),this.addManagedListener(this.eventService,x.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.addManagedListener(this.eventService,x.EVENT_SORT_CHANGED,this.onSortChanged.bind(this)),this.addManagedListener(this.eventService,x.EVENT_COLUMN_PIVOT_MODE_CHANGED,e);var o=this.refreshModel.bind(this,{step:ot.MAP,keepRenderedRows:!0,animate:r});this.addManagedListener(this.gridOptionsWrapper,pe.PROP_GROUP_REMOVE_SINGLE_CHILDREN,o),this.addManagedListener(this.gridOptionsWrapper,pe.PROP_GROUP_REMOVE_LOWEST_SINGLE_CHILDREN,o),this.rootNode=new Ee(this.beans),this.nodeManager=new C7(this.rootNode,this.gridOptionsWrapper,this.eventService,this.columnModel,this.gridApi,this.columnApi,this.selectionService,this.beans)},t.prototype.start=function(){var e=this.gridOptionsWrapper.getRowData();e&&this.setRowData(e)},t.prototype.ensureRowHeightsValid=function(e,r,i,o){var a,s=!1;do{a=!1;for(var l=this.getRowIndexAtPixel(e),u=this.getRowIndexAtPixel(r),c=Math.max(l,i),p=Math.min(u,o),h=c;h<=p;h++){var d=this.getRow(h);if(d.rowHeightEstimated){var f=this.gridOptionsWrapper.getRowHeightForNode(d);d.setRowHeight(f.height),a=!0,s=!0}}a&&this.setRowTopAndRowIndex()}while(a);return s},t.prototype.setRowTopAndRowIndex=function(){for(var e=this.gridOptionsWrapper.getDefaultRowHeight(),r=0,i=new Set,o=this.gridOptionsWrapper.getDomLayout()===L.DOM_LAYOUT_NORMAL,a=0;a<this.rowsToDisplay.length;a++){var s=this.rowsToDisplay[a];if(s.id!=null&&i.add(s.id),s.rowHeight==null){var l=this.gridOptionsWrapper.getRowHeightForNode(s,o,e);s.setRowHeight(l.height,l.estimated)}s.setRowTop(r),s.setRowIndex(a),r+=s.rowHeight}return i},t.prototype.clearRowTopAndRowIndex=function(e,r){var i=e.isActive(),o=function(s){s&&s.id!=null&&!r.has(s.id)&&s.clearRowTopAndRowIndex()},a=function(s){if(o(s),o(s.detailNode),o(s.sibling),s.hasChildren()&&s.childrenAfterGroup){var l=s.level==-1,u=i&&!l&&!s.expanded;u||s.childrenAfterGroup.forEach(a)}};a(this.rootNode)},t.prototype.ensureRowsAtPixel=function(e,r,i){var o=this;i===void 0&&(i=0);var a=this.getRowIndexAtPixel(r),s=this.getRow(a),l=!this.gridOptionsWrapper.isSuppressAnimationFrame();return s===e[0]?!1:(e.forEach(function(u){_.removeFromArray(o.rootNode.allLeafChildren,u)}),e.forEach(function(u,c){_.insertIntoArray(o.rootNode.allLeafChildren,u,Math.max(a+i,0)+c)}),this.refreshModel({step:ot.EVERYTHING,keepRenderedRows:!0,keepEditingRows:!0,animate:l}),!0)},t.prototype.highlightRowAtPixel=function(e,r){var i=r!=null?this.getRowIndexAtPixel(r):null,o=i!=null?this.getRow(i):null;if(!o||!e||o===e||r==null){this.lastHighlightedRow&&(this.lastHighlightedRow.setHighlighted(null),this.lastHighlightedRow=null);return}var a=this.getHighlightPosition(r,o);this.lastHighlightedRow&&this.lastHighlightedRow!==o&&(this.lastHighlightedRow.setHighlighted(null),this.lastHighlightedRow=null),o.setHighlighted(a),this.lastHighlightedRow=o},t.prototype.getHighlightPosition=function(e,r){if(!r){var i=this.getRowIndexAtPixel(e);if(r=this.getRow(i||0),!r)return Uo.Below}var o=r.rowTop,a=r.rowHeight;return e-o<a/2?Uo.Above:Uo.Below},t.prototype.getLastHighlightedRowNode=function(){return this.lastHighlightedRow},t.prototype.isLastRowIndexKnown=function(){return!0},t.prototype.getRowCount=function(){return this.rowsToDisplay?this.rowsToDisplay.length:0},t.prototype.getTopLevelRowCount=function(){var e=this.rowsToDisplay&&this.rowsToDisplay[0]===this.rootNode;if(e)return 1;var r=this.rootNode.childrenAfterAggFilter;return r?r.length:0},t.prototype.getTopLevelRowDisplayedIndex=function(e){var r=this.rowsToDisplay&&this.rowsToDisplay[0]===this.rootNode;if(r)return e;var i=this.rootNode.childrenAfterSort[e];if(this.gridOptionsWrapper.isGroupHideOpenParents())for(;i.expanded&&i.childrenAfterSort&&i.childrenAfterSort.length>0;)i=i.childrenAfterSort[0];return i.rowIndex},t.prototype.getRowBounds=function(e){if(_.missing(this.rowsToDisplay))return null;var r=this.rowsToDisplay[e];return r?{rowTop:r.rowTop,rowHeight:r.rowHeight}:null},t.prototype.onRowGroupOpened=function(){var e=this.gridOptionsWrapper.isAnimateRows();this.refreshModel({step:ot.MAP,keepRenderedRows:!0,animate:e})},t.prototype.onFilterChanged=function(e){if(!e.afterDataChange){var r=this.gridOptionsWrapper.isAnimateRows(),i=e.columns.length===0||e.columns.some(function(a){return a.isPrimary()}),o=i?ot.FILTER:ot.FILTER_AGGREGATES;this.refreshModel({step:o,keepRenderedRows:!0,animate:r})}},t.prototype.onSortChanged=function(){var e=this.gridOptionsWrapper.isAnimateRows();this.refreshModel({step:ot.SORT,keepRenderedRows:!0,animate:e,keepEditingRows:!0})},t.prototype.getType=function(){return L.ROW_MODEL_TYPE_CLIENT_SIDE},t.prototype.onValueChanged=function(){this.columnModel.isPivotActive()?this.refreshModel({step:ot.PIVOT}):this.refreshModel({step:ot.AGGREGATE})},t.prototype.createChangePath=function(e){var r=_.missingOrEmpty(e),i=new yd(!1,this.rootNode);return(r||this.gridOptionsWrapper.isTreeData())&&i.setInactive(),i},t.prototype.isSuppressModelUpdateAfterUpdateTransaction=function(e){if(!this.gridOptionsWrapper.isSuppressModelUpdateAfterUpdateTransaction()||e.rowNodeTransactions==null)return!1;var r=e.rowNodeTransactions.filter(function(o){return o.add!=null&&o.add.length>0||o.remove!=null&&o.remove.length>0}),i=r==null||r.length==0;return i},t.prototype.refreshModel=function(e){if(!this.isSuppressModelUpdateAfterUpdateTransaction(e)){var r=this.createChangePath(e.rowNodeTransactions);switch(e.step){case ot.EVERYTHING:this.doRowGrouping(e.groupState,e.rowNodeTransactions,e.rowNodeOrder,r,!!e.afterColumnsChanged);case ot.FILTER:this.doFilter(r);case ot.PIVOT:this.doPivot(r);case ot.AGGREGATE:this.doAggregate(r);case ot.FILTER_AGGREGATES:this.doFilterAggregates(r);case ot.SORT:this.doSort(e.rowNodeTransactions,r);case ot.MAP:this.doRowsToDisplay()}var i=this.setRowTopAndRowIndex();this.clearRowTopAndRowIndex(r,i);var o={type:x.EVENT_MODEL_UPDATED,api:this.gridApi,columnApi:this.columnApi,animate:e.animate,keepRenderedRows:e.keepRenderedRows,newData:e.newData,newPage:!1};this.eventService.dispatchEvent(o)}},t.prototype.isEmpty=function(){var e=_.missing(this.rootNode.allLeafChildren)||this.rootNode.allLeafChildren.length===0;return _.missing(this.rootNode)||e||!this.columnModel.isReady()},t.prototype.isRowsToRender=function(){return _.exists(this.rowsToDisplay)&&this.rowsToDisplay.length>0},t.prototype.getNodesInRangeForSelection=function(e,r){var i=!r,o=!1,a,s=[],l=this.gridOptionsWrapper.isGroupSelectsChildren();return this.forEachNodeAfterFilterAndSort(function(u){var c=i&&!o;i||(u===r||u===e)&&(i=!0);var p=u.group&&l;if(!p){var h=i&&!o,d=u.isParentOfNode(a);(h||d)&&s.push(u)}c&&(u===r||u===e)&&(o=!0,u===r?a=r:a=e)}),s},t.prototype.setDatasource=function(e){console.error("AG Grid: should never call setDatasource on clientSideRowController")},t.prototype.getTopLevelNodes=function(){return this.rootNode?this.rootNode.childrenAfterGroup:null},t.prototype.getRootNode=function(){return this.rootNode},t.prototype.getRow=function(e){return this.rowsToDisplay[e]},t.prototype.isRowPresent=function(e){return this.rowsToDisplay.indexOf(e)>=0},t.prototype.getRowIndexAtPixel=function(e){if(this.isEmpty())return-1;var r=0,i=this.rowsToDisplay.length-1;if(e<=0)return 0;var o=_.last(this.rowsToDisplay);if(o.rowTop<=e)return this.rowsToDisplay.length-1;for(;;){var a=Math.floor((r+i)/2),s=this.rowsToDisplay[a];if(this.isRowInPixel(s,e))return a;s.rowTop<e?r=a+1:s.rowTop>e&&(i=a-1)}},t.prototype.isRowInPixel=function(e,r){var i=e.rowTop,o=e.rowTop+e.rowHeight,a=i<=r&&o>r;return a},t.prototype.forEachLeafNode=function(e){this.rootNode.allLeafChildren&&this.rootNode.allLeafChildren.forEach(function(r,i){return e(r,i)})},t.prototype.forEachNode=function(e){this.recursivelyWalkNodesAndCallback(this.rootNode.childrenAfterGroup,e,So.Normal,0)},t.prototype.forEachNodeAfterFilter=function(e){this.recursivelyWalkNodesAndCallback(this.rootNode.childrenAfterAggFilter,e,So.AfterFilter,0)},t.prototype.forEachNodeAfterFilterAndSort=function(e){this.recursivelyWalkNodesAndCallback(this.rootNode.childrenAfterSort,e,So.AfterFilterAndSort,0)},t.prototype.forEachPivotNode=function(e){this.recursivelyWalkNodesAndCallback([this.rootNode],e,So.PivotNodes,0)},t.prototype.recursivelyWalkNodesAndCallback=function(e,r,i,o){if(!e)return o;for(var a=0;a<e.length;a++){var s=e[a];if(r(s,o++),s.hasChildren()){var l=null;switch(i){case So.Normal:l=s.childrenAfterGroup;break;case So.AfterFilter:l=s.childrenAfterAggFilter;break;case So.AfterFilterAndSort:l=s.childrenAfterSort;break;case So.PivotNodes:l=s.leafGroup?null:s.childrenAfterSort;break}l&&(o=this.recursivelyWalkNodesAndCallback(l,r,i,o))}}return o},t.prototype.doAggregate=function(e){this.aggregationStage&&this.aggregationStage.execute({rowNode:this.rootNode,changedPath:e})},t.prototype.doFilterAggregates=function(e){this.filterAggregatesStage?this.filterAggregatesStage.execute({rowNode:this.rootNode,changedPath:e}):this.rootNode.childrenAfterAggFilter=this.rootNode.childrenAfterFilter},t.prototype.expandOrCollapseAll=function(e){var r=this.gridOptionsWrapper.isTreeData(),i=this.columnModel.isPivotActive(),o=function(l){!l||l.forEach(function(u){var c=function(){u.expanded=e,o(u.childrenAfterGroup)};if(r){var p=_.exists(u.childrenAfterGroup);p&&c();return}if(i){var h=!u.leafGroup;h&&c();return}var d=u.group;d&&c()})};this.rootNode&&o(this.rootNode.childrenAfterGroup),this.refreshModel({step:ot.MAP});var a=e?"expandAll":"collapseAll",s={api:this.gridApi,columnApi:this.columnApi,type:x.EVENT_EXPAND_COLLAPSE_ALL,source:a};this.eventService.dispatchEvent(s)},t.prototype.doSort=function(e,r){this.sortStage.execute({rowNode:this.rootNode,rowNodeTransactions:e,changedPath:r})},t.prototype.doRowGrouping=function(e,r,i,o,a){this.groupStage?(r?this.groupStage.execute({rowNode:this.rootNode,rowNodeTransactions:r,rowNodeOrder:i,changedPath:o}):(this.groupStage.execute({rowNode:this.rootNode,changedPath:o,afterColumnsChanged:a}),this.restoreGroupState(e)),this.gridOptionsWrapper.isGroupSelectsChildren()&&this.selectionService.updateGroupsFromChildrenSelections(o)):(this.rootNode.childrenAfterGroup=this.rootNode.allLeafChildren,this.rootNode.sibling&&(this.rootNode.sibling.childrenAfterGroup=this.rootNode.childrenAfterGroup),this.rootNode.updateHasChildren())},t.prototype.restoreGroupState=function(e){!e||_.traverseNodesWithKey(this.rootNode.childrenAfterGroup,function(r,i){typeof e[i]=="boolean"&&(r.expanded=e[i])})},t.prototype.doFilter=function(e){this.filterStage.execute({rowNode:this.rootNode,changedPath:e})},t.prototype.doPivot=function(e){this.pivotStage&&this.pivotStage.execute({rowNode:this.rootNode,changedPath:e})},t.prototype.getGroupState=function(){if(!this.rootNode.childrenAfterGroup||!this.gridOptionsWrapper.isRememberGroupStateWhenNewData())return null;var e={};return _.traverseNodesWithKey(this.rootNode.childrenAfterGroup,function(r,i){return e[i]=r.expanded}),e},t.prototype.getCopyOfNodesMap=function(){return this.nodeManager.getCopyOfNodesMap()},t.prototype.getRowNode=function(e){var r=typeof e=="string"&&e.indexOf(Ee.ID_PREFIX_ROW_GROUP)==0;if(r){var i=void 0;return this.forEachNode(function(o){o.id===e&&(i=o)}),i}return this.nodeManager.getRowNode(e)},t.prototype.setRowData=function(e){var r=this.getGroupState();this.nodeManager.setRowData(e),this.selectionService.reset(),this.filterManager.onNewRowsLoaded("rowDataUpdated");var i={type:x.EVENT_ROW_DATA_CHANGED,api:this.gridApi,columnApi:this.columnApi};this.eventService.dispatchEvent(i),this.refreshModel({step:ot.EVERYTHING,groupState:r,newData:!0})},t.prototype.batchUpdateRowData=function(e,r){var i=this;if(this.applyAsyncTransactionsTimeout==null){this.rowDataTransactionBatch=[];var o=this.gridOptionsWrapper.getAsyncTransactionWaitMillis();this.applyAsyncTransactionsTimeout=window.setTimeout(function(){i.executeBatchUpdateRowData()},o)}this.rowDataTransactionBatch.push({rowDataTransaction:e,callback:r})},t.prototype.flushAsyncTransactions=function(){this.applyAsyncTransactionsTimeout!=null&&(clearTimeout(this.applyAsyncTransactionsTimeout),this.executeBatchUpdateRowData())},t.prototype.executeBatchUpdateRowData=function(){var e=this;this.valueCache.onDataChanged();var r=[],i=[],o=!1;if(this.rowDataTransactionBatch&&this.rowDataTransactionBatch.forEach(function(s){var l=e.nodeManager.updateRowData(s.rowDataTransaction,void 0);i.push(l),s.callback&&r.push(s.callback.bind(null,l)),typeof s.rowDataTransaction.addIndex=="number"&&(o=!0)}),this.commonUpdateRowData(i,void 0,o),r.length>0&&window.setTimeout(function(){r.forEach(function(s){return s()})},0),i.length>0){var a={api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),type:x.EVENT_ASYNC_TRANSACTIONS_FLUSHED,results:i};this.eventService.dispatchEvent(a)}this.rowDataTransactionBatch=null,this.applyAsyncTransactionsTimeout=void 0},t.prototype.updateRowData=function(e,r){this.valueCache.onDataChanged();var i=this.nodeManager.updateRowData(e,r),o=typeof e.addIndex=="number";return this.commonUpdateRowData([i],r,o),i},t.prototype.createRowNodeOrder=function(){var e=this.gridOptionsWrapper.isSuppressMaintainUnsortedOrder();if(!e){var r={};if(this.rootNode&&this.rootNode.allLeafChildren)for(var i=0;i<this.rootNode.allLeafChildren.length;i++){var o=this.rootNode.allLeafChildren[i];r[o.id]=i}return r}},t.prototype.commonUpdateRowData=function(e,r,i){var o=!this.gridOptionsWrapper.isSuppressAnimationFrame();i&&(r=this.createRowNodeOrder()),this.refreshModel({step:ot.EVERYTHING,rowNodeTransactions:e,rowNodeOrder:r,keepRenderedRows:!0,keepEditingRows:!0,animate:o});var a={type:x.EVENT_ROW_DATA_UPDATED,api:this.gridApi,columnApi:this.columnApi};this.eventService.dispatchEvent(a)},t.prototype.doRowsToDisplay=function(){this.rowsToDisplay=this.flattenStage.execute({rowNode:this.rootNode})},t.prototype.onRowHeightChanged=function(){this.refreshModel({step:ot.MAP,keepRenderedRows:!0,keepEditingRows:!0})},t.prototype.resetRowHeights=function(){var e=!1;this.forEachNode(function(r){r.setRowHeight(r.rowHeight,!0);var i=r.detailNode;i&&i.setRowHeight(i.rowHeight,!0),e=!0}),e&&this.onRowHeightChanged()},Rr([y("columnModel")],t.prototype,"columnModel",void 0),Rr([y("selectionService")],t.prototype,"selectionService",void 0),Rr([y("filterManager")],t.prototype,"filterManager",void 0),Rr([y("valueCache")],t.prototype,"valueCache",void 0),Rr([y("columnApi")],t.prototype,"columnApi",void 0),Rr([y("gridApi")],t.prototype,"gridApi",void 0),Rr([y("animationFrameService")],t.prototype,"animationFrameService",void 0),Rr([y("beans")],t.prototype,"beans",void 0),Rr([y("filterStage")],t.prototype,"filterStage",void 0),Rr([y("sortStage")],t.prototype,"sortStage",void 0),Rr([y("flattenStage")],t.prototype,"flattenStage",void 0),Rr([Fe("groupStage")],t.prototype,"groupStage",void 0),Rr([Fe("aggregationStage")],t.prototype,"aggregationStage",void 0),Rr([Fe("pivotStage")],t.prototype,"pivotStage",void 0),Rr([Fe("filterAggregatesStage")],t.prototype,"filterAggregatesStage",void 0),Rr([H],t.prototype,"init",null),t=Rr([J("rowModel")],t),t}(j),_7=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),sE=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},S7=function(n){_7(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.execute=function(e){var r=e.changedPath;this.filterService.filter(r)},sE([y("filterService")],t.prototype,"filterService",void 0),t=sE([J("filterStage")],t),t}(j),x7=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),df=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},T7=function(n){x7(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.execute=function(e){var r=this.sortController.getSortOptions(),i=_.exists(r)&&r.length>0,o=i&&_.exists(e.rowNodeTransactions)&&this.gridOptionsWrapper.isDeltaSort(),a=r.some(function(s){return!!s.column.getColDef().showRowGroup});this.sortService.sort(r,i,o,e.rowNodeTransactions,e.changedPath,a)},df([y("sortService")],t.prototype,"sortService",void 0),df([y("sortController")],t.prototype,"sortController",void 0),df([y("columnModel")],t.prototype,"columnModel",void 0),t=df([J("sortStage")],t),t}(j),O7=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),SC=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},E7=function(n){O7(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.execute=function(e){var r=e.rowNode,i=[],o={value:0},a=this.columnModel.isPivotMode(),s=a&&r.leafGroup,l=s?[r]:r.childrenAfterSort;this.recursivelyAddToRowsToDisplay(l,i,o,a,0);var u=i.length>0,c=!s&&u&&this.gridOptionsWrapper.isGroupIncludeTotalFooter();return c&&(this.ensureFooterNodeExists(r),this.addRowNodeToRowsToDisplay(r.sibling,i,o,0)),i},t.prototype.recursivelyAddToRowsToDisplay=function(e,r,i,o,a){if(!_.missingOrEmpty(e))for(var s=this.gridOptionsWrapper.isGroupHideOpenParents(),l=this.gridOptionsWrapper.isGroupRemoveSingleChildren(),u=!l&&this.gridOptionsWrapper.isGroupRemoveLowestSingleChildren(),c=0;c<e.length;c++){var p=e[c],h=p.hasChildren(),d=o&&!h,f=l&&h&&p.childrenAfterGroup.length===1,g=u&&h&&p.leafGroup&&p.childrenAfterGroup.length===1,v=o&&p.leafGroup,m=s&&p.expanded&&!p.master&&!v,C=!d&&!m&&!f&&!g;if(C&&this.addRowNodeToRowsToDisplay(p,r,i,a),!(o&&p.leafGroup)){if(h){var b=f||g;if(p.expanded||b){var w=b?a:a+1;this.recursivelyAddToRowsToDisplay(p.childrenAfterSort,r,i,o,w),this.gridOptionsWrapper.isGroupIncludeFooter()&&(this.ensureFooterNodeExists(p),this.addRowNodeToRowsToDisplay(p.sibling,r,i,a))}}else if(p.master&&p.expanded){var S=this.createDetailNode(p);this.addRowNodeToRowsToDisplay(S,r,i,a)}}}},t.prototype.addRowNodeToRowsToDisplay=function(e,r,i,o){var a=this.gridOptionsWrapper.isGroupMultiAutoColumn();r.push(e),e.setUiLevel(a?0:o)},t.prototype.ensureFooterNodeExists=function(e){if(!_.exists(e.sibling)){var r=new Ee(this.beans);Object.keys(e).forEach(function(i){r[i]=e[i]}),r.footer=!0,r.setRowTop(null),r.setRowIndex(null),r.oldRowTop=null,_.exists(r.id)&&(r.id="rowGroupFooter_"+r.id),r.sibling=e,e.sibling=r}},t.prototype.createDetailNode=function(e){if(_.exists(e.detailNode))return e.detailNode;var r=new Ee(this.beans);return r.detail=!0,r.selectable=!1,r.parent=e,_.exists(e.id)&&(r.id="detail_"+e.id),r.data=e.data,r.level=e.level+1,e.detailNode=r,r},SC([y("columnModel")],t.prototype,"columnModel",void 0),SC([y("beans")],t.prototype,"beans",void 0),t=SC([J("flattenStage")],t),t}(j),R7=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),ff=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},P7=function(n){R7(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.init=function(){this.postSortFunc=this.gridOptionsWrapper.getPostSortFunc()},t.prototype.sort=function(e,r,i,o,a,s){var l=this,u=this.gridOptionsWrapper.isGroupMaintainOrder(),c=this.columnModel.getAllGridColumns().some(function(f){return f.isRowGroupActive()}),p={};i&&o&&(p=this.calculateDirtyNodes(o));var h=this.columnModel.isPivotMode(),d=function(f){l.pullDownGroupDataForHideOpenParents(f.childrenAfterAggFilter,!0);var g=h&&f.leafGroup,v=u&&c&&!f.leafGroup&&!s;if(!r||v||g){var m=f.childrenAfterAggFilter.slice(0);if(u&&f.childrenAfterSort){var C=f.childrenAfterSort.reduce(function(w,S,T){return w[S.id]=T,w},{});m.sort(function(w,S){return(C[w.id]||0)-(C[S.id]||0)})}f.childrenAfterSort=m}else i?f.childrenAfterSort=l.doDeltaSort(f,p,a,e):f.childrenAfterSort=l.rowNodeSorter.doFullSort(f.childrenAfterAggFilter,e);if(f.sibling&&(f.sibling.childrenAfterSort=f.childrenAfterSort),l.updateChildIndexes(f),l.postSortFunc){var b={nodes:f.childrenAfterSort};l.postSortFunc(b)}};a&&a.forEachChangedNodeDepthFirst(d),this.updateGroupDataForHideOpenParents(a)},t.prototype.calculateDirtyNodes=function(e){var r={},i=function(o){o&&o.forEach(function(a){return r[a.id]=!0})};return e&&e.forEach(function(o){i(o.add),i(o.update),i(o.remove)}),r},t.prototype.doDeltaSort=function(e,r,i,o){var a=this,s=e.childrenAfterAggFilter,l=e.childrenAfterSort;if(!l)return this.rowNodeSorter.doFullSort(s,o);var u={},c=[];s.forEach(function(f){r[f.id]||!i.canSkip(f)?c.push(f):u[f.id]=!0});var p=l.filter(function(f){return u[f.id]}),h=function(f,g){return{currentPos:g,rowNode:f}},d=c.map(h).sort(function(f,g){return a.rowNodeSorter.compareRowNodes(o,f,g)});return this.mergeSortedArrays(o,d,p.map(h)).map(function(f){var g=f.rowNode;return g})},t.prototype.mergeSortedArrays=function(e,r,i){for(var o=[],a=0,s=0;a<r.length&&s<i.length;){var l=this.rowNodeSorter.compareRowNodes(e,r[a],i[s]);l<0?o.push(r[a++]):o.push(i[s++])}for(;a<r.length;)o.push(r[a++]);for(;s<i.length;)o.push(i[s++]);return o},t.prototype.updateChildIndexes=function(e){if(!_.missing(e.childrenAfterSort))for(var r=e.childrenAfterSort,i=0;i<r.length;i++){var o=r[i],a=i===0,s=i===e.childrenAfterSort.length-1;o.setFirstChild(a),o.setLastChild(s),o.setChildIndex(i)}},t.prototype.updateGroupDataForHideOpenParents=function(e){var r=this;if(!!this.gridOptionsWrapper.isGroupHideOpenParents()){if(this.gridOptionsWrapper.isTreeData()){var i="AG Grid: The property hideOpenParents dose not work with Tree Data. This is because Tree Data has values at the group level, it doesn't make sense to hide them (as opposed to Row Grouping, which only has Aggregated Values at the group level).";return _.doOnce(function(){return console.warn(i)},"sortService.hideOpenParentsWithTreeData"),!1}var o=function(a){r.pullDownGroupDataForHideOpenParents(a.childrenAfterSort,!1),a.childrenAfterSort.forEach(function(s){s.hasChildren()&&o(s)})};e&&e.executeFromRootNode(function(a){return o(a)})}},t.prototype.pullDownGroupDataForHideOpenParents=function(e,r){var i=this;!this.gridOptionsWrapper.isGroupHideOpenParents()||_.missing(e)||e.forEach(function(o){var a=i.columnModel.getGroupDisplayColumns();a.forEach(function(s){var l=s.getColDef().showRowGroup;if(typeof l!="string"){console.error("AG Grid: groupHideOpenParents only works when specifying specific columns for colDef.showRowGroup");return}var u=l,c=i.columnModel.getPrimaryColumn(u),p=c===o.rowGroupColumn;if(!p)if(r)o.setGroupValue(s.getId(),void 0);else{var h=o.getFirstChildOfFirstChild(c);h&&o.setGroupValue(s.getId(),h.key)}})})},ff([y("columnModel")],t.prototype,"columnModel",void 0),ff([y("rowNodeSorter")],t.prototype,"rowNodeSorter",void 0),ff([H],t.prototype,"init",null),t=ff([J("sortService")],t),t}(j),A7=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),lE=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},D7=function(n){A7(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.filter=function(e){var r=this.filterManager.isColumnFilterPresent()||this.filterManager.isQuickFilterPresent()||this.gridOptionsWrapper.isExternalFilterPresent();this.filterNodes(r,e)},t.prototype.filterNodes=function(e,r){var i=this,o=function(u,c){u.hasChildren()&&e&&!c?u.childrenAfterFilter=u.childrenAfterGroup.filter(function(p){var h=p.childrenAfterFilter&&p.childrenAfterFilter.length>0,d=p.data&&i.filterManager.doesRowPassFilter({rowNode:p});return h||d}):u.childrenAfterFilter=u.childrenAfterGroup,u.sibling&&(u.sibling.childrenAfterFilter=u.childrenAfterFilter)};if(this.doingTreeDataFiltering()){var a=function(u,c){if(u.childrenAfterGroup)for(var p=0;p<u.childrenAfterGroup.length;p++){var h=u.childrenAfterGroup[p],d=c||i.filterManager.doesRowPassFilter({rowNode:h});h.childrenAfterGroup?a(u.childrenAfterGroup[p],d):o(h,d)}o(u,c)},s=function(u){return a(u,!1)};r.executeFromRootNode(s)}else{var l=function(u){return o(u,!1)};r.forEachChangedNodeDepthFirst(l,!0)}},t.prototype.doingTreeDataFiltering=function(){return this.gridOptionsWrapper.isTreeData()&&!this.gridOptionsWrapper.isExcludeChildrenWhenTreeDataFiltering()},lE([y("filterManager")],t.prototype,"filterManager",void 0),t=lE([J("filterService")],t),t}(j),M7=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Au=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},F7=globalThis&&globalThis.__read||function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},I7=function(n){M7(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.postConstruct=function(){this.rowModel.getType()===L.ROW_MODEL_TYPE_CLIENT_SIDE&&(this.clientSideRowModel=this.rowModel)},t.prototype.isActive=function(){return this.gridOptionsWrapper.isImmutableData()},t.prototype.setRowData=function(e){var r=this.createTransactionForRowData(e);if(!!r){var i=F7(r,2),o=i[0],a=i[1],s=this.clientSideRowModel.updateRowData(o,a);s&&this.rowRenderer.refreshFullWidthRows(s.update);var l={type:x.EVENT_ROW_DATA_CHANGED,api:this.gridApi,columnApi:this.columnApi};this.eventService.dispatchEvent(l)}},t.prototype.createTransactionForRowData=function(e){if(_.missing(this.clientSideRowModel)){console.error("AG Grid: ImmutableService only works with ClientSideRowModel");return}var r=this.gridOptionsWrapper.getRowIdFunc();if(r==null){console.error("AG Grid: ImmutableService requires getRowId() callback to be implemented, your row data needs IDs!");return}var i={remove:[],update:[],add:[]},o=this.clientSideRowModel.getCopyOfNodesMap(),a=this.gridOptionsWrapper.isSuppressMaintainUnsortedOrder(),s=a?void 0:{};return _.exists(e)&&e.forEach(function(l,u){var c=r({data:l,level:0}),p=o[c];if(s&&(s[c]=u),p){var h=p.data!==l;h&&i.update.push(l),o[c]=void 0}else i.add.push(l)}),_.iterateObject(o,function(l,u){u&&i.remove.push(u.data)}),[i,s]},Au([y("rowModel")],t.prototype,"rowModel",void 0),Au([y("rowRenderer")],t.prototype,"rowRenderer",void 0),Au([y("columnApi")],t.prototype,"columnApi",void 0),Au([y("gridApi")],t.prototype,"gridApi",void 0),Au([H],t.prototype,"postConstruct",null),t=Au([J("immutableService")],t),t}(j),L7={moduleName:ae.ClientSideRowModelModule,beans:[S7,T7,E7,P7,D7,I7],rowModels:{clientSide:w7}},N7=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),xC=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},uE=function(n){N7(t,n);function t(e,r,i){var o=n.call(this,e)||this;return o.parentCache=r,o.params=i,o.startRow=e*i.blockSize,o.endRow=o.startRow+i.blockSize,o}return t.prototype.postConstruct=function(){this.createRowNodes()},t.prototype.getBlockStateJson=function(){return{id:""+this.getId(),state:{blockNumber:this.getId(),startRow:this.getStartRow(),endRow:this.getEndRow(),pageStatus:this.getState()}}},t.prototype.setDataAndId=function(e,r,i){!e.id&&e.alreadyRendered&&(e.alreadyRendered=!1),_.exists(r)?e.setDataAndId(r,i.toString()):e.setDataAndId(void 0,void 0)},t.prototype.loadFromDatasource=function(){var e=this,r=this.createLoadParams();if(_.missing(this.params.datasource.getRows)){console.warn("AG Grid: datasource is missing getRows method");return}window.setTimeout(function(){e.params.datasource.getRows(r)},0)},t.prototype.processServerFail=function(){},t.prototype.createLoadParams=function(){var e={startRow:this.getStartRow(),endRow:this.getEndRow(),successCallback:this.pageLoaded.bind(this,this.getVersion()),failCallback:this.pageLoadFailed.bind(this,this.getVersion()),sortModel:this.params.sortModel,filterModel:this.params.filterModel,context:this.gridOptionsWrapper.getContext()};return e},t.prototype.forEachNode=function(e,r,i){var o=this;this.rowNodes.forEach(function(a,s){var l=o.startRow+s;l<i&&e(a,r.next())})},t.prototype.getLastAccessed=function(){return this.lastAccessed},t.prototype.getRow=function(e,r){r===void 0&&(r=!1),r||(this.lastAccessed=this.params.lastAccessedSequence.next());var i=e-this.startRow;return this.rowNodes[i]},t.prototype.getStartRow=function(){return this.startRow},t.prototype.getEndRow=function(){return this.endRow},t.prototype.createRowNodes=function(){this.rowNodes=[];for(var e=0;e<this.params.blockSize;e++){var r=this.startRow+e,i=new Ee(this.beans);i.setRowHeight(this.params.rowHeight),i.uiLevel=0,i.setRowIndex(r),i.setRowTop(this.params.rowHeight*r),this.rowNodes.push(i)}},t.prototype.processServerResult=function(e){var r=this;this.rowNodes.forEach(function(o,a){var s=e.rowData?e.rowData[a]:void 0;r.setDataAndId(o,s,r.startRow+a)});var i=e.rowCount!=null&&e.rowCount>=0?e.rowCount:void 0;this.parentCache.pageLoaded(this,i)},t.prototype.destroyRowNodes=function(){this.rowNodes.forEach(function(e){e.clearRowTopAndRowIndex()})},xC([y("beans")],t.prototype,"beans",void 0),xC([H],t.prototype,"postConstruct",null),xC([_t],t.prototype,"destroyRowNodes",null),t}(On),k7=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),gf=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},G7=globalThis&&globalThis.__param||function(n,t){return function(e,r){t(e,r,n)}},B7=function(n){k7(t,n);function t(e){var r=n.call(this)||this;return r.lastRowIndexKnown=!1,r.blocks={},r.blockCount=0,r.rowCount=e.initialRowCount,r.params=e,r}return t.prototype.setBeans=function(e){this.logger=e.create("InfiniteCache")},t.prototype.getRow=function(e,r){r===void 0&&(r=!1);var i=Math.floor(e/this.params.blockSize),o=this.blocks[i];if(!o){if(r)return;o=this.createBlock(i)}return o.getRow(e)},t.prototype.createBlock=function(e){var r=this.createBean(new uE(e,this,this.params));return this.blocks[r.getId()]=r,this.blockCount++,this.purgeBlocksIfNeeded(r),this.params.rowNodeBlockLoader.addBlock(r),r},t.prototype.refreshCache=function(){var e=this.blockCount==0;if(e){this.purgeCache();return}this.getBlocksInOrder().forEach(function(r){return r.setStateWaitingToLoad()}),this.params.rowNodeBlockLoader.checkBlockToLoad()},t.prototype.destroyAllBlocks=function(){var e=this;this.getBlocksInOrder().forEach(function(r){return e.destroyBlock(r)})},t.prototype.getRowCount=function(){return this.rowCount},t.prototype.isLastRowIndexKnown=function(){return this.lastRowIndexKnown},t.prototype.pageLoaded=function(e,r){!this.isAlive()||(this.logger.log("onPageLoaded: page = "+e.getId()+", lastRow = "+r),this.checkRowCount(e,r),this.onCacheUpdated())},t.prototype.purgeBlocksIfNeeded=function(e){var r=this,i=this.getBlocksInOrder().filter(function(u){return u!=e}),o=function(u,c){return c.getLastAccessed()-u.getLastAccessed()};i.sort(o);var a=this.params.maxBlocksInCache>0,s=a?this.params.maxBlocksInCache-1:null,l=t.MAX_EMPTY_BLOCKS_TO_KEEP-1;i.forEach(function(u,c){var p=u.getState()===uE.STATE_WAITING_TO_LOAD&&c>=l,h=a?c>=s:!1;if(p||h){if(r.isBlockCurrentlyDisplayed(u)||r.isBlockFocused(u))return;r.removeBlockFromCache(u)}})},t.prototype.isBlockFocused=function(e){var r=this.focusService.getFocusCellToUseAfterRefresh();if(!r||r.rowPinned!=null)return!1;var i=e.getStartRow(),o=e.getEndRow(),a=r.rowIndex>=i&&r.rowIndex<o;return a},t.prototype.isBlockCurrentlyDisplayed=function(e){var r=e.getStartRow(),i=e.getEndRow()-1;return this.rowRenderer.isRangeInRenderedViewport(r,i)},t.prototype.removeBlockFromCache=function(e){!e||this.destroyBlock(e)},t.prototype.checkRowCount=function(e,r){if(typeof r=="number"&&r>=0)this.rowCount=r,this.lastRowIndexKnown=!0;else if(!this.lastRowIndexKnown){var i=(e.getId()+1)*this.params.blockSize,o=i+this.params.overflowSize;this.rowCount<o&&(this.rowCount=o)}},t.prototype.setRowCount=function(e,r){this.rowCount=e,_.exists(r)&&(this.lastRowIndexKnown=r),this.lastRowIndexKnown||this.rowCount%this.params.blockSize===0&&this.rowCount++,this.onCacheUpdated()},t.prototype.forEachNodeDeep=function(e){var r=this,i=new vr;this.getBlocksInOrder().forEach(function(o){return o.forEachNode(e,i,r.rowCount)})},t.prototype.getBlocksInOrder=function(){var e=function(i,o){return i.getId()-o.getId()},r=_.getAllValuesInObject(this.blocks).sort(e);return r},t.prototype.destroyBlock=function(e){delete this.blocks[e.getId()],this.destroyBean(e),this.blockCount--,this.params.rowNodeBlockLoader.removeBlock(e)},t.prototype.onCacheUpdated=function(){if(this.isAlive()){this.destroyAllBlocksPastVirtualRowCount();var e={type:x.EVENT_STORE_UPDATED};this.eventService.dispatchEvent(e)}},t.prototype.destroyAllBlocksPastVirtualRowCount=function(){var e=this,r=[];this.getBlocksInOrder().forEach(function(i){var o=i.getId()*e.params.blockSize;o>=e.rowCount&&r.push(i)}),r.length>0&&r.forEach(function(i){return e.destroyBlock(i)})},t.prototype.purgeCache=function(){var e=this;this.getBlocksInOrder().forEach(function(r){return e.removeBlockFromCache(r)}),this.lastRowIndexKnown=!1,this.rowCount===0&&(this.rowCount=this.params.initialRowCount),this.onCacheUpdated()},t.prototype.getRowNodesInRange=function(e,r){var i=this,o=[],a=-1,s=!1,l=new vr;_.missing(e)&&(s=!0);var u=!1;this.getBlocksInOrder().forEach(function(p){if(!u){if(s&&a+1!==p.getId()){u=!0;return}a=p.getId(),p.forEachNode(function(h){var d=h===e||h===r;(s||d)&&o.push(h),d&&(s=!s)},l,i.rowCount)}});var c=u||s;return c?[]:o},t.MAX_EMPTY_BLOCKS_TO_KEEP=2,gf([y("rowRenderer")],t.prototype,"rowRenderer",void 0),gf([y("focusService")],t.prototype,"focusService",void 0),gf([G7(0,xr("loggerFactory"))],t.prototype,"setBeans",null),gf([_t],t.prototype,"destroyAllBlocks",null),t}(j),V7=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),go=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},W7=function(n){V7(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.getRowBounds=function(e){return{rowHeight:this.rowHeight,rowTop:this.rowHeight*e}},t.prototype.ensureRowHeightsValid=function(e,r,i,o){return!1},t.prototype.init=function(){var e=this;!this.gridOptionsWrapper.isRowModelInfinite()||(this.rowHeight=this.gridOptionsWrapper.getRowHeightAsNumber(),this.addEventListeners(),this.addDestroyFunc(function(){return e.destroyCache()}),this.verifyProps())},t.prototype.verifyProps=function(){if(this.gridOptionsWrapper.getInitialGroupOrderComparator()!=null){var e="AG Grid: initialGroupOrderComparator cannot be used with Infinite Row Model. If using Infinite Row Model, then sorting is done on the server side, nothing to do with the client.";_.doOnce(function(){return console.warn(e)},"IRM.InitialGroupOrderComparator")}},t.prototype.start=function(){this.setDatasource(this.gridOptionsWrapper.getDatasource())},t.prototype.destroyDatasource=function(){this.datasource&&(this.getContext().destroyBean(this.datasource),this.rowRenderer.datasourceChanged(),this.datasource=null)},t.prototype.addEventListeners=function(){this.addManagedListener(this.eventService,x.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.addManagedListener(this.eventService,x.EVENT_SORT_CHANGED,this.onSortChanged.bind(this)),this.addManagedListener(this.eventService,x.EVENT_NEW_COLUMNS_LOADED,this.onColumnEverything.bind(this)),this.addManagedListener(this.eventService,x.EVENT_STORE_UPDATED,this.onCacheUpdated.bind(this))},t.prototype.onFilterChanged=function(){this.reset()},t.prototype.onSortChanged=function(){this.reset()},t.prototype.onColumnEverything=function(){var e;this.cacheParams?e=this.isSortModelDifferent():e=!0,e&&this.reset()},t.prototype.isSortModelDifferent=function(){return!_.jsonEquals(this.cacheParams.sortModel,this.sortController.getSortModel())},t.prototype.getType=function(){return L.ROW_MODEL_TYPE_INFINITE},t.prototype.setDatasource=function(e){this.destroyDatasource(),this.datasource=e,e&&this.reset()},t.prototype.isEmpty=function(){return!this.infiniteCache},t.prototype.isRowsToRender=function(){return!!this.infiniteCache},t.prototype.getNodesInRangeForSelection=function(e,r){return this.infiniteCache?this.infiniteCache.getRowNodesInRange(e,r):[]},t.prototype.reset=function(){if(!!this.datasource){var e=this.gridOptionsWrapper.getRowIdFunc(),r=e!=null;r||this.selectionService.reset(),this.resetCache();var i=this.createModelUpdatedEvent();this.eventService.dispatchEvent(i)}},t.prototype.createModelUpdatedEvent=function(){return{type:x.EVENT_MODEL_UPDATED,api:this.gridApi,columnApi:this.columnApi,newPage:!1,newData:!1,keepRenderedRows:!0,animate:!1}},t.prototype.resetCache=function(){this.destroyCache(),this.cacheParams={datasource:this.datasource,filterModel:this.filterManager.getFilterModel(),sortModel:this.sortController.getSortModel(),rowNodeBlockLoader:this.rowNodeBlockLoader,initialRowCount:this.defaultIfInvalid(this.gridOptionsWrapper.getInfiniteInitialRowCount(),1),maxBlocksInCache:this.gridOptionsWrapper.getMaxBlocksInCache(),rowHeight:this.gridOptionsWrapper.getRowHeightAsNumber(),overflowSize:this.defaultIfInvalid(this.gridOptionsWrapper.getCacheOverflowSize(),1),blockSize:this.defaultIfInvalid(this.gridOptionsWrapper.getCacheBlockSize(),100),lastAccessedSequence:new vr},this.infiniteCache=this.createBean(new B7(this.cacheParams))},t.prototype.defaultIfInvalid=function(e,r){return e>0?e:r},t.prototype.destroyCache=function(){this.infiniteCache&&(this.infiniteCache=this.destroyBean(this.infiniteCache))},t.prototype.onCacheUpdated=function(){var e=this.createModelUpdatedEvent();this.eventService.dispatchEvent(e)},t.prototype.getRow=function(e){if(!!this.infiniteCache&&!(e>=this.infiniteCache.getRowCount()))return this.infiniteCache.getRow(e)},t.prototype.getRowNode=function(e){var r;return this.forEachNode(function(i){i.id===e&&(r=i)}),r},t.prototype.forEachNode=function(e){this.infiniteCache&&this.infiniteCache.forEachNodeDeep(e)},t.prototype.getTopLevelRowCount=function(){return this.getRowCount()},t.prototype.getTopLevelRowDisplayedIndex=function(e){return e},t.prototype.getRowIndexAtPixel=function(e){if(this.rowHeight!==0){var r=Math.floor(e/this.rowHeight),i=this.getRowCount()-1;return r>i?i:r}return 0},t.prototype.getRowCount=function(){return this.infiniteCache?this.infiniteCache.getRowCount():0},t.prototype.isRowPresent=function(e){var r=this.getRowNode(e.id);return!!r},t.prototype.refreshCache=function(){this.infiniteCache&&this.infiniteCache.refreshCache()},t.prototype.purgeCache=function(){this.infiniteCache&&this.infiniteCache.purgeCache()},t.prototype.isLastRowIndexKnown=function(){return this.infiniteCache?this.infiniteCache.isLastRowIndexKnown():!1},t.prototype.setRowCount=function(e,r){this.infiniteCache&&this.infiniteCache.setRowCount(e,r)},go([y("filterManager")],t.prototype,"filterManager",void 0),go([y("sortController")],t.prototype,"sortController",void 0),go([y("selectionService")],t.prototype,"selectionService",void 0),go([y("gridApi")],t.prototype,"gridApi",void 0),go([y("columnApi")],t.prototype,"columnApi",void 0),go([y("rowRenderer")],t.prototype,"rowRenderer",void 0),go([y("rowNodeBlockLoader")],t.prototype,"rowNodeBlockLoader",void 0),go([H],t.prototype,"init",null),go([_t],t.prototype,"destroyDatasource",null),t=go([J("rowModel")],t),t}(j),H7={moduleName:ae.InfiniteRowModelModule,rowModels:{infinite:W7}},II=function(){function n(){}return n.prototype.setBeans=function(t){this.beans=t},n.prototype.getFileName=function(t){var e=this.getDefaultFileExtension();return(t==null||!t.length)&&(t=this.getDefaultFileName()),t.indexOf(".")===-1?t+"."+e:t},n.prototype.getData=function(t){var e=this.createSerializingSession(t),r=this.beans.gridSerializer.serialize(e,t);return r},n}(),LI=function(){function n(t){this.groupColumns=[];var e=t.columnModel,r=t.valueService,i=t.gridOptionsWrapper,o=t.processCellCallback,a=t.processHeaderCallback,s=t.processGroupHeaderCallback,l=t.processRowGroupCallback;this.columnModel=e,this.valueService=r,this.gridOptionsWrapper=i,this.processCellCallback=o,this.processHeaderCallback=a,this.processGroupHeaderCallback=s,this.processRowGroupCallback=l}return n.prototype.prepare=function(t){this.groupColumns=t.filter(function(e){return!!e.getColDef().showRowGroup})},n.prototype.extractHeaderValue=function(t){var e=this.getHeaderName(this.processHeaderCallback,t);return e!=null?e:""},n.prototype.extractRowCellValue=function(t,e,r,i,o){var a=this.gridOptionsWrapper.isGroupMultiAutoColumn()?o.rowGroupIndex:0,s=o&&o.group&&(e===a&&this.groupColumns.indexOf(t)!==-1||e===0&&this.gridOptionsWrapper.isGroupUseEntireRow(this.columnModel.isPivotMode())),l;s?l=this.createValueForGroupNode(o):l=this.valueService.getValue(t,o);var u=this.processCell(r,o,t,l,this.processCellCallback,i);return u!=null?u:""},n.prototype.getHeaderName=function(t,e){return t?t({column:e,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()}):this.columnModel.getDisplayNameForColumn(e,"csv",!0)},n.prototype.createValueForGroupNode=function(t){if(this.processRowGroupCallback)return this.processRowGroupCallback({node:t,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()});var e=[t.key];if(!this.gridOptionsWrapper.isGroupMultiAutoColumn())for(;t.parent;)t=t.parent,e.push(t.key);return e.reverse().join(" -> ")},n.prototype.processCell=function(t,e,r,i,o,a){return o?o({accumulatedRowIndex:t,column:r,node:e,value:i,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext(),type:a}):i!=null?i:""},n}(),I0=function(){function n(){}return n.download=function(t,e){var r=document.defaultView||window;if(!r){console.warn("AG Grid: There is no `window` associated with the current `document`");return}var i=document.createElement("a"),o=r.URL.createObjectURL(e);i.setAttribute("href",o),i.setAttribute("download",t),i.style.display="none",document.body.appendChild(i),i.dispatchEvent(new MouseEvent("click",{bubbles:!1,cancelable:!0,view:r})),document.body.removeChild(i),r.setTimeout(function(){r.URL.revokeObjectURL(o)},0)},n}(),j7=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),cE=`\r
`,U7=function(n){j7(t,n);function t(e){var r=n.call(this,e)||this;r.isFirstLine=!0,r.result="";var i=e.suppressQuotes,o=e.columnSeparator;return r.suppressQuotes=i,r.columnSeparator=o,r}return t.prototype.addCustomContent=function(e){var r=this;!e||(typeof e=="string"?(/^\s*\n/.test(e)||this.beginNewLine(),e=e.replace(/\r?\n/g,cE),this.result+=e):e.forEach(function(i){r.beginNewLine(),i.forEach(function(o,a){a!==0&&(r.result+=r.columnSeparator),r.result+=r.putInQuotes(o.data.value||""),o.mergeAcross&&r.appendEmptyCells(o.mergeAcross)})}))},t.prototype.onNewHeaderGroupingRow=function(){return this.beginNewLine(),{onColumn:this.onNewHeaderGroupingRowColumn.bind(this)}},t.prototype.onNewHeaderGroupingRowColumn=function(e,r,i){r!=0&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(e),this.appendEmptyCells(i)},t.prototype.appendEmptyCells=function(e){for(var r=1;r<=e;r++)this.result+=this.columnSeparator+this.putInQuotes("")},t.prototype.onNewHeaderRow=function(){return this.beginNewLine(),{onColumn:this.onNewHeaderRowColumn.bind(this)}},t.prototype.onNewHeaderRowColumn=function(e,r){r!=0&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(this.extractHeaderValue(e))},t.prototype.onNewBodyRow=function(){return this.beginNewLine(),{onColumn:this.onNewBodyRowColumn.bind(this)}},t.prototype.onNewBodyRowColumn=function(e,r,i){r!=0&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(this.extractRowCellValue(e,r,r,L.EXPORT_TYPE_CSV,i))},t.prototype.putInQuotes=function(e){if(this.suppressQuotes)return e;if(e==null)return'""';var r;typeof e=="string"?r=e:typeof e.toString=="function"?r=e.toString():(console.warn("AG Grid: unknown value type during csv conversion"),r="");var i=r.replace(/"/g,'""');return'"'+i+'"'},t.prototype.parse=function(){return this.result},t.prototype.beginNewLine=function(){this.isFirstLine||(this.result+=cE),this.isFirstLine=!1},t}(LI),z7=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Du=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},NI=function(n){z7(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.postConstruct=function(){this.setBeans({gridSerializer:this.gridSerializer,gridOptionsWrapper:this.gridOptionsWrapper})},t.prototype.getMergedParams=function(e){var r=this.gridOptionsWrapper.getDefaultExportParams("csv");return Object.assign({},r,e)},t.prototype.export=function(e){if(this.isExportSuppressed())return console.warn("AG Grid: Export cancelled. Export is not allowed as per your configuration."),"";var r=this.getMergedParams(e),i=this.getData(r),o=new Blob(["\uFEFF",i],{type:"text/plain"});return I0.download(this.getFileName(r.fileName),o),i},t.prototype.exportDataAsCsv=function(e){return this.export(e)},t.prototype.getDataAsCsv=function(e){var r=this.getMergedParams(e);return this.getData(r)},t.prototype.getDefaultFileName=function(){return"export.csv"},t.prototype.getDefaultFileExtension=function(){return"csv"},t.prototype.createSerializingSession=function(e){var r=this,i=r.columnModel,o=r.valueService,a=r.gridOptionsWrapper,s=e,l=s.processCellCallback,u=s.processHeaderCallback,c=s.processGroupHeaderCallback,p=s.processRowGroupCallback,h=s.suppressQuotes,d=s.columnSeparator;return new U7({columnModel:i,valueService:o,gridOptionsWrapper:a,processCellCallback:l||void 0,processHeaderCallback:u||void 0,processGroupHeaderCallback:c||void 0,processRowGroupCallback:p||void 0,suppressQuotes:h||!1,columnSeparator:d||","})},t.prototype.isExportSuppressed=function(){return this.gridOptionsWrapper.isSuppressCsvExport()},Du([y("columnModel")],t.prototype,"columnModel",void 0),Du([y("valueService")],t.prototype,"valueService",void 0),Du([y("gridSerializer")],t.prototype,"gridSerializer",void 0),Du([y("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),Du([H],t.prototype,"postConstruct",null),t=Du([J("csvCreator")],t),t}(II),$7=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),ol=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Ul;(function(n){n[n.HEADER_GROUPING=0]="HEADER_GROUPING",n[n.HEADER=1]="HEADER",n[n.BODY=2]="BODY"})(Ul||(Ul={}));var kI=function(n){$7(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.serialize=function(e,r){r===void 0&&(r={});var i=this.getColumnsToExport(r.allColumns,r.columnKeys),o=_.compose(this.prepareSession(i),this.prependContent(r),this.exportColumnGroups(r,i),this.exportHeaders(r,i),this.processPinnedTopRows(r,i),this.processRows(r,i),this.processPinnedBottomRows(r,i),this.appendContent(r));return o(e).parse()},t.prototype.processRow=function(e,r,i,o){var a=this,s=r.shouldRowBeSkipped||function(){return!1},l=this.gridOptionsWrapper,u=l.getContext(),c=l.getApi(),p=l.getColumnApi(),h=l.isGroupRemoveSingleChildren(),d=l.isGroupHideOpenParents(),f=l.isGroupRemoveLowestSingleChildren(),g=this.columnModel.isPivotMode()?o.leafGroup:!o.group,v=r.skipGroups||r.skipRowGroups,m=f&&o.leafGroup,C=o.allChildrenCount===1&&(h||m);v&&r.skipGroups&&_.doOnce(function(){return console.warn("AG Grid: Since v25.2 `skipGroups` has been renamed to `skipRowGroups`.")},"gridSerializer-skipGroups");var b={rowIndex:o.rowIndex,rowPinned:o.rowPinned};if(!(!g&&(r.skipRowGroups||C||d)||r.onlySelected&&!o.isSelected()||r.rowNodes&&!r.rowNodes.some(function(P){return a.rowPositionUtils.sameRow(P,b)})||r.skipPinnedTop&&o.rowPinned==="top"||r.skipPinnedBottom&&o.rowPinned==="bottom")){var w=o.level===-1;if(!(w&&!o.leafGroup)){var S=s({node:o,api:c,columnApi:p,context:u});if(!S){var T=e.onNewBodyRow();if(i.forEach(function(P,R){T.onColumn(P,R,o)}),r.getCustomContentBelowRow){var E=r.getCustomContentBelowRow({node:o,api:c,columnApi:p,context:u});E&&e.addCustomContent(E)}}}}},t.prototype.appendContent=function(e){return function(r){var i=e.customFooter||e.appendContent;return i&&(e.customFooter&&_.doOnce(function(){return console.warn("AG Grid: Since version 25.2.0 the `customFooter` param has been deprecated. Use `appendContent` instead.")},"gridSerializer-customFooter"),r.addCustomContent(i)),r}},t.prototype.prependContent=function(e){return function(r){var i=e.customHeader||e.prependContent;return i&&(e.customHeader&&_.doOnce(function(){return console.warn("AG Grid: Since version 25.2.0 the `customHeader` param has been deprecated. Use `prependContent` instead.")},"gridSerializer-customHeader"),r.addCustomContent(i)),r}},t.prototype.prepareSession=function(e){return function(r){return r.prepare(e),r}},t.prototype.exportColumnGroups=function(e,r){var i=this;return function(o){if(e.skipColumnGroupHeaders)e.columnGroups&&_.doOnce(function(){return console.warn("AG Grid: Since v25.2 the `columnGroups` param has deprecated, and groups are exported by default.")},"gridSerializer-columnGroups");else{var a=new vS,s=i.displayedGroupCreator.createDisplayedGroups(r,i.columnModel.getGridBalancedTree(),a,null);i.recursivelyAddHeaderGroups(s,o,e.processGroupHeaderCallback)}return o}},t.prototype.exportHeaders=function(e,r){return function(i){if(!e.skipHeader&&!e.skipColumnHeaders){var o=i.onNewHeaderRow();r.forEach(function(a,s){o.onColumn(a,s,void 0)})}else e.skipHeader&&_.doOnce(function(){return console.warn("AG Grid: Since v25.2 the `skipHeader` param has been renamed to `skipColumnHeaders`.")},"gridSerializer-skipHeader");return i}},t.prototype.processPinnedTopRows=function(e,r){var i=this;return function(o){var a=i.processRow.bind(i,o,e,r);return i.pinnedRowModel.forEachPinnedTopRow(a),o}},t.prototype.processRows=function(e,r){var i=this;return function(o){var a=i.rowModel,s=a.getType(),l=s===L.ROW_MODEL_TYPE_CLIENT_SIDE,u=s===L.ROW_MODEL_TYPE_SERVER_SIDE,c=!l&&e.onlySelected,p=i.processRow.bind(i,o,e,r);if(i.columnModel.isPivotMode())l?a.forEachPivotNode(p):a.forEachNode(p);else if(e.onlySelectedAllPages||c){var h=i.selectionService.getSelectedNodes();h.forEach(p)}else l||u?a.forEachNodeAfterFilterAndSort(p):a.forEachNode(p);return o}},t.prototype.processPinnedBottomRows=function(e,r){var i=this;return function(o){var a=i.processRow.bind(i,o,e,r);return i.pinnedRowModel.forEachPinnedBottomRow(a),o}},t.prototype.getColumnsToExport=function(e,r){e===void 0&&(e=!1);var i=this.columnModel.isPivotMode();if(r&&r.length)return this.columnModel.getGridColumns(r);if(e&&!i){var o=this.gridOptionsWrapper.isTreeData()?this.columnModel.getGridColumns([L.GROUP_AUTO_COLUMN_ID]):[];return o.concat(this.columnModel.getAllPrimaryColumns()||[])}return this.columnModel.getAllDisplayedColumns()},t.prototype.recursivelyAddHeaderGroups=function(e,r,i){var o=[];e.forEach(function(a){var s=a;!s.getChildren||s.getChildren().forEach(function(l){return o.push(l)})}),e.length>0&&e[0]instanceof kr&&this.doAddHeaderHeader(r,e,i),o&&o.length>0&&this.recursivelyAddHeaderGroups(o,r,i)},t.prototype.doAddHeaderHeader=function(e,r,i){var o=this,a=e.onNewHeaderGroupingRow(),s=0;r.forEach(function(l){var u=l,c;i?c=i({columnGroup:u,api:o.gridOptionsWrapper.getApi(),columnApi:o.gridOptionsWrapper.getColumnApi(),context:o.gridOptionsWrapper.getContext()}):c=o.columnModel.getDisplayNameForColumnGroup(u,"header");var p=u.getLeafColumns().reduce(function(h,d,f,g){var v=_.last(h),m=d.getColumnGroupShow()==="open";return m?(!v||v[1]!=null)&&(v=[f],h.push(v)):v&&v[1]==null&&(v[1]=f-1),f===g.length-1&&v&&v[1]==null&&(v[1]=f),h},[]);a.onColumn(c||"",s++,u.getLeafColumns().length-1,p)})},ol([y("displayedGroupCreator")],t.prototype,"displayedGroupCreator",void 0),ol([y("columnModel")],t.prototype,"columnModel",void 0),ol([y("rowModel")],t.prototype,"rowModel",void 0),ol([y("pinnedRowModel")],t.prototype,"pinnedRowModel",void 0),ol([y("selectionService")],t.prototype,"selectionService",void 0),ol([y("rowPositionUtils")],t.prototype,"rowPositionUtils",void 0),t=ol([J("gridSerializer")],t),t}(j),L0={moduleName:ae.CsvExportModule,beans:[NI,kI]},vf=`\r
`,Gw=function(){function n(){}return n.createHeader=function(t){t===void 0&&(t={});var e="<?",r="?>",i=["version"];t.version||(t.version="1.0"),t.encoding&&i.push("encoding"),t.standalone&&i.push("standalone");var o=i.map(function(a){return a+'="'+t[a]+'"'}).join(" ");return e+"xml "+o+" "+r},n.createXml=function(t,e){var r=this,i="";t.properties&&(t.properties.prefixedAttributes&&t.properties.prefixedAttributes.forEach(function(a){Object.keys(a.map).forEach(function(s){i+=r.returnAttributeIfPopulated(a.prefix+s,a.map[s],e)})}),t.properties.rawMap&&Object.keys(t.properties.rawMap).forEach(function(a){i+=r.returnAttributeIfPopulated(a,t.properties.rawMap[a],e)}));var o="<"+t.name+i;return!t.children&&t.textNode==null?o+"/>"+vf:t.textNode!=null?o+">"+t.textNode+"</"+t.name+">"+vf:(o+=">"+vf,t.children&&t.children.forEach(function(a){o+=r.createXml(a,e)}),o+"</"+t.name+">"+vf)},n.returnAttributeIfPopulated=function(t,e,r){if(!e&&e!==""&&e!==0)return"";var i=e;return typeof e=="boolean"&&r&&(i=r(e))," "+t+'="'+i+'"'},n}(),K7=globalThis&&globalThis.__values||function(n){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Y7=new Uint32Array([0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117]),jr=function(){function n(){}return n.addFolders=function(t){t.forEach(this.addFolder.bind(this))},n.addFolder=function(t){this.folders.push({path:t,created:new Date,isBase64:!1})},n.addFile=function(t,e,r){r===void 0&&(r=!1),this.files.push({path:t,created:new Date,content:e,isBase64:r})},n.getContent=function(t){t===void 0&&(t="application/zip");var e=this.buildFileStream(),r=this.buildUint8Array(e);return this.clearStream(),new Blob([r],{type:t})},n.clearStream=function(){this.folders=[],this.files=[]},n.buildFileStream=function(t){var e,r;t===void 0&&(t="");var i=this.folders.concat(this.files),o=i.length,a="",s=0,l=0;try{for(var u=K7(i),c=u.next();!c.done;c=u.next()){var p=c.value,h=this.getHeader(p,s),d=h.fileHeader,f=h.folderHeader,g=h.content;s+=d.length+g.length,l+=f.length,t+=d+g,a+=f}}catch(m){e={error:m}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(e)throw e.error}}var v=this.buildFolderEnd(o,l,s);return t+a+v},n.getHeader=function(t,e){var r=t.content,i=t.path,o=t.created,a=t.isBase64,s=_.utf8_encode,l=_.decToHex,u=s(i),c=u!==i,p=this.convertTime(o),h=this.convertDate(o),d="";if(c){var f=l(1,1)+l(this.getFromCrc32Table(u),4)+u;d="up"+l(f.length,2)+f}var g=r?this.getConvertedContent(r,a):{size:0,content:""},v=g.size,m=g.content,C=`
\0`+(c?"\0\b":"\0\0")+"\0\0"+l(p,2)+l(h,2)+l(v?this.getFromCrc32Table(m):0,4)+l(v,4)+l(v,4)+l(u.length,2)+l(d.length,2),b="PK"+C+u+d,w="PK\0"+C+"\0\0\0\0\0\0"+(r?"\0\0\0\0":"\0\0\0")+l(e,4)+u+d;return{fileHeader:b,folderHeader:w,content:m||""}},n.getConvertedContent=function(t,e){return e===void 0&&(e=!1),e&&(t=t.split(";base64,")[1]),t=e?atob(t):t,{size:t.length,content:t}},n.buildFolderEnd=function(t,e,r){var i=_.decToHex;return"PK\0\0\0\0"+i(t,2)+i(t,2)+i(e,4)+i(r,4)+"\0\0"},n.buildUint8Array=function(t){for(var e=new Uint8Array(t.length),r=0;r<e.length;r++)e[r]=t.charCodeAt(r);return e},n.getFromCrc32Table=function(t){if(!t.length)return 0;for(var e=t.length,r=new Uint8Array(e),i=0;i<e;i++)r[i]=t.charCodeAt(i);for(var o=-1,a=0,s=0,l=0,i=0;i<e;i++)a=r[i],s=(o^a)&255,l=Y7[s],o=o>>>8^l;return o^-1},n.convertTime=function(t){var e=t.getHours();return e<<=6,e=e|t.getMinutes(),e<<=5,e=e|t.getSeconds()/2,e},n.convertDate=function(t){var e=t.getFullYear()-1980;return e<<=4,e=e|t.getMonth()+1,e<<=5,e=e|t.getDate(),e},n.folders=[],n.files=[],n}(),X7=[L7,H7,L0],q7=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),TC=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Z7=globalThis&&globalThis.__read||function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},GI=function(n){q7(t,n);function t(){var r=n!==null&&n.apply(this,arguments)||this;return r.watermarkMessage=void 0,r}e=t,t.prototype.validateLicense=function(){if(_.missingOrEmpty(e.licenseKey))this.outputMissingLicenseKey();else if(e.licenseKey.length>32){var r=e.extractLicenseComponents(e.licenseKey),i=r.md5,o=r.license,a=r.version,s=r.isTrial;i===this.md5.md5(o)?_.exists(a)&&a?this.validateLicenseKeyForVersion(a,!!s,o):this.validateLegacyKey(o):this.outputInvalidLicenseKey()}else this.outputInvalidLicenseKey()},t.extractExpiry=function(r){var i=r.substring(r.lastIndexOf("_")+1,r.length);return new Date(parseInt(e.decode(i),10))},t.extractLicenseComponents=function(r){var i=r.replace(/[\u200B-\u200D\uFEFF]/g,"");i=i.replace(/\r?\n|\r/g,"");var o=i.length-32,a=i.substring(o),s=i.substring(0,o),l=Z7(e.extractBracketedInformation(i),2),u=l[0],c=l[1];return{md5:a,license:s,version:u,isTrial:c}},t.prototype.getLicenseDetails=function(r){var i=e.extractLicenseComponents(r),o=i.md5,a=i.license,s=i.version,l=i.isTrial,u=o===this.md5.md5(a),c=null;return u&&(c=e.extractExpiry(a),u=!isNaN(c.getTime())),{licenseKey:r,valid:u,expiry:u?e.formatDate(c):null,version:s||"legacy",isTrial:l}},t.prototype.isDisplayWatermark=function(){return!_.missingOrEmpty(this.watermarkMessage)},t.prototype.getWatermarkMessage=function(){return this.watermarkMessage||""},t.formatDate=function(r){var i=["January","February","March","April","May","June","July","August","September","October","November","December"],o=r.getDate(),a=r.getMonth(),s=r.getFullYear();return o+" "+i[a]+" "+s},t.getGridReleaseDate=function(){return new Date(parseInt(e.decode(e.RELEASE_INFORMATION),10))},t.decode=function(r){for(var i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",o="",a,s,l,u,c,p,h,d=0,f=r.replace(/[^A-Za-z0-9+/=]/g,"");d<f.length;)u=i.indexOf(f.charAt(d++)),c=i.indexOf(f.charAt(d++)),p=i.indexOf(f.charAt(d++)),h=i.indexOf(f.charAt(d++)),a=u<<2|c>>4,s=(c&15)<<4|p>>2,l=(p&3)<<6|h,o=o+String.fromCharCode(a),p!=64&&(o=o+String.fromCharCode(s)),h!=64&&(o=o+String.fromCharCode(l));return o=e.utf8_decode(o),o},t.utf8_decode=function(r){r=r.replace(/rn/g,"n");for(var i="",o=0;o<r.length;o++){var a=r.charCodeAt(o);a<128?i+=String.fromCharCode(a):a>127&&a<2048?(i+=String.fromCharCode(a>>6|192),i+=String.fromCharCode(a&63|128)):(i+=String.fromCharCode(a>>12|224),i+=String.fromCharCode(a>>6&63|128),i+=String.fromCharCode(a&63|128))}return i},t.setLicenseKey=function(r){e.licenseKey=r},t.extractBracketedInformation=function(r){var i=r.split("[").filter(function(s){return s.indexOf("]")>-1}).map(function(s){return s.split("]")[0]});if(!i||i.length===0)return[null,null];var o=i.filter(function(s){return s==="TRIAL"}).length===1,a=i.filter(function(s){return s.indexOf("v")===0}).map(function(s){return s.replace(/^v/,"")})[0];return[a,o]},t.prototype.validateLicenseKeyForVersion=function(r,i,o){r==="2"&&(i?this.validateForTrial(o):this.validateLegacyKey(o))},t.prototype.validateLegacyKey=function(r){var i=e.getGridReleaseDate(),o=e.extractExpiry(r),a=!1,s=!1;if(isNaN(o.getTime())||(a=!0,s=i<o),!a)this.outputInvalidLicenseKey();else if(!s){var l=e.formatDate(o),u=e.formatDate(i);this.outputIncompatibleVersion(l,u)}},t.prototype.validateForTrial=function(r){var i=e.extractExpiry(r),o=new Date,a=!1,s=!1;if(isNaN(i.getTime())||(a=!0,s=i>o),!a)this.outputInvalidLicenseKey();else if(!s){var l=e.formatDate(i);this.outputExpiredTrialKey(l)}},t.prototype.outputInvalidLicenseKey=function(){console.error("*****************************************************************************************************************"),console.error("***************************************** AG Grid Enterprise License ********************************************"),console.error("********************************************* Invalid License ***************************************************"),console.error("* Your license for AG Grid Enterprise is not valid - please contact info@ag-grid.com to obtain a valid license. *"),console.error("*****************************************************************************************************************"),console.error("*****************************************************************************************************************"),this.watermarkMessage="Invalid License"},t.prototype.outputExpiredTrialKey=function(r){console.error("****************************************************************************************************************"),console.error("***************************************** AG Grid Enterprise License *******************************************"),console.error("*****************************************   Trial Period Expired.    *******************************************"),console.error("* Your license for AG Grid Enterprise expired on "+r+".                                                *"),console.error("* Please email info@ag-grid.com to purchase a license.                                                         *"),console.error("****************************************************************************************************************"),console.error("****************************************************************************************************************"),this.watermarkMessage="Trial Period Expired"},t.prototype.outputMissingLicenseKey=function(){console.error("****************************************************************************************************************"),console.error("***************************************** AG Grid Enterprise License *******************************************"),console.error("****************************************** License Key Not Found ***********************************************"),console.error("* All AG Grid Enterprise features are unlocked.                                                                *"),console.error("* This is an evaluation only version, it is not licensed for development projects intended for production.     *"),console.error("* If you want to hide the watermark, please email info@ag-grid.com for a trial license.                        *"),console.error("****************************************************************************************************************"),console.error("****************************************************************************************************************"),this.watermarkMessage="For Trial Use Only"},t.prototype.outputIncompatibleVersion=function(r,i){console.error("****************************************************************************************************************************"),console.error("****************************************************************************************************************************"),console.error("*                                             AG Grid Enterprise License                                                   *"),console.error("*                           License not compatible with installed version of AG Grid Enterprise.                           *"),console.error("*                                                                                                                          *"),console.error("* Your AG Grid License entitles you to all versions of AG Grid that we release within the time covered by your license     *"),console.error("* - typically we provide one year licenses which entitles you to all releases / updates of AG Grid within that year.       *"),console.error("* Your license has an end (expiry) date which stops the license key working with versions of AG Grid released after the    *"),console.error("* license end date. The license key that you have expires on "+r+", however the version of AG Grid you    *"),console.error("* are trying to use was released on "+i+".                                                               *"),console.error("*                                                                                                                          *"),console.error("* Please contact info@ag-grid.com to renew your subscription to new versions and get a new license key to work with this   *"),console.error("* version of AG Grid.                                                                                                      *"),console.error("****************************************************************************************************************************"),console.error("****************************************************************************************************************************"),this.watermarkMessage="License Expired"};var e;return t.RELEASE_INFORMATION="MTY1MjQ0MzczMDM1MQ==",TC([y("md5")],t.prototype,"md5",void 0),TC([ql],t.prototype,"validateLicense",null),t=e=TC([J("licenseManager")],t),t}(j),Q7=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),pE=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},J7=function(n){Q7(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.ieCompatibility=!1,e}return t.prototype.init=function(){this.ieCompatibility=this.md5("hello")!="5d41402abc4b2a76b9719d911017c592"},t.prototype.md5cycle=function(e,r){var i=e[0],o=e[1],a=e[2],s=e[3];i=this.ff(i,o,a,s,r[0],7,-680876936),s=this.ff(s,i,o,a,r[1],12,-389564586),a=this.ff(a,s,i,o,r[2],17,606105819),o=this.ff(o,a,s,i,r[3],22,-1044525330),i=this.ff(i,o,a,s,r[4],7,-176418897),s=this.ff(s,i,o,a,r[5],12,1200080426),a=this.ff(a,s,i,o,r[6],17,-1473231341),o=this.ff(o,a,s,i,r[7],22,-45705983),i=this.ff(i,o,a,s,r[8],7,1770035416),s=this.ff(s,i,o,a,r[9],12,-1958414417),a=this.ff(a,s,i,o,r[10],17,-42063),o=this.ff(o,a,s,i,r[11],22,-1990404162),i=this.ff(i,o,a,s,r[12],7,1804603682),s=this.ff(s,i,o,a,r[13],12,-40341101),a=this.ff(a,s,i,o,r[14],17,-1502002290),o=this.ff(o,a,s,i,r[15],22,1236535329),i=this.gg(i,o,a,s,r[1],5,-165796510),s=this.gg(s,i,o,a,r[6],9,-1069501632),a=this.gg(a,s,i,o,r[11],14,643717713),o=this.gg(o,a,s,i,r[0],20,-373897302),i=this.gg(i,o,a,s,r[5],5,-701558691),s=this.gg(s,i,o,a,r[10],9,38016083),a=this.gg(a,s,i,o,r[15],14,-660478335),o=this.gg(o,a,s,i,r[4],20,-405537848),i=this.gg(i,o,a,s,r[9],5,568446438),s=this.gg(s,i,o,a,r[14],9,-1019803690),a=this.gg(a,s,i,o,r[3],14,-187363961),o=this.gg(o,a,s,i,r[8],20,1163531501),i=this.gg(i,o,a,s,r[13],5,-1444681467),s=this.gg(s,i,o,a,r[2],9,-51403784),a=this.gg(a,s,i,o,r[7],14,1735328473),o=this.gg(o,a,s,i,r[12],20,-1926607734),i=this.hh(i,o,a,s,r[5],4,-378558),s=this.hh(s,i,o,a,r[8],11,-2022574463),a=this.hh(a,s,i,o,r[11],16,1839030562),o=this.hh(o,a,s,i,r[14],23,-35309556),i=this.hh(i,o,a,s,r[1],4,-1530992060),s=this.hh(s,i,o,a,r[4],11,1272893353),a=this.hh(a,s,i,o,r[7],16,-155497632),o=this.hh(o,a,s,i,r[10],23,-1094730640),i=this.hh(i,o,a,s,r[13],4,681279174),s=this.hh(s,i,o,a,r[0],11,-358537222),a=this.hh(a,s,i,o,r[3],16,-722521979),o=this.hh(o,a,s,i,r[6],23,76029189),i=this.hh(i,o,a,s,r[9],4,-640364487),s=this.hh(s,i,o,a,r[12],11,-421815835),a=this.hh(a,s,i,o,r[15],16,530742520),o=this.hh(o,a,s,i,r[2],23,-995338651),i=this.ii(i,o,a,s,r[0],6,-198630844),s=this.ii(s,i,o,a,r[7],10,1126891415),a=this.ii(a,s,i,o,r[14],15,-1416354905),o=this.ii(o,a,s,i,r[5],21,-57434055),i=this.ii(i,o,a,s,r[12],6,1700485571),s=this.ii(s,i,o,a,r[3],10,-1894986606),a=this.ii(a,s,i,o,r[10],15,-1051523),o=this.ii(o,a,s,i,r[1],21,-2054922799),i=this.ii(i,o,a,s,r[8],6,1873313359),s=this.ii(s,i,o,a,r[15],10,-30611744),a=this.ii(a,s,i,o,r[6],15,-1560198380),o=this.ii(o,a,s,i,r[13],21,1309151649),i=this.ii(i,o,a,s,r[4],6,-145523070),s=this.ii(s,i,o,a,r[11],10,-1120210379),a=this.ii(a,s,i,o,r[2],15,718787259),o=this.ii(o,a,s,i,r[9],21,-343485551),e[0]=this.add32(i,e[0]),e[1]=this.add32(o,e[1]),e[2]=this.add32(a,e[2]),e[3]=this.add32(s,e[3])},t.prototype.cmn=function(e,r,i,o,a,s){return r=this.add32(this.add32(r,e),this.add32(o,s)),this.add32(r<<a|r>>>32-a,i)},t.prototype.ff=function(e,r,i,o,a,s,l){return this.cmn(r&i|~r&o,e,r,a,s,l)},t.prototype.gg=function(e,r,i,o,a,s,l){return this.cmn(r&o|i&~o,e,r,a,s,l)},t.prototype.hh=function(e,r,i,o,a,s,l){return this.cmn(r^i^o,e,r,a,s,l)},t.prototype.ii=function(e,r,i,o,a,s,l){return this.cmn(i^(r|~o),e,r,a,s,l)},t.prototype.md51=function(e){var r=e.length,i=[1732584193,-271733879,-1732584194,271733878],o;for(o=64;o<=e.length;o+=64)this.md5cycle(i,this.md5blk(e.substring(o-64,o)));e=e.substring(o-64);var a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(o=0;o<e.length;o++)a[o>>2]|=e.charCodeAt(o)<<(o%4<<3);if(a[o>>2]|=128<<(o%4<<3),o>55)for(this.md5cycle(i,a),o=0;o<16;o++)a[o]=0;return a[14]=r*8,this.md5cycle(i,a),i},t.prototype.md5blk=function(e){for(var r=[],i=0;i<64;i+=4)r[i>>2]=e.charCodeAt(i)+(e.charCodeAt(i+1)<<8)+(e.charCodeAt(i+2)<<16)+(e.charCodeAt(i+3)<<24);return r},t.prototype.rhex=function(e){for(var r="0123456789abcdef".split(""),i="",o=0;o<4;o++)i+=r[e>>o*8+4&15]+r[e>>o*8&15];return i},t.prototype.hex=function(e){for(var r=0;r<e.length;r++)e[r]=this.rhex(e[r]);return e.join("")},t.prototype.md5=function(e){return this.hex(this.md51(e))},t.prototype.add32=function(e,r){return this.ieCompatibility?this.add32Compat(e,r):this.add32Std(e,r)},t.prototype.add32Std=function(e,r){return e+r&4294967295},t.prototype.add32Compat=function(e,r){var i=(e&65535)+(r&65535),o=(e>>16)+(r>>16)+(i>>16);return o<<16|i&65535},pE([H],t.prototype,"init",null),t=pE([J("md5")],t),t}(j),eK=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),OC=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},tK=function(n){eK(t,n);function t(){return n.call(this,`<div class="ag-watermark">
                    <div ref="eLicenseTextRef" class="ag-watermark-text"></div>
               </div>`)||this}return t.prototype.postConstruct=function(){var e=this,r=this.shouldDisplayWatermark();this.addOrRemoveCssClass("ag-hidden",!r),r&&(this.eLicenseTextRef.innerText=this.licenseManager.getWatermarkMessage(),window.setTimeout(function(){return e.addCssClass("ag-opacity-zero")},0),window.setTimeout(function(){return e.addCssClass("ag-hidden")},5e3))},t.prototype.shouldDisplayWatermark=function(){var e=this.gridOptionsWrapper.getDocument(),r=e.defaultView||window,i=r.location,o=i.hostname,a=o===void 0?"":o,s=i.pathname,l=this.licenseManager.isDisplayWatermark(),u=a.match("^(?:127.0.0.1|localhost|(?:w+.)?ag-grid.com)$")!=null,c=s?s.indexOf("forceWatermark")!==-1:!1;return c||l&&!u},OC([y("licenseManager")],t.prototype,"licenseManager",void 0),OC([I("eLicenseTextRef")],t.prototype,"eLicenseTextRef",void 0),OC([H],t.prototype,"postConstruct",null),t}(te),Vr={moduleName:ae.EnterpriseCoreModule,beans:[GI,J7],agStackComponents:[{componentName:"AgWatermark",componentClass:tK}]},rK=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Pr=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},nK=globalThis&&globalThis.__read||function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},iK=globalThis&&globalThis.__spread||function(){for(var n=[],t=0;t<arguments.length;t++)n=n.concat(nK(arguments[t]));return n},oK=function(n){rK(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.navigatorApiFailed=!1,e}return t.prototype.init=function(){var e=this;this.logger=this.loggerFactory.create("ClipboardService"),this.rowModel.getType()===L.ROW_MODEL_TYPE_CLIENT_SIDE&&(this.clientSideRowModel=this.rowModel),this.ctrlsService.whenReady(function(r){e.gridCtrl=r.gridCtrl})},t.prototype.pasteFromClipboard=function(){var e=this;this.logger.log("pasteFromClipboard");var r=!this.gridOptionsWrapper.isSuppressClipboardApi();r&&!this.navigatorApiFailed&&navigator.clipboard&&navigator.clipboard.readText?navigator.clipboard.readText().then(this.processClipboardData.bind(this)).catch(function(i){_.doOnce(function(){console.warn(i),console.warn("AG Grid: Unable to use the Clipboard API (navigator.clipboard.readText()). The reason why it could not be used has been logged in the previous line. For this reason the grid has defaulted to using a workaround which doesn't perform as well. Either fix why Clipboard API is blocked, OR stop this message from appearing by setting grid property suppressClipboardApi=true (which will default the grid to using the workaround rather than the API")},"clipboardApiError"),e.navigatorApiFailed=!0,e.pasteFromClipboardLegacy()}):this.pasteFromClipboardLegacy()},t.prototype.pasteFromClipboardLegacy=function(){var e=this;this.executeOnTempElement(function(r){return r.focus({preventScroll:!0})},function(r){var i=r.value;e.processClipboardData(i)})},t.prototype.processClipboardData=function(e){var r=this;if(e!=null){var i=_.stringToArray(e,this.gridOptionsWrapper.getClipboardDelimiter()),o=this.gridOptionsWrapper.getProcessDataFromClipboardFunc();if(o&&(i=o({data:i})),i!=null){this.gridOptionsWrapper.isSuppressLastEmptyLineOnPaste()&&this.removeLastLineIfBlank(i);var a=function(s,l,u,c){var p=r.rangeService&&r.rangeService.isMoreThanOneCell(),h=p&&!r.hasOnlyOneValueToPaste(i);h?r.pasteIntoActiveRange(i,s,l,c):r.pasteStartingFromFocusedCell(i,s,l,u,c)};this.doPasteOperation(a)}}},t.prototype.doPasteOperation=function(e){var r=this.gridOptionsWrapper.getApi(),i=this.gridOptionsWrapper.getColumnApi(),o="clipboard";this.eventService.dispatchEvent({type:x.EVENT_PASTE_START,api:r,columnApi:i,source:o});var a;if(this.clientSideRowModel){var s=this.gridOptionsWrapper.isAggregateOnlyChangedColumns();a=new yd(s,this.clientSideRowModel.getRootNode())}var l={},u=[],c=this.focusService.getFocusedCell();e(l,u,c,a),a&&this.clientSideRowModel.doAggregate(a),this.rowRenderer.refreshCells(),this.dispatchFlashCells(l),this.fireRowChanged(u),c&&this.focusService.setFocusedCell(c.rowIndex,c.column,c.rowPinned,!0),this.eventService.dispatchEvent({type:x.EVENT_PASTE_END,api:r,columnApi:i,source:o})},t.prototype.pasteIntoActiveRange=function(e,r,i,o){var a=this,s=this.getRangeSize()%e.length!=0,l=0,u=0,c=function(p,h,d,f){var g=f-l>=e.length;if(g){if(s)return;l+=u,u=0}var v=e[f-l];i.push(h);var m=a.gridOptionsWrapper.getProcessCellFromClipboardFunc();d.forEach(function(C,b){if(!(!C.isCellEditable(h)||C.isSuppressPaste(h))){b>=v.length&&(b=b%v.length);var w=a.processCell(h,C,v[b],L.EXPORT_TYPE_DRAG_COPY,m);h.setDataValue(C,w,L.SOURCE_PASTE),o&&o.addParentNode(h.parent,[C]);var S=a.cellPositionUtils.createIdFromValues(p.rowIndex,C,p.rowPinned);r[S]=!0}}),u++};this.iterateActiveRanges(!1,c)},t.prototype.pasteStartingFromFocusedCell=function(e,r,i,o,a){if(!!o){var s={rowIndex:o.rowIndex,rowPinned:o.rowPinned},l=this.columnModel.getDisplayedColumnsStartingAt(o.column);this.isPasteSingleValueIntoRange(e)?this.pasteSingleValueIntoRange(e,i,r,a):this.pasteMultipleValues(e,s,i,l,r,L.EXPORT_TYPE_CLIPBOARD,a)}},t.prototype.isPasteSingleValueIntoRange=function(e){return this.hasOnlyOneValueToPaste(e)&&this.rangeService!=null&&!this.rangeService.isEmpty()},t.prototype.pasteSingleValueIntoRange=function(e,r,i,o){var a=this,s=e[0][0],l=function(u,c,p){r.push(c),p.forEach(function(h){return a.updateCellValue(c,h,s,i,L.EXPORT_TYPE_CLIPBOARD,o)})};this.iterateActiveRanges(!1,l)},t.prototype.hasOnlyOneValueToPaste=function(e){return e.length===1&&e[0].length===1},t.prototype.copyRangeDown=function(){var e=this;if(!(!this.rangeService||this.rangeService.isEmpty())){var r=[],i=function(o,a,s,l){var u=e.gridOptionsWrapper.getProcessCellForClipboardFunc(),c=e.gridOptionsWrapper.getProcessCellFromClipboardFunc(),p=function(h,d,f){r.length?(a.push(d),f.forEach(function(g,v){if(!(!g.isCellEditable(d)||g.isSuppressPaste(d))){var m=e.processCell(d,g,r[v],L.EXPORT_TYPE_DRAG_COPY,c);d.setDataValue(g,m,L.SOURCE_PASTE),l&&l.addParentNode(d.parent,[g]);var C=e.cellPositionUtils.createIdFromValues(h.rowIndex,g,h.rowPinned);o[C]=!0}})):f.forEach(function(g){var v=e.processCell(d,g,e.valueService.getValue(g,d),L.EXPORT_TYPE_DRAG_COPY,u);r.push(v)})};e.iterateActiveRanges(!0,p)};this.doPasteOperation(i)}},t.prototype.removeLastLineIfBlank=function(e){var r=_.last(e),i=r&&r.length===1&&r[0]==="";i&&_.removeFromArray(e,r)},t.prototype.fireRowChanged=function(e){var r=this;!this.gridOptionsWrapper.isFullRowEdit()||e.forEach(function(i){var o={type:x.EVENT_ROW_VALUE_CHANGED,node:i,data:i.data,rowIndex:i.rowIndex,rowPinned:i.rowPinned,context:r.gridOptionsWrapper.getContext(),api:r.gridOptionsWrapper.getApi(),columnApi:r.gridOptionsWrapper.getColumnApi()};r.eventService.dispatchEvent(o)})},t.prototype.pasteMultipleValues=function(e,r,i,o,a,s,l){var u=this,c=r,p=this.clientSideRowModel!=null&&!this.gridOptionsWrapper.isTreeData(),h=function(){for(;;){if(!c)return null;var d=u.rowPositionUtils.getRowNode(c);if(c=u.cellNavigationService.getRowBelow({rowPinned:c.rowPinned,rowIndex:c.rowIndex}),d==null)return null;var f=d.detail||d.footer||p&&d.group;if(!f)return d}};e.forEach(function(d){var f=h();!f||(d.forEach(function(g,v){return u.updateCellValue(f,o[v],g,a,s,l)}),i.push(f))})},t.prototype.updateCellValue=function(e,r,i,o,a,s){if(!(!e||!r||!r.isCellEditable(e)||r.isSuppressPaste(e))){var l=this.processCell(e,r,i,a,this.gridOptionsWrapper.getProcessCellFromClipboardFunc());e.setDataValue(r,l,L.SOURCE_PASTE);var u=this.cellPositionUtils.createIdFromValues(e.rowIndex,r,e.rowPinned);o[u]=!0,s&&s.addParentNode(e.parent,[r])}},t.prototype.copyToClipboard=function(e){e===void 0&&(e={});var r=e.includeHeaders,i=e.includeGroupHeaders;this.logger.log("copyToClipboard: includeHeaders = "+r),r==null&&(r=this.gridOptionsWrapper.isCopyHeadersToClipboard()),i==null&&(i=this.gridOptionsWrapper.isCopyGroupHeadersToClipboard());var o={includeHeaders:r,includeGroupHeaders:i},a=!this.gridOptionsWrapper.isSuppressCopyRowsToClipboard();this.rangeService&&!this.rangeService.isEmpty()&&!this.shouldSkipSingleCellRange()?this.copySelectedRangeToClipboard(o):a&&!this.selectionService.isEmpty()?this.copySelectedRowsToClipboard(o):this.focusService.isAnyCellFocused()&&this.copyFocusedCellToClipboard(o)},t.prototype.shouldSkipSingleCellRange=function(){return this.gridOptionsWrapper.isSuppressCopySingleCellRanges()&&!this.rangeService.isMoreThanOneCell()},t.prototype.iterateActiveRanges=function(e,r,i){var o=this;if(!(!this.rangeService||this.rangeService.isEmpty())){var a=this.rangeService.getCellRanges();e?this.iterateActiveRange(a[0],r,i,!0):a.forEach(function(s,l){return o.iterateActiveRange(s,r,i,l===a.length-1)})}},t.prototype.iterateActiveRange=function(e,r,i,o){if(!!this.rangeService){var a=this.rangeService.getRangeStartRow(e),s=this.rangeService.getRangeEndRow(e);i&&e.columns&&i(e.columns);for(var l=0,u=!1;!u&&a!=null;){var c=this.rowPositionUtils.getRowNode(a);u=this.rowPositionUtils.sameRow(a,s),r(a,c,e.columns,l++,u&&o),a=this.cellNavigationService.getRowBelow(a)}}},t.prototype.copySelectedRangeToClipboard=function(e){if(e===void 0&&(e={}),!(!this.rangeService||this.rangeService.isEmpty())){var r=this.rangeService.areAllRangesAbleToMerge(),i=r?this.buildDataFromMergedRanges(e):this.buildDataFromRanges(e),o=i.data,a=i.cellsToFlash;this.copyDataToClipboard(o),this.dispatchFlashCells(a)}},t.prototype.buildDataFromMergedRanges=function(e){var r=this,i=new Set,o=this.rangeService.getCellRanges(),a=[],s={};o.forEach(function(p){p.columns.forEach(function(g){return i.add(g)});var h=r.getRangeRowPositionsAndCellsToFlash(p),d=h.rowPositions,f=h.cellsToFlash;a.push.apply(a,iK(d)),Object.assign(s,f)});var l=this.columnModel.getAllDisplayedColumns(),u=Array.from(i);u.sort(function(p,h){var d=l.indexOf(p),f=l.indexOf(h);return d-f});var c=this.buildExportParams({columns:u,rowPositions:a,includeHeaders:e.includeHeaders,includeGroupHeaders:e.includeGroupHeaders});return{data:c,cellsToFlash:s}},t.prototype.buildDataFromRanges=function(e){var r=this,i=this.rangeService.getCellRanges(),o=[],a={};return i.forEach(function(s){var l=r.getRangeRowPositionsAndCellsToFlash(s),u=l.rowPositions,c=l.cellsToFlash;Object.assign(a,c),o.push(r.buildExportParams({columns:s.columns,rowPositions:u,includeHeaders:e.includeHeaders,includeGroupHeaders:e.includeGroupHeaders}))}),{data:o.join(`
`),cellsToFlash:a}},t.prototype.getRangeRowPositionsAndCellsToFlash=function(e){for(var r=this,i=[],o={},a=this.rangeService.getRangeStartRow(e),s=this.rangeService.getRangeEndRow(e),l=a;l&&(i.push(l),e.columns.forEach(function(u){var c=r.cellPositionUtils.createIdFromValues(l.rowIndex,u,l.rowPinned);o[c]=!0}),!this.rowPositionUtils.sameRow(l,s));)l=this.cellNavigationService.getRowBelow(l);return{rowPositions:i,cellsToFlash:o}},t.prototype.copyFocusedCellToClipboard=function(e){var r;e===void 0&&(e={});var i=this.focusService.getFocusedCell();if(i!=null){var o=this.cellPositionUtils.createId(i),a={rowPinned:i.rowPinned,rowIndex:i.rowIndex},s=i.column,l=this.buildExportParams({columns:[s],rowPositions:[a],includeHeaders:e.includeHeaders,includeGroupHeaders:e.includeGroupHeaders});this.copyDataToClipboard(l),this.dispatchFlashCells((r={},r[o]=!0,r))}},t.prototype.copySelectedRowsToClipboard=function(e){e===void 0&&(e={});var r=e.columnKeys,i=e.includeHeaders,o=e.includeGroupHeaders,a=this.buildExportParams({columns:r,includeHeaders:i,includeGroupHeaders:o});this.copyDataToClipboard(a)},t.prototype.buildExportParams=function(e){var r=e.columns,i=e.rowPositions,o=e.includeHeaders,a=o===void 0?!1:o,s=e.includeGroupHeaders,l=s===void 0?!1:s,u={columnKeys:r,rowNodes:i,skipColumnHeaders:!a,skipColumnGroupHeaders:!l,suppressQuotes:!0,columnSeparator:this.gridOptionsWrapper.getClipboardDelimiter(),onlySelected:!i,processCellCallback:this.gridOptionsWrapper.getProcessCellForClipboardFunc(),processRowGroupCallback:function(c){return c.node.key},processHeaderCallback:this.gridOptionsWrapper.getProcessHeaderForClipboardFunc(),processGroupHeaderCallback:this.gridOptionsWrapper.getProcessGroupHeaderForClipboardFunc()};return this.csvCreator.getDataAsCsv(u)},t.prototype.dispatchFlashCells=function(e){var r=this;window.setTimeout(function(){var i={type:x.EVENT_FLASH_CELLS,cells:e,api:r.gridApi,columnApi:r.columnApi};r.eventService.dispatchEvent(i)},0)},t.prototype.processCell=function(e,r,i,o,a){if(a){var s={column:r,node:e,value:i,type:o};return a(s)}return i},t.prototype.copyDataToClipboard=function(e){var r=this,i=this.gridOptionsWrapper.getSendToClipboardFunc();if(i){i({data:e});return}var o=!this.gridOptionsWrapper.isSuppressClipboardApi();if(o&&navigator.clipboard){navigator.clipboard.writeText(e).catch(function(a){_.doOnce(function(){console.warn(a),console.warn("AG Grid: Unable to use the Clipboard API (navigator.clipboard.writeText()). The reason why it could not be used has been logged in the previous line. For this reason the grid has defaulted to using a workaround which doesn't perform as well. Either fix why Clipboard API is blocked, OR stop this message from appearing by setting grid property suppressClipboardApi=true (which will default the grid to using the workaround rather than the API.")},"clipboardApiError"),r.copyDataToClipboardLegacy(e)});return}this.copyDataToClipboardLegacy(e)},t.prototype.copyDataToClipboardLegacy=function(e){var r=this;this.executeOnTempElement(function(i){var o=r.gridOptionsWrapper.getDocument(),a=o.activeElement;i.value=e||" ",i.select(),i.focus({preventScroll:!0});var s=o.execCommand("copy");s||console.warn("AG Grid: Browser did not allow document.execCommand('copy'). Ensure api.copySelectedRowsToClipboard() is invoked via a user event, i.e. button click, otherwise the browser will prevent it for security reasons."),a!=null&&a.focus!=null&&a.focus({preventScroll:!0})})},t.prototype.executeOnTempElement=function(e,r){var i=this.gridOptionsWrapper.getDocument(),o=i.createElement("textarea");o.style.width="1px",o.style.height="1px",o.style.top=i.documentElement.scrollTop+"px",o.style.left=i.documentElement.scrollLeft+"px",o.style.position="absolute",o.style.opacity="0";var a=this.gridCtrl.getGui();a.appendChild(o);try{e(o)}catch{console.warn("AG Grid: Browser does not support document.execCommand('copy') for clipboard operations")}r?window.setTimeout(function(){r(o),a.removeChild(o)},100):a.removeChild(o)},t.prototype.getRangeSize=function(){var e=this.rangeService.getCellRanges(),r=0,i=0;return e.length>0&&(r=this.rangeService.getRangeStartRow(e[0]).rowIndex,i=this.rangeService.getRangeEndRow(e[0]).rowIndex),r-i+1},Pr([y("csvCreator")],t.prototype,"csvCreator",void 0),Pr([y("loggerFactory")],t.prototype,"loggerFactory",void 0),Pr([y("selectionService")],t.prototype,"selectionService",void 0),Pr([Fe("rangeService")],t.prototype,"rangeService",void 0),Pr([y("rowModel")],t.prototype,"rowModel",void 0),Pr([y("ctrlsService")],t.prototype,"ctrlsService",void 0),Pr([y("valueService")],t.prototype,"valueService",void 0),Pr([y("focusService")],t.prototype,"focusService",void 0),Pr([y("rowRenderer")],t.prototype,"rowRenderer",void 0),Pr([y("columnModel")],t.prototype,"columnModel",void 0),Pr([y("cellNavigationService")],t.prototype,"cellNavigationService",void 0),Pr([y("columnApi")],t.prototype,"columnApi",void 0),Pr([y("gridApi")],t.prototype,"gridApi",void 0),Pr([y("cellPositionUtils")],t.prototype,"cellPositionUtils",void 0),Pr([y("rowPositionUtils")],t.prototype,"rowPositionUtils",void 0),Pr([H],t.prototype,"init",null),t=Pr([J("clipboardService")],t),t}(j),aK={moduleName:ae.ClipboardModule,beans:[oK],dependantModules:[Vr,L0]},sK=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),kp=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Lo;(function(n){n[n.EXPANDED=0]="EXPANDED",n[n.COLLAPSED=1]="COLLAPSED",n[n.INDETERMINATE=2]="INDETERMINATE"})(Lo||(Lo={}));var lK=function(n){sK(t,n);function t(){return n.call(this,t.TEMPLATE)||this}return t.prototype.postConstruct=function(){var e=this;this.createExpandIcons(),this.addManagedListener(this.eExpand,"click",this.onExpandClicked.bind(this)),this.addManagedListener(this.eExpand,"keydown",function(i){i.key===U.SPACE&&e.onExpandClicked()}),this.addManagedListener(this.eSelect.getInputElement(),"click",this.onSelectClicked.bind(this)),this.eFilterTextField.onValueChange(function(){return e.onFilterTextChanged()}),this.addManagedListener(this.eFilterTextField.getInputElement(),"keypress",this.onMiniFilterKeyPress.bind(this)),this.addManagedListener(this.eventService,x.EVENT_NEW_COLUMNS_LOADED,this.showOrHideOptions.bind(this));var r=this.gridOptionsWrapper.getLocaleTextFunc();this.eSelect.setInputAriaLabel(r("ariaColumnSelectAll","Toggle Select All Columns")),this.eFilterTextField.setInputAriaLabel(r("ariaFilterColumnsInput","Filter Columns Input"))},t.prototype.init=function(e){this.params=e,this.columnModel.isReady()&&this.showOrHideOptions()},t.prototype.createExpandIcons=function(){this.eExpand.appendChild(this.eExpandChecked=_.createIconNoSpan("columnSelectOpen",this.gridOptionsWrapper)),this.eExpand.appendChild(this.eExpandUnchecked=_.createIconNoSpan("columnSelectClosed",this.gridOptionsWrapper)),this.eExpand.appendChild(this.eExpandIndeterminate=_.createIconNoSpan("columnSelectIndeterminate",this.gridOptionsWrapper)),this.setExpandState(Lo.EXPANDED)},t.prototype.showOrHideOptions=function(){var e=!this.params.suppressColumnFilter,r=!this.params.suppressColumnSelectAll,i=!this.params.suppressColumnExpandAll,o=this.columnModel.isPrimaryColumnGroupsPresent(),a=this.gridOptionsWrapper.getLocaleTextFunc();this.eFilterTextField.setInputPlaceholder(a("searchOoo","Search...")),_.setDisplayed(this.eFilterTextField.getGui(),e),_.setDisplayed(this.eSelect.getGui(),r),_.setDisplayed(this.eExpand,i&&o)},t.prototype.onFilterTextChanged=function(){var e=this;this.onFilterTextChangedDebounced||(this.onFilterTextChangedDebounced=_.debounce(function(){var r=e.eFilterTextField.getValue();e.dispatchEvent({type:"filterChanged",filterText:r})},t.DEBOUNCE_DELAY)),this.onFilterTextChangedDebounced()},t.prototype.onMiniFilterKeyPress=function(e){var r=this;e.key===U.ENTER&&setTimeout(function(){return r.onSelectClicked()},t.DEBOUNCE_DELAY)},t.prototype.onSelectClicked=function(){this.dispatchEvent({type:this.selectState?"unselectAll":"selectAll"})},t.prototype.onExpandClicked=function(){this.dispatchEvent({type:this.expandState===Lo.EXPANDED?"collapseAll":"expandAll"})},t.prototype.setExpandState=function(e){this.expandState=e,_.setDisplayed(this.eExpandChecked,this.expandState===Lo.EXPANDED),_.setDisplayed(this.eExpandUnchecked,this.expandState===Lo.COLLAPSED),_.setDisplayed(this.eExpandIndeterminate,this.expandState===Lo.INDETERMINATE)},t.prototype.setSelectionState=function(e){this.selectState=e,this.eSelect.setValue(this.selectState)},t.DEBOUNCE_DELAY=300,t.TEMPLATE=`<div class="ag-column-select-header" role="presentation" tabindex="-1">
            <div ref="eExpand" class="ag-column-select-header-icon" tabindex="0"></div>
            <ag-checkbox ref="eSelect" class="ag-column-select-header-checkbox"></ag-checkbox>
            <ag-input-text-field class="ag-column-select-header-filter-wrapper" ref="eFilterTextField"></ag-input-text-field>
        </div>`,kp([y("columnModel")],t.prototype,"columnModel",void 0),kp([I("eExpand")],t.prototype,"eExpand",void 0),kp([I("eSelect")],t.prototype,"eSelect",void 0),kp([I("eFilterTextField")],t.prototype,"eFilterTextField",void 0),kp([H],t.prototype,"postConstruct",null),t}(te),sh=function(){function n(t,e,r,i,o){i===void 0&&(i=!1),this.eventService=new so,this.displayName=t,this.dept=r,this.group=i,i?(this.columnGroup=e,this.expanded=o,this.children=[]):this.column=e}return n.prototype.isGroup=function(){return this.group},n.prototype.getDisplayName=function(){return this.displayName},n.prototype.getColumnGroup=function(){return this.columnGroup},n.prototype.getColumn=function(){return this.column},n.prototype.getDept=function(){return this.dept},n.prototype.isExpanded=function(){return!!this.expanded},n.prototype.getChildren=function(){return this.children},n.prototype.isPassesFilter=function(){return this.passesFilter},n.prototype.setExpanded=function(t){t!==this.expanded&&(this.expanded=t,this.eventService.dispatchEvent({type:n.EVENT_EXPANDED_CHANGED}))},n.prototype.setPassesFilter=function(t){this.passesFilter=t},n.prototype.addEventListener=function(t,e){this.eventService.addEventListener(t,e)},n.prototype.removeEventListener=function(t,e){this.eventService.removeEventListener(t,e)},n.EVENT_EXPANDED_CHANGED="expandedChanged",n}(),uK=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),mf=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},cK=globalThis&&globalThis.__read||function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},pK=globalThis&&globalThis.__spread||function(){for(var n=[],t=0;t<arguments.length;t++)n=n.concat(cK(arguments[t]));return n},hK=globalThis&&globalThis.__values||function(n){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},BI=function(n){uK(t,n);function t(e,r,i){var o=n.call(this,'<div class="ag-menu"></div>')||this;return o.column=e,o.mouseEvent=r,o.parentEl=i,o.displayName=null,o}return t.prototype.postConstruct=function(){this.initializeProperties(this.column),this.buildMenuItemMap(),this.column instanceof Se?this.displayName=this.columnModel.getDisplayNameForColumn(this.column,"columnToolPanel"):this.displayName=this.columnModel.getDisplayNameForProvidedColumnGroup(null,this.column,"columnToolPanel"),this.isActive()&&(this.mouseEvent.preventDefault(),this.displayContextMenu())},t.prototype.initializeProperties=function(e){e instanceof at?this.columns=e.getLeafColumns():this.columns=[e],this.allowGrouping=this.columns.some(function(r){return r.isPrimary()&&r.isAllowRowGroup()}),this.allowValues=this.columns.some(function(r){return r.isPrimary()&&r.isAllowValue()}),this.allowPivoting=this.columnModel.isPivotMode()&&this.columns.some(function(r){return r.isPrimary()&&r.isAllowPivot()})},t.prototype.buildMenuItemMap=function(){var e=this,r=this.gridOptionsWrapper.getLocaleTextFunc();this.menuItemMap=new Map,this.menuItemMap.set("rowGroup",{allowedFunction:function(i){return i.isPrimary()&&i.isAllowRowGroup()},activeFunction:function(i){return i.isRowGroupActive()},activateLabel:function(){return r("groupBy","Group by")+" "+e.displayName},deactivateLabel:function(){return r("ungroupBy","Un-Group by")+" "+e.displayName},activateFunction:function(){var i=e.columnModel.getRowGroupColumns();e.columnModel.setRowGroupColumns(e.addColumnsToList(i),"toolPanelUi")},deActivateFunction:function(){var i=e.columnModel.getRowGroupColumns();e.columnModel.setRowGroupColumns(e.removeColumnsFromList(i),"toolPanelUi")},addIcon:"menuAddRowGroup",removeIcon:"menuRemoveRowGroup"}),this.menuItemMap.set("value",{allowedFunction:function(i){return i.isPrimary()&&i.isAllowValue()},activeFunction:function(i){return i.isValueActive()},activateLabel:function(){return r("addToValues","Add "+e.displayName+" to values",[e.displayName])},deactivateLabel:function(){return r("removeFromValues","Remove "+e.displayName+" from values",[e.displayName])},activateFunction:function(){var i=e.columnModel.getValueColumns();e.columnModel.setValueColumns(e.addColumnsToList(i),"toolPanelUi")},deActivateFunction:function(){var i=e.columnModel.getValueColumns();e.columnModel.setValueColumns(e.removeColumnsFromList(i),"toolPanelUi")},addIcon:"valuePanel",removeIcon:"valuePanel"}),this.menuItemMap.set("pivot",{allowedFunction:function(i){return e.columnModel.isPivotMode()&&i.isPrimary()&&i.isAllowPivot()},activeFunction:function(i){return i.isPivotActive()},activateLabel:function(){return r("addToLabels","Add "+e.displayName+" to labels",[e.displayName])},deactivateLabel:function(){return r("removeFromLabels","Remove "+e.displayName+" from labels",[e.displayName])},activateFunction:function(){var i=e.columnModel.getPivotColumns();e.columnModel.setPivotColumns(e.addColumnsToList(i),"toolPanelUi")},deActivateFunction:function(){var i=e.columnModel.getPivotColumns();e.columnModel.setPivotColumns(e.removeColumnsFromList(i),"toolPanelUi")},addIcon:"pivotPanel",removeIcon:"pivotPanel"})},t.prototype.addColumnsToList=function(e){return pK(e).concat(this.columns.filter(function(r){return e.indexOf(r)===-1}))},t.prototype.removeColumnsFromList=function(e){var r=this;return e.filter(function(i){return r.columns.indexOf(i)===-1})},t.prototype.displayContextMenu=function(){var e=this,r=this.getGui(),i=this.createBean(new Cd),o=this.getMappedMenuItems(),a=function(){};r.appendChild(i.getGui()),i.addMenuItems(o),i.addManagedListener(i,Ti.EVENT_MENU_ITEM_SELECTED,function(){e.parentEl.focus(),a()});var s=this.popupService.addPopup({modal:!0,eChild:r,closeOnEsc:!0,afterGuiAttached:function(){return e.focusService.focusInto(i.getGui())},ariaLabel:"Foo",closedCallback:function(l){l instanceof KeyboardEvent&&e.parentEl.focus(),e.destroyBean(i)}});s&&(a=s.hideFunc),this.popupService.positionPopupUnderMouseEvent({type:"columnContextMenu",mouseEvent:this.mouseEvent,ePopup:r})},t.prototype.isActive=function(){return this.allowGrouping||this.allowValues||this.allowPivoting},t.prototype.getMappedMenuItems=function(){var e,r,i=[],o=function(c){var p=a.columns.some(function(d){return c.allowedFunction(d)&&!c.activeFunction(d)}),h=a.columns.some(function(d){return c.allowedFunction(d)&&c.activeFunction(d)});p&&i.push({name:c.activateLabel(a.displayName),icon:_.createIconNoSpan(c.addIcon,a.gridOptionsWrapper,null),action:function(){return c.activateFunction()}}),h&&i.push({name:c.deactivateLabel(a.displayName),icon:_.createIconNoSpan(c.removeIcon,a.gridOptionsWrapper,null),action:function(){return c.deActivateFunction()}})},a=this;try{for(var s=hK(this.menuItemMap.values()),l=s.next();!l.done;l=s.next()){var u=l.value;o(u)}}catch(c){e={error:c}}finally{try{l&&!l.done&&(r=s.return)&&r.call(s)}finally{if(e)throw e.error}}return i},mf([y("columnModel")],t.prototype,"columnModel",void 0),mf([y("popupService")],t.prototype,"popupService",void 0),mf([y("focusService")],t.prototype,"focusService",void 0),mf([H],t.prototype,"postConstruct",null),t}(te),dK=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),ta=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},VI=function(n){dK(t,n);function t(e,r,i,o){var a=n.call(this)||this;return a.modelItem=e,a.allowDragging=r,a.eventType=i,a.focusWrapper=o,a.processingColumnStateChange=!1,a.modelItem=e,a.columnGroup=e.getColumnGroup(),a.columnDept=e.getDept(),a.allowDragging=r,a}return t.prototype.init=function(){var e=this;this.setTemplate(t.TEMPLATE),this.eDragHandle=_.createIconNoSpan("columnDrag",this.gridOptionsWrapper),this.eDragHandle.classList.add("ag-drag-handle","ag-column-select-column-group-drag-handle");var r=this.cbSelect.getGui(),i=this.cbSelect.getInputElement();r.insertAdjacentElement("afterend",this.eDragHandle),i.setAttribute("tabindex","-1"),this.displayName=this.columnModel.getDisplayNameForProvidedColumnGroup(null,this.columnGroup,this.eventType),_.missing(this.displayName)&&(this.displayName=">>"),this.eLabel.innerHTML=this.displayName?this.displayName:"",this.setupExpandContract(),this.addCssClass("ag-column-select-indent-"+this.columnDept),this.addManagedListener(this.eventService,x.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.onColumnStateChanged.bind(this)),this.addManagedListener(this.eLabel,"click",this.onLabelClicked.bind(this)),this.addManagedListener(this.cbSelect,oo.EVENT_CHANGED,this.onCheckboxChanged.bind(this)),this.addManagedListener(this.modelItem,sh.EVENT_EXPANDED_CHANGED,this.onExpandChanged.bind(this)),this.addManagedListener(this.focusWrapper,"keydown",this.handleKeyDown.bind(this)),this.addManagedListener(this.focusWrapper,"contextmenu",this.onContextMenu.bind(this)),this.setOpenClosedIcons(),this.setupDragging(),this.onColumnStateChanged(),this.addVisibilityListenersToAllChildren(),this.refreshAriaExpanded(),this.refreshAriaLabel(),this.setupTooltip();var o=gd.getToolPanelClassesFromColDef(this.columnGroup.getColGroupDef(),this.gridOptionsWrapper,null,this.columnGroup);o.forEach(function(a){return e.addOrRemoveCssClass(a,!0)})},t.prototype.getColumns=function(){return this.columnGroup.getLeafColumns()},t.prototype.setupTooltip=function(){var e=this,r=this.columnGroup.getColGroupDef();if(!!r){var i=function(){var o=r.headerTooltip;e.setTooltip(o)};i(),this.addManagedListener(this.eventService,x.EVENT_NEW_COLUMNS_LOADED,i)}},t.prototype.getTooltipParams=function(){var e=n.prototype.getTooltipParams.call(this);return e.location="columnToolPanelColumnGroup",e},t.prototype.handleKeyDown=function(e){switch(e.key){case U.LEFT:e.preventDefault(),this.modelItem.setExpanded(!1);break;case U.RIGHT:e.preventDefault(),this.modelItem.setExpanded(!0);break;case U.SPACE:e.preventDefault(),this.isSelectable()&&this.onSelectAllChanged(!this.isSelected());break}},t.prototype.onContextMenu=function(e){var r=this,i=this,o=i.columnGroup,a=i.gridOptionsWrapper;if(!a.isFunctionsReadOnly()){var s=this.createBean(new BI(o,e,this.focusWrapper));this.addDestroyFunc(function(){s.isAlive()&&r.destroyBean(s)})}},t.prototype.addVisibilityListenersToAllChildren=function(){var e=this;this.columnGroup.getLeafColumns().forEach(function(r){e.addManagedListener(r,Se.EVENT_VISIBLE_CHANGED,e.onColumnStateChanged.bind(e)),e.addManagedListener(r,Se.EVENT_VALUE_CHANGED,e.onColumnStateChanged.bind(e)),e.addManagedListener(r,Se.EVENT_PIVOT_CHANGED,e.onColumnStateChanged.bind(e)),e.addManagedListener(r,Se.EVENT_ROW_GROUP_CHANGED,e.onColumnStateChanged.bind(e))})},t.prototype.setupDragging=function(){var e=this;if(!this.allowDragging){_.setDisplayed(this.eDragHandle,!1);return}var r={type:nr.ToolPanel,eElement:this.eDragHandle,dragItemName:this.displayName,getDragItem:function(){return e.createDragItem()},onDragStarted:function(){var i={type:x.EVENT_COLUMN_PANEL_ITEM_DRAG_START,column:e.columnGroup};e.eventService.dispatchEvent(i)},onDragStopped:function(){var i={type:x.EVENT_COLUMN_PANEL_ITEM_DRAG_END};e.eventService.dispatchEvent(i)}};this.dragAndDropService.addDragSource(r,!0),this.addDestroyFunc(function(){return e.dragAndDropService.removeDragSource(r)})},t.prototype.createDragItem=function(){var e={};return this.columnGroup.getLeafColumns().forEach(function(r){e[r.getId()]=r.isVisible()}),{columns:this.columnGroup.getLeafColumns(),visibleState:e}},t.prototype.setupExpandContract=function(){this.eGroupClosedIcon.appendChild(_.createIcon("columnSelectClosed",this.gridOptionsWrapper,null)),this.eGroupOpenedIcon.appendChild(_.createIcon("columnSelectOpen",this.gridOptionsWrapper,null)),this.addManagedListener(this.eGroupClosedIcon,"click",this.onExpandOrContractClicked.bind(this)),this.addManagedListener(this.eGroupOpenedIcon,"click",this.onExpandOrContractClicked.bind(this));var e=new qr(this.eColumnGroupIcons,!0);this.addManagedListener(e,qr.EVENT_TAP,this.onExpandOrContractClicked.bind(this)),this.addDestroyFunc(e.destroy.bind(e))},t.prototype.onLabelClicked=function(){var e=!this.cbSelect.getValue();this.onChangeCommon(e)},t.prototype.onCheckboxChanged=function(e){this.onChangeCommon(e.selected)},t.prototype.getVisibleLeafColumns=function(){var e=[],r=function(i){i.forEach(function(o){!o.isPassesFilter()||(o.isGroup()?r(o.getChildren()):e.push(o.getColumn()))})};return r(this.modelItem.getChildren()),e},t.prototype.onChangeCommon=function(e){this.refreshAriaLabel(),!this.processingColumnStateChange&&this.modelItemUtils.selectAllChildren(this.modelItem.getChildren(),e,this.eventType)},t.prototype.refreshAriaLabel=function(){var e=this.gridOptionsWrapper.getLocaleTextFunc(),r=e("ariaColumnGroup","Column Group"),i=this.cbSelect.getValue()?e("ariaVisible","visible"):e("ariaHidden","hidden"),o=e("ariaToggleVisibility","Press SPACE to toggle visibility");_.setAriaLabel(this.focusWrapper,this.displayName+" "+r),this.cbSelect.setInputAriaLabel(o+" ("+i+")"),_.setAriaDescribedBy(this.focusWrapper,this.cbSelect.getInputElement().id)},t.prototype.onColumnStateChanged=function(){var e=this.workOutSelectedValue(),r=this.workOutReadOnlyValue();this.processingColumnStateChange=!0,this.cbSelect.setValue(e),this.cbSelect.setReadOnly(r),this.addOrRemoveCssClass("ag-column-select-column-group-readonly",r),this.processingColumnStateChange=!1},t.prototype.workOutSelectedValue=function(){var e=this,r=this.columnModel.isPivotMode(),i=this.getVisibleLeafColumns(),o=0,a=0;if(i.forEach(function(s){!r&&s.getColDef().lockVisible||(e.isColumnChecked(s,r)?o++:a++)}),!(o>0&&a>0))return o>0},t.prototype.workOutReadOnlyValue=function(){var e=this.columnModel.isPivotMode(),r=0;return this.columnGroup.getLeafColumns().forEach(function(i){e?i.isAnyFunctionAllowed()&&r++:i.getColDef().lockVisible||r++}),r===0},t.prototype.isColumnChecked=function(e,r){if(r){var i=e.isPivotActive(),o=e.isRowGroupActive(),a=e.isValueActive();return i||o||a}return e.isVisible()},t.prototype.onExpandOrContractClicked=function(){var e=this.modelItem.isExpanded();this.modelItem.setExpanded(!e)},t.prototype.onExpandChanged=function(){this.setOpenClosedIcons(),this.refreshAriaExpanded()},t.prototype.setOpenClosedIcons=function(){var e=this.modelItem.isExpanded();_.setDisplayed(this.eGroupClosedIcon,!e),_.setDisplayed(this.eGroupOpenedIcon,e)},t.prototype.refreshAriaExpanded=function(){_.setAriaExpanded(this.focusWrapper,this.modelItem.isExpanded())},t.prototype.getDisplayName=function(){return this.displayName},t.prototype.onSelectAllChanged=function(e){var r=this.cbSelect.getValue(),i=this.cbSelect.isReadOnly();!i&&(e&&!r||!e&&r)&&this.cbSelect.toggle()},t.prototype.isSelected=function(){return this.cbSelect.getValue()},t.prototype.isSelectable=function(){return!this.cbSelect.isReadOnly()},t.prototype.setSelected=function(e){this.cbSelect.setValue(e,!0)},t.TEMPLATE=`<div class="ag-column-select-column-group" aria-hidden="true">
            <span class="ag-column-group-icons" ref="eColumnGroupIcons" >
                <span class="ag-column-group-closed-icon" ref="eGroupClosedIcon"></span>
                <span class="ag-column-group-opened-icon" ref="eGroupOpenedIcon"></span>
            </span>
            <ag-checkbox ref="cbSelect" class="ag-column-select-checkbox"></ag-checkbox>
            <span class="ag-column-select-column-label" ref="eLabel"></span>
        </div>`,ta([y("columnModel")],t.prototype,"columnModel",void 0),ta([y("dragAndDropService")],t.prototype,"dragAndDropService",void 0),ta([y("modelItemUtils")],t.prototype,"modelItemUtils",void 0),ta([I("cbSelect")],t.prototype,"cbSelect",void 0),ta([I("eLabel")],t.prototype,"eLabel",void 0),ta([I("eGroupOpenedIcon")],t.prototype,"eGroupOpenedIcon",void 0),ta([I("eGroupClosedIcon")],t.prototype,"eGroupClosedIcon",void 0),ta([I("eColumnGroupIcons")],t.prototype,"eColumnGroupIcons",void 0),ta([H],t.prototype,"init",null),t}(te),fK=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),EC=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},RC="ag-list-item-hovered",gK=function(n){fK(t,n);function t(e,r){var i=n.call(this)||this;return i.comp=e,i.virtualList=r,i.currentDragColumn=null,i.lastHoveredColumnItem=null,i}return t.prototype.postConstruct=function(){this.addManagedListener(this.eventService,x.EVENT_COLUMN_PANEL_ITEM_DRAG_START,this.columnPanelItemDragStart.bind(this)),this.addManagedListener(this.eventService,x.EVENT_COLUMN_PANEL_ITEM_DRAG_END,this.columnPanelItemDragEnd.bind(this)),this.createDropTarget(),this.createAutoScrollService()},t.prototype.columnPanelItemDragStart=function(e){var r=e.column;this.currentDragColumn=r;var i=this.getCurrentColumns(),o=i.find(function(a){var s=a.getColDef();return!!s.suppressMovable||!!s.lockPosition});o&&(this.moveBlocked=!0)},t.prototype.columnPanelItemDragEnd=function(){var e=this;window.setTimeout(function(){e.currentDragColumn=null,e.moveBlocked=!1},10)},t.prototype.createDropTarget=function(){var e=this,r={isInterestedIn:function(i){return i===nr.ToolPanel},getIconName:function(){return It[e.moveBlocked?"ICON_NOT_ALLOWED":"ICON_MOVE"]},getContainer:function(){return e.comp.getGui()},onDragging:function(i){return e.onDragging(i)},onDragStop:function(){return e.onDragStop()},onDragLeave:function(){return e.onDragLeave()}};this.dragAndDropService.addDropTarget(r)},t.prototype.createAutoScrollService=function(){var e=this.virtualList.getGui();this.autoScrollService=new fd({scrollContainer:e,scrollAxis:"y",getVerticalPosition:function(){return e.scrollTop},setVerticalPosition:function(r){return e.scrollTop=r}})},t.prototype.onDragging=function(e){if(!(!this.currentDragColumn||this.moveBlocked)){var r=this.getDragColumnItem(e),i=this.virtualList.getComponentAt(r.rowIndex);if(!!i){var o=i.getGui().parentElement;this.lastHoveredColumnItem&&this.lastHoveredColumnItem.rowIndex===r.rowIndex&&this.lastHoveredColumnItem.position===r.position||(this.autoScrollService.check(e.event),this.clearHoveredItems(),this.lastHoveredColumnItem=r,_.radioCssClass(o,""+RC),_.radioCssClass(o,"ag-item-highlight-"+r.position))}}},t.prototype.getDragColumnItem=function(e){var r=this.virtualList.getGui(),i=parseFloat(window.getComputedStyle(r).paddingTop),o=this.virtualList.getRowHeight(),a=this.virtualList.getScrollTop(),s=Math.max(0,(e.y-i+a)/o),l=this.comp.getDisplayedColsList().length-1,u=Math.min(l,s)|0;return{rowIndex:u,position:Math.round(s)>s||s>l?"bottom":"top",component:this.virtualList.getComponentAt(u)}},t.prototype.onDragStop=function(){if(!this.moveBlocked){var e=this.getTargetIndex(),r=this.getCurrentColumns();e!=null&&this.columnModel.moveColumns(r,e),this.clearHoveredItems(),this.autoScrollService.ensureCleared()}},t.prototype.getMoveDiff=function(e){var r=this.columnModel.getAllGridColumns(),i=this.getCurrentColumns(),o=i[0],a=i.length,s=r.indexOf(o);return s<e?a:0},t.prototype.getCurrentColumns=function(){return this.currentDragColumn instanceof at?this.currentDragColumn.getLeafColumns():[this.currentDragColumn]},t.prototype.getTargetIndex=function(){if(!this.lastHoveredColumnItem)return null;var e=this.lastHoveredColumnItem.component,r=this.lastHoveredColumnItem.position==="top",i;if(e instanceof VI){var o=e.getColumns();i=o[0],r=!0}else i=e.getColumn();var a=this.columnModel.getAllGridColumns().indexOf(i),s=r?a:a+1,l=this.getMoveDiff(s);return s-l},t.prototype.onDragLeave=function(){this.clearHoveredItems(),this.autoScrollService.ensureCleared()},t.prototype.clearHoveredItems=function(){var e=this.virtualList.getGui();e.querySelectorAll("."+RC).forEach(function(r){[RC,"ag-item-highlight-top","ag-item-highlight-bottom"].forEach(function(i){r.classList.remove(i)})}),this.lastHoveredColumnItem=null},EC([y("columnModel")],t.prototype,"columnModel",void 0),EC([y("dragAndDropService")],t.prototype,"dragAndDropService",void 0),EC([H],t.prototype,"postConstruct",null),t}(j),vK=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Mu=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},mK=function(n){vK(t,n);function t(e,r,i,o,a){var s=n.call(this)||this;return s.column=e,s.columnDept=r,s.allowDragging=i,s.groupsExist=o,s.focusWrapper=a,s.processingColumnStateChange=!1,s}return t.prototype.init=function(){var e=this;this.setTemplate(t.TEMPLATE),this.eDragHandle=_.createIconNoSpan("columnDrag",this.gridOptionsWrapper),this.eDragHandle.classList.add("ag-drag-handle","ag-column-select-column-drag-handle");var r=this.cbSelect.getGui(),i=this.cbSelect.getInputElement();r.insertAdjacentElement("afterend",this.eDragHandle),i.setAttribute("tabindex","-1"),this.displayName=this.columnModel.getDisplayNameForColumn(this.column,"columnToolPanel");var o=_.escapeString(this.displayName);this.eLabel.innerHTML=o;var a=this.columnDept;this.groupsExist&&this.addCssClass("ag-column-select-add-group-indent"),this.addCssClass("ag-column-select-indent-"+a),this.setupDragging(),this.addManagedListener(this.eventService,x.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.onColumnStateChanged.bind(this)),this.addManagedListener(this.column,Se.EVENT_VALUE_CHANGED,this.onColumnStateChanged.bind(this)),this.addManagedListener(this.column,Se.EVENT_PIVOT_CHANGED,this.onColumnStateChanged.bind(this)),this.addManagedListener(this.column,Se.EVENT_ROW_GROUP_CHANGED,this.onColumnStateChanged.bind(this)),this.addManagedListener(this.column,Se.EVENT_VISIBLE_CHANGED,this.onColumnStateChanged.bind(this)),this.addManagedListener(this.focusWrapper,"keydown",this.handleKeyDown.bind(this)),this.addManagedListener(this.focusWrapper,"contextmenu",this.onContextMenu.bind(this)),this.addManagedListener(this.gridOptionsWrapper,"functionsReadOnly",this.onColumnStateChanged.bind(this)),this.addManagedListener(this.cbSelect,oo.EVENT_CHANGED,this.onCheckboxChanged.bind(this)),this.addManagedListener(this.eLabel,"click",this.onLabelClicked.bind(this)),this.onColumnStateChanged(),this.refreshAriaLabel(),this.setupTooltip();var s=gd.getToolPanelClassesFromColDef(this.column.getColDef(),this.gridOptionsWrapper,this.column,null);s.forEach(function(l){return e.addOrRemoveCssClass(l,!0)})},t.prototype.getColumn=function(){return this.column},t.prototype.setupTooltip=function(){var e=this,r=function(){var i=e.column.getColDef().headerTooltip;e.setTooltip(i)};r(),this.addManagedListener(this.eventService,x.EVENT_NEW_COLUMNS_LOADED,r)},t.prototype.getTooltipParams=function(){var e=n.prototype.getTooltipParams.call(this);return e.location="columnToolPanelColumn",e.colDef=this.column.getColDef(),e},t.prototype.onContextMenu=function(e){var r=this,i=this,o=i.column,a=i.gridOptionsWrapper;if(!a.isFunctionsReadOnly()){var s=this.createBean(new BI(o,e,this.focusWrapper));this.addDestroyFunc(function(){s.isAlive()&&r.destroyBean(s)})}},t.prototype.handleKeyDown=function(e){e.key===U.SPACE&&(e.preventDefault(),this.isSelectable()&&this.onSelectAllChanged(!this.isSelected()))},t.prototype.onLabelClicked=function(){if(!this.gridOptionsWrapper.isFunctionsReadOnly()){var e=!this.cbSelect.getValue();this.onChangeCommon(e)}},t.prototype.onCheckboxChanged=function(e){this.onChangeCommon(e.selected)},t.prototype.onChangeCommon=function(e){this.cbSelect.isReadOnly()||(this.refreshAriaLabel(),!this.processingColumnStateChange&&this.modelItemUtils.setColumn(this.column,e,"toolPanelUi"))},t.prototype.refreshAriaLabel=function(){var e=this.gridOptionsWrapper.getLocaleTextFunc(),r=e("ariaColumn","Column"),i=this.cbSelect.getValue()?e("ariaVisible","visible"):e("ariaHidden","hidden"),o=e("ariaToggleVisibility","Press SPACE to toggle visibility");_.setAriaLabel(this.focusWrapper,this.displayName+" "+r),this.cbSelect.setInputAriaLabel(o+" ("+i+")"),_.setAriaDescribedBy(this.focusWrapper,this.cbSelect.getInputElement().id)},t.prototype.setupDragging=function(){var e=this;if(!this.allowDragging){_.setDisplayed(this.eDragHandle,!1);return}var r={type:nr.ToolPanel,eElement:this.eDragHandle,dragItemName:this.displayName,getDragItem:function(){return e.createDragItem()},onDragStarted:function(){var i={type:x.EVENT_COLUMN_PANEL_ITEM_DRAG_START,column:e.column};e.eventService.dispatchEvent(i)},onDragStopped:function(){var i={type:x.EVENT_COLUMN_PANEL_ITEM_DRAG_END};e.eventService.dispatchEvent(i)}};this.dragAndDropService.addDragSource(r,!0),this.addDestroyFunc(function(){return e.dragAndDropService.removeDragSource(r)})},t.prototype.createDragItem=function(){var e={};return e[this.column.getId()]=this.column.isVisible(),{columns:[this.column],visibleState:e}},t.prototype.onColumnStateChanged=function(){this.processingColumnStateChange=!0;var e=this.columnModel.isPivotMode();if(e){var r=this.column.isAnyFunctionActive();this.cbSelect.setValue(r)}else this.cbSelect.setValue(this.column.isVisible());var i=!0,o=!0;if(e){var a=this.gridOptionsWrapper.isFunctionsReadOnly(),s=!this.column.isAnyFunctionAllowed();i=!a&&!s,o=i}else{var l=this.column.getColDef(),u=l.enableRowGroup,c=l.enableValue,p=l.lockPosition,h=l.suppressMovable,d=l.lockVisible,f=!!u||!!c,g=!!p||!!h;i=!d,o=f||!g}this.cbSelect.setReadOnly(!i),this.eDragHandle.classList.toggle("ag-column-select-column-readonly",!o),this.addOrRemoveCssClass("ag-column-select-column-readonly",!o&&!i);var v=e&&this.gridOptionsWrapper.isFunctionsPassive();this.cbSelect.setPassive(v),this.processingColumnStateChange=!1},t.prototype.getDisplayName=function(){return this.displayName},t.prototype.onSelectAllChanged=function(e){e!==this.cbSelect.getValue()&&(this.cbSelect.isReadOnly()||this.cbSelect.toggle())},t.prototype.isSelected=function(){return this.cbSelect.getValue()},t.prototype.isSelectable=function(){return!this.cbSelect.isReadOnly()},t.prototype.isExpandable=function(){return!1},t.prototype.setExpanded=function(e){console.warn("AG Grid: can not expand a column item that does not represent a column group header")},t.TEMPLATE=`<div class="ag-column-select-column" aria-hidden="true">
            <ag-checkbox ref="cbSelect" class="ag-column-select-checkbox"></ag-checkbox>
            <span class="ag-column-select-column-label" ref="eLabel"></span>
        </div>`,Mu([y("columnModel")],t.prototype,"columnModel",void 0),Mu([y("dragAndDropService")],t.prototype,"dragAndDropService",void 0),Mu([y("modelItemUtils")],t.prototype,"modelItemUtils",void 0),Mu([I("eLabel")],t.prototype,"eLabel",void 0),Mu([I("cbSelect")],t.prototype,"cbSelect",void 0),Mu([H],t.prototype,"init",null),t}(te),yK=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),yf=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},CK=function(){function n(t){this.items=t}return n.prototype.getRowCount=function(){return this.items.length},n.prototype.getRow=function(t){return this.items[t]},n}(),bK="ag-column-select-list",wK=function(n){yK(t,n);function t(){var e=n.call(this,t.TEMPLATE)||this;return e.destroyColumnItemFuncs=[],e}return t.prototype.destroyColumnTree=function(){this.allColsTree=[],this.destroyColumnItemFuncs.forEach(function(e){return e()}),this.destroyColumnItemFuncs=[]},t.prototype.init=function(e,r,i){var o=this;this.params=e,this.allowDragging=r,this.eventType=i,this.params.suppressSyncLayoutWithGrid||this.addManagedListener(this.eventService,x.EVENT_COLUMN_MOVED,this.onColumnsChanged.bind(this)),this.addManagedListener(this.eventService,x.EVENT_NEW_COLUMNS_LOADED,this.onColumnsChanged.bind(this));var a=[x.EVENT_COLUMN_PIVOT_CHANGED,x.EVENT_COLUMN_PIVOT_MODE_CHANGED,x.EVENT_COLUMN_ROW_GROUP_CHANGED,x.EVENT_COLUMN_VALUE_CHANGED,x.EVENT_COLUMN_VISIBLE,x.EVENT_NEW_COLUMNS_LOADED];a.forEach(function(u){o.addManagedListener(o.eventService,u,o.fireSelectionChangedEvent.bind(o))}),this.expandGroupsByDefault=!this.params.contractColumnSelection;var s=this.gridOptionsWrapper.getLocaleTextFunc(),l=s("ariaColumnList","Column List");this.virtualList=this.createManagedBean(new bd("column-select","tree",l)),this.appendChild(this.virtualList.getGui()),this.virtualList.setComponentCreator(function(u,c){return _.setAriaLevel(c,u.getDept()+1),o.createComponentFromItem(u,c)}),this.columnModel.isReady()&&this.onColumnsChanged(),!e.suppressColumnMove&&!this.gridOptionsWrapper.isSuppressMovableColumns()&&this.createManagedBean(new gK(this,this.virtualList))},t.prototype.createComponentFromItem=function(e,r){if(e.isGroup()){var i=new VI(e,this.allowDragging,this.eventType,r);return this.getContext().createBean(i),i}var o=new mK(e.getColumn(),e.getDept(),this.allowDragging,this.groupsExist,r);return this.getContext().createBean(o),o},t.prototype.onColumnsChanged=function(){var e=this.getExpandedStates(),r=this.columnModel.isPivotMode(),i=!this.params.suppressSyncLayoutWithGrid&&!r;i?this.buildTreeFromWhatGridIsDisplaying():this.buildTreeFromProvidedColumnDefs(),this.setExpandedStates(e),this.markFilteredColumns(),this.flattenAndFilterModel()},t.prototype.getDisplayedColsList=function(){return this.displayedColsList},t.prototype.getExpandedStates=function(){if(!this.allColsTree)return{};var e={};return this.forEachItem(function(r){if(!!r.isGroup()){var i=r.getColumnGroup();i&&(e[i.getId()]=r.isExpanded())}}),e},t.prototype.setExpandedStates=function(e){!this.allColsTree||this.forEachItem(function(r){if(!!r.isGroup()){var i=r.getColumnGroup();if(i){var o=e[i.getId()],a=o!=null;a&&r.setExpanded(o)}}})},t.prototype.buildTreeFromWhatGridIsDisplaying=function(){this.colDefService.syncLayoutWithGrid(this.setColumnLayout.bind(this))},t.prototype.setColumnLayout=function(e){var r=this.colDefService.createColumnTree(e);this.buildListModel(r),this.groupsExist=e.some(function(i){return i&&typeof i.children!="undefined"}),this.markFilteredColumns(),this.flattenAndFilterModel()},t.prototype.buildTreeFromProvidedColumnDefs=function(){this.buildListModel(this.columnModel.getPrimaryColumnTree()),this.groupsExist=this.columnModel.isPrimaryColumnGroupsPresent()},t.prototype.buildListModel=function(e){var r=this,i=this.onColumnExpanded.bind(this),o=function(u){u.addEventListener(sh.EVENT_EXPANDED_CHANGED,i);var c=u.removeEventListener.bind(u,sh.EVENT_EXPANDED_CHANGED,i);r.destroyColumnItemFuncs.push(c)},a=function(u,c,p){u.forEach(function(h){h instanceof at?s(h,c,p):l(h,c,p)})},s=function(u,c,p){var h=u.getColGroupDef(),d=h&&h.suppressColumnsToolPanel;if(!d){if(u.isPadding()){a(u.getChildren(),c,p);return}var f=r.columnModel.getDisplayNameForProvidedColumnGroup(null,u,r.eventType),g=new sh(f,u,c,!0,r.expandGroupsByDefault);p.push(g),o(g),a(u.getChildren(),c+1,g.getChildren())}},l=function(u,c,p){var h=u.getColDef()&&u.getColDef().suppressColumnsToolPanel;if(!h){var d=r.columnModel.getDisplayNameForColumn(u,"columnToolPanel");p.push(new sh(d,u,c))}};this.destroyColumnTree(),a(e,0,this.allColsTree)},t.prototype.onColumnExpanded=function(){this.flattenAndFilterModel()},t.prototype.flattenAndFilterModel=function(){var e=this;this.displayedColsList=[];var r=function(o){!o.isPassesFilter()||(e.displayedColsList.push(o),o.isGroup()&&o.isExpanded()&&o.getChildren().forEach(r))};this.allColsTree.forEach(r),this.virtualList.setModel(new CK(this.displayedColsList));var i=this.virtualList.getLastFocusedRow();this.virtualList.refresh(),i!=null&&this.focusRowIfAlive(i),this.notifyListeners()},t.prototype.focusRowIfAlive=function(e){var r=this;window.setTimeout(function(){r.isAlive()&&r.virtualList.focusRow(e)},0)},t.prototype.forEachItem=function(e){var r=function(i){i.forEach(function(o){e(o),o.isGroup()&&r(o.getChildren())})};r(this.allColsTree)},t.prototype.doSetExpandedAll=function(e){this.forEachItem(function(r){r.isGroup()&&r.setExpanded(e)})},t.prototype.setGroupsExpanded=function(e,r){if(!r){this.doSetExpandedAll(e);return}var i=[];this.forEachItem(function(a){if(!!a.isGroup()){var s=a.getColumnGroup().getId();r.indexOf(s)>=0&&(a.setExpanded(e),i.push(s))}});var o=r.filter(function(a){return!_.includes(i,a)});o.length>0&&console.warn("AG Grid: unable to find group(s) for supplied groupIds:",o)},t.prototype.getExpandState=function(){var e=0,r=0;return this.forEachItem(function(i){!i.isGroup()||(i.isExpanded()?e++:r++)}),e>0&&r>0?Lo.INDETERMINATE:r>0?Lo.COLLAPSED:Lo.EXPANDED},t.prototype.doSetSelectedAll=function(e){this.modelItemUtils.selectAllChildren(this.allColsTree,e,this.eventType)},t.prototype.getSelectionState=function(){var e=0,r=0,i=this.columnModel.isPivotMode();if(this.forEachItem(function(o){if(!o.isGroup()&&!!o.isPassesFilter()){var a=o.getColumn(),s=a.getColDef(),l;if(i){var u=!a.isAllowPivot()&&!a.isAllowRowGroup()&&!a.isAllowValue();if(u)return;l=a.isValueActive()||a.isPivotActive()||a.isRowGroupActive()}else{if(s.lockVisible)return;l=a.isVisible()}l?e++:r++}}),!(e>0&&r>0))return!(e===0||r>0)},t.prototype.setFilterText=function(e){this.filterText=_.exists(e)?e.toLowerCase():null,this.markFilteredColumns(),this.flattenAndFilterModel()},t.prototype.markFilteredColumns=function(){var e=this,r=function(o){if(!_.exists(e.filterText))return!0;var a=o.getDisplayName();return a==null||a.toLowerCase().indexOf(e.filterText)!==-1},i=function(o,a){var s=!1;if(o.isGroup()){var l=r(o);o.getChildren().forEach(function(c){var p=i(c,l||a);p&&(s=p)})}var u=a||s?!0:r(o);return o.setPassesFilter(u),u};this.allColsTree.forEach(function(o){return i(o,!1)})},t.prototype.notifyListeners=function(){this.fireGroupExpandedEvent(),this.fireSelectionChangedEvent()},t.prototype.fireGroupExpandedEvent=function(){var e=this.getExpandState();this.dispatchEvent({type:"groupExpanded",state:e})},t.prototype.fireSelectionChangedEvent=function(){var e=this.getSelectionState();this.dispatchEvent({type:"selectionChanged",state:e})},t.TEMPLATE='<div class="'+bK+'" role="presentation"></div>',yf([y("columnModel")],t.prototype,"columnModel",void 0),yf([y("toolPanelColDefService")],t.prototype,"colDefService",void 0),yf([y("modelItemUtils")],t.prototype,"modelItemUtils",void 0),yf([_t],t.prototype,"destroyColumnTree",null),t}(te),_K=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),PC=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},hE=function(n){_K(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.createTemplate=function(){return`<div class="ag-pivot-mode-panel">
                <ag-toggle-button ref="cbPivotMode" class="ag-pivot-mode-select"></ag-toggle-button>
            </div>`},t.prototype.init=function(){this.setTemplate(this.createTemplate()),this.cbPivotMode.setValue(this.columnModel.isPivotMode());var e=this.gridOptionsWrapper.getLocaleTextFunc();this.cbPivotMode.setLabel(e("pivotMode","Pivot Mode")),this.addManagedListener(this.cbPivotMode,oo.EVENT_CHANGED,this.onBtPivotMode.bind(this)),this.addManagedListener(this.eventService,x.EVENT_NEW_COLUMNS_LOADED,this.onPivotModeChanged.bind(this)),this.addManagedListener(this.eventService,x.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.onPivotModeChanged.bind(this))},t.prototype.onBtPivotMode=function(){var e=!!this.cbPivotMode.getValue();if(e!==this.columnModel.isPivotMode()){this.columnModel.setPivotMode(e,"toolPanelUi");var r=this.gridOptionsWrapper.getApi();r&&r.refreshHeader()}},t.prototype.onPivotModeChanged=function(){var e=this.columnModel.isPivotMode();this.cbPivotMode.setValue(e)},PC([y("columnModel")],t.prototype,"columnModel",void 0),PC([I("cbPivotMode")],t.prototype,"cbPivotMode",void 0),PC([ql],t.prototype,"init",null),t}(te),SK=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),al=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},xK=function(n){SK(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.execute=function(e){var r=_.missingOrEmpty(this.columnModel.getValueColumns()),i=!this.gridOptionsWrapper.getGroupRowAggFunc(),o=e.changedPath&&e.changedPath.isActive();if(!(r&&i&&o)){var a=this.createAggDetails(e);this.recursivelyCreateAggData(a)}},t.prototype.createAggDetails=function(e){var r=this.columnModel.isPivotActive(),i=this.columnModel.getValueColumns(),o=r?this.columnModel.getPivotColumns():[],a={changedPath:e.changedPath,valueColumns:i,pivotColumns:o};return a},t.prototype.recursivelyCreateAggData=function(e){var r=this;this.filteredOnly=!this.gridOptionsWrapper.isSuppressAggFilteredOnly();var i=function(o){var a=!o.hasChildren();if(a){o.aggData&&o.setAggData(null);return}var s=o.level===-1;if(s){var l=!r.columnModel.isPivotMode(),u=r.gridOptionsWrapper.isSuppressAggAtRootLevel();if(u&&l)return}r.aggregateRowNode(o,e)};e.changedPath.forEachChangedNodeDepthFirst(i,!0)},t.prototype.aggregateRowNode=function(e,r){var i=r.valueColumns.length===0,o=r.pivotColumns.length===0,a=this.gridOptionsWrapper.getGroupRowAggFunc(),s;if(a){var l={nodes:e.childrenAfterFilter};s=a(l)}else i?s=null:o?s=this.aggregateRowNodeUsingValuesOnly(e,r):s=this.aggregateRowNodeUsingValuesAndPivot(e);e.setAggData(s),e.sibling&&e.sibling.setAggData(s)},t.prototype.aggregateRowNodeUsingValuesAndPivot=function(e){var r=this,i={},o=this.pivotStage.getPivotColumnDefs();return o.filter(function(a){return!_.exists(a.pivotTotalColumnIds)}).forEach(function(a){var s=a.pivotKeys||[],l,u=a.pivotValueColumn,c=a.colId;e.leafGroup?l=r.getValuesFromMappedSet(e.childrenMapped,s,u):l=r.getValuesPivotNonLeaf(e,c),i[c]=r.aggregateValues(l,u.getAggFunc(),u,e)}),o.filter(function(a){return _.exists(a.pivotTotalColumnIds)}).forEach(function(a){var s=[],l=a.pivotValueColumn,u=a.pivotTotalColumnIds,c=a.colId;!u||!u.length||(u.forEach(function(p){s.push(i[p])}),i[c]=r.aggregateValues(s,l.getAggFunc(),l,e))}),i},t.prototype.aggregateRowNodeUsingValuesOnly=function(e,r){var i=this,o={},a=r.changedPath.isActive()?r.changedPath.getValueColumnsForNode(e,r.valueColumns):r.valueColumns,s=r.changedPath.isActive()?r.changedPath.getNotValueColumnsForNode(e,r.valueColumns):null,l=this.getValuesNormal(e,a),u=e.aggData;return a.forEach(function(c,p){o[c.getId()]=i.aggregateValues(l[p],c.getAggFunc(),c,e)}),s&&u&&s.forEach(function(c){o[c.getId()]=u[c.getId()]}),o},t.prototype.getValuesPivotNonLeaf=function(e,r){var i=[];return e.childrenAfterFilter.forEach(function(o){var a=o.aggData[r];i.push(a)}),i},t.prototype.getValuesFromMappedSet=function(e,r,i){var o=this,a=e;if(r.forEach(function(l){return a=a?a[l]:null}),!a)return[];var s=[];return a.forEach(function(l){var u=o.valueService.getValue(i,l);s.push(u)}),s},t.prototype.getValuesNormal=function(e,r){var i=[];r.forEach(function(){return i.push([])});for(var o=r.length,a=this.filteredOnly?e.childrenAfterFilter:e.childrenAfterGroup,s=a.length,l=0;l<s;l++)for(var u=a[l],c=0;c<o;c++){var p=r[c],h=this.valueService.getValue(p,u);i[c].push(h)}return i},t.prototype.aggregateValues=function(e,r,i,o){var a=typeof r=="string"?this.aggFuncService.getAggFunc(r):r;if(typeof a!="function")return console.error("AG Grid: unrecognised aggregation function "+r),null;var s=function(){_.doOnce(function(){console.warn("AG Grid: since v24.0, custom aggregation functions take a params object. Please alter your aggregation function to use params.values")},"aggregationStage.aggregateValues Deprecation")},l=a,u={values:e,column:i,colDef:i?i.getColDef():void 0,rowNode:o,data:o?o.data:void 0,api:this.gridApi,columnApi:this.columnApi,context:this.gridOptionsWrapper.getContext(),forEach:function(c,p){return s(),e.forEach(c,p)},get length(){return s(),e.length},set length(c){s(),e.length=c}};return l(u)},al([y("columnModel")],t.prototype,"columnModel",void 0),al([y("valueService")],t.prototype,"valueService",void 0),al([y("pivotStage")],t.prototype,"pivotStage",void 0),al([y("aggFuncService")],t.prototype,"aggFuncService",void 0),al([y("gridApi")],t.prototype,"gridApi",void 0),al([y("columnApi")],t.prototype,"columnApi",void 0),t=al([J("aggregationStage")],t),t}(j),AC=function(){function n(){this.allSets={},this.allParents=[]}return n.prototype.removeFromChildrenAfterGroup=function(t,e){var r=this.getSet(t);r.removeFromChildrenAfterGroup[e.id]=!0},n.prototype.removeFromAllLeafChildren=function(t,e){var r=this.getSet(t);r.removeFromAllLeafChildren[e.id]=!0},n.prototype.getSet=function(t){return this.allSets[t.id]||(this.allSets[t.id]={removeFromAllLeafChildren:{},removeFromChildrenAfterGroup:{}},this.allParents.push(t)),this.allSets[t.id]},n.prototype.getAllParents=function(){return this.allParents},n.prototype.flush=function(){var t=this;this.allParents.forEach(function(e){var r=t.allSets[e.id];e.childrenAfterGroup=e.childrenAfterGroup.filter(function(i){return!r.removeFromChildrenAfterGroup[i.id]}),e.allLeafChildren=e.allLeafChildren.filter(function(i){return!r.removeFromAllLeafChildren[i.id]}),e.updateHasChildren(),e.sibling&&(e.sibling.childrenAfterGroup=e.childrenAfterGroup,e.sibling.allLeafChildren=e.allLeafChildren)}),this.allSets={},this.allParents.length=0},n}(),TK=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),sl=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},OK=globalThis&&globalThis.__read||function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},EK=globalThis&&globalThis.__spread||function(){for(var n=[],t=0;t<arguments.length;t++)n=n.concat(OK(arguments[t]));return n},RK=function(n){TK(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.groupIdSequence=new vr,e}return t.prototype.postConstruct=function(){this.usingTreeData=this.gridOptionsWrapper.isTreeData(),this.usingTreeData&&(this.getDataPath=this.gridOptionsWrapper.getDataPathFunc())},t.prototype.execute=function(e){var r=this.createGroupingDetails(e);if(r.transactions)this.handleTransaction(r);else{var i=e.afterColumnsChanged===!0;this.shotgunResetEverything(r,i)}this.positionLeafsAboveGroups(e.changedPath),this.orderGroups(r.rootNode),this.selectableService.updateSelectableAfterGrouping(r.rootNode)},t.prototype.positionLeafsAboveGroups=function(e){this.usingTreeData||e.forEachChangedNodeDepthFirst(function(r){if(r.childrenAfterGroup){var i=[],o=[];r.childrenAfterGroup.forEach(function(a){var s;!((s=a.childrenAfterGroup)===null||s===void 0)&&s.length?o.push(a):i.push(a)}),r.childrenAfterGroup=EK(i,o)}},!1)},t.prototype.createGroupingDetails=function(e){var r=e.rowNode,i=e.changedPath,o=e.rowNodeTransactions,a=e.rowNodeOrder,s=this.usingTreeData?null:this.columnModel.getRowGroupColumns(),l={includeParents:!this.gridOptionsWrapper.isSuppressParentsInRowNodes(),expandByDefault:this.gridOptionsWrapper.getGroupDefaultExpanded(),groupedCols:s,rootNode:r,pivotMode:this.columnModel.isPivotMode(),groupedColCount:this.usingTreeData||!s?0:s.length,rowNodeOrder:a,transactions:o,changedPath:i};return l},t.prototype.handleTransaction=function(e){var r=this;e.transactions.forEach(function(i){var o=r.usingTreeData?void 0:new AC;if(_.existsAndNotEmpty(i.remove)&&r.removeNodes(i.remove,e,o),_.existsAndNotEmpty(i.update)&&r.moveNodesInWrongPath(i.update,e,o),_.existsAndNotEmpty(i.add)&&r.insertNodes(i.add,e,!1),o){var a=o.getAllParents().slice();o.flush(),r.removeEmptyGroups(a,e)}}),e.rowNodeOrder&&this.sortChildren(e)},t.prototype.sortChildren=function(e){e.changedPath.forEachChangedNodeDepthFirst(function(r){_.sortRowNodesByOrder(r.childrenAfterGroup,e.rowNodeOrder)})},t.prototype.orderGroups=function(e){if(this.usingTreeData)return;var r=this.gridOptionsWrapper.getInitialGroupOrderComparator();_.exists(r)&&i(e);function i(o){var a=_.exists(o.childrenAfterGroup)&&!o.leafGroup;a&&(o.childrenAfterGroup.sort(function(s,l){return r({nodeA:s,nodeB:l})}),o.childrenAfterGroup.forEach(function(s){return i(s)}))}},t.prototype.getExistingPathForNode=function(e,r){for(var i=[],o=this.usingTreeData?e:e.parent;o&&o!==r.rootNode;)i.push({key:o.key,rowGroupColumn:o.rowGroupColumn,field:o.field}),o=o.parent;return i.reverse(),i},t.prototype.moveNodesInWrongPath=function(e,r,i){var o=this;e.forEach(function(a){r.changedPath.isActive()&&r.changedPath.addParentNode(a.parent);var s=function(p){return p.key},l=o.getExistingPathForNode(a,r).map(s),u=o.getGroupInfo(a,r).map(s),c=_.areEqual(l,u);c||o.moveNode(a,r,i)})},t.prototype.moveNode=function(e,r,i){if(this.removeNodesInStages([e],r,i),this.insertOneNode(e,r,!0),e.setData(e.data),r.changedPath.isActive()){var o=e.parent;r.changedPath.addParentNode(o)}},t.prototype.removeNodes=function(e,r,i){this.removeNodesInStages(e,r,i),r.changedPath.isActive()&&e.forEach(function(o){return r.changedPath.addParentNode(o.parent)})},t.prototype.removeNodesInStages=function(e,r,i){if(this.removeNodesFromParents(e,r,i),this.usingTreeData){this.postRemoveCreateFillerNodes(e,r);var o=e.map(function(a){return a.parent});this.removeEmptyGroups(o,r)}},t.prototype.forEachParentGroup=function(e,r,i){for(var o=r;o&&o!==e.rootNode;)i(o),o=o.parent},t.prototype.removeNodesFromParents=function(e,r,i){var o=this,a=i==null,s=i||new AC;e.forEach(function(l){o.removeFromParent(l,s),o.forEachParentGroup(r,l.parent,function(u){s.removeFromAllLeafChildren(u,l)})}),a&&s.flush()},t.prototype.postRemoveCreateFillerNodes=function(e,r){var i=this;e.forEach(function(o){var a=o.hasChildren();if(a){var s=i.getExistingPathForNode(o,r),l=i.findParentForNode(o,s,r);l.expanded=o.expanded,l.allLeafChildren=o.allLeafChildren,l.childrenAfterGroup=o.childrenAfterGroup,l.childrenMapped=o.childrenMapped,l.updateHasChildren(),l.childrenAfterGroup.forEach(function(u){return u.parent=l})}})},t.prototype.removeEmptyGroups=function(e,r){for(var i=this,o=!0,a=function(l){var u=i.getChildrenMappedKey(l.key,l.rowGroupColumn),c=l.parent,p=c&&c.childrenMapped?!c.childrenMapped[u]:!0;return p?!1:!!l.isEmptyRowGroupNode()},s=function(){o=!1;var l=new AC;e.forEach(function(u){i.forEachParentGroup(r,u,function(c){a(c)&&(o=!0,i.removeFromParent(c,l),c.setSelected(!1))})}),l.flush()};o;)s()},t.prototype.removeFromParent=function(e,r){e.parent&&(r?r.removeFromChildrenAfterGroup(e.parent,e):(_.removeFromArray(e.parent.childrenAfterGroup,e),e.parent.updateHasChildren()));var i=this.getChildrenMappedKey(e.key,e.rowGroupColumn);e.parent&&e.parent.childrenMapped&&(e.parent.childrenMapped[i]=void 0),e.setRowTop(null),e.setRowIndex(null)},t.prototype.addToParent=function(e,r){var i=this.getChildrenMappedKey(e.key,e.rowGroupColumn);if(r){var o=r.childrenMapped!=null;o&&(r.childrenMapped[i]=e),r.childrenAfterGroup.push(e),r.updateHasChildren()}},t.prototype.areGroupColsEqual=function(e,r){return e==null||r==null||e.pivotMode!==r.pivotMode?!1:_.areEqual(e.groupedCols,r.groupedCols)},t.prototype.checkAllGroupDataAfterColsChanged=function(e){var r=this,i=function(o){!o||o.forEach(function(a){var s=!r.usingTreeData&&!a.group;if(!s){var l={field:a.field,key:a.key,rowGroupColumn:a.rowGroupColumn};r.setGroupData(a,l),i(a.childrenAfterGroup)}})};i(e.rootNode.childrenAfterGroup)},t.prototype.shotgunResetEverything=function(e,r){if(!this.noChangeInGroupingColumns(e,r)){this.selectionService.removeGroupsFromSelection();var i=e.rootNode,o=e.groupedCols;i.leafGroup=this.usingTreeData?!1:o.length===0,i.childrenAfterGroup=[],i.childrenMapped={},i.updateHasChildren();var a=i.sibling;a&&(a.childrenAfterGroup=i.childrenAfterGroup,a.childrenMapped=i.childrenMapped),this.insertNodes(i.allLeafChildren,e,!1)}},t.prototype.noChangeInGroupingColumns=function(e,r){var i=!1,o=this.columnModel.getGroupDisplayColumns(),a=o?o.map(function(s){return s.getId()}).join("-"):"";return r&&(i=this.usingTreeData||this.areGroupColsEqual(e,this.oldGroupingDetails),this.oldGroupDisplayColIds!==a&&this.checkAllGroupDataAfterColsChanged(e)),this.oldGroupingDetails=e,this.oldGroupDisplayColIds=a,i},t.prototype.insertNodes=function(e,r,i){var o=this;e.forEach(function(a){o.insertOneNode(a,r,i),r.changedPath.isActive()&&r.changedPath.addParentNode(a.parent)})},t.prototype.insertOneNode=function(e,r,i){var o=this.getGroupInfo(e,r),a=this.findParentForNode(e,o,r);a.group||console.warn("AG Grid: duplicate group keys for row data, keys should be unique",[a.data,e.data]),this.usingTreeData?this.swapGroupWithUserNode(a,e,i):(e.parent=a,e.level=o.length,a.childrenAfterGroup.push(e),a.updateHasChildren())},t.prototype.findParentForNode=function(e,r,i){var o=this,a=i.rootNode;return r.forEach(function(s,l){a=o.getOrCreateNextNode(a,s,l,i),a.allLeafChildren.push(e)}),a},t.prototype.swapGroupWithUserNode=function(e,r,i){r.parent=e.parent,r.key=e.key,r.field=e.field,r.groupData=e.groupData,r.level=e.level,i||(r.expanded=e.expanded),r.leafGroup=e.leafGroup,r.rowGroupIndex=e.rowGroupIndex,r.allLeafChildren=e.allLeafChildren,r.childrenAfterGroup=e.childrenAfterGroup,r.childrenMapped=e.childrenMapped,r.updateHasChildren(),this.removeFromParent(e),r.childrenAfterGroup.forEach(function(o){return o.parent=r}),this.addToParent(r,e.parent)},t.prototype.getOrCreateNextNode=function(e,r,i,o){var a=this.getChildrenMappedKey(r.key,r.rowGroupColumn),s=e.childrenMapped?e.childrenMapped[a]:void 0;return s||(s=this.createGroup(r,e,i,o),this.addToParent(s,e)),s},t.prototype.createGroup=function(e,r,i,o){var a=new Ee(this.beans);return a.group=!0,a.field=e.field,a.rowGroupColumn=e.rowGroupColumn,this.setGroupData(a,e),a.id=Ee.ID_PREFIX_ROW_GROUP+this.groupIdSequence.next(),a.key=e.key,a.level=i,a.leafGroup=this.usingTreeData?!1:i===o.groupedColCount-1,a.allLeafChildren=[],a.setAllChildrenCount(0),a.rowGroupIndex=this.usingTreeData?null:i,a.childrenAfterGroup=[],a.childrenMapped={},a.updateHasChildren(),a.parent=o.includeParents?r:null,this.setExpandedInitialValue(o,a),a},t.prototype.setGroupData=function(e,r){var i=this;e.groupData={};var o=this.columnModel.getGroupDisplayColumns();o.forEach(function(a){var s=i.usingTreeData||(e.rowGroupColumn?a.isRowGroupDisplayed(e.rowGroupColumn.getId()):!1);s&&(e.groupData[a.getColId()]=r.key)})},t.prototype.getChildrenMappedKey=function(e,r){return r?r.getId()+"-"+e:e},t.prototype.setExpandedInitialValue=function(e,r){if(e.pivotMode&&r.leafGroup){r.expanded=!1;return}var i=this.gridOptionsWrapper.getIsGroupOpenByDefaultFunc();if(i){var o={rowNode:r,field:r.field,key:r.key,level:r.level,rowGroupColumn:r.rowGroupColumn};r.expanded=i(o)==!0;return}var a=e.expandByDefault;if(e.expandByDefault===-1){r.expanded=!0;return}r.expanded=r.level<a},t.prototype.getGroupInfo=function(e,r){return this.usingTreeData?this.getGroupInfoFromCallback(e):this.getGroupInfoFromGroupColumns(e,r)},t.prototype.getGroupInfoFromCallback=function(e){var r=this.getDataPath?this.getDataPath(e.data):null;(r==null||r.length===0)&&_.doOnce(function(){return console.warn("AG Grid: getDataPath() should not return an empty path for data",e.data)},"groupStage.getGroupInfoFromCallback");var i=function(o){return{key:o,field:null,rowGroupColumn:null}};return r?r.map(i):[]},t.prototype.getGroupInfoFromGroupColumns=function(e,r){var i=this,o=[];return r.groupedCols.forEach(function(a){var s=i.valueService.getKeyForNode(a,e),l=s!=null;if(r.pivotMode&&!l&&(s=" ",l=!0),l){var u={key:s,field:a.getColDef().field,rowGroupColumn:a};o.push(u)}}),o},sl([y("columnModel")],t.prototype,"columnModel",void 0),sl([y("selectableService")],t.prototype,"selectableService",void 0),sl([y("valueService")],t.prototype,"valueService",void 0),sl([y("beans")],t.prototype,"beans",void 0),sl([y("selectionService")],t.prototype,"selectionService",void 0),sl([H],t.prototype,"postConstruct",null),t=sl([J("groupStage")],t),t}(j),PK=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),ac=globalThis&&globalThis.__assign||function(){return ac=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},ac.apply(this,arguments)},dE=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},AK=globalThis&&globalThis.__read||function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},DC=globalThis&&globalThis.__spread||function(){for(var n=[],t=0;t<arguments.length;t++)n=n.concat(AK(arguments[t]));return n},DK=function(n){PK(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}e=t,t.prototype.createPivotColumnDefs=function(r){var i=this.columnModel.getPivotColumns(),o=this.columnModel.getValueColumns(),a=i.length,s=this.recursiveBuildGroup(0,r,[],a,i);function l(p,h){return h===void 0&&(h=[]),p.forEach(function(d){d.children!==void 0?l(d.children,h):h.push(d)}),h}var u=l(s);this.addRowGroupTotals(s,u,o),this.addExpandablePivotGroups(s,u),this.addPivotTotalsToGroups(s,u);var c=u.map(function(p){return _.cloneObject(p)});return{pivotColumnGroupDefs:s,pivotColumnDefs:c}},t.prototype.recursiveBuildGroup=function(r,i,o,a,s){var l=this,u=this.columnModel.getValueColumns();if(r>=a)return this.buildMeasureCols(o);var c=s[r].getColDef(),p=this.headerNameComparator.bind(this,c.pivotComparator);if(u.length===1&&this.gridOptionsWrapper.isRemovePivotHeaderRowWhenSingleValueColumn()&&r===a-1){var h=[];return _.iterateObject(i,function(f){var g=DC(o,[f]);h.push(ac(ac({},l.createColDef(u[0],f,g)),{columnGroupShow:"open"}))}),h.sort(p),h}var d=[];return _.iterateObject(i,function(f,g){var v=DC(o,[f]);d.push({children:l.recursiveBuildGroup(r+1,g,v,a,s),headerName:f,pivotKeys:v,columnGroupShow:"open",groupId:l.generateColumnGroupId(v)})}),d.sort(p),d},t.prototype.buildMeasureCols=function(r){var i=this,o=this.columnModel.getValueColumns();return o.length===0?[this.createColDef(null,"-",r)]:o.map(function(a){var s=i.columnModel.getDisplayNameForColumn(a,"header");return ac(ac({},i.createColDef(a,s,r)),{columnGroupShow:"open"})})},t.prototype.addExpandablePivotGroups=function(r,i){var o=this;if(!(this.gridOptionsWrapper.isSuppressExpandablePivotGroups()||this.gridOptionsWrapper.getPivotColumnGroupTotals())){var a=function(s,l,u){var c=s;if(c.children){var p=new Map;c.children.forEach(function(v){a(v,l,p)});var h=!c.children.some(function(v){return v.children});o.columnModel.getValueColumns().forEach(function(v){var m=o.columnModel.getDisplayNameForColumn(v,"header"),C=o.createColDef(v,m,s.pivotKeys);if(C.pivotTotalColumnIds=p.get(v.getColId()),C.columnGroupShow="closed",C.aggFunc=v.getAggFunc(),!h){var b=s.children;b.push(C),l.push(C)}}),o.merge(u,p)}else{var d=s;if(!d.pivotValueColumn)return;var f=d.pivotValueColumn.getColId(),g=u.has(f)?u.get(f):[];g.push(d.colId),u.set(f,g)}};r.forEach(function(s){a(s,i,new Map)})}},t.prototype.addPivotTotalsToGroups=function(r,i){var o=this;if(!!this.gridOptionsWrapper.getPivotColumnGroupTotals()){var a=this.gridOptionsWrapper.getPivotColumnGroupTotals()==="after",s=this.columnModel.getValueColumns(),l=s.map(function(c){return c.getAggFunc()});if(!(!l||l.length<1||!this.sameAggFuncs(l))){var u=s[0];r.forEach(function(c){o.recursivelyAddPivotTotal(c,i,u,a)})}}},t.prototype.recursivelyAddPivotTotal=function(r,i,o,a){var s=this,l=r;if(!l.children){var u=r;return u.colId?[u.colId]:null}var c=[];if(l.children.forEach(function(g){var v=s.recursivelyAddPivotTotal(g,i,o,a);v&&(c=c.concat(v))}),l.children.length>1){var p=this.gridOptionsWrapper.getLocaleTextFunc(),h=p("pivotColumnGroupTotals","Total"),d=this.createColDef(o,h,r.pivotKeys,!0);d.pivotTotalColumnIds=c,d.aggFunc=o.getAggFunc();var f=r.children;a?f.push(d):f.unshift(d),i.push(d)}return c},t.prototype.addRowGroupTotals=function(r,i,o){var a=this;if(!!this.gridOptionsWrapper.getPivotRowTotals())for(var s=this.gridOptionsWrapper.getPivotRowTotals()==="after",l=s?o.slice():o.slice().reverse(),u=function(h){var d=l[h],f=[];r.forEach(function(g){f=f.concat(a.extractColIdsForValueColumn(g,d))}),c.createRowGroupTotal(r,i,d,f,s)},c=this,p=0;p<l.length;p++)u(p)},t.prototype.extractColIdsForValueColumn=function(r,i){var o=this,a=r;if(!a.children){var s=a;return s.pivotValueColumn===i&&s.colId?[s.colId]:[]}var l=[];return a.children.forEach(function(u){o.extractColIdsForValueColumn(u,i);var c=o.extractColIdsForValueColumn(u,i);l=l.concat(c)}),l},t.prototype.createRowGroupTotal=function(r,i,o,a,s){var l=this.columnModel.getValueColumns(),u;if(l.length===0)u=this.createColDef(null,"-",[]);else{var c=this.columnModel.getDisplayNameForColumn(o,"header");u=this.createColDef(o,c,[]),u.pivotTotalColumnIds=a}u.colId=e.PIVOT_ROW_TOTAL_PREFIX+u.colId,i.push(u),s?r.push(u):r.unshift(u)},t.prototype.createColDef=function(r,i,o,a){a===void 0&&(a=!1);var s={};if(r){var l=r.getColDef();Object.assign(s,l),s.hide=!1}return s.headerName=i,s.colId=this.generateColumnId(o||[],r&&!a?r.getColId():""),s.field=s.colId,s.pivotKeys=o,s.pivotValueColumn=r,s.filter===!0&&(s.filter="agNumberColumnFilter"),s},t.prototype.sameAggFuncs=function(r){if(r.length==1)return!0;for(var i=1;i<r.length;i++)if(r[i]!==r[0])return!1;return!0},t.prototype.headerNameComparator=function(r,i,o){return r?r(i.headerName,o.headerName):i.headerName&&!o.headerName?1:!i.headerName&&o.headerName?-1:!i.headerName||!o.headerName?0:i.headerName<o.headerName?-1:i.headerName>o.headerName?1:0},t.prototype.merge=function(r,i){i.forEach(function(o,a,s){var l=r.has(a)?r.get(a):[],u=DC(l,o);r.set(a,u)})},t.prototype.generateColumnGroupId=function(r){var i=this.columnModel.getPivotColumns().map(function(o){return o.getColId()});return"pivotGroup_"+i.join("-")+"_"+r.join("-")},t.prototype.generateColumnId=function(r,i){var o=this.columnModel.getPivotColumns().map(function(a){return a.getColId()});return"pivot_"+o.join("-")+"_"+r.join("-")+"_"+i};var e;return t.PIVOT_ROW_TOTAL_PREFIX="PivotRowTotal_",dE([y("columnModel")],t.prototype,"columnModel",void 0),t=e=dE([J("pivotColDefService")],t),t}(j),MK=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Cf=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},FK=function(n){MK(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.uniqueValues={},e}return t.prototype.execute=function(e){var r=e.rowNode,i=e.changedPath;this.columnModel.isPivotActive()?this.executePivotOn(r,i):this.executePivotOff(i)},t.prototype.executePivotOff=function(e){this.aggregationColumnsHashLastTime=null,this.uniqueValues={},this.columnModel.isSecondaryColumnsPresent()&&(this.columnModel.setSecondaryColumns(null,"rowModelUpdated"),e&&e.setInactive())},t.prototype.executePivotOn=function(e,r){var i=this.bucketUpRowNodes(e),o=this.setUniqueValues(i),a=this.columnModel.getValueColumns(),s=a.map(function(f){return f.getId()+"-"+f.getColDef().headerName}).join("#"),l=a.map(function(f){return f.getAggFunc().toString()}).join("#"),u=this.aggregationColumnsHashLastTime!==s,c=this.aggregationFuncsHashLastTime!==l;if(this.aggregationColumnsHashLastTime=s,this.aggregationFuncsHashLastTime=l,o||u||c){var p=this.pivotColDefService.createPivotColumnDefs(this.uniqueValues),h=p.pivotColumnGroupDefs,d=p.pivotColumnDefs;this.pivotColumnDefs=d,this.columnModel.setSecondaryColumns(h,"rowModelUpdated"),r&&r.setInactive()}},t.prototype.setUniqueValues=function(e){var r=JSON.stringify(e),i=JSON.stringify(this.uniqueValues),o=r!==i;return o?(this.uniqueValues=e,!0):!1},t.prototype.bucketUpRowNodes=function(e){var r=this,i={},o=function(a){a.leafGroup?r.bucketRowNode(a,i):a.childrenAfterFilter.forEach(function(s){o(s)})};return o(e),i},t.prototype.bucketRowNode=function(e,r){var i=this.columnModel.getPivotColumns();i.length===0?e.childrenMapped=null:e.childrenMapped=this.bucketChildren(e.childrenAfterFilter,i,0,r),e.sibling&&(e.sibling.childrenMapped=e.childrenMapped)},t.prototype.bucketChildren=function(e,r,i,o){var a=this,s={},l=r[i];if(e.forEach(function(c){var p=a.valueService.getKeyForNode(l,c);_.missing(p)&&(p=""),o[p]||(o[p]={}),s[p]||(s[p]=[]),s[p].push(c)}),i===r.length-1)return s;var u={};return _.iterateObject(s,function(c,p){u[c]=a.bucketChildren(p,r,i+1,o[c])}),u},t.prototype.getPivotColumnDefs=function(){return this.pivotColumnDefs},Cf([y("valueService")],t.prototype,"valueService",void 0),Cf([y("columnModel")],t.prototype,"columnModel",void 0),Cf([y("pivotColDefService")],t.prototype,"pivotColDefService",void 0),t=Cf([J("pivotStage")],t),t}(j),IK=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),fE=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Oo=typeof BigInt=="undefined"?null:BigInt,LK=function(n){IK(t,n);function t(){var r=n!==null&&n.apply(this,arguments)||this;return r.aggFuncsMap={},r.initialised=!1,r}e=t,t.prototype.init=function(){this.initialised||(this.initialiseWithDefaultAggregations(),this.addAggFuncs(this.gridOptionsWrapper.getAggFuncs()))},t.prototype.initialiseWithDefaultAggregations=function(){this.aggFuncsMap[e.AGG_SUM]=NK,this.aggFuncsMap[e.AGG_FIRST]=kK,this.aggFuncsMap[e.AGG_LAST]=GK,this.aggFuncsMap[e.AGG_MIN]=BK,this.aggFuncsMap[e.AGG_MAX]=VK,this.aggFuncsMap[e.AGG_COUNT]=WK,this.aggFuncsMap[e.AGG_AVG]=HK,this.initialised=!0},t.prototype.isAggFuncPossible=function(r,i){var o=this.getFuncNames(r),a=_.includes(o,i),s=_.exists(this.aggFuncsMap[i]);return a&&s},t.prototype.getDefaultAggFunc=function(r){var i=r.getColDef().defaultAggFunc;if(_.exists(i)&&this.isAggFuncPossible(r,i))return i;if(this.isAggFuncPossible(r,e.AGG_SUM))return e.AGG_SUM;var o=this.getFuncNames(r);return _.existsAndNotEmpty(o)?o[0]:null},t.prototype.addAggFuncs=function(r){_.iterateObject(r,this.addAggFunc.bind(this))},t.prototype.addAggFunc=function(r,i){this.init(),this.aggFuncsMap[r]=i},t.prototype.getAggFunc=function(r){return this.init(),this.aggFuncsMap[r]},t.prototype.getFuncNames=function(r){var i=r.getColDef().allowedAggFuncs;return i==null?Object.keys(this.aggFuncsMap).sort():i},t.prototype.clear=function(){this.aggFuncsMap={}};var e;return t.AGG_SUM="sum",t.AGG_FIRST="first",t.AGG_LAST="last",t.AGG_MIN="min",t.AGG_MAX="max",t.AGG_COUNT="count",t.AGG_AVG="avg",fE([H],t.prototype,"init",null),t=e=fE([J("aggFuncService")],t),t}(j);function NK(n){for(var t=n.values,e=null,r=0;r<t.length;r++){var i=t[r];typeof i=="number"?e===null?e=i:Oo?e+=typeof e=="number"?i:Oo(i):e+=i:typeof i=="bigint"&&(e===null?e=i:e=(typeof e=="bigint"?e:Oo(e))+i)}return e}function kK(n){return n.values.length>0?n.values[0]:null}function GK(n){return n.values.length>0?_.last(n.values):null}function BK(n){for(var t=n.values,e=null,r=0;r<t.length;r++){var i=t[r];(typeof i=="number"||typeof i=="bigint")&&(e===null||e>i)&&(e=i)}return e}function VK(n){for(var t=n.values,e=null,r=0;r<t.length;r++){var i=t[r];(typeof i=="number"||typeof i=="bigint")&&(e===null||e<i)&&(e=i)}return e}function WK(n){for(var t=n.values,e=0,r=0;r<t.length;r++){var i=t[r];e+=i!=null&&typeof i.value=="number"?i.value:1}return{value:e,toString:function(){return this.value.toString()},toNumber:function(){return this.value}}}function HK(n){for(var t=n.values,e=0,r=0,i=0;i<t.length;i++){var o=t[i],a=null;typeof o=="number"||typeof o=="bigint"?(a=o,r++):o!=null&&(typeof o.value=="number"||typeof o.value=="bigint")&&typeof o.count=="number"&&(Oo?a=o.value*(typeof o.value=="number"?o.count:Oo(o.count)):a=o.value*o.count,r+=o.count),typeof a=="number"?Oo?e+=typeof e=="number"?a:Oo(a):e+=a:typeof a=="bigint"&&(e=(typeof e=="bigint"?e:Oo(e))+a)}var s=null;return r>0&&(Oo?s=e/(typeof e=="number"?r:Oo(r)):s=e/r),{count:r,value:s,toString:function(){return typeof this.value=="number"||typeof this.value=="bigint"?this.value.toString():""},toNumber:function(){return this.value}}}var WI=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),vo=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},gE=function(n){WI(t,n);function t(e,r,i,o,a){var s=n.call(this)||this;return s.column=e,s.dragSourceDropTarget=r,s.ghost=i,s.valueColumn=o,s.horizontal=a,s.popupShowing=!1,s}return t.prototype.init=function(){this.setTemplate(t.TEMPLATE);var e=this.getGui(),r=this.gridOptionsWrapper.isFunctionsReadOnly();this.addElementClasses(e),this.addElementClasses(this.eDragHandle,"drag-handle"),this.addElementClasses(this.eText,"text"),this.addElementClasses(this.eButton,"button"),this.eDragHandle.appendChild(_.createIconNoSpan("columnDrag",this.gridOptionsWrapper)),this.eButton.appendChild(_.createIconNoSpan("cancel",this.gridOptionsWrapper)),this.displayName=this.columnModel.getDisplayNameForColumn(this.column,"columnDrop"),this.setupComponents(),!this.ghost&&!r&&this.addDragSource();var i=this.gridOptionsWrapper.getLocaleTextFunc(),o=i("ariaDropZoneColumnComponentDescription","Press DELETE to remove"),a=this.getColumnAndAggFuncName(),s=a.name,l=a.aggFuncName,u="";this.valueColumn&&!r&&(u=i("ariaDropZoneColumnValueItemDescription","Press ENTER to change the aggregation type")),_.setAriaLabel(e,l+" "+s+" "+o+" "+u),this.setupTooltip()},t.prototype.setupTooltip=function(){var e=this,r=function(){var i=e.column.getColDef().headerTooltip;e.setTooltip(i)};r(),this.addManagedListener(this.eventService,x.EVENT_NEW_COLUMNS_LOADED,r)},t.prototype.addDragSource=function(){var e=this,r={type:nr.ToolPanel,eElement:this.eDragHandle,defaultIconName:It.ICON_HIDE,getDragItem:function(){return e.createDragItem()},dragItemName:this.displayName,dragSourceDropTarget:this.dragSourceDropTarget};this.dragAndDropService.addDragSource(r,!0),this.addDestroyFunc(function(){return e.dragAndDropService.removeDragSource(r)})},t.prototype.createDragItem=function(){var e={};return e[this.column.getId()]=this.column.isVisible(),{columns:[this.column],visibleState:e}},t.prototype.setupComponents=function(){this.setTextValue(),this.setupRemove(),this.ghost&&this.addCssClass("ag-column-drop-cell-ghost"),this.valueColumn&&!this.gridOptionsWrapper.isFunctionsReadOnly()&&this.addGuiEventListener("click",this.onShowAggFuncSelection.bind(this))},t.prototype.setupRemove=function(){var e=this;_.setDisplayed(this.eButton,!this.gridOptionsWrapper.isFunctionsReadOnly());var r={type:t.EVENT_COLUMN_REMOVE};this.addGuiEventListener("keydown",function(o){var a=o.key===U.ENTER,s=o.key===U.DELETE;s&&(o.preventDefault(),e.dispatchEvent(r)),a&&e.valueColumn&&!e.gridOptionsWrapper.isFunctionsReadOnly()&&(o.preventDefault(),e.onShowAggFuncSelection())}),this.addManagedListener(this.eButton,"click",function(o){e.dispatchEvent(r),o.stopPropagation()});var i=new qr(this.eButton);this.addManagedListener(i,qr.EVENT_TAP,function(){e.dispatchEvent(r)}),this.addDestroyFunc(i.destroy.bind(i))},t.prototype.getColumnAndAggFuncName=function(){var e=this.displayName,r="";if(this.valueColumn){var i=this.column.getAggFunc(),o=typeof i=="string"?i:"agg",a=this.gridOptionsWrapper.getLocaleTextFunc();r=a(o,o)}return{name:e,aggFuncName:r}},t.prototype.setTextValue=function(){var e=this.getColumnAndAggFuncName(),r=e.name,i=e.aggFuncName,o=this.valueColumn?i+"("+r+")":r,a=_.escapeString(o);this.eText.innerHTML=a},t.prototype.onShowAggFuncSelection=function(){var e=this;if(!this.popupShowing){this.popupShowing=!0;var r=new bd("select-agg-func"),i=this.aggFuncService.getFuncNames(this.column),o=this.getGui(),a=r.getGui();r.setModel({getRow:function(h){return i[h]},getRowCount:function(){return i.length}}),this.getContext().createBean(r);var s=_.loadTemplate('<div class="ag-select-agg-func-popup"></div>');s.style.top="0px",s.style.left="0px",s.appendChild(a),s.style.width=o.clientWidth+"px";var l=function(){e.destroyBean(r),e.popupShowing=!1,o.focus()},u=this.gridOptionsWrapper.getLocaleTextFunc(),c=this.popupService.addPopup({modal:!0,eChild:s,closeOnEsc:!0,closedCallback:l,ariaLabel:u("ariaLabelAggregationFunction","Aggregation Function")});c&&r.setComponentCreator(this.createAggSelect.bind(this,c.hideFunc)),r.addGuiEventListener("keydown",function(h){if(h.key===U.ENTER||h.key===U.SPACE){var d=r.getLastFocusedRow();if(d==null)return;var f=r.getComponentAt(d);f&&f.selectItem()}}),this.popupService.positionPopupUnderComponent({type:"aggFuncSelect",eventSource:o,ePopup:s,keepWithinBounds:!0,column:this.column}),r.refresh();var p=i.findIndex(function(h){return h===e.column.getAggFunc()});p===-1&&(p=0),r.focusRow(p)}},t.prototype.createAggSelect=function(e,r){var i=this,o=function(){if(e(),i.gridOptionsWrapper.isFunctionsPassive()){var c={type:x.EVENT_COLUMN_AGG_FUNC_CHANGE_REQUEST,columns:[i.column],aggFunc:r,api:i.gridApi,columnApi:i.columnApi};i.eventService.dispatchEvent(c)}else i.columnModel.setColumnAggFunc(i.column,r,"toolPanelDragAndDrop")},a=this.gridOptionsWrapper.getLocaleTextFunc(),s=r.toString(),l=a(s,s),u=new jK(o,l);return u},t.prototype.addElementClasses=function(e,r){r=r?"-"+r:"";var i=this.horizontal?"horizontal":"vertical";e.classList.add("ag-column-drop-cell"+r,"ag-column-drop-"+i+"-cell"+r)},t.EVENT_COLUMN_REMOVE="columnRemove",t.TEMPLATE=`<span role="option" tabindex="0">
          <span ref="eDragHandle" class="ag-drag-handle ag-column-drop-cell-drag-handle" role="presentation"></span>
          <span ref="eText" class="ag-column-drop-cell-text" aria-hidden="true"></span>
          <span ref="eButton" class="ag-column-drop-cell-button" role="presentation"></span>
        </span>`,vo([y("dragAndDropService")],t.prototype,"dragAndDropService",void 0),vo([y("columnModel")],t.prototype,"columnModel",void 0),vo([y("popupService")],t.prototype,"popupService",void 0),vo([Fe("aggFuncService")],t.prototype,"aggFuncService",void 0),vo([y("columnApi")],t.prototype,"columnApi",void 0),vo([y("gridApi")],t.prototype,"gridApi",void 0),vo([I("eText")],t.prototype,"eText",void 0),vo([I("eDragHandle")],t.prototype,"eDragHandle",void 0),vo([I("eButton")],t.prototype,"eButton",void 0),vo([H],t.prototype,"init",null),t}(te),jK=function(n){WI(t,n);function t(e,r){var i=n.call(this,'<div class="ag-select-agg-func-item"/>')||this;return i.selectItem=e,i.getGui().innerText=r,i.addGuiEventListener("click",i.selectItem),i}return t}(te),UK=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),zK=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},N0=function(n){UK(t,n);function t(e,r){var i=n.call(this,'<div class="ag-unselectable" aria-role="presentation"></div>')||this;return i.horizontal=e,i.valueColumn=r,i.state=t.STATE_NOT_DRAGGING,i.guiDestroyFunctions=[],i.childColumnComponents=[],i.resizeEnabled=!1,i.addElementClasses(i.getGui()),i.eColumnDropList=document.createElement("div"),i.addElementClasses(i.eColumnDropList,"list"),_.setAriaRole(i.eColumnDropList,"listbox"),i}return t.prototype.isHorizontal=function(){return this.horizontal},t.prototype.toggleResizable=function(e){this.positionableFeature.setResizable(e?{bottom:!0}:!1),this.resizeEnabled=e},t.prototype.setBeans=function(e){this.beans=e},t.prototype.destroy=function(){this.destroyGui(),n.prototype.destroy.call(this)},t.prototype.destroyGui=function(){this.guiDestroyFunctions.forEach(function(e){return e()}),this.guiDestroyFunctions.length=0,this.childColumnComponents.length=0,_.clearElement(this.getGui()),_.clearElement(this.eColumnDropList)},t.prototype.init=function(e){this.params=e,this.createManagedBean(new lo(this.getFocusableElement(),{handleKeyDown:this.handleKeyDown.bind(this)})),this.addManagedListener(this.beans.eventService,x.EVENT_NEW_COLUMNS_LOADED,this.refreshGui.bind(this)),this.addManagedListener(this.beans.gridOptionsWrapper,"functionsReadOnly",this.refreshGui.bind(this)),this.setupDropTarget(),this.positionableFeature=new md(this.getGui(),{minHeight:100}),this.createManagedBean(this.positionableFeature),this.refreshGui(),_.setAriaLabel(this.eColumnDropList,this.getAriaLabel())},t.prototype.handleKeyDown=function(e){var r=!this.horizontal,i=e.key===U.DOWN,o=e.key===U.UP;if(!r){var a=this.gridOptionsWrapper.isEnableRtl();i=!a&&e.key===U.RIGHT||a&&e.key===U.LEFT,o=!a&&e.key===U.LEFT||a&&e.key===U.RIGHT}if(!(!i&&!o)){var s=this.focusService.findNextFocusableElement(this.getFocusableElement(),!1,o);s&&(e.preventDefault(),s.focus())}},t.prototype.addElementClasses=function(e,r){r=r?"-"+r:"";var i=this.horizontal?"horizontal":"vertical";e.classList.add("ag-column-drop"+r,"ag-column-drop-"+i+r)},t.prototype.setupDropTarget=function(){this.dropTarget={getContainer:this.getGui.bind(this),getIconName:this.getIconName.bind(this),onDragging:this.onDragging.bind(this),onDragEnter:this.onDragEnter.bind(this),onDragLeave:this.onDragLeave.bind(this),onDragStop:this.onDragStop.bind(this),isInterestedIn:this.isInterestedIn.bind(this)},this.beans.dragAndDropService.addDropTarget(this.dropTarget)},t.prototype.isInterestedIn=function(e){return e===nr.HeaderCell||e===nr.ToolPanel},t.prototype.checkInsertIndex=function(e){var r=this.horizontal?this.getNewHorizontalInsertIndex(e):this.getNewVerticalInsertIndex(e);if(r<0)return!1;var i=r!==this.insertIndex;return i&&(this.insertIndex=r),i},t.prototype.getNewHorizontalInsertIndex=function(e){if(_.missing(e.hDirection))return-1;var r=0,i=e.event,o=this.beans.gridOptionsWrapper.isEnableRtl(),a=e.hDirection===_i.Left,s=i.clientX;return this.childColumnComponents.forEach(function(l){var u=l.getGui().getBoundingClientRect(),c=a?u.right:u.left,p=o?s<=c:s>=c;p&&r++}),r},t.prototype.getNewVerticalInsertIndex=function(e){if(_.missing(e.vDirection))return-1;var r=0,i=e.event;return this.childColumnComponents.forEach(function(o){var a=o.getGui().getBoundingClientRect(),s=i.clientY>=(e.vDirection===Vs.Down?a.top:a.bottom);s&&r++}),r},t.prototype.checkDragStartedBySelf=function(e){this.state===t.STATE_NOT_DRAGGING&&(this.state=t.STATE_REARRANGE_COLUMNS,this.potentialDndColumns=e.dragSource.getDragItem().columns||[],this.refreshGui(),this.checkInsertIndex(e),this.refreshGui())},t.prototype.onDragging=function(e){this.checkDragStartedBySelf(e),this.checkInsertIndex(e)&&this.refreshGui()},t.prototype.onDragEnter=function(e){var r=e.dragSource.getDragItem().columns||[];this.state=t.STATE_NEW_COLUMNS_IN;var i=r.filter(this.isColumnDroppable.bind(this));i.length>0&&(this.potentialDndColumns=i,this.checkInsertIndex(e),this.refreshGui())},t.prototype.isPotentialDndColumns=function(){return _.existsAndNotEmpty(this.potentialDndColumns)},t.prototype.onDragLeave=function(e){if(this.state===t.STATE_REARRANGE_COLUMNS){var r=e.dragSource.getDragItem().columns||[];this.removeColumns(r)}this.isPotentialDndColumns()&&(this.potentialDndColumns=[],this.refreshGui()),this.state=t.STATE_NOT_DRAGGING},t.prototype.onDragStop=function(){if(this.isPotentialDndColumns()){var e=!1;this.state===t.STATE_NEW_COLUMNS_IN?(this.addColumns(this.potentialDndColumns),e=!0):e=this.rearrangeColumns(this.potentialDndColumns),this.potentialDndColumns=[],(!this.beans.gridOptionsWrapper.isFunctionsPassive()||!e)&&this.refreshGui()}this.state=t.STATE_NOT_DRAGGING},t.prototype.removeColumns=function(e){var r=this.getExistingColumns().filter(function(i){return!_.includes(e,i)});this.updateColumns(r)},t.prototype.addColumns=function(e){if(!!e){var r=this.getExistingColumns().slice(),i=e.filter(function(o){return r.indexOf(o)<0});_.insertArrayIntoArray(r,i,this.insertIndex),this.updateColumns(r)}},t.prototype.rearrangeColumns=function(e){var r=this.getNonGhostColumns().slice();return _.insertArrayIntoArray(r,e,this.insertIndex),_.areEqual(r,this.getExistingColumns())?!1:(this.updateColumns(r),!0)},t.prototype.refreshGui=function(){var e=this.eColumnDropList.scrollTop,r=this.resizeEnabled,i=this.getFocusedItem(),o=this.focusService.findNextFocusableElement();o||(o=this.focusService.findNextFocusableElement(void 0,!1,!0)),this.toggleResizable(!1),this.destroyGui(),this.addIconAndTitleToGui(),this.addEmptyMessageToGui(),this.addColumnsToGui(),this.isHorizontal()||(this.eColumnDropList.scrollTop=e),r&&this.toggleResizable(r),this.restoreFocus(i,o)},t.prototype.getFocusedItem=function(){var e=this.getGui(),r=this.gridOptionsWrapper.getDocument().activeElement;if(!e.contains(r))return-1;var i=Array.from(e.querySelectorAll(".ag-column-drop-cell"));return i.indexOf(r)},t.prototype.restoreFocus=function(e,r){var i=this.getGui(),o=Array.from(i.querySelectorAll(".ag-column-drop-cell"));if(e!==-1){o.length===0&&r.focus();var a=Math.min(o.length-1,e),s=o[a];s&&s.focus()}},t.prototype.getNonGhostColumns=function(){var e=this,r=this.getExistingColumns();return this.isPotentialDndColumns()?r.filter(function(i){return!_.includes(e.potentialDndColumns,i)}):r},t.prototype.addColumnsToGui=function(){var e=this,r=this.getNonGhostColumns(),i=this.isPotentialDndColumns(),o=[];r.forEach(function(a,s){if(!(i&&s>=e.insertIndex)){var l=e.createColumnComponent(a,!1);o.push(l)}}),this.isPotentialDndColumns()&&(this.potentialDndColumns.forEach(function(a){var s=e.createColumnComponent(a,!0);o.push(s)}),r.forEach(function(a,s){if(!(s<e.insertIndex)){var l=e.createColumnComponent(a,!1);o.push(l)}})),this.appendChild(this.eColumnDropList),o.forEach(function(a,s){s>0&&e.addArrow(e.eColumnDropList),e.eColumnDropList.appendChild(a.getGui())}),this.addAriaLabelsToComponents()},t.prototype.addAriaLabelsToComponents=function(){var e=this;this.childColumnComponents.forEach(function(r,i){var o=r.getGui();_.setAriaPosInSet(o,i+1),_.setAriaSetSize(o,e.childColumnComponents.length)})},t.prototype.createColumnComponent=function(e,r){var i=this,o=new gE(e,this.dropTarget,r,this.valueColumn,this.horizontal);return o.addEventListener(gE.EVENT_COLUMN_REMOVE,this.removeColumns.bind(this,[e])),this.beans.context.createBean(o),this.guiDestroyFunctions.push(function(){return i.destroyBean(o)}),r||this.childColumnComponents.push(o),o},t.prototype.addIconAndTitleToGui=function(){var e=this.params.icon,r=document.createElement("div");if(r.setAttribute("aria-hidden","true"),this.addElementClasses(r,"title-bar"),this.addElementClasses(e,"icon"),this.addOrRemoveCssClass("ag-column-drop-empty",this.isExistingColumnsEmpty()),r.appendChild(e),!this.horizontal){var i=document.createElement("span");this.addElementClasses(i,"title"),i.innerHTML=this.params.title,r.appendChild(i)}this.appendChild(r)},t.prototype.isExistingColumnsEmpty=function(){return this.getExistingColumns().length===0},t.prototype.addEmptyMessageToGui=function(){if(!(!this.isExistingColumnsEmpty()||this.isPotentialDndColumns())){var e=document.createElement("span");e.innerHTML=this.params.emptyMessage,this.addElementClasses(e,"empty-message"),this.eColumnDropList.appendChild(e)}},t.prototype.addArrow=function(e){if(this.horizontal){var r=this.beans.gridOptionsWrapper.isEnableRtl(),i=_.createIconNoSpan(r?"smallLeft":"smallRight",this.beans.gridOptionsWrapper);this.addElementClasses(i,"cell-separator"),e.appendChild(i)}},t.STATE_NOT_DRAGGING="notDragging",t.STATE_NEW_COLUMNS_IN="newColumnsIn",t.STATE_REARRANGE_COLUMNS="rearrangeColumns",zK([y("focusService")],t.prototype,"focusService",void 0),t}(te),$K=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Fu=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Bw=function(n){$K(t,n);function t(e){return n.call(this,e,!1)||this}return t.prototype.passBeansUp=function(){n.prototype.setBeans.call(this,{gridOptionsWrapper:this.gridOptionsWrapper,eventService:this.eventService,context:this.getContext(),loggerFactory:this.loggerFactory,dragAndDropService:this.dragAndDropService});var e=this.gridOptionsWrapper.getLocaleTextFunc(),r=e("rowGroupColumnsEmptyMessage","Drag here to set row groups"),i=e("groups","Row Groups");n.prototype.init.call(this,{dragAndDropIcon:It.ICON_GROUP,icon:_.createIconNoSpan("rowGroupPanel",this.gridOptionsWrapper,null),emptyMessage:r,title:i}),this.addManagedListener(this.eventService,x.EVENT_COLUMN_ROW_GROUP_CHANGED,this.refreshGui.bind(this))},t.prototype.getAriaLabel=function(){var e=this.gridOptionsWrapper.getLocaleTextFunc(),r=e("ariaRowGroupDropZonePanelLabel","Row Groups");return r},t.prototype.getTooltipParams=function(){var e=n.prototype.getTooltipParams.call(this);return e.location="rowGroupColumnsList",e},t.prototype.isColumnDroppable=function(e){return this.gridOptionsWrapper.isFunctionsReadOnly()||!e.isPrimary()?!1:e.isAllowRowGroup()&&!e.isRowGroupActive()},t.prototype.updateColumns=function(e){if(this.gridOptionsWrapper.isFunctionsPassive()){var r={type:x.EVENT_COLUMN_ROW_GROUP_CHANGE_REQUEST,columns:e,api:this.gridApi,columnApi:this.columnApi};this.eventService.dispatchEvent(r)}else this.columnModel.setRowGroupColumns(e,"toolPanelUi")},t.prototype.getIconName=function(){return this.isPotentialDndColumns()?It.ICON_GROUP:It.ICON_NOT_ALLOWED},t.prototype.getExistingColumns=function(){return this.columnModel.getRowGroupColumns()},Fu([y("columnModel")],t.prototype,"columnModel",void 0),Fu([y("loggerFactory")],t.prototype,"loggerFactory",void 0),Fu([y("dragAndDropService")],t.prototype,"dragAndDropService",void 0),Fu([y("columnApi")],t.prototype,"columnApi",void 0),Fu([y("gridApi")],t.prototype,"gridApi",void 0),Fu([H],t.prototype,"passBeansUp",null),t}(N0),KK=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Iu=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Vw=function(n){KK(t,n);function t(e){return n.call(this,e,!1)||this}return t.prototype.passBeansUp=function(){n.prototype.setBeans.call(this,{gridOptionsWrapper:this.gridOptionsWrapper,eventService:this.eventService,context:this.getContext(),loggerFactory:this.loggerFactory,dragAndDropService:this.dragAndDropService});var e=this.gridOptionsWrapper.getLocaleTextFunc(),r=e("pivotColumnsEmptyMessage","Drag here to set column labels"),i=e("pivots","Column Labels");n.prototype.init.call(this,{dragAndDropIcon:It.ICON_GROUP,icon:_.createIconNoSpan("pivotPanel",this.gridOptionsWrapper,null),emptyMessage:r,title:i}),this.addManagedListener(this.eventService,x.EVENT_NEW_COLUMNS_LOADED,this.refresh.bind(this)),this.addManagedListener(this.eventService,x.EVENT_COLUMN_PIVOT_CHANGED,this.refresh.bind(this)),this.addManagedListener(this.eventService,x.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.checkVisibility.bind(this)),this.refresh()},t.prototype.getAriaLabel=function(){var e=this.gridOptionsWrapper.getLocaleTextFunc(),r=e("ariaPivotDropZonePanelLabel","Column Labels");return r},t.prototype.getTooltipParams=function(){var e=n.prototype.getTooltipParams.call(this);return e.location="pivotColumnsList",e},t.prototype.refresh=function(){this.checkVisibility(),this.refreshGui()},t.prototype.checkVisibility=function(){var e=this.columnModel.isPivotMode();if(this.isHorizontal())switch(this.gridOptionsWrapper.getPivotPanelShow()){case"always":this.setDisplayed(e);break;case"onlyWhenPivoting":var r=this.columnModel.isPivotActive();this.setDisplayed(e&&r);break;default:this.setDisplayed(!1);break}else this.setDisplayed(e)},t.prototype.isColumnDroppable=function(e){return this.gridOptionsWrapper.isFunctionsReadOnly()||!e.isPrimary()?!1:e.isAllowPivot()&&!e.isPivotActive()},t.prototype.updateColumns=function(e){if(this.gridOptionsWrapper.isFunctionsPassive()){var r={type:x.EVENT_COLUMN_PIVOT_CHANGE_REQUEST,columns:e,api:this.gridApi,columnApi:this.columnApi};this.eventService.dispatchEvent(r)}else this.columnModel.setPivotColumns(e,"toolPanelUi")},t.prototype.getIconName=function(){return this.isPotentialDndColumns()?It.ICON_PIVOT:It.ICON_NOT_ALLOWED},t.prototype.getExistingColumns=function(){return this.columnModel.getPivotColumns()},Iu([y("columnModel")],t.prototype,"columnModel",void 0),Iu([y("loggerFactory")],t.prototype,"loggerFactory",void 0),Iu([y("dragAndDropService")],t.prototype,"dragAndDropService",void 0),Iu([y("columnApi")],t.prototype,"columnApi",void 0),Iu([y("gridApi")],t.prototype,"gridApi",void 0),Iu([H],t.prototype,"passBeansUp",null),t}(N0),YK=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),vE=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},XK=function(n){YK(t,n);function t(){return n.call(this)||this}return t.prototype.postConstruct=function(){this.setGui(this.createNorthPanel()),this.addManagedListener(this.eventService,x.EVENT_COLUMN_ROW_GROUP_CHANGED,this.onRowGroupChanged.bind(this)),this.addManagedListener(this.eventService,x.EVENT_NEW_COLUMNS_LOADED,this.onRowGroupChanged.bind(this)),this.onRowGroupChanged()},t.prototype.createNorthPanel=function(){var e=document.createElement("div"),r=this.onDropPanelVisible.bind(this);return e.classList.add("ag-column-drop-wrapper"),_.setAriaRole(e,"presentation"),this.rowGroupComp=new Bw(!0),this.createManagedBean(this.rowGroupComp),this.pivotComp=new Vw(!0),this.createManagedBean(this.pivotComp),e.appendChild(this.rowGroupComp.getGui()),e.appendChild(this.pivotComp.getGui()),this.addManagedListener(this.rowGroupComp,te.EVENT_DISPLAYED_CHANGED,r),this.addManagedListener(this.pivotComp,te.EVENT_DISPLAYED_CHANGED,r),this.onDropPanelVisible(),e},t.prototype.onDropPanelVisible=function(){var e=this.rowGroupComp.isDisplayed()&&this.pivotComp.isDisplayed();this.rowGroupComp.addOrRemoveCssClass("ag-column-drop-horizontal-half-width",e),this.pivotComp.addOrRemoveCssClass("ag-column-drop-horizontal-half-width",e)},t.prototype.onRowGroupChanged=function(){if(!!this.rowGroupComp){var e=this.gridOptionsWrapper.getRowGroupPanelShow();if(e===L.ALWAYS)this.rowGroupComp.setDisplayed(!0);else if(e===L.ONLY_WHEN_GROUPING){var r=!this.columnModel.isRowGroupEmpty();this.rowGroupComp.setDisplayed(r)}else this.rowGroupComp.setDisplayed(!1)}},vE([y("columnModel")],t.prototype,"columnModel",void 0),vE([H],t.prototype,"postConstruct",null),t}(te),qK=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),MC=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},ZK=function(n){qK(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.execute=function(e){var r=this,i=this.columnModel.isPivotMode(),o=this.filterManager.isAggregateFilterPresent(),a=function(h){return!h.node.group},s=function(h){return h.node.leafGroup},l=this.gridOptionsWrapper.getGroupAggFiltering()||(i?s:a),u=e.changedPath,c=function(h,d){d===void 0&&(d=!1),h.childrenAfterFilter&&(h.childrenAfterAggFilter=h.childrenAfterFilter,d&&h.childrenAfterAggFilter.forEach(function(f){return c(f,d)}),r.setAllChildrenCount(h)),h.sibling&&(h.sibling.childrenAfterAggFilter=h.childrenAfterAggFilter)},p=function(h){var d;h.childrenAfterAggFilter=((d=h.childrenAfterFilter)===null||d===void 0?void 0:d.filter(function(f){var g,v=l({node:f});if(v){var m=r.filterManager.doesRowPassAggregateFilters({rowNode:f});if(m)return c(f,!0),!0}var C=(g=f.childrenAfterAggFilter)===null||g===void 0?void 0:g.length;return C}))||null,r.setAllChildrenCount(h),h.sibling&&(h.sibling.childrenAfterAggFilter=h.childrenAfterAggFilter)};u.forEachChangedNodeDepthFirst(o?p:c,!0)},t.prototype.setAllChildrenCountTreeData=function(e){var r=0;e.childrenAfterAggFilter.forEach(function(i){r++,r+=i.allChildrenCount}),e.setAllChildrenCount(r)},t.prototype.setAllChildrenCountGridGrouping=function(e){var r=0;e.childrenAfterAggFilter.forEach(function(i){i.group?r+=i.allChildrenCount:r++}),e.setAllChildrenCount(r)},t.prototype.setAllChildrenCount=function(e){if(!e.hasChildren()){e.setAllChildrenCount(null);return}this.gridOptionsWrapper.isTreeData()?this.setAllChildrenCountTreeData(e):this.setAllChildrenCountGridGrouping(e)},MC([y("filterManager")],t.prototype,"filterManager",void 0),MC([y("columnModel")],t.prototype,"columnModel",void 0),t=MC([J("filterAggregatesStage")],t),t}(j),HI={moduleName:ae.RowGroupingModule,beans:[xK,ZK,RK,DK,FK,LK],agStackComponents:[{componentName:"AgGridHeaderDropZones",componentClass:XK}],dependantModules:[Vr]},QK=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Lu=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},mE=function(n){QK(t,n);function t(e){return n.call(this,e,!0)||this}return t.prototype.passBeansUp=function(){n.prototype.setBeans.call(this,{gridOptionsWrapper:this.gridOptionsWrapper,eventService:this.eventService,context:this.getContext(),loggerFactory:this.loggerFactory,dragAndDropService:this.dragAndDropService});var e=this.gridOptionsWrapper.getLocaleTextFunc(),r=e("valueColumnsEmptyMessage","Drag here to aggregate"),i=e("values","Values");n.prototype.init.call(this,{dragAndDropIcon:It.ICON_AGGREGATE,icon:_.createIconNoSpan("valuePanel",this.gridOptionsWrapper,null),emptyMessage:r,title:i}),this.addManagedListener(this.eventService,x.EVENT_COLUMN_VALUE_CHANGED,this.refreshGui.bind(this))},t.prototype.getAriaLabel=function(){var e=this.gridOptionsWrapper.getLocaleTextFunc(),r=e("ariaValuesDropZonePanelLabel","Values");return r},t.prototype.getTooltipParams=function(){var e=n.prototype.getTooltipParams.call(this);return e.location="valueColumnsList",e},t.prototype.getIconName=function(){return this.isPotentialDndColumns()?It.ICON_AGGREGATE:It.ICON_NOT_ALLOWED},t.prototype.isColumnDroppable=function(e){return this.gridOptionsWrapper.isFunctionsReadOnly()||!e.isPrimary()?!1:e.isAllowValue()&&!e.isValueActive()},t.prototype.updateColumns=function(e){if(this.gridOptionsWrapper.isFunctionsPassive()){var r={type:x.EVENT_COLUMN_VALUE_CHANGE_REQUEST,columns:e,api:this.gridApi,columnApi:this.columnApi};this.eventService.dispatchEvent(r)}else this.columnModel.setValueColumns(e,"toolPanelUi")},t.prototype.getExistingColumns=function(){return this.columnModel.getValueColumns()},Lu([y("columnModel")],t.prototype,"columnModel",void 0),Lu([y("loggerFactory")],t.prototype,"loggerFactory",void 0),Lu([y("dragAndDropService")],t.prototype,"dragAndDropService",void 0),Lu([y("columnApi")],t.prototype,"columnApi",void 0),Lu([y("gridApi")],t.prototype,"gridApi",void 0),Lu([H],t.prototype,"passBeansUp",null),t}(N0),JK=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),FC=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},k0=function(n){JK(t,n);function t(){return n.call(this,t.TEMPLATE)||this}return t.prototype.postConstruct=function(){this.initialiseTabGuard({})},t.prototype.init=function(e,r,i){this.allowDragging=e,this.params=r,this.eventType=i,this.primaryColsHeaderPanel.init(this.params);var o=this.params.suppressColumnFilter,a=this.params.suppressColumnSelectAll,s=this.params.suppressColumnExpandAll;s&&o&&a&&this.primaryColsHeaderPanel.setDisplayed(!1),this.addManagedListener(this.primaryColsListPanel,"groupExpanded",this.onGroupExpanded.bind(this)),this.addManagedListener(this.primaryColsListPanel,"selectionChanged",this.onSelectionChange.bind(this)),this.primaryColsListPanel.init(this.params,this.allowDragging,this.eventType),this.addManagedListener(this.primaryColsHeaderPanel,"expandAll",this.onExpandAll.bind(this)),this.addManagedListener(this.primaryColsHeaderPanel,"collapseAll",this.onCollapseAll.bind(this)),this.addManagedListener(this.primaryColsHeaderPanel,"selectAll",this.onSelectAll.bind(this)),this.addManagedListener(this.primaryColsHeaderPanel,"unselectAll",this.onUnselectAll.bind(this)),this.addManagedListener(this.primaryColsHeaderPanel,"filterChanged",this.onFilterChanged.bind(this)),this.positionableFeature=new md(this.getGui(),{minHeight:100}),this.createManagedBean(this.positionableFeature)},t.prototype.toggleResizable=function(e){this.positionableFeature.setResizable(e?{bottom:!0}:!1)},t.prototype.onExpandAll=function(){this.primaryColsListPanel.doSetExpandedAll(!0)},t.prototype.onCollapseAll=function(){this.primaryColsListPanel.doSetExpandedAll(!1)},t.prototype.expandGroups=function(e){this.primaryColsListPanel.setGroupsExpanded(!0,e)},t.prototype.collapseGroups=function(e){this.primaryColsListPanel.setGroupsExpanded(!1,e)},t.prototype.setColumnLayout=function(e){this.primaryColsListPanel.setColumnLayout(e)},t.prototype.onFilterChanged=function(e){this.primaryColsListPanel.setFilterText(e.filterText)},t.prototype.syncLayoutWithGrid=function(){this.primaryColsListPanel.onColumnsChanged()},t.prototype.onSelectAll=function(){this.primaryColsListPanel.doSetSelectedAll(!0)},t.prototype.onUnselectAll=function(){this.primaryColsListPanel.doSetSelectedAll(!1)},t.prototype.onGroupExpanded=function(e){this.primaryColsHeaderPanel.setExpandState(e.state)},t.prototype.onSelectionChange=function(e){this.primaryColsHeaderPanel.setSelectionState(e.state)},t.TEMPLATE=`<div class="ag-column-select">
            <ag-primary-cols-header ref="primaryColsHeaderPanel"></ag-primary-cols-header>
            <ag-primary-cols-list ref="primaryColsListPanel"></ag-primary-cols-list>
        </div>`,FC([I("primaryColsHeaderPanel")],t.prototype,"primaryColsHeaderPanel",void 0),FC([I("primaryColsListPanel")],t.prototype,"primaryColsListPanel",void 0),FC([H],t.prototype,"postConstruct",null),t}(cu),eY=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),yE=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},tY=function(n){eY(t,n);function t(){var e=n.call(this,t.TEMPLATE)||this;return e.initialised=!1,e.childDestroyFuncs=[],e}return t.prototype.setVisible=function(e){n.prototype.setDisplayed.call(this,e),e&&!this.initialised&&this.init(this.params)},t.prototype.init=function(e){var r=this,i={suppressColumnMove:!1,suppressColumnSelectAll:!1,suppressColumnFilter:!1,suppressColumnExpandAll:!1,contractColumnSelection:!1,suppressPivotMode:!1,suppressRowGroups:!1,suppressValues:!1,suppressPivots:!1,suppressSyncLayoutWithGrid:!1,api:this.gridApi,columnApi:this.columnApi,context:this.gridOptionsWrapper.getContext()};if(_.mergeDeep(i,e),this.params=i,this.isRowGroupingModuleLoaded()&&!this.params.suppressPivotMode&&(this.pivotModePanel=this.createBean(new hE),this.childDestroyFuncs.push(function(){return r.destroyBean(r.pivotModePanel)}),this.appendChild(this.pivotModePanel)),this.primaryColsPanel=this.createBean(new k0),this.childDestroyFuncs.push(function(){return r.destroyBean(r.primaryColsPanel)}),this.primaryColsPanel.init(!0,this.params,"toolPanelUi"),this.primaryColsPanel.addCssClass("ag-column-panel-column-select"),this.appendChild(this.primaryColsPanel),this.isRowGroupingModuleLoaded()){this.params.suppressRowGroups||(this.rowGroupDropZonePanel=this.createBean(new Bw(!1)),this.childDestroyFuncs.push(function(){return r.destroyBean(r.rowGroupDropZonePanel)}),this.appendChild(this.rowGroupDropZonePanel)),this.params.suppressValues||(this.valuesDropZonePanel=this.createBean(new mE(!1)),this.childDestroyFuncs.push(function(){return r.destroyBean(r.valuesDropZonePanel)}),this.appendChild(this.valuesDropZonePanel)),this.params.suppressPivots||(this.pivotDropZonePanel=this.createBean(new Vw(!1)),this.childDestroyFuncs.push(function(){return r.destroyBean(r.pivotDropZonePanel)}),this.appendChild(this.pivotDropZonePanel)),this.setLastVisible();var o=this.addManagedListener(this.eventService,x.EVENT_COLUMN_PIVOT_MODE_CHANGED,function(){r.resetChildrenHeight(),r.setLastVisible()});this.childDestroyFuncs.push(function(){return o()})}this.initialised=!0},t.prototype.setPivotModeSectionVisible=function(e){var r=this;!this.isRowGroupingModuleLoaded()||(this.pivotModePanel?this.pivotModePanel.setDisplayed(e):e&&(this.pivotModePanel=this.createBean(new hE),this.getGui().insertBefore(this.pivotModePanel.getGui(),this.getGui().firstChild),this.childDestroyFuncs.push(function(){return r.destroyBean(r.pivotModePanel)})),this.setLastVisible())},t.prototype.setRowGroupsSectionVisible=function(e){!this.isRowGroupingModuleLoaded()||(this.rowGroupDropZonePanel?this.rowGroupDropZonePanel.setDisplayed(e):e&&(this.rowGroupDropZonePanel=this.createManagedBean(new Bw(!1)),this.appendChild(this.rowGroupDropZonePanel)),this.setLastVisible())},t.prototype.setValuesSectionVisible=function(e){!this.isRowGroupingModuleLoaded()||(this.valuesDropZonePanel?this.valuesDropZonePanel.setDisplayed(e):e&&(this.valuesDropZonePanel=this.createManagedBean(new mE(!1)),this.appendChild(this.valuesDropZonePanel)),this.setLastVisible())},t.prototype.setPivotSectionVisible=function(e){!this.isRowGroupingModuleLoaded()||(this.pivotDropZonePanel?this.pivotDropZonePanel.setDisplayed(e):e&&(this.pivotDropZonePanel=this.createManagedBean(new Vw(!1)),this.appendChild(this.pivotDropZonePanel),this.pivotDropZonePanel.setDisplayed(e)),this.setLastVisible())},t.prototype.setResizers=function(){[this.primaryColsPanel,this.rowGroupDropZonePanel,this.valuesDropZonePanel,this.pivotDropZonePanel].forEach(function(e){if(!!e){var r=e.getGui();e.toggleResizable(!r.classList.contains("ag-last-column-drop")&&!r.classList.contains("ag-hidden"))}})},t.prototype.setLastVisible=function(){var e=this.getGui(),r=Array.prototype.slice.call(e.querySelectorAll(".ag-column-drop"));r.forEach(function(a){return a.classList.remove("ag-last-column-drop")});var i=e.querySelectorAll(".ag-column-drop:not(.ag-hidden)"),o=_.last(i);o&&o.classList.add("ag-last-column-drop"),this.setResizers()},t.prototype.resetChildrenHeight=function(){for(var e=this.getGui(),r=e.children,i=0;i<r.length;i++){var o=r[i];o.style.removeProperty("height"),o.style.removeProperty("flex")}},t.prototype.isRowGroupingModuleLoaded=function(){return ve.assertRegistered(ae.RowGroupingModule,"Row Grouping")},t.prototype.expandColumnGroups=function(e){this.primaryColsPanel.expandGroups(e)},t.prototype.collapseColumnGroups=function(e){this.primaryColsPanel.collapseGroups(e)},t.prototype.setColumnLayout=function(e){this.primaryColsPanel.setColumnLayout(e)},t.prototype.syncLayoutWithGrid=function(){this.primaryColsPanel.syncLayoutWithGrid()},t.prototype.destroyChildren=function(){this.childDestroyFuncs.forEach(function(e){return e()}),this.childDestroyFuncs.length=0,_.clearElement(this.getGui())},t.prototype.refresh=function(){this.destroyChildren(),this.init(this.params)},t.prototype.destroy=function(){this.destroyChildren(),n.prototype.destroy.call(this)},t.TEMPLATE='<div class="ag-column-panel"></div>',yE([y("gridApi")],t.prototype,"gridApi",void 0),yE([y("columnApi")],t.prototype,"columnApi",void 0),t}(te),rY=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),CE=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},jI=function(n){rY(t,n);function t(){var e=n.call(this,'<div class="ag-tool-panel-horizontal-resize"></div>')||this;return e.minWidth=100,e.maxWidth=null,e}return t.prototype.setElementToResize=function(e){this.elementToResize=e},t.prototype.postConstruct=function(){var e=this.horizontalResizeService.addResizeBar({eResizeBar:this.getGui(),dragStartPixels:1,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this),onResizeEnd:this.onResizing.bind(this)});this.addDestroyFunc(e),this.setInverted(this.gridOptionsWrapper.isEnableRtl())},t.prototype.onResizeStart=function(){this.startingWidth=this.elementToResize.offsetWidth},t.prototype.onResizing=function(e){var r=this.inverted?-1:1,i=Math.max(this.minWidth,Math.floor(this.startingWidth-e*r));this.maxWidth!=null&&(i=Math.min(this.maxWidth,i)),this.elementToResize.style.width=i+"px"},t.prototype.setInverted=function(e){this.inverted=e},t.prototype.setMaxWidth=function(e){this.maxWidth=e},t.prototype.setMinWidth=function(e){e!=null?this.minWidth=e:this.minWidth=100},CE([y("horizontalResizeService")],t.prototype,"horizontalResizeService",void 0),CE([H],t.prototype,"postConstruct",null),t}(te),nY=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),IC=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},bE=function(n){nY(t,n);function t(e){var r=n.call(this)||this;return r.toolPanelDef=e,r}return t.prototype.getToolPanelId=function(){return this.toolPanelDef.id},t.prototype.postConstruct=function(){var e=this.createTemplate();this.setTemplate(e),this.eIconWrapper.insertAdjacentElement("afterbegin",_.createIconNoSpan(this.toolPanelDef.iconKey,this.gridOptionsWrapper)),this.addManagedListener(this.eToggleButton,"click",this.onButtonPressed.bind(this))},t.prototype.createTemplate=function(){var e=this.gridOptionsWrapper.getLocaleTextFunc(),r=this.toolPanelDef,i=e(r.labelKey,r.labelDefault),o=`<div class="ag-side-button" role="presentation">
                <button type="button" ref="eToggleButton" tabindex="-1" role="tab" class="ag-side-button-button">
                    <div ref="eIconWrapper" class="ag-side-button-icon-wrapper" aria-hidden="true"></div>
                    <span class="ag-side-button-label">`+i+`</span>
                </button>
            </div>`;return o},t.prototype.onButtonPressed=function(){this.dispatchEvent({type:t.EVENT_TOGGLE_BUTTON_CLICKED})},t.prototype.setSelected=function(e){this.addOrRemoveCssClass("ag-selected",e)},t.EVENT_TOGGLE_BUTTON_CLICKED="toggleButtonClicked",IC([I("eToggleButton")],t.prototype,"eToggleButton",void 0),IC([I("eIconWrapper")],t.prototype,"eIconWrapper",void 0),IC([H],t.prototype,"postConstruct",null),t}(te),iY=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),bf=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},UI=function(n){iY(t,n);function t(){var e=n.call(this,t.TEMPLATE)||this;return e.buttonComps=[],e}return t.prototype.postConstruct=function(){this.addManagedListener(this.getFocusableElement(),"keydown",this.handleKeyDown.bind(this))},t.prototype.handleKeyDown=function(e){if(!(e.key!==U.TAB||!e.shiftKey)){var r=_.last(this.columnModel.getAllDisplayedColumns());this.focusService.focusGridView(r,!0)&&e.preventDefault()}},t.prototype.setToolPanelDefs=function(e){e.forEach(this.addButtonComp.bind(this))},t.prototype.setActiveButton=function(e){this.buttonComps.forEach(function(r){r.setSelected(e===r.getToolPanelId())})},t.prototype.addButtonComp=function(e){var r=this,i=this.createBean(new bE(e));this.buttonComps.push(i),this.appendChild(i),i.addEventListener(bE.EVENT_TOGGLE_BUTTON_CLICKED,function(){r.dispatchEvent({type:t.EVENT_SIDE_BAR_BUTTON_CLICKED,toolPanelId:e.id})})},t.prototype.clearButtons=function(){this.buttonComps=this.destroyBeans(this.buttonComps),_.clearElement(this.getGui())},t.EVENT_SIDE_BAR_BUTTON_CLICKED="sideBarButtonClicked",t.TEMPLATE='<div class="ag-side-buttons" role="tablist"></div>',bf([y("focusService")],t.prototype,"focusService",void 0),bf([y("columnModel")],t.prototype,"columnModel",void 0),bf([H],t.prototype,"postConstruct",null),bf([_t],t.prototype,"clearButtons",null),t}(te),oY=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),wE=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},aY=function(n){oY(t,n);function t(){return n.call(this,t.TEMPLATE)||this}return t.prototype.setupResize=function(){var e=this.getGui(),r=this.resizeBar=new jI;this.getContext().createBean(r),r.setElementToResize(e),this.appendChild(r)},t.prototype.getToolPanelId=function(){return this.toolPanelId},t.prototype.setToolPanelDef=function(e){var r=e.id,i=e.minWidth,o=e.maxWidth,a=e.width;this.toolPanelId=r,this.width=a;var s={},l=this.userComponentFactory.getToolPanelCompDetails(e,s),u=l.newAgStackInstance();if(u==null){console.warn("AG Grid: error processing tool panel component "+r+". You need to specify either 'toolPanel' or 'toolPanelFramework'");return}u.then(this.setToolPanelComponent.bind(this)),i!=null&&this.resizeBar.setMinWidth(i),o!=null&&this.resizeBar.setMaxWidth(o)},t.prototype.setToolPanelComponent=function(e){var r=this;this.toolPanelCompInstance=e,this.appendChild(e.getGui()),this.addDestroyFunc(function(){r.destroyBean(e)}),this.width&&(this.getGui().style.width=this.width+"px")},t.prototype.getToolPanelInstance=function(){return this.toolPanelCompInstance},t.prototype.setResizerSizerSide=function(e){var r=this.gridOptionsWrapper.isEnableRtl(),i=e==="left",o=r?i:!i;this.resizeBar.setInverted(o)},t.prototype.refresh=function(){this.toolPanelCompInstance.refresh()},t.TEMPLATE='<div class="ag-tool-panel-wrapper"/>',wE([y("userComponentFactory")],t.prototype,"userComponentFactory",void 0),wE([H],t.prototype,"setupResize",null),t}(te),sY=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),wf=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},lY=function(n){sY(t,n);function t(){var e=n.call(this,t.TEMPLATE)||this;return e.toolPanelWrappers=[],e}return t.prototype.postConstruct=function(){var e=this;this.sideBarButtonsComp.addEventListener(UI.EVENT_SIDE_BAR_BUTTON_CLICKED,this.onToolPanelButtonClicked.bind(this)),this.setSideBarDef(),this.gridOptionsWrapper.addEventListener("sideBar",function(){e.clearDownUi(),e.setSideBarDef()}),this.gridApi.registerSideBarComp(this),this.createManagedBean(new lo(this.getFocusableElement(),{onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this)}))},t.prototype.onTabKeyDown=function(e){if(!e.defaultPrevented){var r=this,i=r.focusService,o=r.sideBarButtonsComp,a=this.getGui(),s=o.getGui(),l=this.gridOptionsWrapper.getDocument(),u=l.activeElement,c=a.querySelector(".ag-tool-panel-wrapper:not(.ag-hidden)");if(!!c){if(s.contains(u))i.focusInto(c,e.shiftKey)&&e.preventDefault();else if(!i.isFocusUnderManagedComponent(c)&&e.shiftKey){var p=i.findFocusableElements(c)[0],h=this.gridOptionsWrapper.getDocument();if(h.activeElement===p){var d=s.querySelector(".ag-selected button");d&&(e.preventDefault(),d.focus())}}}}},t.prototype.handleKeyDown=function(e){var r=this.gridOptionsWrapper.getDocument();if(!!this.sideBarButtonsComp.getGui().contains(r.activeElement)){var i=this.sideBarButtonsComp.getGui(),o=Array.prototype.slice.call(i.querySelectorAll(".ag-side-button")),a=r.activeElement,s=o.findIndex(function(c){return c.contains(a)}),l=null;switch(e.key){case U.LEFT:case U.UP:l=Math.max(0,s-1);break;case U.RIGHT:case U.DOWN:l=Math.min(s+1,o.length-1);break}if(l!==null){var u=o[l].querySelector("button");u&&(u.focus(),e.preventDefault())}}},t.prototype.onToolPanelButtonClicked=function(e){var r=e.toolPanelId,i=this.openedItem();i===r?this.openToolPanel(void 0):this.openToolPanel(r)},t.prototype.clearDownUi=function(){this.sideBarButtonsComp.clearButtons(),this.destroyToolPanelWrappers()},t.prototype.setSideBarDef=function(){this.setDisplayed(!1);var e=this.gridOptionsWrapper.getSideBar(),r=!!e&&!!e.toolPanels;if(!!r){var i=r&&!e.hiddenByDefault;this.setDisplayed(i);var o=e.toolPanels;this.sideBarButtonsComp.setToolPanelDefs(o),this.setupToolPanels(o),this.setSideBarPosition(e.position),e.hiddenByDefault||this.openToolPanel(e.defaultToolPanel)}},t.prototype.setSideBarPosition=function(e){e||(e="right");var r=e==="left",i=r?"right":"left";return this.addOrRemoveCssClass("ag-side-bar-left",r),this.addOrRemoveCssClass("ag-side-bar-right",!r),this.toolPanelWrappers.forEach(function(o){o.setResizerSizerSide(i)}),this},t.prototype.setupToolPanels=function(e){var r=this;e.forEach(function(i){if(i.id==null){console.warn("AG Grid: please review all your toolPanel components, it seems like at least one of them doesn't have an id");return}if(i.toolPanel==="agColumnsToolPanel"){var o=!ve.assertRegistered(ae.ColumnToolPanelModule,"Column Tool Panel");if(o)return}if(i.toolPanel==="agFiltersToolPanel"){var o=!ve.assertRegistered(ae.FiltersToolPanelModule,"Filters Tool Panel");if(o)return}var a=new aY;r.getContext().createBean(a),a.setToolPanelDef(i),a.setDisplayed(!1),r.getGui().appendChild(a.getGui()),r.toolPanelWrappers.push(a)})},t.prototype.refresh=function(){this.toolPanelWrappers.forEach(function(e){return e.refresh()})},t.prototype.openToolPanel=function(e){var r=this.openedItem();if(r!==e){this.toolPanelWrappers.forEach(function(a){var s=e===a.getToolPanelId();a.setDisplayed(s)});var i=this.openedItem(),o=r!==i;o&&(this.sideBarButtonsComp.setActiveButton(e),this.raiseToolPanelVisibleEvent(e))}},t.prototype.getToolPanelInstance=function(e){var r=this.toolPanelWrappers.filter(function(i){return i.getToolPanelId()===e})[0];if(!r){console.warn("AG Grid: unable to lookup Tool Panel as invalid key supplied: "+e);return}return r.getToolPanelInstance()},t.prototype.raiseToolPanelVisibleEvent=function(e){var r={type:x.EVENT_TOOL_PANEL_VISIBLE_CHANGED,source:e,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi()};this.eventService.dispatchEvent(r)},t.prototype.close=function(){this.openToolPanel(void 0)},t.prototype.isToolPanelShowing=function(){return!!this.openedItem()},t.prototype.openedItem=function(){var e=null;return this.toolPanelWrappers.forEach(function(r){r.isDisplayed()&&(e=r.getToolPanelId())}),e},t.prototype.destroyToolPanelWrappers=function(){var e=this;this.toolPanelWrappers.forEach(function(r){_.removeFromParent(r.getGui()),e.destroyBean(r)}),this.toolPanelWrappers.length=0},t.prototype.destroy=function(){this.destroyToolPanelWrappers(),n.prototype.destroy.call(this)},t.TEMPLATE=`<div class="ag-side-bar ag-unselectable">
            <ag-side-bar-buttons ref="sideBarButtons"></ag-side-bar-buttons>
        </div>`,wf([y("gridApi")],t.prototype,"gridApi",void 0),wf([y("focusService")],t.prototype,"focusService",void 0),wf([I("sideBarButtons")],t.prototype,"sideBarButtonsComp",void 0),wf([H],t.prototype,"postConstruct",null),t}(te),uY=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),_E=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},cY=function(n){uY(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.isColGroupDef=function(r){return r&&typeof r.children!="undefined"},e.getId=function(r){return e.isColGroupDef(r)?r.groupId:r.colId},e}return t.prototype.createColumnTree=function(e){var r=this,i=[],o=function(s,l){if(r.isColGroupDef(s)){var u=s,c=typeof u.groupId!="undefined"?u.groupId:u.headerName,p=new at(u,c,!1,l),h=[];return u.children.forEach(function(v){var m=o(v,l+1);m&&h.push(m)}),p.setChildren(h),p}else{var d=s,f=d.colId?d.colId:d.field,g=r.columnModel.getPrimaryColumn(f);return g||i.push(d),g}},a=[];return e.forEach(function(s){var l=o(s,0);l&&a.push(l)}),i.length>0&&console.warn("AG Grid: unable to find grid columns for the supplied colDef(s):",i),a},t.prototype.syncLayoutWithGrid=function(e){var r=this.getLeafPathTrees(),i=this.mergeLeafPathTrees(r);e(i)},t.prototype.getLeafPathTrees=function(){var e=function(o,a){var s;if(o instanceof at)if(o.isPadding())s=a;else{var l=Object.assign({},o.getColGroupDef());l.groupId=o.getGroupId(),l.children=[a],s=l}else{var u=Object.assign({},o.getColDef());u.colId=o.getColId(),s=u}var c=o.getOriginalParent();return c?e(c,s):s},r=this.columnModel.getAllGridColumns(),i=r.filter(function(o){var a=o.getColDef();return o.isPrimary()&&!a.showRowGroup});return i.map(function(o){return e(o,o.getColDef())})},t.prototype.mergeLeafPathTrees=function(e){for(var r=this,i=function(c,p){var h=r.isColGroupDef(c)&&r.isColGroupDef(p);return h&&r.getId(c)===r.getId(p)},o=function(c,p){if(!r.isColGroupDef(p))return c;var h=c,d=p;if(d.children&&d.groupId){var f=r.addChildrenToGroup(h,d.groupId,d.children[0]);if(f)return h}return d.children.forEach(function(g){return o(h,g)}),h},a=[],s=1;s<=e.length;s++){var l=e[s-1],u=e[s];i(l,u)?e[s]=o(l,u):a.push(l)}return a},t.prototype.addChildrenToGroup=function(e,r,i){var o=this,a=function(p,h){var d=p.children.map(o.getId),f=_.includes(d,o.getId(h)),g=_.last(p.children),v=g&&o.getId(g)!==o.getId(h);return f&&v};if(!this.isColGroupDef(e))return!0;var s=e,l=i;if(a(s,l))return s.children.push(l),!0;if(s.groupId===r){var u=s.children.map(this.getId),c=_.includes(u,this.getId(l));if(!c)return s.children.push(l),!0}return s.children.forEach(function(p){return o.addChildrenToGroup(p,r,i)}),!1},_E([y("columnModel")],t.prototype,"columnModel",void 0),t=_E([J("toolPanelColDefService")],t),t}(j),G0={moduleName:ae.SideBarModule,beans:[cY],agStackComponents:[{componentName:"AgHorizontalResize",componentClass:jI},{componentName:"AgSideBar",componentClass:lY},{componentName:"AgSideBarButtons",componentClass:UI}],dependantModules:[Vr]},ll=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},pY=function(){function n(){}return n.prototype.selectAllChildren=function(t,e,r){var i=this.extractAllLeafColumns(t);this.setAllColumns(i,e,r)},n.prototype.setColumn=function(t,e,r){this.setAllColumns([t],e,r)},n.prototype.setAllColumns=function(t,e,r){this.columnModel.isPivotMode()?this.setAllPivot(t,e,r):this.setAllVisible(t,e,r)},n.prototype.extractAllLeafColumns=function(t){var e=[],r=function(i){i.forEach(function(o){!o.isPassesFilter()||(o.isGroup()?r(o.getChildren()):e.push(o.getColumn()))})};return r(t),e},n.prototype.setAllVisible=function(t,e,r){var i=[];t.forEach(function(o){o.getColDef().lockVisible||o.isVisible()!=e&&i.push({colId:o.getId(),hide:!e})}),i.length>0&&this.columnModel.applyColumnState({state:i},r)},n.prototype.setAllPivot=function(t,e,r){this.gridOptionsWrapper.isFunctionsPassive()?this.setAllPivotPassive(t,e):this.setAllPivotActive(t,e,r)},n.prototype.setAllPivotPassive=function(t,e){var r=this.columnModel.getPivotColumns().slice(),i=this.columnModel.getValueColumns().slice(),o=this.columnModel.getRowGroupColumns().slice(),a=!1,s=!1,l=!1,u=function(g){g.isAnyFunctionActive()||(g.isAllowValue()?(i.push(g),s=!0):g.isAllowRowGroup()?(o.push(g),a=!0):g.isAllowPivot()&&(r.push(g),l=!0))},c=function(g){!g.isAnyFunctionActive()||(r.indexOf(g)>=0&&(_.removeFromArray(r,g),a=!0),i.indexOf(g)>=0&&(_.removeFromArray(i,g),s=!0),o.indexOf(g)>=0&&(_.removeFromArray(o,g),l=!0))},p=e?u:c;if(t.forEach(p),a){var h={type:x.EVENT_COLUMN_PIVOT_CHANGE_REQUEST,columns:r,api:this.gridApi,columnApi:this.columnApi};this.eventService.dispatchEvent(h)}if(l){var d={type:x.EVENT_COLUMN_ROW_GROUP_CHANGE_REQUEST,columns:o,api:this.gridApi,columnApi:this.columnApi};this.eventService.dispatchEvent(d)}if(s){var f={type:x.EVENT_COLUMN_VALUE_CHANGE_REQUEST,columns:o,api:this.gridApi,columnApi:this.columnApi};this.eventService.dispatchEvent(f)}},n.prototype.setAllPivotActive=function(t,e,r){var i=this,o=[],a=function(u){if(!u.isAnyFunctionActive())if(u.isAllowValue()){var c=typeof u.getAggFunc()=="string"?u.getAggFunc():i.aggFuncService.getDefaultAggFunc(u);o.push({colId:u.getId(),aggFunc:c})}else u.isAllowRowGroup()?o.push({colId:u.getId(),rowGroup:!0}):u.isAllowPivot()&&o.push({colId:u.getId(),pivot:!0})},s=function(u){var c=u.isPivotActive()||u.isRowGroupActive()||u.isValueActive();c&&o.push({colId:u.getId(),pivot:!1,rowGroup:!1,aggFunc:null})},l=e?a:s;t.forEach(l),o.length>0&&this.columnModel.applyColumnState({state:o},r)},ll([y("aggFuncService")],n.prototype,"aggFuncService",void 0),ll([y("columnModel")],n.prototype,"columnModel",void 0),ll([y("gridOptionsWrapper")],n.prototype,"gridOptionsWrapper",void 0),ll([y("columnApi")],n.prototype,"columnApi",void 0),ll([y("gridApi")],n.prototype,"gridApi",void 0),ll([y("eventService")],n.prototype,"eventService",void 0),n=ll([J("modelItemUtils")],n),n}(),hY={moduleName:ae.ColumnToolPanelModule,beans:[pY],agStackComponents:[{componentName:"AgPrimaryColsHeader",componentClass:lK},{componentName:"AgPrimaryColsList",componentClass:wK},{componentName:"AgPrimaryCols",componentClass:k0}],userComponents:[{componentName:"agColumnsToolPanel",componentClass:tY}],dependantModules:[Vr,HI,G0]},dY={getTemplate:function(){return{name:"Workbook",properties:{prefixedAttributes:[{prefix:"xmlns:",map:{o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",html:"http://www.w3.org/TR/REC-html40"}}],rawMap:{xmlns:"urn:schemas-microsoft-com:office:spreadsheet"}}}}},fY={getTemplate:function(){return{name:"ExcelWorkbook",properties:{rawMap:{xmlns:"urn:schemas-microsoft-com:office:excel"}},children:[{name:"WindowHeight",textNode:"8130"},{name:"WindowWidth",textNode:"15135"},{name:"WindowHeight",textNode:"8130"},{name:"WindowTopX",textNode:"120"},{name:"WindowTopY",textNode:"45"},{name:"ProtectStructure",textNode:"False"},{name:"ProtectWindow",textNode:"False"}]}}},gY={getTemplate:function(n){var t=n.width;return{name:"Column",properties:{prefixedAttributes:[{prefix:"ss:",map:{Width:t}}]}}}},vY={getTemplate:function(n){var t=n.mergeAcross,e=n.styleId,r=n.data,i={};return t&&(i.MergeAcross=t),e&&(i.StyleID=e),{name:"Cell",properties:{prefixedAttributes:[{prefix:"ss:",map:i}]},children:[{name:"Data",properties:{prefixedAttributes:[{prefix:"ss:",map:{Type:r.type}}]},textNode:r.value}]}}},mY={getTemplate:function(n){var t=n.cells;return{name:"Row",children:t.map(function(e){return vY.getTemplate(e)})}}},yY={getTemplate:function(n){var t=n.table,e=n.name,r=t.columns,i=t.rows,o=r.map(function(s){return gY.getTemplate(s)}),a=i.map(function(s){return mY.getTemplate(s)});return{name:"Worksheet",children:[{name:"Table",children:o.concat(a)}],properties:{prefixedAttributes:[{prefix:"ss:",map:{Name:e}}]}}}},CY={getTemplate:function(){return{name:"DocumentProperties",properties:{rawMap:{xmlns:"urn:schemas-microsoft-com:office:office"}},children:[{name:"Version",textNode:"12.00"}]}}},bY={getTemplate:function(n){var t=n.alignment,e=t.vertical,r=t.horizontal,i=t.indent,o=t.readingOrder,a=t.rotate,s=t.shrinkToFit,l=t.verticalText,u=t.wrapText;return{name:"Alignment",properties:{prefixedAttributes:[{prefix:"ss:",map:{Vertical:e,Horizontal:r,Indent:i,ReadingOrder:o,Rotate:a,ShrinkToFit:s,VerticalText:l,WrapText:u}}]}}}},wY={getTemplate:function(n){var t=n.borders,e=t.borderBottom,r=t.borderLeft,i=t.borderRight,o=t.borderTop;return{name:"Borders",children:[e,r,i,o].map(function(a,s){var l=s==0?"Bottom":s==1?"Left":s==2?"Right":"Top";return{name:"Border",properties:{prefixedAttributes:[{prefix:"ss:",map:{Position:l,LineStyle:a.lineStyle,Weight:a.weight,Color:a.color}}]}}})}}},_Y={getTemplate:function(n){var t=n.font,e=t.bold,r=t.fontName,i=t.italic,o=t.color,a=t.outline,s=t.shadow,l=t.size,u=t.strikeThrough,c=t.underline,p=t.verticalAlign,h=t.charSet,d=t.family;return{name:"Font",properties:{prefixedAttributes:[{prefix:"ss:",map:{Bold:e,FontName:r,Italic:i,Color:o,Outline:a,Shadow:s,Size:l,StrikeThrough:u,Underline:c,VerticalAlign:p}},{prefix:"x:",map:{CharSet:h,Family:d}}]}}}},SY={getTemplate:function(n){var t=n.interior,e=t.color,r=t.pattern,i=t.patternColor;return{name:"Interior",properties:{prefixedAttributes:[{prefix:"ss:",map:{Color:e,Pattern:r,PatternColor:i}}]}}}},xY={getTemplate:function(n){return{name:"Protection",properties:{prefixedAttributes:[{prefix:"ss:",map:{Protected:n.protection.protected,HideFormula:n.protection.hideFormula}}]}}}},TY={getTemplate:function(n){var t=n.numberFormat.format;return{name:"NumberFormat",properties:{prefixedAttributes:[{prefix:"ss:",map:{Format:t}}]}}}},OY={getTemplate:function(n){var t=n.id,e=n.name;return{name:"Style",properties:{prefixedAttributes:[{prefix:"ss:",map:{ID:t,Name:e||t}}]}}}},Ww=function(){function n(){}return n.createExcel=function(t,e){var r=this.excelXmlHeader(),i=CY.getTemplate(),o=fY.getTemplate(),a=this.workbook(i,o,t,e);return""+r+Gw.createXml(a,function(s){return s?"1":"0"})},n.workbook=function(t,e,r,i){var o=[t,e,this.stylesXmlElement(r)].concat(yY.getTemplate(i));return Object.assign({},dY.getTemplate(),{children:o})},n.excelXmlHeader=function(){return`<?xml version="1.0" ?>
        <?mso-application progid="Excel.Sheet" ?>
        `},n.stylesXmlElement=function(t){var e=this;return{name:"Styles",children:t?t.map(function(r){return e.styleXmlElement(r)}):[]}},n.styleXmlElement=function(t){var e=_.compose(this.addProperty("alignment",t),this.addProperty("borders",t),this.addProperty("font",t),this.addProperty("interior",t),this.addProperty("protection",t),this.addProperty("numberFormat",t))([]);return Object.assign({},OY.getTemplate(t),{children:e})},n.addProperty=function(t,e){return function(r){if(!e[t])return r;var i={alignment:bY,borders:wY,font:_Y,interior:SY,numberFormat:TY,protection:xY};return r.concat(i[t].getTemplate(e))}},n.factoryMode=Sa.SINGLE_SHEET,n}(),EY=9525,SE={0:1,"0.00":2,"#,##0":3,"#,##0.00":4,"0%":9,"0.00%":10,"0.00E+00":11,"# ?/?":12,"# ??/??":13,"mm-dd-yy":14,"d-mmm-yy":15,"d-mmm":16,"mmm-yy":17,"h:mm AM/PM":18,"h:mm:ss AM/PM":19,"h:mm":20,"h:mm:ss":21,"m/d/yy h:mm":22,"#,##0 ;(#,##0)":37,"#,##0 ;[Red](#,##0)":38,"#,##0.00;(#,##0.00)":39,"#,##0.00;[Red](#,##0.00)":40,"mm:ss":45,"[h]:mm:ss":46,"mmss.0":47,"##0.0E+0":48,"@":49},RY=function(n){return Math.round(n*72/96)},PY=function(n){return Math.round(n*96/72)},Nu=function(n){return Math.ceil(n*EY)},AY=function(n){if(n!==void 0){var t=["Automatic","Roman","Swiss","Modern","Script","Decorative"],e=t.indexOf(n||"Automatic");return Math.max(e,0)}},lg=function(n,t){if(!!t){var e;if(typeof t=="number")e=t;else{var r=t;e=r({rowIndex:n})}return RY(e)}},DY=function(n,t){var e=n.position,r=e.colSpan,i=e.column;if(n.width)if(r)for(var o=t.slice(i-1,i+r-1),a=0,s=0;s<o.length;s++){var l=o[s].getActualWidth();if(n.width<a+l){n.position.colSpan=s+1,n.totalWidth=n.width,n.width=n.totalWidth-a;break}a+=l}else n.totalWidth=n.width},MY=function(n,t){var e=n.position,r=e.rowSpan,i=e.row;if(n.height)if(r)for(var o=0,a=0,s=i;s<i+r;s++){var l=PY(lg(s,t)||20);if(n.height<o+l){n.position.rowSpan=a+1,n.totalHeight=n.height,n.height=n.totalHeight-o;break}o+=l,a++}else n.totalHeight=n.height},ci=function(n){var t=Gw.createHeader({encoding:"UTF-8",standalone:"yes"}),e=Gw.createXml(n);return""+t+e},$h=function(n){var t=65,e=26,r=String.fromCharCode,i=Math.floor(n/e),o=n%e;return!i||n===e?r(t+n-1):o?i<e?r(t+i-1)+r(t+o-1):$h(i)+r(t+o-1):$h(i-1)+"Z"},FY=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),bh=globalThis&&globalThis.__assign||function(){return bh=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},bh.apply(this,arguments)},IY=globalThis&&globalThis.__read||function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},xE=globalThis&&globalThis.__spread||function(){for(var n=[],t=0;t<arguments.length;t++)n=n.concat(IY(arguments[t]));return n},zI=function(n){FY(t,n);function t(e){var r=n.call(this,e)||this;return r.mixedStyles={},r.mixedStyleCounter=0,r.rows=[],r.config=Object.assign({},e),r.stylesByIds={},r.config.baseExcelStyles.forEach(function(i){r.stylesByIds[i.id]=i}),r.excelStyles=xE(r.config.baseExcelStyles),r}return t.prototype.addCustomContent=function(e){var r=this;e.forEach(function(i){var o=r.rows.length+1;r.rows.push({height:lg(o,r.config.rowHeight),cells:i.map(function(a,s){var l=r.addImage(o,r.columnsToExport[s],a.data.value),u=bh({},a);return l&&(u.data={},l.value!=null?u.data.value=l.value:(u.data.type="e",u.data.value=null)),u})})})},t.prototype.onNewHeaderGroupingRow=function(){var e=this,r=[];return this.rows.push({cells:r,height:lg(this.rows.length+1,this.config.headerRowHeight)}),{onColumn:function(i,o,a,s){var l=e.config.styleLinker(Ul.HEADER_GROUPING,1,"grouping-"+i,void 0,void 0);r.push(bh(bh({},e.createMergedCell(e.getStyleId(l),e.getDataTypeForValue("string"),i,a)),{collapsibleRanges:s}))}}},t.prototype.onNewHeaderRow=function(){return this.onNewRow(this.onNewHeaderColumn,this.config.headerRowHeight)},t.prototype.onNewBodyRow=function(){return this.onNewRow(this.onNewBodyColumn,this.config.rowHeight)},t.prototype.prepare=function(e){var r=this;n.prototype.prepare.call(this,e),this.columnsToExport=xE(e),this.cols=e.map(function(i,o){return r.convertColumnToExcel(i,o)})},t.prototype.parse=function(){for(var e=this.rows.reduce(function(i,o){return Math.max(i,o.cells.length)},0);this.cols.length<e;)this.cols.push(this.convertColumnToExcel(null,this.cols.length+1));var r={name:this.config.sheetName,table:{columns:this.cols,rows:this.rows}};return this.createExcel(r)},t.prototype.isFormula=function(e){return e==null?!1:this.config.autoConvertFormulas&&e.toString().startsWith("=")},t.prototype.getStyleById=function(e){return e==null?null:this.stylesByIds[e]||null},t.prototype.convertColumnToExcel=function(e,r){var i=this.config.columnWidth;if(i)return typeof i=="number"?{width:i}:{width:i({column:e,index:r})};if(e){var o=75;return{width:Math.max(e.getActualWidth(),o)}}return{}},t.prototype.onNewHeaderColumn=function(e,r){var i=this;return function(o,a){var s=i.extractHeaderValue(o),l=i.config.styleLinker(Ul.HEADER,e,s,o,void 0);r.push(i.createCell(i.getStyleId(l),i.getDataTypeForValue("string"),s))}},t.prototype.onNewRow=function(e,r){var i=[];return this.rows.push({cells:i,height:lg(this.rows.length+1,r)}),{onColumn:e.bind(this,this.rows.length,i)()}},t.prototype.onNewBodyColumn=function(e,r){var i=this,o=0;return function(a,s,l){if(o>0){o-=1;return}var u=i.extractRowCellValue(a,s,e,L.EXPORT_TYPE_EXCEL,l),c=i.config.styleLinker(Ul.BODY,e,u,a,l),p=i.getStyleId(c),h=a.getColSpan(l),d=i.addImage(e,a,u);d?r.push(i.createCell(p,i.getDataTypeForValue(d.value),d.value==null?"":d.value)):h>1?(o=h-1,r.push(i.createMergedCell(p,i.getDataTypeForValue(u),u,h-1))):r.push(i.createCell(p,i.getDataTypeForValue(u),u))}},t.prototype.getStyleId=function(e){if(!e||!e.length)return null;if(e.length===1)return e[0];var r=e.join("-");return this.mixedStyles[r]||this.addNewMixedStyle(e),this.mixedStyles[r].excelID},t.prototype.addNewMixedStyle=function(e){var r=this;this.mixedStyleCounter+=1;var i="mixedStyle"+this.mixedStyleCounter,o={};e.forEach(function(s){r.excelStyles.forEach(function(l){l.id===s&&_.mergeDeep(o,_.deepCloneObject(l))})}),o.id=i,o.name=i;var a=e.join("-");this.mixedStyles[a]={excelID:i,key:a,result:o},this.excelStyles.push(o),this.stylesByIds[i]=o},t}(LI),LY=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),NY=function(n){LY(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.createExcel=function(e){return Ww.createExcel(this.excelStyles,e)},t.prototype.getDataTypeForValue=function(e){return _.isNumeric(e)?"Number":"String"},t.prototype.getType=function(e,r,i){if(this.isFormula(i))return"Formula";if(r&&r.dataType)switch(r.dataType.toLocaleLowerCase()){case"string":return"Formula";case"number":return"Number";case"datetime":return"DateTime";case"error":return"Error";case"boolean":return"Boolean";default:console.warn("AG Grid: Unrecognized data type for excel export ["+r.id+".dataType="+r.dataType+"]")}return e},t.prototype.addImage=function(){},t.prototype.createCell=function(e,r,i){var o=this.getStyleById(e),a=this.getType(r,o,i)||r;return{styleId:o?e:void 0,data:{type:a,value:this.getValueTransformed(a,i)}}},t.prototype.getValueTransformed=function(e,r){var i=this,o=function(s){if(i.config.suppressTextAsCDATA)return _.escapeString(s);var l="<![CDATA[",u="]]>",c=new RegExp(u,"g");return l+String(s).replace(c,"]]"+u+l+">")+u},a=function(s){return!s||s==="0"||s==="false"?"0":"1"};switch(e){case"String":return o(r);case"Number":return Number(r).valueOf()+"";case"Boolean":return a(r);default:return r}},t.prototype.createMergedCell=function(e,r,i,o){return{styleId:this.getStyleById(e)?e:void 0,data:{type:r,value:i},mergeAcross:o}},t}(zI),kY={getTemplate:function(n){var t=new Date,e=t.toJSON();return{name:"cp:coreProperties",properties:{prefixedAttributes:[{prefix:"xmlns:",map:{cp:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",xsi:"http://www.w3.org/2001/XMLSchema-instance"}}]},children:[{name:"dc:creator",textNode:n},{name:"dc:title",textNode:"Workbook"},{name:"dcterms:created",properties:{rawMap:{"xsi:type":"dcterms:W3CDTF"}},textNode:e},{name:"dcterms:modified",properties:{rawMap:{"xsi:type":"dcterms:W3CDTF"}},textNode:e}]}}},GY={getTemplate:function(n){var t=n.name,e=n.ContentType,r=n.Extension,i=n.PartName;return{name:t,properties:{rawMap:{Extension:r,PartName:i,ContentType:e}}}}},BY=globalThis&&globalThis.__read||function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},VY=globalThis&&globalThis.__spread||function(){for(var n=[],t=0;t<arguments.length;t++)n=n.concat(BY(arguments[t]));return n},WY={getTemplate:function(n){var t=new Array(n).fill(void 0).map(function(s,l){return{name:"Override",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",PartName:"/xl/worksheets/sheet"+(l+1)+".xml"}}),e=Rt.worksheetImages.size,r={};Rt.workbookImageIds.forEach(function(s){r[s.type]=!0});var i=new Array(e).fill(void 0).map(function(s,l){return{name:"Override",ContentType:"application/vnd.openxmlformats-officedocument.drawing+xml",PartName:"/xl/drawings/drawing"+(l+1)+".xml"}}),o=Object.keys(r).map(function(s){return{name:"Default",ContentType:"image/"+s,Extension:s}}),a=VY(o,[{name:"Default",Extension:"rels",ContentType:"application/vnd.openxmlformats-package.relationships+xml"},{name:"Default",ContentType:"application/xml",Extension:"xml"},{name:"Override",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",PartName:"/xl/workbook.xml"}],t,[{name:"Override",ContentType:"application/vnd.openxmlformats-officedocument.theme+xml",PartName:"/xl/theme/theme1.xml"},{name:"Override",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",PartName:"/xl/styles.xml"},{name:"Override",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",PartName:"/xl/sharedStrings.xml"}],i,[{name:"Override",ContentType:"application/vnd.openxmlformats-package.core-properties+xml",PartName:"/docProps/core.xml"}]).map(function(s){return GY.getTemplate(s)});return{name:"Types",properties:{rawMap:{xmlns:"http://schemas.openxmlformats.org/package/2006/content-types"}},children:a}}},TE=function(n,t){return{name:"xdr:"+n,children:[{name:"xdr:col",textNode:t.col.toString()},{name:"xdr:colOff",textNode:t.offsetX.toString()},{name:"xdr:row",textNode:t.row.toString()},{name:"xdr:rowOff",textNode:t.offsetY.toString()}]}},HY=function(n){var t=[{name:"a:ext",properties:{rawMap:{uri:"{FF2B5EF4-FFF2-40B4-BE49-F238E27FC236}"}},children:[{name:"a16:creationId",properties:{rawMap:{id:"{822E6D20-D7BC-2841-A643-D49A6EF008A2}","xmlns:a16":"http://schemas.microsoft.com/office/drawing/2014/main"}}}]}],e=n.recolor&&n.recolor.toLowerCase();switch(e){case"grayscale":case"sepia":case"washout":t.push({name:"a:ext",properties:{rawMap:{uri:"{C183D7F6-B498-43B3-948B-1728B52AA6E4}"}},children:[{name:"adec:decorative",properties:{rawMap:{val:"0","xmlns:adec":"http://schemas.microsoft.com/office/drawing/2017/decorative"}}}]})}return{name:"a:extLst",children:t}},jY=function(n,t){return{name:"xdr:nvPicPr",children:[{name:"xdr:cNvPr",properties:{rawMap:{id:t,name:n.id,descr:n.altText!=null?n.altText:void 0}},children:[HY(n)]},{name:"xdr:cNvPicPr",properties:{rawMap:{preferRelativeResize:"0"}},children:[{name:"a:picLocks"}]}]}},OE=function(n){if(!(!n.saturation&&!n.tint)){var t=[];return n.saturation&&t.push({name:"a:satMod",properties:{rawMap:{val:n.saturation*1e3}}}),n.tint&&t.push({name:"a:tint",properties:{rawMap:{val:n.tint*1e3}}}),t}},UY=function(n,t){return{name:"a:duotone",children:[{name:"a:prstClr",properties:{rawMap:{val:n.color}},children:OE(n)},{name:"a:srgbClr",properties:{rawMap:{val:t.color}},children:OE(t)}]}},zY=function(n,t){var e;if(n.transparency){var r=Math.min(Math.max(n.transparency,0),100);e=[{name:"a:alphaModFix",properties:{rawMap:{amt:1e5-Math.round(r*1e3)}}}]}if(n.recolor)switch(e||(e=[]),n.recolor.toLocaleLowerCase()){case"grayscale":e.push({name:"a:grayscl"});break;case"sepia":e.push(UY({color:"black"},{color:"D9C3A5",tint:50,saturation:180}));break;case"washout":e.push({name:"a:lum",properties:{rawMap:{bright:"70000",contrast:"-70000"}}});break}return{name:"xdr:blipFill",children:[{name:"a:blip",properties:{rawMap:{cstate:"print","r:embed":"rId"+t,"xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships"}},children:e},{name:"a:stretch",children:[{name:"a:fillRect"}]}]}},$Y=function(n,t){var e={name:"a:xfrm",children:[{name:"a:off",properties:{rawMap:{x:0,y:0}}},{name:"a:ext",properties:{rawMap:{cx:t.width,cy:t.height}}}]};if(n.rotation){var r=n.rotation;e.properties={rawMap:{rot:Math.min(Math.max(r,0),360)*6e4}}}var i={name:"a:prstGeom",properties:{rawMap:{prst:"rect"}},children:[{name:"a:avLst"}]},o={name:"xdr:spPr",children:[e,i]};return o},KY=function(n){n.fitCell=!!n.fitCell||!n.width||!n.height;var t=n.position,e=t===void 0?{}:t,r=n.fitCell,i=n.width,o=i===void 0?0:i,a=n.height,s=a===void 0?0:a,l=n.totalHeight,u=n.totalWidth,c=e.offsetX,p=c===void 0?0:c,h=e.offsetY,d=h===void 0?0:h,f=e.row,g=f===void 0?1:f,v=e.rowSpan,m=v===void 0?1:v,C=e.column,b=C===void 0?1:C,w=e.colSpan,S=w===void 0?1:w;return{from:{row:g-1,col:b-1,offsetX:Nu(p),offsetY:Nu(d)},to:{row:g-1+(r?1:m-1),col:b-1+(r?1:S-1),offsetX:Nu(o+p),offsetY:Nu(s+d)},height:Nu(l||s),width:Nu(u||o)}},YY=function(n,t,e,r){return{name:"xdr:pic",children:[jY(n,t+1),zY(n,e+1),$Y(n,r)]}},XY={getTemplate:function(n){var t=n.sheetIndex,e=Rt.worksheetImages.get(t),r=Rt.worksheetImageIds.get(t),i=e.map(function(o,a){var s=KY(o);return{name:"xdr:twoCellAnchor",properties:{rawMap:{editAs:"absolute"}},children:[TE("from",s.from),TE("to",s.to),YY(o,a,r.get(o.id).index,s),{name:"xdr:clientData"}]}});return{name:"xdr:wsDr",properties:{rawMap:{"xmlns:a":"http://schemas.openxmlformats.org/drawingml/2006/main","xmlns:xdr":"http://schemas.openxmlformats.org/drawingml/2006/spreadsheetDrawing"}},children:i}}},qY=globalThis&&globalThis.__read||function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},pi=function(n){var t=qY(n,4),e=t[0],r=t[1],i=t[2],o=t[3];return{name:"a:"+e,children:[{name:"a:"+r,properties:{rawMap:{val:i,lastClr:o}}}]}},ZY={getTemplate:function(){return{name:"a:clrScheme",properties:{rawMap:{name:"Office"}},children:[pi(["dk1","sysClr","windowText","000000"]),pi(["lt1","sysClr","window","FFFFFF"]),pi(["dk2","srgbClr","44546A"]),pi(["lt2","srgbClr","E7E6E6"]),pi(["accent1","srgbClr","4472C4"]),pi(["accent2","srgbClr","ED7D31"]),pi(["accent3","srgbClr","A5A5A5"]),pi(["accent4","srgbClr","FFC000"]),pi(["accent5","srgbClr","5B9BD5"]),pi(["accent6","srgbClr","70AD47"]),pi(["hlink","srgbClr","0563C1"]),pi(["folHlink","srgbClr","954F72"])]}}},QY=globalThis&&globalThis.__read||function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},re=function(n){var t=QY(n,4),e=t[0],r=t[1],i=t[2],o=t[3];return{name:"a:"+e,properties:{rawMap:{script:i,typeface:r,panose:o}}}},JY={getTemplate:function(){var n=_.utf8_encode;return{name:"a:fontScheme",properties:{rawMap:{name:"Office"}},children:[{name:"a:majorFont",children:[re(["latin","Calibri Light",void 0,"020F0302020204030204"]),re(["ea",""]),re(["cs",""]),re(["font",n("\u6E38\u30B4\u30B7\u30C3\u30AF Light"),"Jpan"]),re(["font",n("\uB9D1\uC740 \uACE0\uB515"),"Hang"]),re(["font",n("\u7B49\u7EBF Light"),"Hans"]),re(["font",n("\u65B0\u7D30\u660E\u9AD4"),"Hant"]),re(["font","Times New Roman","Arab"]),re(["font","Times New Roman","Hebr"]),re(["font","Tahoma","Thai"]),re(["font","Nyala","Ethi"]),re(["font","Vrinda","Beng"]),re(["font","Shruti","Gujr"]),re(["font","MoolBoran","Khmr"]),re(["font","Tunga","Knda"]),re(["font","Raavi","Guru"]),re(["font","Euphemia","Cans"]),re(["font","Plantagenet Cherokee","Cher"]),re(["font","Microsoft Yi Baiti","Yiii"]),re(["font","Microsoft Himalaya","Tibt"]),re(["font","MV Boli","Thaa"]),re(["font","Mangal","Deva"]),re(["font","Gautami","Telu"]),re(["font","Latha","Taml"]),re(["font","Estrangelo Edessa","Syrc"]),re(["font","Kalinga","Orya"]),re(["font","Kartika","Mlym"]),re(["font","DokChampa","Laoo"]),re(["font","Iskoola Pota","Sinh"]),re(["font","Mongolian Baiti","Mong"]),re(["font","Times New Roman","Viet"]),re(["font","Microsoft Uighur","Uigh"]),re(["font","Sylfaen","Geor"]),re(["font","Arial","Armn"]),re(["font","Leelawadee UI","Bugi"]),re(["font","Microsoft JhengHei","Bopo"]),re(["font","Javanese Text","Java"]),re(["font","Segoe UI","Lisu"]),re(["font","Myanmar Text","Mymr"]),re(["font","Ebrima","Nkoo"]),re(["font","Nirmala UI","Olck"]),re(["font","Ebrima","Osma"]),re(["font","Phagspa","Phag"]),re(["font","Estrangelo Edessa","Syrn"]),re(["font","Estrangelo Edessa","Syrj"]),re(["font","Estrangelo Edessa","Syre"]),re(["font","Nirmala UI","Sora"]),re(["font","Microsoft Tai Le","Tale"]),re(["font","Microsoft New Tai Lue","Talu"]),re(["font","Ebrima","Tfng"])]},{name:"a:minorFont",children:[re(["latin","Calibri",void 0,"020F0502020204030204"]),re(["ea",""]),re(["cs",""]),re(["font",n("\u6E38\u30B4\u30B7\u30C3\u30AF"),"Jpan"]),re(["font",n("\uB9D1\uC740 \uACE0\uB515"),"Hang"]),re(["font",n("\u7B49\u7EBF"),"Hans"]),re(["font",n("\u65B0\u7D30\u660E\u9AD4"),"Hant"]),re(["font","Arial","Arab"]),re(["font","Arial","Hebr"]),re(["font","Tahoma","Thai"]),re(["font","Nyala","Ethi"]),re(["font","Vrinda","Beng"]),re(["font","Shruti","Gujr"]),re(["font","DaunPenh","Khmr"]),re(["font","Tunga","Knda"]),re(["font","Raavi","Guru"]),re(["font","Euphemia","Cans"]),re(["font","Plantagenet Cherokee","Cher"]),re(["font","Microsoft Yi Baiti","Yiii"]),re(["font","Microsoft Himalaya","Tibt"]),re(["font","MV Boli","Thaa"]),re(["font","Mangal","Deva"]),re(["font","Gautami","Telu"]),re(["font","Latha","Taml"]),re(["font","Estrangelo Edessa","Syrc"]),re(["font","Kalinga","Orya"]),re(["font","Kartika","Mlym"]),re(["font","DokChampa","Laoo"]),re(["font","Iskoola Pota","Sinh"]),re(["font","Mongolian Baiti","Mong"]),re(["font","Arial","Viet"]),re(["font","Microsoft Uighur","Uigh"]),re(["font","Sylfaen","Geor"]),re(["font","Arial","Armn"]),re(["font","Leelawadee UI","Bugi"]),re(["font","Microsoft JhengHei","Bopo"]),re(["font","Javanese Text","Java"]),re(["font","Segoe UI","Lisu"]),re(["font","Myanmar Text","Mymr"]),re(["font","Ebrima","Nkoo"]),re(["font","Nirmala UI","Olck"]),re(["font","Ebrima","Osma"]),re(["font","Phagspa","Phag"]),re(["font","Estrangelo Edessa","Syrn"]),re(["font","Estrangelo Edessa","Syrj"]),re(["font","Estrangelo Edessa","Syre"]),re(["font","Nirmala UI","Sora"]),re(["font","Microsoft Tai Le","Tale"]),re(["font","Microsoft New Tai Lue","Talu"]),re(["font","Ebrima","Tfng"])]}]}}},Kh=globalThis&&globalThis.__read||function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},Vo=function(n,t,e){return{name:"a:"+n,properties:{rawMap:{val:t}},children:e}},LC=function(n){var t=Kh(n,6),e=t[0],r=t[1],i=t[2],o=t[3],a=t[4],s=t[5],l=[];return l.push(Vo("satMod",i)),o&&l.push(Vo("lumMod",o)),a&&l.push(Vo("tint",a)),s&&l.push(Vo("shade",s)),{name:"a:gs",properties:{rawMap:{pos:e}},children:[{name:"a:schemeClr",properties:{rawMap:{val:r}},children:l}]}},wv=function(n,t){return{name:"a:solidFill",children:[Vo("schemeClr",n,t)]}},Hw=function(n){var t=Kh(n,5),e=t[0],r=t[1],i=t[2],o=t[3],a=t[4],s=Kh(a,2),l=s[0],u=s[1];return{name:"a:gradFill",properties:{rawMap:{rotWithShape:e}},children:[{name:"a:gsLst",children:[LC(r),LC(i),LC(o)]},{name:"a:lin",properties:{rawMap:{ang:l,scaled:u}}}]}},NC=function(n){var t=Kh(n,4),e=t[0],r=t[1],i=t[2],o=t[3];return{name:"a:ln",properties:{rawMap:{w:e,cap:r,cmpd:i,algn:o}},children:[wv("phClr"),Vo("prstDash","solid"),{name:"a:miter",properties:{rawMap:{lim:"800000"}}}]}},kC=function(n){var t=[];if(n){var e=Kh(n,5),r=e[0],i=e[1],o=e[2],a=e[3],s=e[4];t.push({name:"a:outerShdw",properties:{rawMap:{blurRad:r,dist:i,dir:o,algn:a,rotWithShape:s}},children:[Vo("srgbClr","000000",[Vo("alpha","63000")])]})}return{name:"a:effectStyle",children:[Object.assign({},{name:"a:effectLst"},t.length?{children:t}:{})]}},eX=function(){return{name:"a:fillStyleLst",children:[wv("phClr"),Hw(["1",["0","phClr","105000","110000","67000"],["50000","phClr","103000","105000","73000"],["100000","phClr","109000","105000","81000"],["5400000","0"]]),Hw(["1",["0","phClr","103000","102000","94000"],["50000","phClr","110000","100000",void 0,"100000"],["100000","phClr","120000","99000",void 0,"78000"],["5400000","0"]])]}},tX=function(){return{name:"a:lnStyleLst",children:[NC(["6350","flat","sng","ctr"]),NC(["12700","flat","sng","ctr"]),NC(["19050","flat","sng","ctr"])]}},rX=function(){return{name:"a:effectStyleLst",children:[kC(),kC(),kC(["57150","19050","5400000","ctr","0"])]}},nX=function(){return{name:"a:bgFillStyleLst",children:[wv("phClr"),wv("phClr",[Vo("tint","95000"),Vo("satMod","170000")]),Hw(["1",["0","phClr","150000","102000","93000","98000"],["50000","phClr","130000","103000","98000","90000"],["100000","phClr","120000",void 0,void 0,"63000"],["5400000","0"]])]}},iX={getTemplate:function(){return{name:"a:fmtScheme",properties:{rawMap:{name:"Office"}},children:[eX(),tX(),rX(),nX()]}}},oX={getTemplate:function(){return{name:"a:themeElements",children:[ZY.getTemplate(),JY.getTemplate(),iX.getTemplate()]}}},aX={getTemplate:function(){return{name:"a:theme",properties:{prefixedAttributes:[{prefix:"xmlns:",map:{a:"http://schemas.openxmlformats.org/drawingml/2006/main"}}],rawMap:{name:"Office Theme"}},children:[oX.getTemplate(),{name:"a:objectDefaults"},{name:"a:extraClrSchemeLst"}]}}},sX=function(n){var t=[];return n.forEach(function(e,r){var i=r.toString(),o={name:"t",textNode:_.utf8_encode(_.escapeString(i))},a=i.trim().length!==i.length;a&&(o.properties={rawMap:{"xml:space":"preserve"}}),t.push({name:"si",children:[o]})}),t},lX={getTemplate:function(n){return{name:"sst",properties:{rawMap:{xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main",count:n.size,uniqueCount:n.size}},children:sX(n)}}},uX={getTemplate:function(n){var t=n.formatCode,e=n.numFmtId;return{name:"numFmt",properties:{rawMap:{formatCode:t,numFmtId:e}}}}},cX={getTemplate:function(n){return{name:"numFmts",properties:{rawMap:{count:n.length}},children:n.map(function(t){return uX.getTemplate(t)})}}},pX={getTemplate:function(n){var t=n.size,e=n.colorTheme,r=n.color,i=r===void 0?"FF000000":r,o=n.fontName,a=o===void 0?"Calibri":o,s=n.family,l=n.scheme,u=n.italic,c=n.bold,p=n.strikeThrough,h=n.outline,d=n.shadow,f=n.underline,g=n.verticalAlign,v=[{name:"sz",properties:{rawMap:{val:t}}},{name:"color",properties:{rawMap:{theme:e,rgb:i}}},{name:"name",properties:{rawMap:{val:a}}}];return s&&v.push({name:"family",properties:{rawMap:{val:s}}}),l&&v.push({name:"scheme",properties:{rawMap:{val:l}}}),u&&v.push({name:"i"}),c&&v.push({name:"b"}),p&&v.push({name:"strike"}),h&&v.push({name:"outline"}),d&&v.push({name:"shadow"}),f&&v.push({name:"u",properties:{rawMap:{val:f}}}),g&&v.push({name:"vertAlign",properties:{rawMap:{val:g}}}),{name:"font",children:v}}},hX={getTemplate:function(n){return{name:"fonts",properties:{rawMap:{count:n.length}},children:n.map(function(t){return pX.getTemplate(t)})}}},dX={getTemplate:function(n){var t=n.patternType,e=n.fgTheme,r=n.fgTint,i=n.fgRgb,o=n.bgRgb,a=n.bgIndexed,s={name:"patternFill",properties:{rawMap:{patternType:t}}};return(e||r||i)&&(s.children=[{name:"fgColor",properties:{rawMap:{theme:e,tint:r,rgb:i}}}]),(a||o)&&(s.children||(s.children=[]),s.children.push({name:"bgColor",properties:{rawMap:{indexed:a,rgb:o}}})),{name:"fill",children:[s]}}},fX={getTemplate:function(n){return{name:"fills",properties:{rawMap:{count:n.length}},children:n.map(function(t){return dX.getTemplate(t)})}}},gX=function(n){switch(n){case 1:return"thin";case 2:return"medium";case 3:return"thick";default:return"hair"}},vX={None:"None",Dot:"Dotted",Dash:"Dashed",Double:"Double",DashDot:"DashDot",DashDotDot:"DashDotDot",SlantDashDot:"SlantDashDot"},mX=["Dashed","DashDot","DashDotDot"],yX={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinDiagStripe:"lightUp",ThinHorzCross:"lightGrid",ThinDiagCross:"lightTrellis",Gray125:"gray125",Gray0625:"gray0625"},CX={Automatic:"general",Left:"left",Center:"center",Right:"right",Fill:"fill",Justify:"justify",CenterAcrossSelection:"centerContinuous",Distributed:"distributed",JustifyDistributed:"justify"},bX={Automatic:void 0,Top:"top",Bottom:"bottom",Center:"center",Justify:"justify",Distributed:"distributed",JustifyDistributed:"justify"},wX=function(n){return n?yX[n]||n:"none"},_s=function(n){return n==null?n:(n.charAt(0)==="#"&&(n=n.substr(1)),n.length===6?"FF"+n:n)},_f=function(n,t){if(!n)return"thin";var e=gX(t),r=vX[n];return n==="Continuous"?e:e==="medium"&&mX.indexOf(r)!==-1?"medium"+r:r.charAt(0).toLowerCase()+r.substr(1)},_X=function(n){return CX[n]||"general"},SX=function(n){return bX[n]||void 0},Gp=function(n){return{name:"color",properties:{rawMap:{rgb:_s(n||"#000000")}}}},xX={getTemplate:function(n){var t=n.left,e=n.right,r=n.top,i=n.bottom,o=n.diagonal,a=t?[Gp(t.color)]:void 0,s=e?[Gp(e.color)]:void 0,l=r?[Gp(r.color)]:void 0,u=i?[Gp(i.color)]:void 0,c=o?[Gp(o.color)]:void 0;return{name:"border",children:[{name:"left",properties:{rawMap:{style:t&&t.style}},children:a},{name:"right",properties:{rawMap:{style:e&&e.style}},children:s},{name:"top",properties:{rawMap:{style:r&&r.style}},children:l},{name:"bottom",properties:{rawMap:{style:i&&i.style}},children:u},{name:"diagonal",properties:{rawMap:{style:o&&o.style}},children:c}]}}},TX={getTemplate:function(n){return{name:"borders",properties:{rawMap:{count:n.length}},children:n.map(function(t){return xX.getTemplate(t)})}}},OX=function(n){var t=["Context","LeftToRight","RightToLeft"],e=t.indexOf(n);return Math.max(e,0)},EX={getTemplate:function(n){var t=n.horizontal,e=n.indent,r=n.readingOrder,i=n.rotate,o=n.shrinkToFit,a=n.vertical,s=n.wrapText;return{name:"alignment",properties:{rawMap:{horizontal:t&&_X(t),indent:e,readingOrder:r&&OX(r),textRotation:i,shrinkToFit:o,vertical:a&&SX(a),wrapText:s}}}}},RX={getTemplate:function(n){var t=n.protected===!1?0:1,e=n.hideFormula===!0?1:0;return{name:"protection",properties:{rawMap:{hidden:e,locked:t}}}}},$I={getTemplate:function(n){var t=n.alignment,e=n.borderId,r=n.fillId,i=n.fontId,o=n.numFmtId,a=n.protection,s=n.xfId,l=[];return t&&l.push(EX.getTemplate(t)),a&&l.push(RX.getTemplate(a)),{name:"xf",properties:{rawMap:{applyAlignment:t?1:void 0,applyProtection:a?1:void 0,applyBorder:e?1:void 0,applyFill:r?1:void 0,borderId:e,fillId:r,applyFont:i?1:void 0,fontId:i,applyNumberFormat:o?1:void 0,numFmtId:o,xfId:s}},children:l.length?l:void 0}}},PX={getTemplate:function(n){return{name:"cellStyleXfs",properties:{rawMap:{count:n.length}},children:n.map(function(t){return $I.getTemplate(t)})}}},AX={getTemplate:function(n){return{name:"cellXfs",properties:{rawMap:{count:n.length}},children:n.map(function(t){return $I.getTemplate(t)})}}},DX={getTemplate:function(n){var t=n.builtinId,e=n.name,r=n.xfId;return{name:"cellStyle",properties:{rawMap:{builtinId:t,name:e,xfId:r}}}}},MX={getTemplate:function(n){return{name:"cellStyles",properties:{rawMap:{count:n.length}},children:n.map(function(t){return DX.getTemplate(t)})}}},_v=globalThis&&globalThis.__assign||function(){return _v=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},_v.apply(this,arguments)},Sv,sc,wh,_h,Sh,KI,xv,YI,jw,XI=function(n,t){return n.indexOf("mixedStyle")!==-1&&t>1&&(n+="_"+t),n},qI=function(){Sv={base:0},sc=[],wh=[{fontName:"Calibri",colorTheme:"1",family:"2",scheme:"minor"}],_h=[{patternType:"none"},{patternType:"gray125"}],Sh=[{left:void 0,right:void 0,top:void 0,bottom:void 0,diagonal:void 0}],KI=[{borderId:0,fillId:0,fontId:0,numFmtId:0}],xv=[{borderId:0,fillId:0,fontId:0,numFmtId:0,xfId:0}],YI=[{builtinId:0,name:"Normal",xfId:0}]},FX=function(n){var t=wX(n.pattern),e=_s(n.color),r=_s(n.patternColor),i=_h.findIndex(function(o){var a=o.patternType,s=o.fgRgb,l=o.bgRgb;return!(a!=t||s!=e||l!=r)});return i===-1&&(i=_h.length,_h.push({patternType:t,fgRgb:e,bgRgb:r})),i},IX=function(n){if(n=_.utf8_encode(n),SE[n])return SE[n];var t=sc.findIndex(function(e){return e.formatCode===n});return t===-1?(t=sc.length+164,sc.push({formatCode:n,numFmtId:t})):t=sc[t].numFmtId,t},LX=function(n){var t=n.borderBottom,e=n.borderTop,r=n.borderLeft,i=n.borderRight,o,a,s,l,u,c,p,h;r&&(s=_f(r.lineStyle,r.weight),p=_s(r.color)),i&&(l=_f(i.lineStyle,i.weight),h=_s(i.color)),t&&(o=_f(t.lineStyle,t.weight),u=_s(t.color)),e&&(a=_f(e.lineStyle,e.weight),c=_s(e.color));var d=Sh.findIndex(function(f){var g=f.left,v=f.right,m=f.top,C=f.bottom;if(!g&&(s||p)||!v&&(l||h)||!m&&(a||c)||!C&&(o||u))return!1;var b=g||{},w=b.style,S=b.color,T=v||{},E=T.style,P=T.color,R=m||{},M=R.style,N=R.color,B=C||{},k=B.style,G=B.color;return!(w!=s||S!=p||E!=l||P!=h||M!=a||N!=c||k!=o||G!=u)});return d===-1&&(d=Sh.length,Sh.push({left:{style:s,color:p},right:{style:l,color:h},top:{style:a,color:c},bottom:{style:o,color:u},diagonal:{style:void 0,color:void 0}})),d},NX=function(n){var t=n.fontName,e=t===void 0?"Calibri":t,r=n.color,i=n.size,o=n.bold,a=n.italic,s=n.outline,l=n.shadow,u=n.strikeThrough,c=n.underline,p=n.family,h=n.verticalAlign,d=e&&_.utf8_encode(e),f=_s(r),g=AY(p),v=c?c.toLocaleLowerCase():void 0,m=h?h.toLocaleLowerCase():void 0,C=wh.findIndex(function(b){return!(b.fontName!=d||b.color!=f||b.size!=i||b.bold!=o||b.italic!=a||b.outline!=s||b.shadow!=l||b.strikeThrough!=u||b.underline!=v||b.verticalAlign!=m||b.family!=g)});return C===-1&&(C=wh.length,wh.push({fontName:d,color:f,size:i,bold:o,italic:a,outline:s,shadow:l,strikeThrough:u,underline:v,verticalAlign:m,family:g!=null?g.toString():void 0})),C},kX=function(n){var t=n.alignment,e=n.borders,r=n.font,i=n.interior,o=n.numberFormat,a=n.protection,s=n.id,l=0,u=0,c=0,p=0;!s||(s=XI(s,jw),Sv[s]==null&&(i&&(l=FX(i)),e&&(u=LX(e)),r&&(c=NX(r)),o&&(p=IX(o.format)),Sv[s]=xv.length,xv.push({alignment:t,borderId:u||0,fillId:l||0,fontId:c||0,numFmtId:p||0,protection:a,xfId:0})))},GX={getTemplate:function(n){var t=cX.getTemplate(sc),e=hX.getTemplate(wh.map(function(l){return _v(_v({},l),{size:l.size!=null?l.size:n})})),r=fX.getTemplate(_h),i=TX.getTemplate(Sh),o=PX.getTemplate(KI),a=AX.getTemplate(xv),s=MX.getTemplate(YI);return qI(),{name:"styleSheet",properties:{rawMap:{"mc:Ignorable":"x14ac x16r2 xr",xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","xmlns:x14ac":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac","xmlns:x16r2":"http://schemas.microsoft.com/office/spreadsheetml/2015/02/main","xmlns:xr":"http://schemas.microsoft.com/office/spreadsheetml/2014/revision"}},children:[t,e,r,i,o,a,s,{name:"tableStyles",properties:{rawMap:{count:0,defaultPivotStyle:"PivotStyleLight16",defaultTableStyle:"TableStyleMedium2"}}}]}}},BX=function(n,t){return Sv[XI(n,t)]||0},VX=function(n,t){jw=t,jw===1&&qI(),n.forEach(kX)},WX={getTemplate:function(n,t){var e=(t+1).toString();return{name:"sheet",properties:{rawMap:{name:n,sheetId:e,"r:id":"rId"+e}}}}},HX={getTemplate:function(n){return{name:"sheets",children:n.map(function(t,e){return WX.getTemplate(t,e)})}}},jX={getTemplate:function(n){return{name:"workbook",properties:{prefixedAttributes:[{prefix:"xmlns:",map:{r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships"}}],rawMap:{xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main"}},children:[HX.getTemplate(n)]}}},UX=function(n){return Math.ceil((n-12)/7+1)},zX={getTemplate:function(n){var t=n.min,e=n.max,r=n.outlineLevel,i=n.s,o=n.width,a=n.hidden,s=n.bestFit,l=1,u="0";return o>1&&(l=UX(o),u="1"),{name:"col",properties:{rawMap:{min:t,max:e,outlineLevel:r!=null?r:void 0,width:l,style:i,hidden:a?"1":"0",bestFit:s?"1":"0",customWidth:u}}}}},$X=function(n){var t=n.charAt(0).toLowerCase();return t==="s"?"inlineStr":t},KX={getTemplate:function(n,t,e){var r=n.ref,i=n.data,o=n.styleId,a=i.type,s=i.value,l=a;a==="f"?l="str":a.charAt(0)===a.charAt(0).toUpperCase()&&(l=$X(a));var u={name:"c",properties:{rawMap:{r,t:l==="empty"?void 0:l,s:o?BX(o,e):void 0}}};if(l==="empty")return u;var c;return l==="str"&&a==="f"?c=[{name:"f",textNode:_.escapeString(_.utf8_encode(s))}]:l==="inlineStr"?c=[{name:"is",children:[{name:"t",textNode:_.escapeString(_.utf8_encode(s))}]}]:c=[{name:"v",textNode:s}],Object.assign({},u,{children:c})}},YX=globalThis&&globalThis.__read||function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},XX=globalThis&&globalThis.__spread||function(){for(var n=[],t=0;t<arguments.length;t++)n=n.concat(YX(arguments[t]));return n},qX=function(n,t){for(var e=[],r=0,i=0;i<n.length;i++){var o=n[i];o.mergeAcross&&(e.push({pos:i,excelPos:r}),r+=o.mergeAcross),r++}if(e.length)for(var i=e.length-1;i>=0;i--){for(var a=[],o=n[e[i].pos],s=1;s<=o.mergeAcross;s++)a.push({ref:""+$h(e[i].excelPos+1+s)+(t+1),styleId:o.styleId,data:{type:"empty",value:null}});a.length&&n.splice.apply(n,XX([e[i].pos+1,0],a))}},ZX=function(n){return n.data.value!==""||n.styleId!==void 0},QX={getTemplate:function(n,t,e){var r=n.index,i=n.collapsed,o=n.hidden,a=n.height,s=n.s,l=n.cells,u=l===void 0?[]:l;qX(u,t);var c=u.filter(ZX).map(function(p,h){return KX.getTemplate(p,h,e)});return{name:"row",properties:{rawMap:{r,collapsed:i,hidden:o?"1":"0",ht:a,customHeight:a!=null?"1":"0",s,customFormat:s!=null?"1":"0"}},children:c}}},JX={getTemplate:function(n){return{name:"mergeCell",properties:{rawMap:{ref:n}}}}},eq=function(n,t){var e=[],r=[];n.forEach(function(a,s){var l=a.cells,u=0;a.index=s+1;var c;l.forEach(function(p,h){var d=h+u+1,f=$h(d),g=s+1;if(p.mergeAcross){u+=p.mergeAcross;var v=$h(h+u+1);e.push(""+f+g+":"+v+g)}t[d-1]||(t[d-1]={});var m=p.collapsibleRanges;m&&m.forEach(function(C){r.push([d+C[0],d+C[1]])}),c=t[d-1],c.min=d,c.max=d,p.ref=""+f+g})}),r.sort(function(a,s){return a[0]!==s[0]?a[0]-s[0]:s[1]-a[1]});var i=new Map,o=new Map;return r.filter(function(a){var s=a.toString(),l=i.get(s);return l?!1:(i.set(s,!0),!0)}).forEach(function(a){var s=t.find(function(u){return u.min==a[0]&&u.max==a[1]}),l=o.get(a[0]);t.push({min:a[0],max:a[1],outlineLevel:l||1,width:(s||{width:100}).width}),o.set(a[0],(l||0)+1)}),e},tq=function(n){return!n||n!=="Portrait"&&n!=="Landscape"?"portrait":n.toLocaleLowerCase()},rq=function(n){if(n==null)return 1;var t=["Letter","Letter Small","Tabloid","Ledger","Legal","Statement","Executive","A3","A4","A4 Small","A5","A6","B4","B5","Folio","Envelope","Envelope DL","Envelope C5","Envelope B5","Envelope C3","Envelope C4","Envelope C6","Envelope Monarch","Japanese Postcard","Japanese Double Postcard"],e=t.indexOf(n);return e===-1?1:e+1},nq=function(n){return function(t){return n.length&&t.push({name:"cols",children:n.map(function(e){return zX.getTemplate(e)})}),t}},iq=function(n,t){return function(e){return n.length&&e.push({name:"sheetData",children:n.map(function(r,i){return QX.getTemplate(r,i,t)})}),e}},oq=function(n){return function(t){return n.length&&t.push({name:"mergeCells",properties:{rawMap:{count:n.length}},children:n.map(function(e){return JX.getTemplate(e)})}),t}},aq=function(n){return function(t){var e=n.top,r=e===void 0?.75:e,i=n.right,o=i===void 0?.7:i,a=n.bottom,s=a===void 0?.75:a,l=n.left,u=l===void 0?.7:l,c=n.header,p=c===void 0?.3:c,h=n.footer,d=h===void 0?.3:h;return t.push({name:"pageMargins",properties:{rawMap:{bottom:s,footer:d,header:p,left:u,right:o,top:r}}}),t}},sq=function(n){return function(t){return n&&t.push({name:"pageSetup",properties:{rawMap:{horizontalDpi:0,verticalDpi:0,orientation:tq(n.orientation),paperSize:rq(n.pageSize)}}}),t}},lq=function(n){var t={"&[Page]":"&P","&[Pages]":"&N","&[Date]":"&D","&[Time]":"&T","&[Tab]":"&A","&[Path]":"&Z","&[File]":"&F"};return _.iterateObject(t,function(e,r){n=n.replace(e,r)}),n},uq=function(n){return n==="Center"?"C":n==="Right"?"R":"L"},cq=function(n,t){return t&&(n+="&amp;&quot;",n+=t.fontName||"Calibri",t.bold!==t.italic?n+=t.bold?",Bold":",Italic":t.bold?n+=",Bold Italic":n+=",Regular",n+="&quot;",t.size&&(n+="&amp;"+t.size),t.strikeThrough&&(n+="&amp;S"),t.underline&&(n+="&amp;"+(t.underline==="Double"?"E":"U")),t.color&&(n+="&amp;K"+t.color.replace("#","").toUpperCase())),n},pq=function(n){return n.reduce(function(t,e){var r=uq(e.position),i=cq(t+"&amp;"+r,e.font);return""+i+_.escapeString(lq(e.value))},"")},hq=function(n){var t=["all","first","even"],e=[];return t.forEach(function(r){var i=n[r],o=r==="all"?"odd":r;!i||!i.header&&!i.footer||_.iterateObject(i,function(a,s){var l=""+a.charAt(0).toUpperCase()+a.slice(1);s&&e.push({name:""+o+l,properties:{rawMap:{"xml:space":"preserve"}},textNode:pq(s)})})}),e},dq=function(n){return function(t){if(!n)return t;var e=n.first!=null?1:0,r=n.even!=null?1:0;return t.push({name:"headerFooter",properties:{rawMap:{differentFirst:e,differentOddEven:r}},children:hq(n)}),t}},fq=function(n){return function(t){return Rt.worksheetImages.get(n)&&t.push({name:"drawing",properties:{rawMap:{"r:id":"rId1"}}}),t}},gq={getTemplate:function(n){var t=n.worksheet,e=n.currentSheet,r=n.margins,i=r===void 0?{}:r,o=n.pageSetup,a=n.headerFooterConfig,s=t.table,l=s.rows,u=s.columns,c=u&&u.length?eq(l,u):[],p=_.compose(nq(u),iq(l,e+1),oq(c),aq(i),sq(o),dq(a),fq(e)),h=p([]);return{name:"worksheet",properties:{prefixedAttributes:[{prefix:"xmlns:",map:{r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships"}}],rawMap:{xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main"}},children:h}}},vq={getTemplate:function(n){var t=n.Id,e=n.Type,r=n.Target;return{name:"Relationship",properties:{rawMap:{Id:t,Type:e,Target:r}}}}},Sf={getTemplate:function(n){var t=n.map(function(e){return vq.getTemplate(e)});return{name:"Relationships",properties:{rawMap:{xmlns:"http://schemas.openxmlformats.org/package/2006/relationships"}},children:t}}},mq=globalThis&&globalThis.__read||function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},yq=globalThis&&globalThis.__spread||function(){for(var n=[],t=0;t<arguments.length;t++)n=n.concat(mq(arguments[t]));return n},Rt=function(){function n(){}return n.createExcel=function(t,e,r,i,o){return this.addSheetName(e),VX(t,this.sheetNames.length),this.createWorksheet(e,r,i,o)},n.buildImageMap=function(t,e,r,i,o){var a=this.sheetNames.length,s=this.images.get(t.id);(!t.position||!t.position.row||!t.position.column)&&(t.position||(t.position={}),t.position=Object.assign({},t.position,{row:e,column:i.indexOf(r)+1}));var l=t;if(DY(l,i),MY(l,o),s){var u=s.find(function(c){return c.sheetId===a});u?u.image.push(l):s.push({sheetId:a,image:[l]})}else this.images.set(l.id,[{sheetId:a,image:[l]}]),this.workbookImageIds.set(l.id,{type:l.imageType,index:this.workbookImageIds.size});this.buildSheetImageMap(a,l)},n.buildSheetImageMap=function(t,e){var r=this.worksheetImageIds.get(t);r||(r=new Map,this.worksheetImageIds.set(t,r));var i=this.worksheetImages.get(t);i?(i.push(e),r.get(e.id)||r.set(e.id,{index:r.size,type:e.imageType})):(this.worksheetImages.set(t,[e]),r.set(e.id,{index:0,type:e.imageType}))},n.addSheetName=function(t){for(var e=_.escapeString(t.name)||"",r="";this.sheetNames.indexOf(""+e+r)!==-1;)if(r==="")r="_1";else{var i=parseInt(r.slice(1),10);r="_"+(i+1)}t.name=""+e+r,this.sheetNames.push(t.name)},n.getStringPosition=function(t){return this.sharedStrings.has(t)?this.sharedStrings.get(t):(this.sharedStrings.set(t,this.sharedStrings.size),this.sharedStrings.size-1)},n.resetFactory=function(){this.sharedStrings=new Map,this.images=new Map,this.worksheetImages=new Map,this.workbookImageIds=new Map,this.worksheetImageIds=new Map,this.sheetNames=[],this.factoryMode=Sa.SINGLE_SHEET},n.createWorkbook=function(){return ci(jX.getTemplate(this.sheetNames))},n.createStylesheet=function(t){return ci(GX.getTemplate(t))},n.createSharedStrings=function(){return ci(lX.getTemplate(this.sharedStrings))},n.createCore=function(t){return ci(kY.getTemplate(t))},n.createContentTypes=function(t){return ci(WY.getTemplate(t))},n.createRels=function(){var t=Sf.getTemplate([{Id:"rId1",Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",Target:"xl/workbook.xml"},{Id:"rId2",Type:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",Target:"docProps/core.xml"}]);return ci(t)},n.createTheme=function(){return ci(aX.getTemplate())},n.createWorkbookRels=function(t){var e=new Array(t).fill(void 0).map(function(i,o){return{Id:"rId"+(o+1),Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet",Target:"worksheets/sheet"+(o+1)+".xml"}}),r=Sf.getTemplate(yq(e,[{Id:"rId"+(t+1),Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",Target:"theme/theme1.xml"},{Id:"rId"+(t+2),Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",Target:"styles.xml"},{Id:"rId"+(t+3),Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",Target:"sharedStrings.xml"}]));return ci(r)},n.createDrawing=function(t){return ci(XY.getTemplate({sheetIndex:t}))},n.createDrawingRel=function(t){var e=this,r=this.worksheetImageIds.get(t),i=[];return r.forEach(function(o,a){i.push({Id:"rId"+(o.index+1),Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",Target:"../media/image"+(e.workbookImageIds.get(a).index+1)+"."+o.type})}),ci(Sf.getTemplate(i))},n.createWorksheetDrawingRel=function(t){var e=Sf.getTemplate([{Id:"rId1",Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",Target:"../drawings/drawing"+(t+1)+".xml"}]);return ci(e)},n.createWorksheet=function(t,e,r,i){return ci(gq.getTemplate({worksheet:t,currentSheet:this.sheetNames.length-1,margins:e,pageSetup:r,headerFooterConfig:i}))},n.sharedStrings=new Map,n.sheetNames=[],n.images=new Map,n.worksheetImages=new Map,n.workbookImageIds=new Map,n.worksheetImageIds=new Map,n.factoryMode=Sa.SINGLE_SHEET,n}(),Cq=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),bq=function(n){Cq(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.createExcel=function(e){var r=this,i=r.excelStyles,o=r.config,a=o.margins,s=o.pageSetup,l=o.headerFooterConfig;return Rt.createExcel(i,e,a,s,l)},t.prototype.getDataTypeForValue=function(e){return e===void 0?"empty":_.isNumeric(e)?"n":"s"},t.prototype.getType=function(e,r,i){if(this.isFormula(i))return"f";if(r&&r.dataType)switch(r.dataType.toLocaleLowerCase()){case"formula":return"f";case"string":return"s";case"number":return"n";case"datetime":return"d";case"error":return"e";case"boolean":return"b";default:console.warn("AG Grid: Unrecognized data type for excel export ["+r.id+".dataType="+r.dataType+"]")}return e},t.prototype.addImage=function(e,r,i){if(!!this.config.addImageToCell){var o=this.config.addImageToCell(e,r,i);if(!!o)return Rt.buildImageMap(o.image,e,r,this.columnsToExport,this.config.rowHeight),o}},t.prototype.createCell=function(e,r,i){var o=this.getStyleById(e),a=this.getType(r,o,i)||r;return{styleId:o?e:void 0,data:{type:a,value:this.getCellValue(a,i)}}},t.prototype.createMergedCell=function(e,r,i,o){var a=i==null?"":i;return{styleId:this.getStyleById(e)?e:void 0,data:{type:r,value:r==="s"?Rt.getStringPosition(a).toString():i},mergeAcross:o}},t.prototype.getCellValue=function(e,r){if(r==null)return Rt.getStringPosition("").toString();switch(e){case"s":return r===""?"":Rt.getStringPosition(r).toString();case"f":return r.slice(1);case"n":return Number(r).toString();default:return r}},t}(zI),wq=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Tv=globalThis&&globalThis.__assign||function(){return Tv=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Tv.apply(this,arguments)},qa=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Uw=function(n){var t=n.data,e=n.fontSize,r=e===void 0?11:e,i=n.author,o=i===void 0?"AG Grid":i,a=Rt.images.size>0;if(jr.addFolders(["_rels/","docProps/","xl/","xl/theme/","xl/_rels/","xl/worksheets/"]),a){jr.addFolders(["xl/worksheets/_rels","xl/drawings/","xl/drawings/_rels","xl/media/"]);var s=0;Rt.images.forEach(function(p){var h=p[0].image[0],d=h.imageType;jr.addFile("xl/media/image"+ ++s+"."+d,h.base64,!0)})}if(!t||t.length===0){console.warn("AG Grid: Invalid params supplied to getMultipleSheetsAsExcel() - `ExcelExportParams.data` is empty."),Rt.resetFactory();return}var l=t.length,u=0;t.forEach(function(p,h){jr.addFile("xl/worksheets/sheet"+(h+1)+".xml",p),a&&Rt.worksheetImages.get(h)&&Sq(h,u++)}),jr.addFile("xl/workbook.xml",Rt.createWorkbook()),jr.addFile("xl/styles.xml",Rt.createStylesheet(r)),jr.addFile("xl/sharedStrings.xml",Rt.createSharedStrings()),jr.addFile("xl/theme/theme1.xml",Rt.createTheme()),jr.addFile("xl/_rels/workbook.xml.rels",Rt.createWorkbookRels(l)),jr.addFile("docProps/core.xml",Rt.createCore(o)),jr.addFile("[Content_Types].xml",Rt.createContentTypes(l)),jr.addFile("_rels/.rels",Rt.createRels()),Rt.resetFactory();var c=n.mimeType||"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet";return jr.getContent(c)},_q=function(n){var t=n.fileName,e=t===void 0?"export.xlsx":t,r=Uw(n);r&&I0.download(e,r)},Sq=function(n,t){var e="xl/drawings",r=e+"/drawing"+(t+1)+".xml",i=e+"/_rels/drawing"+(t+1)+".xml.rels",o="xl/worksheets/_rels/sheet"+(n+1)+".xml.rels";jr.addFile(i,Rt.createDrawingRel(n)),jr.addFile(r,Rt.createDrawing(n)),jr.addFile(o,Rt.createWorksheetDrawingRel(t))},xq=function(n){wq(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.exportMode="xlsx",e}return t.prototype.postConstruct=function(){this.setBeans({gridSerializer:this.gridSerializer,gridOptionsWrapper:this.gridOptionsWrapper})},t.prototype.getMergedParams=function(e){var r=this.gridOptionsWrapper.getDefaultExportParams("excel");return Object.assign({},r,e)},t.prototype.getData=function(e){return this.setExportMode(e.exportMode||"xlsx"),n.prototype.getData.call(this,e)},t.prototype.export=function(e){if(this.isExportSuppressed())return console.warn("AG Grid: Export cancelled. Export is not allowed as per your configuration."),"";var r=this.getMergedParams(e),i=this.getData(r),o={data:[i],fontSize:r.fontSize,author:r.author,mimeType:r.mimeType},a=this.packageFile(o);return a&&I0.download(this.getFileName(r.fileName),a),i},t.prototype.exportDataAsExcel=function(e){return this.export(e)},t.prototype.getDataAsExcel=function(e){var r=this.getMergedParams(e),i=this.getData(r);if(e&&e.exportMode==="xml")return i;var o={data:[i],fontSize:r.fontSize,author:r.author,mimeType:r.mimeType};return this.packageFile(o)},t.prototype.setFactoryMode=function(e,r){r===void 0&&(r="xlsx");var i=r==="xlsx"?Rt:Ww;i.factoryMode=e},t.prototype.getFactoryMode=function(e){var r=e==="xlsx"?Rt:Ww;return r.factoryMode},t.prototype.getSheetDataForExcel=function(e){var r=this.getMergedParams(e),i=this.getData(r);return i},t.prototype.getMultipleSheetsAsExcel=function(e){return Uw(e)},t.prototype.exportMultipleSheetsAsExcel=function(e){return _q(e)},t.prototype.getDefaultFileName=function(){return"export."+this.getExportMode()},t.prototype.getDefaultFileExtension=function(){return this.getExportMode()},t.prototype.createSerializingSession=function(e){var r=this,i=r.columnModel,o=r.valueService,a=r.gridOptionsWrapper,s=this.getExportMode()==="xlsx",l="ag-grid";e.sheetName!=null&&(l=_.utf8_encode(e.sheetName.toString().substr(0,31)));var u=Tv(Tv({},e),{sheetName:l,columnModel:i,valueService:o,gridOptionsWrapper:a,headerRowHeight:e.headerRowHeight||e.rowHeight,baseExcelStyles:this.gridOptions.excelStyles||[],styleLinker:this.styleLinker.bind(this)});return new(s?bq:NY)(u)},t.prototype.styleLinker=function(e,r,i,o,a){if(e===Ul.HEADER)return["header"];if(e===Ul.HEADER_GROUPING)return["header","headerGroup"];var s=this.gridOptions.excelStyles,l=["cell"];if(!s||!s.length)return l;var u=s.map(function(c){return c.id});return this.stylingService.processAllCellClasses(o.getColDef(),{value:i,data:a.data,node:a,colDef:o.getColDef(),rowIndex:r,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()},function(c){u.indexOf(c)>-1&&l.push(c)}),l.sort(function(c,p){return u.indexOf(c)<u.indexOf(p)?-1:1})},t.prototype.isExportSuppressed=function(){return this.gridOptionsWrapper.isSuppressExcelExport()},t.prototype.setExportMode=function(e){this.exportMode=e},t.prototype.getExportMode=function(){return this.exportMode},t.prototype.packageFile=function(e){if(this.getExportMode()==="xml"){var r=e.mimeType||"application/vnd.ms-excel";return new Blob(["\uFEFF",e.data[0]],{type:r})}return Uw(e)},qa([y("columnModel")],t.prototype,"columnModel",void 0),qa([y("valueService")],t.prototype,"valueService",void 0),qa([y("gridOptions")],t.prototype,"gridOptions",void 0),qa([y("stylingService")],t.prototype,"stylingService",void 0),qa([y("gridSerializer")],t.prototype,"gridSerializer",void 0),qa([y("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),qa([H],t.prototype,"postConstruct",null),t=qa([J("excelCreator")],t),t}(II),Tq={moduleName:ae.ExcelExportModule,beans:[xq,kI,NI],dependantModules:[L0,Vr]},Oq=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Bp=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},No;(function(n){n[n.EXPANDED=0]="EXPANDED",n[n.COLLAPSED=1]="COLLAPSED",n[n.INDETERMINATE=2]="INDETERMINATE"})(No||(No={}));var Eq=function(n){Oq(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.preConstruct=function(){this.setTemplate(`<div class="ag-filter-toolpanel-search" role="presentation">
                <div ref="eExpand" class="ag-filter-toolpanel-expand"></div>
                <ag-input-text-field ref="eFilterTextField" class="ag-filter-toolpanel-search-input"></ag-input-text-field>
            </div>`)},t.prototype.postConstruct=function(){var e=this.gridOptionsWrapper.getLocaleTextFunc();this.eFilterTextField.onValueChange(this.onSearchTextChanged.bind(this)),this.eFilterTextField.setInputAriaLabel(e("ariaFilterColumnsInput","Filter Columns Input")),this.createExpandIcons(),this.setExpandState(No.EXPANDED),this.addManagedListener(this.eExpand,"click",this.onExpandClicked.bind(this)),this.addManagedListener(this.eventService,x.EVENT_NEW_COLUMNS_LOADED,this.showOrHideOptions.bind(this))},t.prototype.init=function(e){this.params=e,this.columnModel.isReady()&&this.showOrHideOptions()},t.prototype.createExpandIcons=function(){this.eExpand.appendChild(this.eExpandChecked=_.createIconNoSpan("columnSelectOpen",this.gridOptionsWrapper)),this.eExpand.appendChild(this.eExpandUnchecked=_.createIconNoSpan("columnSelectClosed",this.gridOptionsWrapper)),this.eExpand.appendChild(this.eExpandIndeterminate=_.createIconNoSpan("columnSelectIndeterminate",this.gridOptionsWrapper))},t.prototype.showOrHideOptions=function(){var e=!this.params.suppressFilterSearch,r=!this.params.suppressExpandAll,i=this.gridOptionsWrapper.getLocaleTextFunc();this.eFilterTextField.setInputPlaceholder(i("searchOoo","Search..."));var o=function(s){return s.getOriginalParent()&&s.isFilterAllowed()},a=this.columnModel.getAllGridColumns().some(o);_.setDisplayed(this.eFilterTextField.getGui(),e),_.setDisplayed(this.eExpand,r&&a)},t.prototype.onSearchTextChanged=function(){var e=this;this.onSearchTextChangedDebounced||(this.onSearchTextChangedDebounced=_.debounce(function(){e.dispatchEvent({type:"searchChanged",searchText:e.eFilterTextField.getValue()})},300)),this.onSearchTextChangedDebounced()},t.prototype.onExpandClicked=function(){var e=this.currentExpandState===No.EXPANDED?{type:"collapseAll"}:{type:"expandAll"};this.dispatchEvent(e)},t.prototype.setExpandState=function(e){this.currentExpandState=e,_.setDisplayed(this.eExpandChecked,this.currentExpandState===No.EXPANDED),_.setDisplayed(this.eExpandUnchecked,this.currentExpandState===No.COLLAPSED),_.setDisplayed(this.eExpandIndeterminate,this.currentExpandState===No.INDETERMINATE)},Bp([y("columnModel")],t.prototype,"columnModel",void 0),Bp([I("eExpand")],t.prototype,"eExpand",void 0),Bp([I("eFilterTextField")],t.prototype,"eFilterTextField",void 0),Bp([ql],t.prototype,"preConstruct",null),Bp([H],t.prototype,"postConstruct",null),t}(te),Rq=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Za=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},ZI=function(n){Rq(t,n);function t(e){e===void 0&&(e=!1);var r=n.call(this,t.TEMPLATE)||this;return r.expanded=!1,r.hideHeader=e,r}return t.prototype.postConstruct=function(){this.eExpandChecked=_.createIconNoSpan("columnSelectOpen",this.gridOptionsWrapper),this.eExpandUnchecked=_.createIconNoSpan("columnSelectClosed",this.gridOptionsWrapper),this.eExpand.appendChild(this.eExpandChecked),this.eExpand.appendChild(this.eExpandUnchecked)},t.prototype.setColumn=function(e){var r=this;this.column=e,this.eFilterName.innerText=this.columnModel.getDisplayNameForColumn(this.column,"filterToolPanel",!1)||"",this.addManagedListener(this.eFilterToolPanelHeader,"click",this.toggleExpanded.bind(this)),this.addManagedListener(this.eFilterToolPanelHeader,"keydown",function(i){i.key===U.ENTER&&r.toggleExpanded()}),this.addManagedListener(this.eventService,x.EVENT_FILTER_OPENED,this.onFilterOpened.bind(this)),this.addInIcon("filter",this.eFilterIcon,this.column),this.eFilterIcon.classList.toggle("ag-hidden",!this.isFilterActive()),this.eExpandChecked.classList.add("ag-hidden"),this.hideHeader?(this.eFilterToolPanelHeader.classList.toggle("ag-hidden",!0),this.eFilterToolPanelHeader.removeAttribute("tabindex")):this.eFilterToolPanelHeader.setAttribute("tabindex","0"),this.addManagedListener(this.column,Se.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this))},t.prototype.getColumn=function(){return this.column},t.prototype.getColumnFilterName=function(){return this.columnModel.getDisplayNameForColumn(this.column,"filterToolPanel",!1)},t.prototype.addCssClassToTitleBar=function(e){this.eFilterToolPanelHeader.classList.add(e)},t.prototype.addInIcon=function(e,r,i){if(r!=null){var o=_.createIconNoSpan(e,this.gridOptionsWrapper,i);r.appendChild(o)}},t.prototype.isFilterActive=function(){return this.filterManager.isFilterActive(this.column)},t.prototype.onFilterChanged=function(){this.eFilterIcon.classList.toggle("ag-hidden",!this.isFilterActive()),this.dispatchEvent({type:Se.EVENT_FILTER_CHANGED})},t.prototype.toggleExpanded=function(){this.expanded?this.collapse():this.expand()},t.prototype.expand=function(){var e=this,r;if(!this.expanded){this.expanded=!0,_.setAriaExpanded(this.eFilterToolPanelHeader,!0);var i=_.loadTemplate('<div class="ag-filter-toolpanel-instance-filter"></div>'),o=(r=this.filterManager.getOrCreateFilterWrapper(this.column,"TOOLBAR"))===null||r===void 0?void 0:r.filterPromise;o&&o.then(function(a){e.underlyingFilter=a,a&&(i.appendChild(a.getGui()),e.agFilterToolPanelBody.appendChild(i),a.afterGuiAttached&&a.afterGuiAttached({container:"toolPanel"}))}),_.setDisplayed(this.eExpandChecked,!0),_.setDisplayed(this.eExpandUnchecked,!1)}},t.prototype.collapse=function(){!this.expanded||(this.expanded=!1,_.setAriaExpanded(this.eFilterToolPanelHeader,!1),this.agFilterToolPanelBody.removeChild(this.agFilterToolPanelBody.children[0]),_.setDisplayed(this.eExpandChecked,!1),_.setDisplayed(this.eExpandUnchecked,!0))},t.prototype.refreshFilter=function(){if(!!this.expanded){var e=this.underlyingFilter;!e||typeof e.refreshVirtualList=="function"&&e.refreshVirtualList()}},t.prototype.onFilterOpened=function(e){e.source==="COLUMN_MENU"&&e.column===this.column&&(!this.expanded||this.collapse())},t.TEMPLATE=`
        <div class="ag-filter-toolpanel-instance">
            <div class="ag-filter-toolpanel-header ag-filter-toolpanel-instance-header" ref="eFilterToolPanelHeader" role="button" aria-expanded="false">
                <div ref="eExpand" class="ag-filter-toolpanel-expand"></div>
                <span ref="eFilterName" class="ag-header-cell-text"></span>
                <span ref="eFilterIcon" class="ag-header-icon ag-filter-icon ag-filter-toolpanel-instance-header-icon" aria-hidden="true"></span>
            </div>
            <div class="ag-filter-toolpanel-instance-body ag-filter" ref="agFilterToolPanelBody"></div>
        </div>`,Za([I("eFilterToolPanelHeader")],t.prototype,"eFilterToolPanelHeader",void 0),Za([I("eFilterName")],t.prototype,"eFilterName",void 0),Za([I("agFilterToolPanelBody")],t.prototype,"agFilterToolPanelBody",void 0),Za([I("eFilterIcon")],t.prototype,"eFilterIcon",void 0),Za([I("eExpand")],t.prototype,"eExpand",void 0),Za([y("filterManager")],t.prototype,"filterManager",void 0),Za([y("columnModel")],t.prototype,"columnModel",void 0),Za([H],t.prototype,"postConstruct",null),t}(te),Pq=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),xf=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},ku=function(n){Pq(t,n);function t(e,r,i,o,a){var s=n.call(this)||this;return s.columnGroup=e,s.childFilterComps=r,s.depth=o,s.expandedCallback=i,s.showingColumn=a,s}return t.prototype.preConstruct=function(){var e={cssIdentifier:"filter-toolpanel",direction:"vertical"};this.setTemplate(t.TEMPLATE,{filterGroupComp:e})},t.prototype.init=function(){var e=this;this.setGroupTitle(),this.filterGroupComp.setAlignItems("stretch"),this.filterGroupComp.addCssClass("ag-filter-toolpanel-group-level-"+this.depth),this.filterGroupComp.addCssClassToTitleBar("ag-filter-toolpanel-group-level-"+this.depth+"-header"),this.childFilterComps.forEach(function(r){e.filterGroupComp.addItem(r),r.addCssClassToTitleBar("ag-filter-toolpanel-group-level-"+(e.depth+1)+"-header")}),this.refreshFilterClass(),this.addExpandCollapseListeners(),this.addFilterChangedListeners(),this.setupTooltip()},t.prototype.setupTooltip=function(){var e=this;if(!!this.showingColumn){var r=function(){var i=e.columnGroup.getColDef().headerTooltip;e.setTooltip(i)};r(),this.addManagedListener(this.eventService,x.EVENT_NEW_COLUMNS_LOADED,r)}},t.prototype.getTooltipParams=function(){var e=n.prototype.getTooltipParams.call(this);return e.location="filterToolPanelColumnGroup",e},t.prototype.addCssClassToTitleBar=function(e){this.filterGroupComp.addCssClassToTitleBar(e)},t.prototype.refreshFilters=function(){this.childFilterComps.forEach(function(e){e instanceof t?e.refreshFilters():e.refreshFilter()})},t.prototype.isColumnGroup=function(){return this.columnGroup instanceof at},t.prototype.isExpanded=function(){return this.filterGroupComp.isExpanded()},t.prototype.getChildren=function(){return this.childFilterComps},t.prototype.getFilterGroupName=function(){return this.filterGroupName?this.filterGroupName:""},t.prototype.getFilterGroupId=function(){return this.columnGroup.getId()},t.prototype.hideGroupItem=function(e,r){this.filterGroupComp.hideItem(e,r)},t.prototype.hideGroup=function(e){this.addOrRemoveCssClass("ag-hidden",e)},t.prototype.forEachToolPanelFilterChild=function(e){this.childFilterComps.forEach(function(r){r instanceof ZI&&e(r)})},t.prototype.addExpandCollapseListeners=function(){var e=this,r=this.isColumnGroup()?function(){return e.expandedCallback()}:function(){return e.forEachToolPanelFilterChild(function(o){return o.expand()})},i=this.isColumnGroup()?function(){return e.expandedCallback()}:function(){return e.forEachToolPanelFilterChild(function(o){return o.collapse()})};this.addManagedListener(this.filterGroupComp,qi.EVENT_EXPANDED,r),this.addManagedListener(this.filterGroupComp,qi.EVENT_COLLAPSED,i)},t.prototype.getColumns=function(){return this.columnGroup instanceof at?this.columnGroup.getLeafColumns():[this.columnGroup]},t.prototype.addFilterChangedListeners=function(){var e=this;this.getColumns().forEach(function(r){e.addManagedListener(r,Se.EVENT_FILTER_CHANGED,function(){return e.refreshFilterClass()})}),this.columnGroup instanceof at||this.addManagedListener(this.eventService,x.EVENT_FILTER_OPENED,this.onFilterOpened.bind(this))},t.prototype.refreshFilterClass=function(){var e=this.getColumns(),r=function(){return e.some(function(i){return i.isFilterActive()})};this.filterGroupComp.addOrRemoveCssClass("ag-has-filter",r())},t.prototype.onFilterOpened=function(e){e.source==="COLUMN_MENU"&&e.column===this.columnGroup&&(!this.isExpanded()||this.collapse())},t.prototype.expand=function(){this.filterGroupComp.toggleGroupExpand(!0)},t.prototype.collapse=function(){this.filterGroupComp.toggleGroupExpand(!1)},t.prototype.setGroupTitle=function(){this.filterGroupName=this.columnGroup instanceof at?this.getColumnGroupName(this.columnGroup):this.getColumnName(this.columnGroup),this.filterGroupComp.setTitle(this.filterGroupName||"")},t.prototype.getColumnGroupName=function(e){return this.columnModel.getDisplayNameForProvidedColumnGroup(null,e,"filterToolPanel")},t.prototype.getColumnName=function(e){return this.columnModel.getDisplayNameForColumn(e,"filterToolPanel",!1)},t.prototype.destroyFilters=function(){this.childFilterComps=this.destroyBeans(this.childFilterComps),_.clearElement(this.getGui())},t.prototype.destroy=function(){this.destroyFilters(),n.prototype.destroy.call(this)},t.TEMPLATE=`<div class="ag-filter-toolpanel-group-wrapper">
            <ag-group-component ref="filterGroupComp"></ag-group-component>
        </div>`,xf([I("filterGroupComp")],t.prototype,"filterGroupComp",void 0),xf([y("columnModel")],t.prototype,"columnModel",void 0),xf([ql],t.prototype,"preConstruct",null),xf([H],t.prototype,"init",null),t}(te),Aq=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Tf=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Dq=function(n){Aq(t,n);function t(){var e=n.call(this,t.TEMPLATE)||this;return e.initialised=!1,e.filterGroupComps=[],e}return t.prototype.init=function(e){var r=this;this.initialised=!0;var i={suppressExpandAll:!1,suppressFilterSearch:!1,suppressSyncLayoutWithGrid:!1,api:this.gridApi,columnApi:this.columnApi,context:this.gridOptionsWrapper.getContext()};_.mergeDeep(i,e),this.params=i,this.params.suppressSyncLayoutWithGrid||this.addManagedListener(this.eventService,x.EVENT_COLUMN_MOVED,function(){return r.onColumnsChanged()}),this.addManagedListener(this.eventService,x.EVENT_NEW_COLUMNS_LOADED,function(){return r.onColumnsChanged()}),this.addManagedListener(this.eventService,x.EVENT_TOOL_PANEL_VISIBLE_CHANGED,function(o){o.source==="filters"&&r.refreshFilters()}),this.columnModel.isReady()&&this.onColumnsChanged()},t.prototype.onColumnsChanged=function(){var e=this.columnModel.isPivotMode(),r=!this.params.suppressSyncLayoutWithGrid&&!e;r?this.syncFilterLayout():this.buildTreeFromProvidedColumnDefs()},t.prototype.syncFilterLayout=function(){this.toolPanelColDefService.syncLayoutWithGrid(this.setFiltersLayout.bind(this))},t.prototype.buildTreeFromProvidedColumnDefs=function(){var e=this;this.destroyFilters();var r=this.columnModel.getPrimaryColumnTree();this.filterGroupComps=this.recursivelyAddComps(r,0);var i=this.filterGroupComps.length;i&&(this.filterGroupComps.forEach(function(o){return e.appendChild(o)}),this.setFirstAndLastVisible(0,i-1)),_.exists(this.searchFilterText)&&this.searchFilters(this.searchFilterText),this.fireExpandedEvent()},t.prototype.setFiltersLayout=function(e){var r=this;this.destroyFilters();var i=this.toolPanelColDefService.createColumnTree(e);this.filterGroupComps=this.recursivelyAddComps(i,0);var o=this.filterGroupComps.length;o&&(this.filterGroupComps.forEach(function(a){return r.appendChild(a)}),this.setFirstAndLastVisible(0,o-1)),_.exists(this.searchFilterText)&&this.searchFilters(this.searchFilterText),this.fireExpandedEvent()},t.prototype.recursivelyAddComps=function(e,r){var i=this;return _.flatten(e.map(function(o){if(o instanceof at)return _.flatten(i.recursivelyAddFilterGroupComps(o,r));var a=o;if(!i.shouldDisplayFilter(a))return[];var s=r===0,l=new ZI(s);if(i.getContext().createBean(l),l.setColumn(a),r>0)return l;var u=i.createBean(new ku(a,[l],i.onGroupExpanded.bind(i),r,!0));return u.addCssClassToTitleBar("ag-filter-toolpanel-header"),u.collapse(),u}))},t.prototype.recursivelyAddFilterGroupComps=function(e,r){if(!!this.filtersExistInChildren(e.getChildren())){var i=e.getColGroupDef();if(i&&i.suppressFiltersToolPanel)return[];var o=e.isPadding()?r:r+1,a=_.flatten(this.recursivelyAddComps(e.getChildren(),o));if(e.isPadding())return a;var s=new ku(e,a,this.onGroupExpanded.bind(this),r,!1);return this.getContext().createBean(s),s.addCssClassToTitleBar("ag-filter-toolpanel-header"),[s]}},t.prototype.filtersExistInChildren=function(e){var r=this;return e.some(function(i){return i instanceof at?r.filtersExistInChildren(i.getChildren()):r.shouldDisplayFilter(i)})},t.prototype.shouldDisplayFilter=function(e){var r=e.getColDef()&&e.getColDef().suppressFiltersToolPanel;return e.isFilterAllowed()&&!r},t.prototype.refresh=function(){},t.prototype.setVisible=function(e){n.prototype.setDisplayed.call(this,e),e&&!this.initialised&&this.init(this.params)},t.prototype.expandFilterGroups=function(e,r){var i=[],o=function(s){var l=s.getFilterGroupId(),u=!r||_.includes(r,l);u&&(e&&s.isColumnGroup()?s.expand():s.collapse(),i.push(l)),s.getChildren().forEach(function(c){c instanceof ku&&o(c)})};if(this.filterGroupComps.forEach(o),this.onGroupExpanded(),r){var a=r.filter(function(s){return i.indexOf(s)<0});a.length>0&&console.warn("AG Grid: unable to find groups for these supplied groupIds:",a)}},t.prototype.expandFilters=function(e,r){var i=[],o=function(s){if(s instanceof ku){var l=!1;return s.getChildren().forEach(function(p){var h=o(p);h&&(e?(s.expand(),l=!0):s.isColumnGroup()||s.collapse())}),l}var u=s.getColumn().getColId(),c=!r||_.includes(r,u);return c&&(e?s.expand():s.collapse(),i.push(u)),c};if(this.filterGroupComps.forEach(o),this.onGroupExpanded(),r){var a=r.filter(function(s){return i.indexOf(s)<0});a.length>0&&console.warn("AG Grid: unable to find columns for these supplied colIds:",a)}},t.prototype.onGroupExpanded=function(){this.fireExpandedEvent()},t.prototype.fireExpandedEvent=function(){var e=0,r=0,i=function(a){!a.isColumnGroup()||(a.isExpanded()?e++:r++,a.getChildren().forEach(function(s){s instanceof ku&&i(s)}))};this.filterGroupComps.forEach(i);var o;e>0&&r>0?o=No.INDETERMINATE:r>0?o=No.COLLAPSED:o=No.EXPANDED,this.dispatchEvent({type:"groupExpanded",state:o})},t.prototype.performFilterSearch=function(e){this.searchFilterText=_.exists(e)?e.toLowerCase():null,this.searchFilters(this.searchFilterText)},t.prototype.searchFilters=function(e){var r=function(s){return!_.exists(e)||s.toLowerCase().indexOf(e)!==-1},i=function(s,l){if(!(s instanceof ku))return r(s.getColumnFilterName()||"");var u=s.getChildren(),c=r(s.getFilterGroupName()),p=l||c;if(p){s.hideGroup(!1);for(var h=0;h<u.length;h++)i(u[h],p),s.hideGroupItem(!1,h);return!0}var d=!1;return u.forEach(function(f,g){var v=i(f,l);s.hideGroupItem(!v,g),v&&(d=!0)}),s.hideGroup(!d),d},o,a;this.filterGroupComps.forEach(function(s,l){i(s,!1),o===void 0?s.containsCssClass("ag-hidden")||(o=l,a=l):!s.containsCssClass("ag-hidden")&&a!==l&&(a=l)}),this.setFirstAndLastVisible(o,a)},t.prototype.setFirstAndLastVisible=function(e,r){this.filterGroupComps.forEach(function(i,o){i.removeCssClass("ag-first-group-visible"),i.removeCssClass("ag-last-group-visible"),o===e&&i.addCssClass("ag-first-group-visible"),o===r&&i.addCssClass("ag-last-group-visible")})},t.prototype.refreshFilters=function(){this.filterGroupComps.forEach(function(e){return e.refreshFilters()})},t.prototype.destroyFilters=function(){this.filterGroupComps=this.destroyBeans(this.filterGroupComps),_.clearElement(this.getGui())},t.prototype.destroy=function(){this.destroyFilters(),n.prototype.destroy.call(this)},t.TEMPLATE='<div class="ag-filter-list-panel"></div>',Tf([y("gridApi")],t.prototype,"gridApi",void 0),Tf([y("columnApi")],t.prototype,"columnApi",void 0),Tf([y("toolPanelColDefService")],t.prototype,"toolPanelColDefService",void 0),Tf([y("columnModel")],t.prototype,"columnModel",void 0),t}(te),Mq=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Of=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Fq=function(n){Mq(t,n);function t(){var e=n.call(this,t.TEMPLATE)||this;return e.initialised=!1,e.listenerDestroyFuncs=[],e}return t.prototype.init=function(e){this.initialised&&(this.listenerDestroyFuncs.forEach(function(a){return a()}),this.listenerDestroyFuncs=[]),this.initialised=!0;var r={suppressExpandAll:!1,suppressFilterSearch:!1,suppressSyncLayoutWithGrid:!1,api:this.gridApi,columnApi:this.columnApi,context:this.gridOptionsWrapper.getContext()};_.mergeDeep(r,e),this.params=r,this.filtersToolPanelHeaderPanel.init(this.params),this.filtersToolPanelListPanel.init(this.params);var i=this.params.suppressExpandAll,o=this.params.suppressFilterSearch;i&&o&&this.filtersToolPanelHeaderPanel.setDisplayed(!1),this.listenerDestroyFuncs.push(this.addManagedListener(this.filtersToolPanelHeaderPanel,"expandAll",this.onExpandAll.bind(this)),this.addManagedListener(this.filtersToolPanelHeaderPanel,"collapseAll",this.onCollapseAll.bind(this)),this.addManagedListener(this.filtersToolPanelHeaderPanel,"searchChanged",this.onSearchChanged.bind(this)),this.addManagedListener(this.filtersToolPanelListPanel,"groupExpanded",this.onGroupExpanded.bind(this)))},t.prototype.setVisible=function(e){n.prototype.setDisplayed.call(this,e),e&&!this.initialised&&this.init(this.params)},t.prototype.onExpandAll=function(){this.filtersToolPanelListPanel.expandFilterGroups(!0)},t.prototype.onCollapseAll=function(){this.filtersToolPanelListPanel.expandFilterGroups(!1)},t.prototype.onSearchChanged=function(e){this.filtersToolPanelListPanel.performFilterSearch(e.searchText)},t.prototype.setFilterLayout=function(e){this.filtersToolPanelListPanel.setFiltersLayout(e)},t.prototype.onGroupExpanded=function(e){this.filtersToolPanelHeaderPanel.setExpandState(e.state)},t.prototype.expandFilterGroups=function(e){this.filtersToolPanelListPanel.expandFilterGroups(!0,e)},t.prototype.collapseFilterGroups=function(e){this.filtersToolPanelListPanel.expandFilterGroups(!1,e)},t.prototype.expandFilters=function(e){this.filtersToolPanelListPanel.expandFilters(!0,e)},t.prototype.collapseFilters=function(e){this.filtersToolPanelListPanel.expandFilters(!1,e)},t.prototype.syncLayoutWithGrid=function(){this.filtersToolPanelListPanel.syncFilterLayout()},t.prototype.refresh=function(){this.init(this.params)},t.prototype.destroy=function(){n.prototype.destroy.call(this)},t.TEMPLATE=`<div class="ag-filter-toolpanel">
            <ag-filters-tool-panel-header ref="filtersToolPanelHeaderPanel"></ag-filters-tool-panel-header>
            <ag-filters-tool-panel-list ref="filtersToolPanelListPanel"></ag-filters-tool-panel-list>
         </div>`,Of([I("filtersToolPanelHeaderPanel")],t.prototype,"filtersToolPanelHeaderPanel",void 0),Of([I("filtersToolPanelListPanel")],t.prototype,"filtersToolPanelListPanel",void 0),Of([y("gridApi")],t.prototype,"gridApi",void 0),Of([y("columnApi")],t.prototype,"columnApi",void 0),t}(te),Iq={moduleName:ae.FiltersToolPanelModule,beans:[],agStackComponents:[{componentName:"AgFiltersToolPanelHeader",componentClass:Eq},{componentName:"AgFiltersToolPanelList",componentClass:Dq}],userComponents:[{componentName:"agFiltersToolPanel",componentClass:Fq}],dependantModules:[G0,Vr]},Lq=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Gu=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Nq=function(n){Lq(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.getData=function(e){if(e.crossFiltering){if(e.grouping)return console.warn("AG Grid: crossing filtering with row grouping is not supported."),{chartData:[],columnNames:{}};if(!this.gridOptionsWrapper.isRowModelDefault())return console.warn("AG Grid: crossing filtering is only supported in the client side row model."),{chartData:[],columnNames:{}}}var r=this.gridOptionsWrapper.isRowModelServerSide();r&&e.pivoting&&this.updatePivotKeysForSSRM();var i=this.extractRowsFromGridRowModel(e);return i.chartData=this.aggregateRowsByDimension(e,i.chartData),i},t.prototype.extractRowsFromGridRowModel=function(e){var r=this,i=[],o={},a={},s={},l={},u=[],c;if(e.crossFiltering)l=this.getFilteredRowNodes(),u=this.getAllRowNodes(),c=u.length;else{var p=this.gridRowModel.getRowCount()-1,h=e.endRow>=0?Math.min(e.endRow,p):p;c=h-e.startRow+1}for(var d=function(C){var b={},w=e.crossFiltering?u[C]:f.gridRowModel.getRow(C+e.startRow);e.dimensionCols.forEach(function(S){var T=S.colId,E=r.columnModel.getGridColumn(T);if(E){var P=r.valueService.getValue(E,w);if(e.grouping){var R=P&&P.toString?String(P.toString()):"",M=t.getGroupLabels(w,R);b[T]={labels:M,toString:function(){return this.labels.filter(function(B){return!!B}).reverse().join(" - ")}},w.group&&(a[M.toString()]=C);var N=M.slice(1,M.length).toString();N&&(s[N]=a[N])}else b[T]=P}else b[Pm.DEFAULT_CATEGORY]=C+1}),e.valueCols.forEach(function(S){var T=[],E=S.getColDef().pivotKeys;E&&(T=E.slice());var P=S.getColDef().headerName;P&&T.push(P),T.length>0&&(o[S.getId()]=T);var R=S.getColId();if(e.crossFiltering){var M=R+"-filtered-out",N=r.valueService.getValue(S,w),B=N!=null&&typeof N.toNumber=="function"?N.toNumber():N;l[w.id]?(b[R]=B,b[M]=e.aggFunc||e.isScatter?void 0:0):(b[R]=e.aggFunc||e.isScatter?void 0:0,b[M]=B)}else{var N=r.valueService.getValue(S,w);b[R]=N!=null&&typeof N.toNumber=="function"?N.toNumber():N}}),w.footer&&(b.footer=!0),i.push(b)},f=this,g=0;g<c;g++)d(g);if(e.grouping){var v=_.values(s),m=function(C,b){return!C.footer&&!_.includes(v,b)};i=i.filter(m)}return{chartData:i,columnNames:o}},t.prototype.aggregateRowsByDimension=function(e,r){var i=this,o=e.dimensionCols;if(!e.aggFunc||o.length===0)return r;var a=_.last(o),s=a&&a.colId,l={},u=[];return r.forEach(function(c){var p=l;o.forEach(function(h){var d=h.colId,f=c[d];if(d===s){var g=p[f];g||(g={__children:[]},o.forEach(function(v){var m=v.colId;g[m]=c[m]}),p[f]=g,u.push(g)),g.__children.push(c)}else p[f]||(p[f]={}),p=p[f]})}),ve.assertRegistered(ae.RowGroupingModule,"Charting Aggregation")&&u.forEach(function(c){return e.valueCols.forEach(function(p){if(e.crossFiltering)e.valueCols.forEach(function(f){var g=f.getColId(),v=c.__children.filter(function(S){return typeof S[g]!="undefined"}).map(function(S){return S[g]}),m=i.aggregationStage.aggregateValues(v,e.aggFunc);c[f.getId()]=m&&typeof m.value!="undefined"?m.value:m;var C=g+"-filtered-out",b=c.__children.filter(function(S){return typeof S[C]!="undefined"}).map(function(S){return S[C]}),w=i.aggregationStage.aggregateValues(b,e.aggFunc);c[C]=w&&typeof w.value!="undefined"?w.value:w});else{var h=c.__children.map(function(f){return f[p.getId()]}),d=0;ve.assertRegistered(ae.RowGroupingModule,"Charting Aggregation")&&(d=i.aggregationStage.aggregateValues(h,e.aggFunc)),c[p.getId()]=d&&typeof d.value!="undefined"?d.value:d}})}),u},t.prototype.updatePivotKeysForSSRM=function(){var e=this.columnModel.getSecondaryColumns();if(!!e){var r=this.extractPivotKeySeparator(e);e.forEach(function(i){var o=i.getColId().split(r);i.getColDef().pivotKeys=o.slice(0,o.length-1)})}},t.prototype.extractPivotKeySeparator=function(e){if(e.length===0)return"";var r=function(o,a){var s=o.getGroupId();return o.getParent()?r(o.getParent(),s):a.split(s)[1][0]},i=e[0];return r(i.getParent(),i.getColId())},t.getGroupLabels=function(e,r){for(var i=[r];e&&e.level!==0;)e=e.parent,e&&i.push(e.key);return i},t.prototype.getFilteredRowNodes=function(){var e={};return this.gridRowModel.forEachNodeAfterFilterAndSort(function(r){e[r.id]=r}),e},t.prototype.getAllRowNodes=function(){var e=[];return this.gridRowModel.forEachNode(function(r){e.push(r)}),this.sortRowNodes(e)},t.prototype.sortRowNodes=function(e){var r=this.sortController.getSortOptions(),i=!r||r.length==0;return i?e:this.rowNodeSorter.doFullSort(e,r)},Gu([y("rowModel")],t.prototype,"gridRowModel",void 0),Gu([y("valueService")],t.prototype,"valueService",void 0),Gu([y("columnModel")],t.prototype,"columnModel",void 0),Gu([y("rowNodeSorter")],t.prototype,"rowNodeSorter",void 0),Gu([y("sortController")],t.prototype,"sortController",void 0),Gu([Fe("aggregationStage")],t.prototype,"aggregationStage",void 0),t}(j),kq=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Bu=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Gq=globalThis&&globalThis.__read||function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},Ef=globalThis&&globalThis.__spread||function(){for(var n=[],t=0;t<arguments.length;t++)n=n.concat(Gq(arguments[t]));return n},Pm=function(n){kq(t,n);function t(e){var r=n.call(this)||this;return r.unlinked=!1,r.chartData=[],r.valueColState=[],r.dimensionColState=[],r.columnNames={},r.grouping=!1,r.crossFiltering=!1,r.suppressComboChartWarnings=!1,r.chartId=e.chartId,r.chartType=e.chartType,r.pivotChart=e.pivotChart,r.chartThemeName=e.chartThemeName,r.aggFunc=e.aggFunc,r.referenceCellRange=e.cellRange,r.suppliedCellRange=e.cellRange,r.suppressChartRanges=e.suppressChartRanges,r.unlinked=!!e.unlinkChart,r.crossFiltering=!!e.crossFiltering,r.seriesChartTypes=e.seriesChartTypes||[],r.initComboCharts(e),r}return t.prototype.initComboCharts=function(e){var r=this.seriesChartTypes&&this.seriesChartTypes.length>0,i=e.chartType==="customCombo"||r;i&&(this.chartType="customCombo",this.savedCustomSeriesChartTypes=this.seriesChartTypes||[])},t.prototype.init=function(){this.datasource=this.createManagedBean(new Nq),this.updateCellRanges()},t.prototype.updateCellRanges=function(e){this.valueCellRange&&(this.referenceCellRange=this.valueCellRange);var r=this.getAllChartColumns(),i=r.dimensionCols,o=r.valueCols,a=this.getAllColumnsFromRanges();e&&this.updateColumnState(e),this.setDimensionCellRange(i,a,e),this.setValueCellRange(o,a,e),e||(this.resetColumnState(),this.syncDimensionCellRange()),this.updateSeriesChartTypes(),this.updateData()},t.prototype.updateSeriesChartTypes=function(){if(!!this.isComboChart()){if(this.seriesChartTypes=this.seriesChartTypes.map(function(e){var r=["groupedColumn","stackedColumn","stackedArea"].includes(e.chartType);return e.secondaryAxis=r?!1:e.secondaryAxis,e}),this.chartType==="customCombo"){this.updateSeriesChartTypesForCustomCombo();return}this.updateChartSeriesTypesForBuiltInCombos()}},t.prototype.updateSeriesChartTypesForCustomCombo=function(){var e=this,r=this.seriesChartTypes&&this.seriesChartTypes.length>0;!r&&!this.suppressComboChartWarnings&&console.warn("AG Grid: 'seriesChartTypes' are required when the 'customCombo' chart type is specified."),this.seriesChartTypes=this.seriesChartTypes.map(function(a){return t.SUPPORTED_COMBO_CHART_TYPES.includes(a.chartType)||(console.warn("AG Grid: invalid chartType '"+a.chartType+"' supplied in 'seriesChartTypes', converting to 'line' instead."),a.chartType="line"),a});var i=function(a){(!e.savedCustomSeriesChartTypes||e.savedCustomSeriesChartTypes.length===0)&&(e.savedCustomSeriesChartTypes=e.seriesChartTypes);var s=e.savedCustomSeriesChartTypes.find(function(l){return l.colId===a.colId});return s||(a.selected&&!e.suppressComboChartWarnings&&console.warn("AG Grid: no 'seriesChartType' found for colId = '"+a.colId+"', defaulting to 'line'."),{colId:a.colId,chartType:"line",secondaryAxis:!1})},o=this.valueColState.map(i);this.seriesChartTypes=o,this.savedCustomSeriesChartTypes=o,this.suppressComboChartWarnings=!0},t.prototype.updateChartSeriesTypesForBuiltInCombos=function(){var e=this.chartType==="columnLineCombo"?"groupedColumn":"stackedArea",r=this.chartType==="columnLineCombo"?"line":"groupedColumn",i=this.valueColState.filter(function(a){return a.selected}),o=Math.ceil(i.length/2);this.seriesChartTypes=i.map(function(a,s){var l=s>=o?r:e;return{colId:a.colId,chartType:l,secondaryAxis:!1}})},t.prototype.updateData=function(){var e=this.getRowIndexes(),r=e.startRow,i=e.endRow;this.pivotChart&&this.resetColumnState(),this.grouping=this.isGrouping();var o={aggFunc:this.aggFunc,dimensionCols:[this.getSelectedDimension()],grouping:this.grouping,pivoting:this.isPivotActive(),crossFiltering:this.crossFiltering,valueCols:this.getSelectedValueCols(),startRow:r,endRow:i,isScatter:_.includes(["scatter","bubble"],this.chartType)},a=this.datasource.getData(o),s=a.chartData,l=a.columnNames;this.chartData=s,this.columnNames=l},t.prototype.isGrouping=function(){var e=this.gridOptionsWrapper.isTreeData(),r=e?null:this.columnModel.getRowGroupColumns(),i=e||r&&r.length>0,o=this.getSelectedDimension().colId,a=this.columnModel.getGroupDisplayColumns(),s=a.map(function(l){return l.getColId()}).some(function(l){return l===o});return!!i&&s},t.prototype.getSelectedValueCols=function(){return this.valueColState.filter(function(e){return e.selected}).map(function(e){return e.column})},t.prototype.getSelectedDimension=function(){return this.dimensionColState.filter(function(e){return e.selected})[0]},t.prototype.getColDisplayName=function(e){return this.columnModel.getDisplayNameForColumn(e,"chart")},t.prototype.isPivotMode=function(){return this.columnModel.isPivotMode()},t.prototype.isPivotActive=function(){return this.columnModel.isPivotActive()},t.prototype.createCellRange=function(e){for(var r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];return{id:this.chartId,startRow:this.referenceCellRange.startRow,endRow:this.referenceCellRange.endRow,columns:r,startColumn:e===Pn.DIMENSION?r[0]:this.referenceCellRange.startColumn,type:e}},t.prototype.getAllColumnsFromRanges=function(){if(this.pivotChart)return _.convertToSet(this.columnModel.getAllDisplayedColumns());var e=this.dimensionCellRange||this.valueCellRange?[]:this.referenceCellRange.columns;return this.dimensionCellRange&&e.push.apply(e,Ef(this.dimensionCellRange.columns)),this.valueCellRange&&e.push.apply(e,Ef(this.valueCellRange.columns)),_.convertToSet(e)},t.prototype.getRowIndexes=function(){var e=0,r=0,i=this.rangeService,o=this.valueCellRange;if(i&&o){e=i.getRangeStartRow(o).rowIndex;var a=i.getRangeEndRow(o);r=a.rowPinned===L.PINNED_BOTTOM?-1:a.rowIndex}return{startRow:e,endRow:r}},t.prototype.getAllChartColumns=function(){var e=this,r=this.columnModel.getAllDisplayedColumns(),i=new Set,o=new Set;return r.forEach(function(a){var s=a.getColDef(),l=s.chartDataType;if(l)switch(l){case"category":case"time":i.add(a);return;case"series":o.add(a);return;case"excluded":return;default:console.warn("AG Grid: unexpected chartDataType value '"+l+"' supplied, instead use 'category', 'series' or 'excluded'");break}if(s.colId==="ag-Grid-AutoColumn"){i.add(a);return}if(!a.isPrimary()){o.add(a);return}(e.isNumberCol(a)?o:i).add(a)}),{dimensionCols:i,valueCols:o}},t.prototype.isNumberCol=function(e){if(e.getColId()==="ag-Grid-AutoColumn")return!1;var r=this.rowRenderer.getRowNode({rowIndex:0,rowPinned:null});if(!r)return!1;var i=this.valueService.getValue(e,r);return i==null&&(i=this.extractLeafData(r,e)),i!=null&&typeof i.toNumber=="function"&&(i=i.toNumber()),typeof i=="number"},t.prototype.extractLeafData=function(e,r){if(!e.allLeafChildren)return null;for(var i=0;i<e.allLeafChildren.length;i++){var o=e.allLeafChildren[i],a=this.valueService.getValue(r,o);if(a!=null)return a}return null},t.prototype.resetColumnState=function(){var e=this,r=this.getAllChartColumns(),i=r.dimensionCols,o=r.valueCols,a=this.getAllColumnsFromRanges(),s=this.valueColState.length<1;this.dimensionColState=[],this.valueColState=[];var l=!1,u=1,c=this.suppliedCellRange.columns[0];i.forEach(function(d){var f=d.getColId()==="ag-Grid-AutoColumn",g=!1;e.crossFiltering&&e.aggFunc?c.getColId()===d.getColId()&&(g=!0):g=f?!0:!l&&a.has(d),e.dimensionColState.push({column:d,colId:d.getColId(),displayName:e.getColDisplayName(d),selected:g,order:u++}),g&&(l=!0)});var p={colId:t.DEFAULT_CATEGORY,displayName:this.chartTranslationService.translate("defaultCategory"),selected:!l,order:0};this.dimensionColState.unshift(p);var h=this.referenceCellRange.columns.filter(function(d){return o.has(d)});o.forEach(function(d){s&&_.includes(e.referenceCellRange.columns,d)&&(d=h.shift()),e.valueColState.push({column:d,colId:d.getColId(),displayName:e.getColDisplayName(d),selected:a.has(d),order:u++})})},t.prototype.updateColumnState=function(e){var r=function(u){return u.colId===e.colId},i=this,o=i.dimensionColState,a=i.valueColState;o.filter(r).length>0?o.forEach(function(u){return u.selected=r(u)}):a.filter(r).forEach(function(u){return u.selected=e.selected});var s=Ef(o,a),l=[];s.forEach(function(u,c){c===e.order&&l.push(e.colId),u.colId!==e.colId&&l.push(u.colId)}),s.forEach(function(u){var c=l.indexOf(u.colId);u.order=c>=0?l.indexOf(u.colId):s.length-1}),this.reorderColState()},t.prototype.reorderColState=function(){var e=function(r,i){return r.order-i.order};this.dimensionColState.sort(e),this.valueColState.sort(e)},t.prototype.setDimensionCellRange=function(e,r,i){var o=this;if(this.dimensionCellRange=void 0,!i&&!this.dimensionColState.length){e.forEach(function(l){o.dimensionCellRange||!r.has(l)||(o.dimensionCellRange=o.createCellRange(Pn.DIMENSION,l))});return}var a=i;if(this.crossFiltering&&this.aggFunc){var s=this.suppliedCellRange.columns[0];a=this.dimensionColState.filter(function(l){return l.colId===s.getColId()})[0]}else(!a||!e.has(a.column))&&(a=this.dimensionColState.filter(function(l){return l.selected})[0]);a&&a.colId!==t.DEFAULT_CATEGORY&&(this.dimensionCellRange=this.createCellRange(Pn.DIMENSION,a.column))},t.prototype.setValueCellRange=function(e,r,i){this.valueCellRange=void 0;var o=[];if(e.forEach(function(s){i&&i.colId===s.getColId()?i.selected&&o.push(i.column):r.has(s)&&o.push(s)}),o.length>0){var a=[];this.valueColState.length>0?a=this.valueColState.map(function(s){return s.colId}):r.forEach(function(s){return a.push(s.getColId())}),o.sort(function(s,l){return a.indexOf(s.getColId())-a.indexOf(l.getColId())}),this.valueCellRange=this.createCellRange.apply(this,Ef([Pn.VALUE],o))}},t.prototype.syncDimensionCellRange=function(){var e=this.getSelectedDimension();e&&e.column&&(this.dimensionCellRange=this.createCellRange(Pn.DIMENSION,e.column))},t.prototype.isComboChart=function(){return["columnLineCombo","areaColumnCombo","customCombo"].includes(this.chartType)},t.DEFAULT_CATEGORY="AG-GRID-DEFAULT-CATEGORY",t.SUPPORTED_COMBO_CHART_TYPES=["line","groupedColumn","stackedColumn","area","stackedArea"],Bu([y("columnModel")],t.prototype,"columnModel",void 0),Bu([y("valueService")],t.prototype,"valueService",void 0),Bu([y("rangeService")],t.prototype,"rangeService",void 0),Bu([y("rowRenderer")],t.prototype,"rowRenderer",void 0),Bu([y("chartTranslationService")],t.prototype,"chartTranslationService",void 0),Bu([H],t.prototype,"init",null),t}(j),Ov=globalThis&&globalThis.__assign||function(){return Ov=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Ov.apply(this,arguments)},fn=function(){function n(){this.allPropertyListeners=new Map,this.allEventListeners=new Map}return n.prototype.addPropertyListener=function(t,e,r){r===void 0&&(r=this);var i=this.allPropertyListeners,o=i.get(t);if(o||(o=new Map,i.set(t,o)),!o.has(e)){var a=new Set;o.set(e,a)}var s=o.get(e);s&&s.add(r)},n.prototype.removePropertyListener=function(t,e,r){r===void 0&&(r=this);var i=this.allPropertyListeners,o=i.get(t);if(o)if(e){var a=o.get(e);a&&(a.delete(r),a.size||o.delete(e))}else o.clear()},n.prototype.notifyPropertyListeners=function(t,e,r){var i=this,o=this.allPropertyListeners,a=o.get(t);a&&a.forEach(function(s,l){s.forEach(function(u){return l.call(u,{type:t,source:i,value:r,oldValue:e})})})},n.prototype.addEventListener=function(t,e,r){r===void 0&&(r=this);var i=this.allEventListeners,o=i.get(t);if(o||(o=new Map,i.set(t,o)),!o.has(e)){var a=new Set;o.set(e,a)}var s=o.get(e);s&&s.add(r)},n.prototype.removeEventListener=function(t,e,r){r===void 0&&(r=this);var i=this.allEventListeners,o=i.get(t);if(o)if(e){var a=o.get(e);a&&(a.delete(r),a.size||o.delete(e))}else o.clear()},n.prototype.notifyEventListeners=function(t){var e=this,r=this.allEventListeners;t.forEach(function(i){var o=r.get(i);o&&o.forEach(function(a,s){a.forEach(function(l){return s.call(l,{type:i,source:e})})})})},n.prototype.fireEvent=function(t){var e=this,r=this.allEventListeners.get(t.type);r&&r.forEach(function(i,o){i.forEach(function(a){return o.call(a,Ov(Ov({},t),{source:e}))})})},n.privateKeyPrefix="_",n}();function K(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];var e=n.indexOf("debugger")>=0;return function(r,i){var o=fn.privateKeyPrefix+i,a=o+"Events";r[i]||(n&&(r[a]=n),Object.defineProperty(r,i,{set:function(s){var l=this[o];if(e)debugger;if(s!==l||typeof s=="object"&&s!==null){this[o]=s,this.notifyPropertyListeners(i,l,s);var u=this[a];u&&this.notifyEventListeners(u)}},get:function(){return this[o]},enumerable:!0,configurable:!0}))}}var Bq=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Rf=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Ev=function(n){Bq(t,n);function t(e,r,i,o){e===void 0&&(e=0),r===void 0&&(r=e),i===void 0&&(i=e),o===void 0&&(o=r);var a=n.call(this)||this;return a.top=e,a.right=r,a.bottom=i,a.left=o,a}return t.prototype.clear=function(){this.top=this.right=this.bottom=this.left=0},Rf([K("layoutChange")],t.prototype,"top",void 0),Rf([K("layoutChange")],t.prototype,"right",void 0),Rf([K("layoutChange")],t.prototype,"bottom",void 0),Rf([K("layoutChange")],t.prototype,"left",void 0),t}(fn),lr=function(){function n(t,e,r,i){this.x=t,this.y=e,this.width=r,this.height=i}return n.prototype.isValid=function(){return isFinite(this.x)&&isFinite(this.y)&&isFinite(this.width)&&isFinite(this.height)},n.prototype.dilate=function(t){this.x-=t,this.y-=t,this.width+=t*2,this.height+=t*2},n.prototype.containsPoint=function(t,e){return t>=this.x&&t<=this.x+this.width&&e>=this.y&&e<=this.y+this.height},n.prototype.render=function(t,e){e===void 0&&(e=n.noParams),t.save(),e.resetTransform&&t.setTransform(1,0,0,1,0,0),t.strokeStyle=e.strokeStyle||"cyan",t.lineWidth=e.lineWidth||1,t.strokeRect(this.x,this.y,this.width,this.height),e.label&&(t.fillStyle=e.fillStyle||"black",t.textBaseline="bottom",t.fillText(e.label,this.x,this.y)),t.restore()},n.noParams={},n}(),Vp=globalThis&&globalThis.__read||function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},Ss=function(){function n(t){t===void 0&&(t=[1,0,0,1,0,0]),this.elements=t}return n.prototype.setElements=function(t){var e=this.elements;return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],this},n.prototype.setIdentityElements=function(){var t=this.elements;return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,this},Object.defineProperty(n.prototype,"identity",{get:function(){var t=this.elements;return t[0]===1&&t[1]===0&&t[2]===0&&t[3]===1&&t[4]===0&&t[5]===0},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"a",{get:function(){return this.elements[0]},set:function(t){this.elements[0]=t},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"b",{get:function(){return this.elements[1]},set:function(t){this.elements[1]=t},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"c",{get:function(){return this.elements[2]},set:function(t){this.elements[2]=t},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"d",{get:function(){return this.elements[3]},set:function(t){this.elements[3]=t},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"e",{get:function(){return this.elements[4]},set:function(t){this.elements[4]=t},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"f",{get:function(){return this.elements[5]},set:function(t){this.elements[5]=t},enumerable:!0,configurable:!0}),n.prototype.AxB=function(t,e,r){var i=Vp(t,6),o=i[0],a=i[1],s=i[2],l=i[3],u=i[4],c=i[5],p=Vp(e,6),h=p[0],d=p[1],f=p[2],g=p[3],v=p[4],m=p[5];r=r||t,r[0]=o*h+s*d,r[1]=a*h+l*d,r[2]=o*f+s*g,r[3]=a*f+l*g,r[4]=o*v+s*m+u,r[5]=a*v+l*m+c},n.prototype.multiplySelf=function(t){return this.AxB(this.elements,t.elements),this},n.prototype.multiply=function(t){var e=new Array(6);return this.AxB(this.elements,t.elements,e),new n(e)},n.prototype.preMultiplySelf=function(t){return this.AxB(t.elements,this.elements,this.elements),this},n.prototype.inverse=function(){var t=Vp(this.elements,6),e=t[0],r=t[1],i=t[2],o=t[3],a=t[4],s=t[5],l=1/(e*o-r*i);return e*=l,r*=l,i*=l,o*=l,new n([o,-r,-i,e,i*s-o*a,r*a-e*s])},n.prototype.inverseTo=function(t){var e=Vp(this.elements,6),r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],l=e[5],u=1/(r*a-i*o);return r*=u,i*=u,o*=u,a*=u,t.setElements([a,-i,-o,r,o*l-a*s,i*s-r*l]),this},n.prototype.invertSelf=function(){var t=this.elements,e=Vp(t,6),r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],l=e[5],u=1/(r*a-i*o);return r*=u,i*=u,o*=u,a*=u,t[0]=a,t[1]=-i,t[2]=-o,t[3]=r,t[4]=o*l-a*s,t[5]=i*s-r*l,this},n.prototype.clone=function(){return new n(this.elements.slice())},n.prototype.transformPoint=function(t,e){var r=this.elements;return{x:t*r[0]+e*r[2]+r[4],y:t*r[1]+e*r[3]+r[5]}},n.prototype.transformBBox=function(t,e,r){e===void 0&&(e=0);var i=this.elements,o=i[0],a=i[1],s=i[2],l=i[3],u=t.width*.5,c=t.height*.5,p=t.x+u,h=t.y+c,d,f;if(e){u-=e,c-=e;var g=Math.sqrt(o*o+s*s),v=Math.sqrt(a*a+l*l);d=Math.abs(u*o)+Math.abs(c*s)+Math.abs(g*e),f=Math.abs(u*a)+Math.abs(c*l)+Math.abs(v*e)}else d=Math.abs(u*o)+Math.abs(c*s),f=Math.abs(u*a)+Math.abs(c*l);return r||(r=new lr(0,0,0,0)),r.x=p*o+h*s+i[4]-d,r.y=p*a+h*l+i[5]-f,r.width=d+d,r.height=f+f,r},n.prototype.toContext=function(t){if(!this.identity){var e=this.elements;t.transform(e[0],e[1],e[2],e[3],e[4],e[5])}},n.flyweight=function(t){return t?t instanceof n?n.matrix.setElements(t.elements):n.matrix.setElements(t):n.matrix.setIdentityElements(),n.matrix},n.matrix=new n,n}();function ip(n){var t=n.constructor,e=t.className;if(!e)throw new Error("The "+t+" is missing the 'className' property.");return e+"-"+(t.id=(t.id||0)+1)}var Vq=globalThis&&globalThis.__read||function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},Li;(function(n){n[n.All=0]="All",n[n.None=1]="None"})(Li||(Li={}));var fa=function(){function n(){this.id=ip(this),this.tag=NaN,this.isContainerNode=!1,this._children=[],this.childSet={},this.matrix=new Ss,this.inverseMatrix=new Ss,this._dirtyTransform=!1,this._scalingX=1,this._scalingY=1,this._scalingCenterX=null,this._scalingCenterY=null,this._rotationCenterX=null,this._rotationCenterY=null,this._rotation=0,this._translationX=0,this._translationY=0,this._dirty=!0,this._visible=!0,this.dirtyZIndex=!1,this._zIndex=0,this.pointerEvents=Li.All}return n.isNode=function(t){return t?t.matrix!==void 0:!1},n.prototype._setScene=function(t){this._scene=t;for(var e=this.children,r=e.length,i=0;i<r;i++)e[i]._setScene(t)},Object.defineProperty(n.prototype,"scene",{get:function(){return this._scene},enumerable:!0,configurable:!0}),n.prototype._setParent=function(t){this._parent=t},Object.defineProperty(n.prototype,"parent",{get:function(){return this._parent},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"children",{get:function(){return this._children},enumerable:!0,configurable:!0}),n.prototype.countChildren=function(t){if(t===void 0&&(t=n.MAX_SAFE_INTEGER),t<=0)return 0;for(var e=this.children,r=e.length,i=r,o=0;o<r;o++)i+=e[o].countChildren(t-1);return i},n.prototype.append=function(t){n.isNode(t)&&(t=[t]);for(var e=t.length,r=0;r<e;r++){var i=t[r];if(i.parent)throw new Error(i+" already belongs to another parent: "+i.parent+".");if(i.scene)throw new Error(i+" already belongs a scene: "+i.scene+".");if(this.childSet[i.id])throw new Error("Duplicate "+i.constructor.name+" node: "+i);this._children.push(i),this.childSet[i.id]=!0,i._setParent(this),i._setScene(this.scene)}this.dirty=!0},n.prototype.appendChild=function(t){if(t.parent)throw new Error(t+" already belongs to another parent: "+t.parent+".");if(t.scene)throw new Error(t+" already belongs to a scene: "+t.scene+".");if(this.childSet[t.id])throw new Error("Duplicate "+t.constructor.name+" node: "+t);return this._children.push(t),this.childSet[t.id]=!0,t._setParent(this),t._setScene(this.scene),this.dirty=!0,t},n.prototype.removeChild=function(t){if(t.parent===this){var e=this.children.indexOf(t);if(e>=0)return this._children.splice(e,1),delete this.childSet[t.id],t._setParent(),t._setScene(),this.dirty=!0,t}throw new Error("The node to be removed is not a child of this node.")},n.prototype.insertBefore=function(t,e){var r=t.parent;if(t.parent&&t.parent.removeChild(t),e&&e.parent===this){var i=this.children.indexOf(e);if(i>=0)this._children.splice(i,0,t),this.childSet[t.id]=!0,t._setParent(this),t._setScene(this.scene);else throw new Error(e+" has "+r+" as the parent, but is not in its list of children.");this.dirty=!0}else this.append(t);return t},Object.defineProperty(n.prototype,"nextSibling",{get:function(){var t=this.parent;if(t){var e=t.children,r=e.indexOf(this);if(r>=0&&r<=e.length-1)return e[r+1]}},enumerable:!0,configurable:!0}),n.prototype.transformPoint=function(t,e){for(var r=Ss.flyweight(this.matrix),i=this.parent;i;)r.preMultiplySelf(i.matrix),i=i.parent;return r.invertSelf().transformPoint(t,e)},n.prototype.inverseTransformPoint=function(t,e){for(var r=Ss.flyweight(this.matrix),i=this.parent;i;)r.preMultiplySelf(i.matrix),i=i.parent;return r.transformPoint(t,e)},Object.defineProperty(n.prototype,"dirtyTransform",{get:function(){return this._dirtyTransform},set:function(t){this._dirtyTransform=t,t&&(this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"scalingX",{get:function(){return this._scalingX},set:function(t){this._scalingX!==t&&(this._scalingX=t,this.dirtyTransform=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"scalingY",{get:function(){return this._scalingY},set:function(t){this._scalingY!==t&&(this._scalingY=t,this.dirtyTransform=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"scalingCenterX",{get:function(){return this._scalingCenterX},set:function(t){this._scalingCenterX!==t&&(this._scalingCenterX=t,this.dirtyTransform=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"scalingCenterY",{get:function(){return this._scalingCenterY},set:function(t){this._scalingCenterY!==t&&(this._scalingCenterY=t,this.dirtyTransform=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"rotationCenterX",{get:function(){return this._rotationCenterX},set:function(t){this._rotationCenterX!==t&&(this._rotationCenterX=t,this.dirtyTransform=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"rotationCenterY",{get:function(){return this._rotationCenterY},set:function(t){this._rotationCenterY!==t&&(this._rotationCenterY=t,this.dirtyTransform=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"rotation",{get:function(){return this._rotation},set:function(t){this._rotation!==t&&(this._rotation=t,this.dirtyTransform=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"rotationDeg",{get:function(){return this.rotation/Math.PI*180},set:function(t){this.rotation=t/180*Math.PI},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"translationX",{get:function(){return this._translationX},set:function(t){this._translationX!==t&&(this._translationX=t,this.dirtyTransform=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"translationY",{get:function(){return this._translationY},set:function(t){this._translationY!==t&&(this._translationY=t,this.dirtyTransform=!0)},enumerable:!0,configurable:!0}),n.prototype.containsPoint=function(t,e){return!1},n.prototype.pickNode=function(t,e){if(!(!this.visible||this.pointerEvents===Li.None||!this.containsPoint(t,e))){var r=this.children;if(r.length)for(var i=r.length-1;i>=0;i--){var o=r[i].pickNode(t,e);if(o)return o}else if(!this.isContainerNode)return this}},n.prototype.computeBBox=function(){},n.prototype.computeBBoxCenter=function(){var t=this.computeBBox&&this.computeBBox();return t?[t.x+t.width*.5,t.y+t.height*.5]:[0,0]},n.prototype.computeTransformMatrix=function(){var t=Vq([0,0],2),e=t[0],r=t[1],i=this.scalingX,o=this.scalingY,a,s;i===1&&o===1?(a=0,s=0):(a=this.scalingCenterX===null?e:this.scalingCenterX,s=this.scalingCenterY===null?r:this.scalingCenterY);var l=this.rotation,u=Math.cos(l),c=Math.sin(l),p,h;l===0?(p=0,h=0):(p=this.rotationCenterX===null?e:this.rotationCenterX,h=this.rotationCenterY===null?r:this.rotationCenterY);var d=this.translationX,f=this.translationY,g=a*(1-i)-p,v=s*(1-o)-h;this.dirtyTransform=!1,this.matrix.setElements([u*i,c*i,-c*o,u*o,u*g-c*v+p+d,c*g+u*v+h+f]).inverseTo(this.inverseMatrix)},Object.defineProperty(n.prototype,"dirty",{get:function(){return this._dirty},set:function(t){this._dirty=t,t&&(this.parent?this.parent.dirty=!0:this.scene&&(this.scene.dirty=!0))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"visible",{get:function(){return this._visible},set:function(t){this._visible!==t&&(this._visible=t,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"zIndex",{get:function(){return this._zIndex},set:function(t){this._zIndex!==t&&(this._zIndex=t,this.parent&&(this.parent.dirtyZIndex=!0),this.dirty=!0)},enumerable:!0,configurable:!0}),n.MAX_SAFE_INTEGER=Math.pow(2,53)-1,n}();function Am(n,t){var e=Object.create(n);for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);return e}function Wq(n,t,e){var r=Array.isArray(t)?t:t.split("."),i=n;try{r.forEach(function(o){i=i[o]})}catch(o){if(arguments.length===3)i=e;else throw o}return i}function Hq(n){return Array.isArray(n)?[]:{}}function Yh(n,t){return t.clone!==!1&&t.isMergeableObject(n)?fi(Hq(n),n,t):n}function jq(n,t,e){return n.concat(t).map(function(r){return Yh(r,e)})}function Uq(n,t){if(!t.customMerge)return fi;var e=t.customMerge(n);return typeof e=="function"?e:fi}function zq(n){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(n).filter(function(t){return n.propertyIsEnumerable(t)}):[]}function EE(n){return Object.keys(n).concat(zq(n))}function QI(n,t){try{return t in n}catch{return!1}}function $q(n,t){return QI(n,t)&&!(Object.hasOwnProperty.call(n,t)&&Object.propertyIsEnumerable.call(n,t))}function Kq(n,t,e){var r={};return e.isMergeableObject(n)&&EE(n).forEach(function(i){r[i]=Yh(n[i],e)}),EE(t).forEach(function(i){$q(n,i)||(QI(n,i)&&e.isMergeableObject(t[i])?r[i]=Uq(i,e)(n[i],t[i],e):r[i]=Yh(t[i],e))}),r}function JI(n){return Yq(n)&&!Xq(n)}function Yq(n){return!!n&&typeof n=="object"}function Xq(n){var t=Object.prototype.toString.call(n);return t==="[object RegExp]"||t==="[object Date]"}function fi(n,t,e){e=e||{},e.arrayMerge=e.arrayMerge||jq,e.isMergeableObject=e.isMergeableObject||JI,e.cloneUnlessOtherwiseSpecified=Yh;var r=Array.isArray(t),i=Array.isArray(n),o=r===i;return o?r?e.arrayMerge(n,t,e):Kq(n,t,e):Yh(t,e)}function qq(n){return typeof n=="object"&&!Array.isArray(n)}var Zq=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Ws=function(n){Zq(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.lastInstanceId=0,e._fillOpacity=1,e._strokeOpacity=1,e._fill=t.defaultStyles.fill,e._stroke=t.defaultStyles.stroke,e._strokeWidth=t.defaultStyles.strokeWidth,e._lineDash=t.defaultStyles.lineDash,e._lineDashOffset=t.defaultStyles.lineDashOffset,e._lineCap=t.defaultStyles.lineCap,e._lineJoin=t.defaultStyles.lineJoin,e._opacity=t.defaultStyles.opacity,e.onShadowChange=function(){e.dirty=!0},e._fillShadow=t.defaultStyles.fillShadow,e._strokeShadow=t.defaultStyles.strokeShadow,e}return t.createInstance=function(e){var r=Object.create(e);return r._setParent(void 0),r.id=e.id+"-Instance-"+String(++e.lastInstanceId),r},t.prototype.restoreOwnStyles=function(){for(var e=this.constructor.defaultStyles,r=Object.getOwnPropertyNames(e),i=0,o=r.length;i<o;i++){var a=r[i];this[a]=e[a]}},t.prototype.restoreAllStyles=function(){var e=this.constructor.defaultStyles;for(var r in e)this[r]=e[r]},t.prototype.restoreOverriddenStyles=function(){var e=this.constructor.defaultStyles,r=Object.getPrototypeOf(e);for(var i in e)e.hasOwnProperty(i)&&r.hasOwnProperty(i)&&(this[i]=e[i])},Object.defineProperty(t.prototype,"fillOpacity",{get:function(){return this._fillOpacity},set:function(e){this._fillOpacity!==e&&(this._fillOpacity=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"strokeOpacity",{get:function(){return this._strokeOpacity},set:function(e){this._strokeOpacity!==e&&(this._strokeOpacity=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fill",{get:function(){return this._fill},set:function(e){this._fill!==e&&(this._fill=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"stroke",{get:function(){return this._stroke},set:function(e){this._stroke!==e&&(this._stroke=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"strokeWidth",{get:function(){return this._strokeWidth},set:function(e){this._strokeWidth!==e&&(this._strokeWidth=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"alignment",{get:function(){return Math.floor(this.strokeWidth)%2/2},enumerable:!0,configurable:!0}),t.prototype.align=function(e,r,i){return i!=null?Math.floor(i)+Math.floor(r%1+i%1):Math.floor(r)+e},Object.defineProperty(t.prototype,"lineDash",{get:function(){return this._lineDash},set:function(e){var r=this._lineDash;if(r!==e){if(r&&e&&r.length===e.length){for(var i=!0,o=e.length,a=0;a<o;a++)if(r[a]!==e[a]){i=!1;break}if(i)return}this._lineDash=e,this.dirty=!0}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"lineDashOffset",{get:function(){return this._lineDashOffset},set:function(e){this._lineDashOffset!==e&&(this._lineDashOffset=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"lineCap",{get:function(){return this._lineCap},set:function(e){this._lineCap!==e&&(this._lineCap=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"lineJoin",{get:function(){return this._lineJoin},set:function(e){this._lineJoin!==e&&(this._lineJoin=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"opacity",{get:function(){return this._opacity},set:function(e){e=Math.min(1,Math.max(0,e)),this._opacity!==e&&(this._opacity=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fillShadow",{get:function(){return this._fillShadow},set:function(e){var r=this._fillShadow;r!==e&&(r&&r.removeEventListener("change",this.onShadowChange),e&&e.addEventListener("change",this.onShadowChange),this._fillShadow=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"strokeShadow",{get:function(){return this._strokeShadow},set:function(e){var r=this._strokeShadow;r!==e&&(r&&r.removeEventListener("change",this.onShadowChange),e&&e.addEventListener("change",this.onShadowChange),this._strokeShadow=e,this.dirty=!0)},enumerable:!0,configurable:!0}),t.prototype.fillStroke=function(e){if(!!this.scene){var r=this.scene.canvas.pixelRatio||1,i=e.globalAlpha;if(this.fill){e.fillStyle=this.fill,e.globalAlpha=i*this.opacity*this.fillOpacity;var o=this.fillShadow;o&&o.enabled&&(e.shadowColor=o.color,e.shadowOffsetX=o.xOffset*r,e.shadowOffsetY=o.yOffset*r,e.shadowBlur=o.blur*r),e.fill()}if(e.shadowColor="rgba(0, 0, 0, 0)",this.stroke&&this.strokeWidth){e.strokeStyle=this.stroke,e.globalAlpha=i*this.opacity*this.strokeOpacity,e.lineWidth=this.strokeWidth,this.lineDash&&e.setLineDash(this.lineDash),this.lineDashOffset&&(e.lineDashOffset=this.lineDashOffset),this.lineCap&&(e.lineCap=this.lineCap),this.lineJoin&&(e.lineJoin=this.lineJoin);var a=this.strokeShadow;a&&a.enabled&&(e.shadowColor=a.color,e.shadowOffsetX=a.xOffset*r,e.shadowOffsetY=a.yOffset*r,e.shadowBlur=a.blur*r),e.stroke()}}},t.prototype.containsPoint=function(e,r){return this.isPointInPath(e,r)},t.defaultStyles=Am({},{fill:"black",stroke:void 0,strokeWidth:0,lineDash:void 0,lineDashOffset:0,lineCap:void 0,lineJoin:void 0,opacity:1,fillShadow:void 0,strokeShadow:void 0}),t}(fa),zl=function(){function n(t,e,r){t===void 0&&(t=window.document),e===void 0&&(e=600),r===void 0&&(r=300),this._container=void 0,this._pixelRatio=NaN,this._width=0,this._height=0,this.document=t,this.element=t.createElement("canvas"),this.context=this.element.getContext("2d"),this.element.style.userSelect="none",this.element.style.display="block",this.setPixelRatio(),this.resize(e,r)}return Object.defineProperty(n.prototype,"container",{get:function(){return this._container},set:function(t){this._container!==t&&(this.remove(),t&&t.appendChild(this.element),this._container=t)},enumerable:!0,configurable:!0}),n.prototype.remove=function(){var t=this.element.parentNode;t!=null&&t.removeChild(this.element)},n.prototype.destroy=function(){this.element.remove(),this._canvas=void 0,Object.freeze(this)},n.prototype.toImage=function(){var t=this.document.createElement("img");return t.src=this.getDataURL(),t},n.prototype.getDataURL=function(t){return this.element.toDataURL(t)},n.prototype.download=function(t){t=((t||"").trim()||"image")+".png";var e="image/png",r=this.getDataURL(e),i=this.document,o=i.createElement("a");o.href=r,o.download=t,o.style.display="none",i.body.appendChild(o),o.click(),i.body.removeChild(o)},Object.defineProperty(n.prototype,"pixelRatio",{get:function(){return this._pixelRatio},enumerable:!0,configurable:!0}),n.prototype.setPixelRatio=function(t){var e=t||window.devicePixelRatio;e!==this.pixelRatio&&(n.overrideScale(this.context,e),this._pixelRatio=e,this.resize(this.width,this.height))},Object.defineProperty(n.prototype,"pixelated",{get:function(){return this.element.style.imageRendering==="pixelated"},set:function(t){this.element.style.imageRendering=t?"pixelated":"auto"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"width",{get:function(){return this._width},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"height",{get:function(){return this._height},enumerable:!0,configurable:!0}),n.prototype.resize=function(t,e){if(t>0&&e>0){var r=this,i=r.element,o=r.context,a=r.pixelRatio;i.width=Math.round(t*a),i.height=Math.round(e*a),i.style.width=t+"px",i.style.height=e+"px",o.resetTransform(),this._width=t,this._height=e}},Object.defineProperty(n,"textMeasuringContext",{get:function(){if(this._textMeasuringContext)return this._textMeasuringContext;var t=document.createElement("canvas");return this._textMeasuringContext=t.getContext("2d")},enumerable:!0,configurable:!0}),Object.defineProperty(n,"svgText",{get:function(){if(this._svgText)return this._svgText;var t="http://www.w3.org/2000/svg",e=document.createElementNS(t,"svg");e.setAttribute("width","100"),e.setAttribute("height","100"),e.classList?e.classList.add("text-measuring-svg"):e.setAttribute("class","text-measuring-svg"),e.style.position="absolute",e.style.top="-1000px",e.style.visibility="hidden";var r=document.createElementNS(t,"text");return r.setAttribute("x","0"),r.setAttribute("y","30"),r.setAttribute("text","black"),e.appendChild(r),document.body.appendChild(e),this._svgText=r,r},enumerable:!0,configurable:!0}),Object.defineProperty(n,"has",{get:function(){if(this._has)return this._has;var t=navigator.userAgent.indexOf("Chrome")>-1,e=navigator.userAgent.indexOf("Firefox")>-1,r=!t&&navigator.userAgent.indexOf("Safari")>-1;return this._has=Object.freeze({textMetrics:this.textMeasuringContext.measureText("test").actualBoundingBoxDescent!==void 0&&!e&&!r,getTransform:this.textMeasuringContext.getTransform!==void 0})},enumerable:!0,configurable:!0}),n.measureText=function(t,e,r,i){var o=this.textMeasuringContext;return o.font=e,o.textBaseline=r,o.textAlign=i,o.measureText(t)},n.getTextSize=function(t,e){if(this.has.textMetrics){var r=this.textMeasuringContext;r.font=e;var i=r.measureText(t);return{width:i.width,height:i.actualBoundingBoxAscent+i.actualBoundingBoxDescent}}else return this.measureSvgText(t,e)},n.measureSvgText=function(t,e){var r=this.textSizeCache,i=r[e];if(i){var o=i[t];if(o)return o}else r[e]={};var a=this.svgText;a.style.font=e,a.textContent=t;var s=a.getBBox(),l={width:s.width,height:s.height};return r[e][t]=l,l},n.overrideScale=function(t,e){var r=0,i={save:function(){this.$save(),r++},restore:function(){r>0&&(this.$restore(),r--)},setTransform:function(a,s,l,u,c,p){this.$setTransform(a*e,s*e,l*e,u*e,c*e,p*e)},resetTransform:function(){this.$setTransform(e,0,0,e,0,0),this.save(),r=0}};for(var o in i)i.hasOwnProperty(o)&&(t["$"+o]||(t["$"+o]=t[o]),t[o]=i[o])},n.textSizeCache={},n}(),Qq=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),un=function(n){Qq(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e._x=0,e._y=0,e.lineBreakRegex=/\r?\n/g,e.lines=[],e._text="",e._dirtyFont=!0,e._fontSize=10,e._fontFamily="sans-serif",e._textAlign=t.defaultStyles.textAlign,e._textBaseline=t.defaultStyles.textBaseline,e._lineHeight=14,e}return Object.defineProperty(t.prototype,"x",{get:function(){return this._x},set:function(e){this._x!==e&&(this._x=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this._y},set:function(e){this._y!==e&&(this._y=e,this.dirty=!0)},enumerable:!0,configurable:!0}),t.prototype.splitText=function(){this.lines=this._text.split(this.lineBreakRegex)},Object.defineProperty(t.prototype,"text",{get:function(){return this._text},set:function(e){var r=String(e);this._text!==r&&(this._text=r,this.splitText(),this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"font",{get:function(){return this.dirtyFont&&(this.dirtyFont=!1,this._font=eL(this.fontSize,this.fontFamily,this.fontStyle,this.fontWeight)),this._font},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dirtyFont",{get:function(){return this._dirtyFont},set:function(e){this._dirtyFont!==e&&(this._dirtyFont=e,e&&(this.dirty=!0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fontStyle",{get:function(){return this._fontStyle},set:function(e){this._fontStyle!==e&&(this._fontStyle=e,this.dirtyFont=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fontWeight",{get:function(){return this._fontWeight},set:function(e){this._fontWeight!==e&&(this._fontWeight=e,this.dirtyFont=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fontSize",{get:function(){return this._fontSize},set:function(e){isFinite(e)||(e=10),this._fontSize!==e&&(this._fontSize=e,this.dirtyFont=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fontFamily",{get:function(){return this._fontFamily},set:function(e){this._fontFamily!==e&&(this._fontFamily=e,this.dirtyFont=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"textAlign",{get:function(){return this._textAlign},set:function(e){this._textAlign!==e&&(this._textAlign=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"textBaseline",{get:function(){return this._textBaseline},set:function(e){this._textBaseline!==e&&(this._textBaseline=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"lineHeight",{get:function(){return this._lineHeight},set:function(e){this._lineHeight!==e&&(this._lineHeight=e,this.dirty=!0)},enumerable:!0,configurable:!0}),t.prototype.computeBBox=function(){return zl.has.textMetrics?this.getPreciseBBox():this.getApproximateBBox()},t.prototype.getPreciseBBox=function(){var e=zl.measureText(this.text,this.font,this.textBaseline,this.textAlign);return new lr(this.x-e.actualBoundingBoxLeft,this.y-e.actualBoundingBoxAscent,e.width,e.actualBoundingBoxAscent+e.actualBoundingBoxDescent)},t.prototype.getApproximateBBox=function(){var e=zl.getTextSize(this.text,this.font),r=this,i=r.x,o=r.y;switch(this.textAlign){case"end":case"right":i-=e.width;break;case"center":i-=e.width/2}switch(this.textBaseline){case"alphabetic":o-=e.height*.7;break;case"middle":o-=e.height*.45;break;case"ideographic":o-=e.height;break;case"hanging":o-=e.height*.2;break;case"bottom":o-=e.height;break}return new lr(i,o,e.width,e.height)},t.prototype.isPointInPath=function(e,r){var i=this.transformPoint(e,r),o=this.computeBBox();return o?o.containsPoint(i.x,i.y):!1},t.prototype.isPointInStroke=function(e,r){return!1},t.prototype.render=function(e){if(!(!this.lines.length||!this.scene)){this.dirtyTransform&&this.computeTransformMatrix(),this.matrix.toContext(e);var r=this,i=r.fill,o=r.stroke,a=r.strokeWidth;e.font=this.font,e.textAlign=this.textAlign,e.textBaseline=this.textBaseline;var s=this.scene.canvas.pixelRatio||1,l=e.globalAlpha;if(i){e.fillStyle=i,e.globalAlpha=l*this.opacity*this.fillOpacity;var u=this,c=u.fillShadow,p=u.text,h=u.x,d=u.y;c&&c.enabled&&(e.shadowColor=c.color,e.shadowOffsetX=c.xOffset*s,e.shadowOffsetY=c.yOffset*s,e.shadowBlur=c.blur*s),e.fillText(p,h,d)}if(o&&a){e.strokeStyle=o,e.lineWidth=a,e.globalAlpha=l*this.opacity*this.strokeOpacity;var f=this,g=f.lineDash,v=f.lineDashOffset,m=f.lineCap,C=f.lineJoin,b=f.strokeShadow,p=f.text,h=f.x,d=f.y;g&&e.setLineDash(g),v&&(e.lineDashOffset=v),m&&(e.lineCap=m),C&&(e.lineJoin=C),b&&b.enabled&&(e.shadowColor=b.color,e.shadowOffsetX=b.xOffset*s,e.shadowOffsetY=b.yOffset*s,e.shadowBlur=b.blur*s),e.strokeText(p,h,d)}this.dirty=!1}},t.className="Text",t.defaultStyles=Am(Ws.defaultStyles,{textAlign:"start",fontStyle:void 0,fontWeight:void 0,fontSize:10,fontFamily:"sans-serif",textBaseline:"alphabetic"}),t}(Ws);function eL(n,t,e,r){return[e||"",r||"",n+"px",t].join(" ").trim()}var Jq=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),RE=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},zw=function(n){Jq(t,n);function t(){var e=n.call(this)||this;e.node=new un,e.enabled=!1,e.padding=new Ev(10);var r=e.node;return r.textAlign="center",r.textBaseline="top",r.pointerEvents=Li.None,e}return Object.defineProperty(t.prototype,"text",{get:function(){return this.node.text},set:function(e){this.node.text!==e&&(this.node.text=e,this.fireEvent({type:"change"}))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fontStyle",{get:function(){return this.node.fontStyle},set:function(e){this.node.fontStyle!==e&&(this.node.fontStyle=e,this.fireEvent({type:"change"}))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fontWeight",{get:function(){return this.node.fontWeight},set:function(e){this.node.fontWeight!==e&&(this.node.fontWeight=e,this.fireEvent({type:"change"}))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fontSize",{get:function(){return this.node.fontSize},set:function(e){this.node.fontSize!==e&&(this.node.fontSize=e,this.fireEvent({type:"change"}))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fontFamily",{get:function(){return this.node.fontFamily},set:function(e){this.node.fontFamily!==e&&(this.node.fontFamily=e,this.fireEvent({type:"change"}))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){return this.node.fill},set:function(e){this.node.fill!==e&&(this.node.fill=e,this.fireEvent({type:"change"}))},enumerable:!0,configurable:!0}),RE([K("change")],t.prototype,"enabled",void 0),RE([K("change")],t.prototype,"padding",void 0),t}(fn),eZ=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}();function Rv(n,t,e){var r=Xh(n,t,e);return n=Math.ceil(n/r)*r,t=Math.floor(t/r)*r+r/2,tZ(n,t,r)}var $w=Math.sqrt(50),Kw=Math.sqrt(10),Yw=Math.sqrt(2);function Xh(n,t,e){var r=Math.abs(t-n)/Math.max(0,e),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),o=r/i;return o>=$w?i*=10:o>=Kw?i*=5:o>=Yw&&(i*=2),t<n?-i:i}function GC(n,t,e){var r=(t-n)/Math.max(0,e),i=Math.floor(Math.log(r)/Math.LN10),o=r/Math.pow(10,i);return i>=0?(o>=$w?10:o>=Kw?5:o>=Yw?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(o>=$w?10:o>=Kw?5:o>=Yw?2:1)}var tL=function(n){eZ(t,n);function t(e,r){var i=n.call(this)||this;if(r)for(var o=0,a=r.length;o<a;o++)i[o]=r[o];return i.fractionDigits=e,i}return t}(Array);function tZ(n,t,e){e===void 0&&(e=1);for(var r=Math.abs(e),i=r>0&&r<1?Math.abs(Math.floor(Math.log(r)/Math.LN10)):0,o=Math.pow(10,i),a=Math.max(0,Math.ceil((t-n)/e))||0,s=new tL(i),l=0;l<a;l++){var u=n+e*l;s[l]=Math.round(u*o)/o}return s}function rZ(n,t){var e=Math.floor(n[0]),r=n[1];e=nZ(e,r,t);var i=oZ(e,r,t),o=t-1;r=e+o*i;var a=[e,r],s=iZ(e,i,t);return[a,s]}function nZ(n,t,e){var r=Math.abs(t-n)/(e-1),i=Math.floor(Math.log10(r)),o=Math.pow(10,i);return Math.floor(n/o)*o}function iZ(n,t,e){for(var r=Math.floor(Math.log10(t)),i=t>0&&t<1?Math.abs(r):0,o=Math.pow(10,i),a=new tL(i),s=0;s<e;s++){var l=n+t*s;a[s]=Math.round(l*o)/o}return a}function oZ(n,t,e){var r=e-1,i=(t-n)/r;return aZ(i)}function aZ(n){var t=Math.floor(Math.log10(n)),e=Math.pow(10,t),r=n/e*10;return r>0&&r<=1?e/10:r>1&&r<=2?2*e/10:r>1&&r<=5?5*e/10:r>5&&r<=10?10*e/10:r>10&&r<=20?20*e/10:r>20&&r<=40?40*e/10:r>40&&r<=50?50*e/10:r>50&&r<=100?100*e/10:r}var sZ=function(n){return function(){return n}};function kl(n,t){return n=+n,t=+t,function(e){return n*(1-e)+t*e}}function lZ(n,t){var e=new Date,r=+n,i=+t;return function(o){return e.setTime(r*(1-o)+i*o),e}}function uZ(n,t){var e=t?t.length:0,r=n?Math.min(e,n.length):0,i=new Array(r),o=new Array(e),a;for(a=0;a<r;++a)i[a]=B0(n[a],t[a]);for(;a<e;++a)o[a]=t[a];return function(s){for(a=0;a<r;++a)o[a]=i[a](s);return o}}function cZ(n,t){var e={},r={},i;(n===null||typeof n!="object")&&(n={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in n?e[i]=B0(n[i],t[i]):r[i]=t[i];return function(o){for(i in e)r[i]=e[i](o);return r}}var PE=globalThis&&globalThis.__read||function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},ga=function(){function n(t,e,r,i){i===void 0&&(i=1),this.r=Math.min(1,Math.max(0,t||0)),this.g=Math.min(1,Math.max(0,e||0)),this.b=Math.min(1,Math.max(0,r||0)),this.a=Math.min(1,Math.max(0,i||0))}return n.fromString=function(t){if(t.indexOf("#")>=0)return n.fromHexString(t);var e=n.nameToHex[t];if(e)return n.fromHexString(e);if(t.indexOf("rgb")>=0)return n.fromRgbaString(t);throw new Error("Invalid color string: '"+t+"'")},n.parseHex=function(t){t=t.replace(/ /g,"").slice(1);var e;switch(t.length){case 6:case 8:e=[];for(var r=0;r<t.length;r+=2)e.push(parseInt(""+t[r]+t[r+1],16));break;case 3:case 4:e=t.split("").map(function(i){return parseInt(i,16)}).map(function(i){return i+i*16});break}if(e.length>=3&&e.every(function(i){return i>=0}))return e.length===3&&e.push(255),e},n.fromHexString=function(t){var e=n.parseHex(t);if(e){var r=PE(e,4),i=r[0],o=r[1],a=r[2],s=r[3];return new n(i/255,o/255,a/255,s/255)}throw new Error("Malformed hexadecimal color string: '"+t+"'")},n.stringToRgba=function(t){for(var e=PE([NaN,NaN],2),r=e[0],i=e[1],o=0;o<t.length;o++){var a=t[o];if(!r&&a==="(")r=o;else if(a===")"){i=o;break}}var s=r&&i&&t.substring(r+1,i);if(!!s){for(var l=s.split(","),u=[],o=0;o<l.length;o++){var c=l[o],p=parseFloat(c);if(isNaN(p))return;c.indexOf("%")>=0?(p=Math.max(0,Math.min(100,p)),p/=100):o===3?p=Math.max(0,Math.min(1,p)):(p=Math.max(0,Math.min(255,p)),p/=255),u.push(p)}return u}},n.fromRgbaString=function(t){var e=n.stringToRgba(t);if(e){if(e.length===3)return new n(e[0],e[1],e[2]);if(e.length===4)return new n(e[0],e[1],e[2],e[3])}throw new Error("Malformed rgb/rgba color string: '"+t+"'")},n.fromArray=function(t){if(t.length===4)return new n(t[0],t[1],t[2],t[3]);if(t.length===3)return new n(t[0],t[1],t[2]);throw new Error("The given array should contain 3 or 4 color components (numbers).")},n.fromHSB=function(t,e,r,i){i===void 0&&(i=1);var o=n.HSBtoRGB(t,e,r);return new n(o[0],o[1],o[2],i)},n.padHex=function(t){return t.length===1?"0"+t:t},n.prototype.toHexString=function(){var t="#"+n.padHex(Math.round(this.r*255).toString(16))+n.padHex(Math.round(this.g*255).toString(16))+n.padHex(Math.round(this.b*255).toString(16));return this.a<1&&(t+=n.padHex(Math.round(this.a*255).toString(16))),t},n.prototype.toRgbaString=function(t){t===void 0&&(t=3);var e=[Math.round(this.r*255),Math.round(this.g*255),Math.round(this.b*255)],r=Math.pow(10,t);return this.a!==1?(e.push(Math.round(this.a*r)/r),"rgba("+e.join(", ")+")"):"rgb("+e.join(", ")+")"},n.prototype.toString=function(){return this.a===1?this.toHexString():this.toRgbaString()},n.prototype.toHSB=function(){return n.RGBtoHSB(this.r,this.g,this.b)},n.RGBtoHSB=function(t,e,r){var i=Math.min(t,e,r),o=Math.max(t,e,r),a=o!==0?(o-i)/o:0,s=NaN;if(i!==o){var l=o-i,u=(o-t)/l,c=(o-e)/l,p=(o-r)/l;t===o?s=p-c:e===o?s=2+u-p:s=4+c-u,s/=6,s<0&&(s=s+1)}return[s*360,a,o]},n.HSBtoRGB=function(t,e,r){isNaN(t)&&(t=0),t=(t%360+360)%360/360;var i=0,o=0,a=0;if(e===0)i=o=a=r;else{var s=(t-Math.floor(t))*6,l=s-Math.floor(s),u=r*(1-e),c=r*(1-e*l),p=r*(1-e*(1-l));switch(s>>0){case 0:i=r,o=p,a=u;break;case 1:i=c,o=r,a=u;break;case 2:i=u,o=r,a=p;break;case 3:i=u,o=c,a=r;break;case 4:i=p,o=u,a=r;break;case 5:i=r,o=u,a=c;break}}return[i,o,a]},n.prototype.derive=function(t,e,r,i){var o=n.RGBtoHSB(this.r,this.g,this.b),a=o[2];a==0&&r>1&&(a=.05);var s=((o[0]+t)%360+360)%360,l=Math.max(Math.min(o[1]*e,1),0);a=Math.max(Math.min(a*r,1),0);var u=Math.max(Math.min(this.a*i,1),0),c=n.HSBtoRGB(s,l,a);return c.push(u),n.fromArray(c)},n.prototype.brighter=function(){return this.derive(0,1,1/.7,1)},n.prototype.darker=function(){return this.derive(0,1,.7,1)},n.nameToHex=Object.freeze({aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#00FFFF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blue:"#0000FF",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgreen:"#006400",darkgrey:"#A9A9A9",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#FF00FF",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",green:"#008000",greenyellow:"#ADFF2F",grey:"#808080",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgray:"#D3D3D3",lightgreen:"#90EE90",lightgrey:"#D3D3D3",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#00FF00",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",rebeccapurple:"#663399",red:"#FF0000",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",white:"#FFFFFF",whitesmoke:"#F5F5F5",yellow:"#FFFF00",yellowgreen:"#9ACD32"}),n}();function AE(n,t){if(typeof n=="string")try{n=ga.fromString(n)}catch{n=ga.fromArray([0,0,0])}if(typeof t=="string")try{t=ga.fromString(t)}catch{t=ga.fromArray([0,0,0])}var e=kl(n.r,t.r),r=kl(n.g,t.g),i=kl(n.b,t.b),o=kl(n.a,t.a);return function(a){return ga.fromArray([e(a),r(a),i(a),o(a)]).toRgbaString()}}function B0(n,t){var e=typeof t,r;if(t==null||e==="boolean")return sZ(t);if(e==="number")return kl(n,t);if(e==="string")try{return r=ga.fromString(t),t=r,AE(n,t)}catch{}return t instanceof ga?AE(n,t):t instanceof Date?lZ(n,t):Array.isArray(t)?uZ(n,t):typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?cZ(n,t):kl(n,t)}function rL(n,t){return n<t?-1:n>t?1:n>=t?0:NaN}function pZ(n,t,e,r,i){for(r===void 0&&(r=0),i===void 0&&(i=n.length);r<i;){var o=r+i>>>1;e(n[o],t)>0?i=o:r=o+1}return r}function hZ(n,t,e,r,i){r===void 0&&(r=0),i===void 0&&(i=n.length);for(var o=dZ(e);r<i;){var a=r+i>>>1;o(n[a],t)<0?r=a+1:i=a}return r}function dZ(n){return function(t,e){return rL(n(t),e)}}var fZ=globalThis&&globalThis.__read||function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},gZ=function(n){return function(){return n}},Vu=function(n){return n};function Sc(n){var t,e=n[0],r=n[n.length-1];return e>r&&(t=fZ([r,e],2),e=t[0],r=t[1]),function(i){return Math.max(e,Math.min(r,i))}}var Yr=function(){function n(){this.unknown=void 0,this.clamper=Sc,this._clamp=Vu,this._domain=[0,1],this._range=[0,1],this.transform=Vu,this.untransform=Vu,this._interpolate=B0,this.rescale()}return Object.defineProperty(n.prototype,"clamp",{get:function(){return this._clamp!==Vu},set:function(t){this._clamp=t?this.clamper(this.domain):Vu},enumerable:!0,configurable:!0}),n.prototype.setDomain=function(t){this._domain=Array.prototype.map.call(t,function(e){return+e}),this._clamp!==Vu&&(this._clamp=this.clamper(this.domain)),this.rescale()},n.prototype.getDomain=function(){return this._domain.slice()},Object.defineProperty(n.prototype,"domain",{get:function(){return this.getDomain()},set:function(t){this.setDomain(t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"range",{get:function(){return this._range.slice()},set:function(t){this._range=Array.prototype.slice.call(t),this.rescale()},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"interpolate",{get:function(){return this._interpolate},set:function(t){this._interpolate=t,this.rescale()},enumerable:!0,configurable:!0}),n.prototype.rescale=function(){Math.min(this.domain.length,this.range.length)>2?this.piecewise=this.polymap:this.piecewise=this.bimap,this.output=void 0,this.input=void 0},n.prototype.normalize=function(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:gZ(isNaN(e)?NaN:.5)},n.prototype.bimap=function(t,e,r){var i=t[0],o=t[1],a=e[0],s=e[1],l,u;return o<i?(l=this.normalize(o,i),u=r(s,a)):(l=this.normalize(i,o),u=r(a,s)),function(c){return u(l(c))}},n.prototype.polymap=function(t,e,r){var i=this,o=Math.min(t.length,e.length)-1;t[o]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());var a=Array.from({length:o},function(l,u){return i.normalize(t[u],t[u+1])}),s=Array.from({length:o},function(l,u){return r(e[u],e[u+1])});return function(l){var u=pZ(t,l,rL,1,o)-1;return s[u](a[u](l))}},n.prototype.convert=function(t,e){if(t=+t,isNaN(t))return this.unknown;this.output||(this.output=this.piecewise(this.domain.map(this.transform),this.range,this.interpolate));var r=e?e(this.domain):this._clamp;return this.output(this.transform(r(t)))},n.prototype.invert=function(t){return this.input||(this.input=this.piecewise(this.range,this.domain.map(this.transform),kl)),this._clamp(this.untransform(this.input(t)))},n}();function vZ(n,t){var e=n.toPrecision(t);e:for(var r=e.length,i=1,o=-1,a=0;i<r;++i)switch(e[i]){case".":o=a=i;break;case"0":o===0&&(o=i),a=i;break;case"e":break e;default:o>0&&(o=0);break}return o>0?e.slice(0,o)+e.slice(a+1):e}var DE={"":vZ,"%":function(n,t){return(n*100).toFixed(t)},b:function(n){return Math.round(n).toString(2)},c:function(n){return String(n)},d:bZ,e:function(n,t){return n.toExponential(t)},f:function(n,t){return n.toFixed(t)},g:function(n,t){return n.toPrecision(t)},o:function(n){return Math.round(n).toString(8)},p:function(n,t){return FE(n*100,t)},r:FE,s:CZ,X:function(n){return Math.round(n).toString(16).toUpperCase()},x:function(n){return Math.round(n).toString(16)}},ME=["y","z","a","f","p","n","\xB5","m","","k","M","G","T","P","E","Z","Y"],BC=function(){function n(t){t instanceof n?(this.fill=t.fill,this.align=t.align,this.sign=t.sign,this.symbol=t.symbol,this.zero=t.zero,this.width=t.width,this.comma=t.comma,this.precision=t.precision,this.trim=t.trim,this.type=t.type,this.string=t.string):(this.fill=t.fill===void 0?" ":String(t.fill),this.align=t.align===void 0?">":String(t.align),this.sign=t.sign===void 0?"-":String(t.sign),this.symbol=t.symbol===void 0?"":String(t.symbol),this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":String(t.type),this.string=t.string)}return n}(),mZ=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i,nL=/(#\{(.*?)\})/g;function Xw(n){if(n instanceof BC)return new BC(n);var t=!1,e=n.replace(nL,function(){return t||(n=arguments[2],t=!0),"#{}"}),r=mZ.exec(n);if(!r)throw new Error("Invalid format: "+n);return new BC({fill:r[1],align:r[2],sign:r[3],symbol:r[4],zero:r[5],width:r[6],comma:r[7],precision:r[8]&&r[8].slice(1),trim:r[9],type:r[10],string:t?e:void 0})}function yZ(n,t,e,r){var i=Xh(n,t,e),o=Xw(r==null?",f":r),a;switch(o.type){case"s":{var s=Math.max(Math.abs(n),Math.abs(t));return o.precision==null&&!isNaN(a=OZ(i,s))&&(o.precision=a),iL(o,s)}case"":case"e":case"g":case"p":case"r":{o.precision==null&&!isNaN(a=EZ(i,Math.max(Math.abs(n),Math.abs(t))))&&(o.precision=a-+(o.type==="e"));break}case"f":case"%":{o.precision==null&&!isNaN(a=TZ(i))&&(o.precision=a-+(o.type==="%")*2);break}}return V0(o)}var qw;function CZ(n,t){t===void 0&&(t=0);var e=Pv(n,t);if(!e)return String(n);var r=e[0],i=e[1];qw=Math.max(-8,Math.min(8,Math.floor(i/3)))*3;var o=i-qw+1,a=r.length;if(o===a)return r;if(o>a)return r+new Array(o-a+1).join("0");if(o>0)return r.slice(0,o)+"."+r.slice(o);var s=Pv(n,Math.max(0,t+o-1));return"0."+new Array(1-o).join("0")+s[0]}function bZ(n){return Math.abs(n=Math.round(n))>=1e21?n.toLocaleString("en").replace(/,/g,""):n.toString(10)}function wZ(n,t){return function(e,r){for(var i=[],o=e.length,a=0,s=n[0],l=0;o>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),i.push(e.substring(o-=s,o+s)),!((l+=s+1)>r));)s=n[a=(a+1)%n.length];return i.reverse().join(t)}}function _Z(n){return function(t){return t.replace(/[0-9]/g,function(e){return n[+e]})}}function SZ(n){e:for(var t=n.length,e=1,r=-1,i=0;e<t;++e)switch(n[e]){case".":r=i=e;break;case"0":r===0&&(r=e),i=e;break;default:if(!+n[e])break e;r>0&&(r=0);break}return r>0?n.slice(0,r)+n.slice(i+1):n}function FE(n,t){var e=Pv(n,t);if(!e)return String(n);var r=e[0],i=e[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}function Pv(n,t){var e=t?n.toExponential(t-1):n.toExponential(),r=e.indexOf("e");if(!(r<0)){var i=e.slice(0,r);return[i.length>1?i[0]+i.slice(2):i,+e.slice(r+1)]}}function IE(n){return n}var VC,V0,iL;xZ({thousands:",",grouping:[3],currency:["$",""]});function xZ(n){VC=RZ(n),V0=VC.format,iL=VC.formatPrefix}function Bc(n){var t=Pv(Math.abs(n));return t?t[1]:NaN}function TZ(n){return Math.max(0,-Bc(Math.abs(n)))}function OZ(n,t){var e=Math.floor(Bc(t)/3);return e=Math.min(8,e),e=Math.max(-8,e),Math.max(0,e*3-Bc(Math.abs(n)))}function EZ(n,t){return n=Math.abs(n),t=Math.abs(t)-n,Math.max(0,Bc(t)-Bc(n))+1}function RZ(n){var t=n.grouping===void 0||n.thousands===void 0?IE:wZ(Array.prototype.map.call(n.grouping,Number),String(n.thousands)),e=n.currency===void 0?"":String(n.currency[0]),r=n.currency===void 0?"":String(n.currency[1]),i=n.decimal===void 0?".":String(n.decimal),o=n.numerals===void 0?IE:_Z(Array.prototype.map.call(n.numerals,String)),a=n.percent===void 0?"%":String(n.percent),s=n.minus===void 0?"\u2212":String(n.minus),l=n.nan===void 0?"NaN":String(n.nan);function u(p){var h=Xw(p),d=h.fill,f=h.align,g=h.sign,v=h.symbol,m=h.zero,C=h.width,b=h.comma,w=h.precision,S=h.trim,T=h.type;T==="n"?(b=!0,T="g"):DE[T]||(w===void 0&&(w=12),S=!0,T="g"),(m||d==="0"&&f==="=")&&(m=!0,d="0",f="=");var E=v==="$"?e:v==="#"&&/[boxX]/.test(T)?"0"+T.toLowerCase():"",P=v==="$"?r:/[%p]/.test(T)?a:"",R=DE[T],M=/[defgprs%]/.test(T);w===void 0?w=6:/[gprs]/.test(T)?w=Math.max(1,Math.min(21,w)):w=Math.max(0,Math.min(20,w));function N(B){var k=E,G=P,V;if(T==="c")G=R(+B)+G,V="";else{var z=+B,ee=B<0||1/z<0;V=isNaN(z)?l:R(Math.abs(z),w),S&&(V=SZ(V)),ee&&+V==0&&g!=="+"&&(ee=!1);var Q=ee?g==="("?g:s:g==="-"||g==="("?"":g,ue=ee&&g==="("?")":"";if(k=Q+k,G=(T==="s"?ME[8+qw/3]:"")+G+ue,M)for(var X=0,se=V.length;X<se;X++){var $=V.charCodeAt(X);if(48>$||$>57){G=($===46?i+V.slice(X+1):V.slice(X))+G,V=V.slice(0,X);break}}}b&&!m&&(V=t(V,1/0));var q=k.length+V.length+G.length,ce=q<C?new Array(C-q+1).join(d):"";switch(b&&m&&(V=t(ce+V,ce.length?C-G.length:1/0),ce=""),f){case"<":V=k+V+G+ce;break;case"=":V=k+ce+V+G;break;case"^":V=ce.slice(0,q=ce.length>>1)+k+V+G+ce.slice(q);break;default:V=ce+k+V+G;break}var he=h.string;return he?he.replace(nL,function(){return o(V)}):o(V)}return N}function c(p,h){var d=Xw(p);d.type="f";var f=u(d),g=Math.max(-8,Math.min(8,Math.floor(Bc(h)/3)))*3,v=Math.pow(10,-g),m=ME[8+g/3];return function(C){return f(v*+C)+m}}return{format:u,formatPrefix:c}}var PZ=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),ur=function(n){PZ(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.type="linear",e}return t.prototype.ticks=function(e){e===void 0&&(e=10);var r=this._domain;return Rv(r[0],r[r.length-1],e)},t.prototype.nice=function(e){e===void 0&&(e=10);var r=this.domain,i=0,o=r.length-1,a=r[i],s=r[o],l;s<a&&(l=a,a=s,s=l,l=i,i=o,o=l),l=GC(a,s,e),l>0?(a=Math.floor(a/l)*l,s=Math.ceil(s/l)*l,l=GC(a,s,e)):l<0&&(a=Math.ceil(a*l)/l,s=Math.floor(s*l)/l,l=GC(a,s,e)),l>0?(r[i]=Math.floor(a/l)*l,r[o]=Math.ceil(s/l)*l,this.domain=r):l<0&&(r[i]=Math.ceil(a*l)/l,r[o]=Math.floor(s*l)/l,this.domain=r)},t.prototype.tickFormat=function(e,r){var i=this.domain;return yZ(i[0],i[i.length-1],e==null?10:e,r)},t}(Yr),AZ=globalThis&&globalThis.__values||function(n){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};function Zw(n,t){for(var e=0;e<n.length;e++){var r=n[e];if(t(r,e,n))return r}}function DZ(n){return n}function Ji(n,t,e){for(var r=e||DZ,i=n.length,o=-1,a,s,l;++o<i;)if(a=n[o],t(a))for(s=l=a;++o<i;)a=n[o],t(a)&&(s>a&&(s=a),l<a&&(l=a));return s===void 0||l===void 0?void 0:[r(s),r(l)]}function MZ(n){var t,e,r=0,i=0;try{for(var o=AZ(n),a=o.next();!a.done;a=o.next()){var s=a.value;s<0?r+=s:i+=s}}catch(l){t={error:l}}finally{try{a&&!a.done&&(e=o.return)&&e.call(o)}finally{if(t)throw t.error}}return{min:r,max:i}}function Hs(n){return typeof n!="number"?!1:Number.isFinite(n)}function FZ(n){return!!n&&n.hasOwnProperty("valueOf")&&Hs(n.valueOf())}function IZ(n){return Hs(n)||FZ(n)}function LZ(n){return n instanceof Date&&!isNaN(+n)}function oL(n){return typeof n=="string"}function NZ(n){return!!n&&n.hasOwnProperty("toString")&&oL(n.toString())}function WC(n){return oL(n)||NZ(n)}function cn(n){return IZ(n)||LZ(n)}var kZ=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),sr=function(n){kZ(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.isContainerNode=!0,e._opacity=1,e}return Object.defineProperty(t.prototype,"opacity",{get:function(){return this._opacity},set:function(e){e=Math.min(1,Math.max(0,e)),this._opacity!==e&&(this._opacity=e,this.dirty=!0)},enumerable:!0,configurable:!0}),t.prototype.containsPoint=function(e,r){return!0},t.prototype.computeBBox=function(){var e=1/0,r=-1/0,i=1/0,o=-1/0;return this.dirtyTransform&&this.computeTransformMatrix(),this.children.forEach(function(a){if(!!a.visible){var s=a.computeBBox();if(!!s){if(!(a instanceof t)){a.dirtyTransform&&a.computeTransformMatrix();for(var l=Ss.flyweight(a.matrix),u=a.parent;u;)l.preMultiplySelf(u.matrix),u=u.parent;l.transformBBox(s,0,s)}var c=s.x,p=s.y;c<e&&(e=c),p<i&&(i=p),c+s.width>r&&(r=c+s.width),p+s.height>o&&(o=p+s.height)}}}),new lr(e,i,r-e,o-i)},t.prototype.render=function(e){this.dirtyTransform&&this.computeTransformMatrix(),this.matrix.toContext(e);var r=this.children,i=r.length;e.globalAlpha*=this.opacity,this.dirtyZIndex&&(this.dirtyZIndex=!1,r.sort(function(s,l){return s.zIndex-l.zIndex}));for(var o=0;o<i;o++){var a=r[o];a.visible&&(e.save(),a.render(e),e.restore())}},t.className="Group",t}(fa),LE=function(){function n(t,e){this.next=null,this.scene=t.scene,this.parent=t,this.datum=e}return n.prototype.appendChild=function(t){if(this.next===null)return this.parent.insertBefore(t,null);if(!fa.isNode(this.next))throw new Error(this.next+" is not a Node.");return this.parent.insertBefore(t,this.next)},n.prototype.insertBefore=function(t,e){return this.parent.insertBefore(t,e)},n}(),mr=function(){function n(t,e){this.groups=t,this.parents=e}return n.select=function(t){return new n([[typeof t=="function"?t():t]],[void 0])},n.selectAll=function(t){return new n([t==null?[]:t],[void 0])},n.prototype.append=function(t){return this.select(function(e){return e.appendChild(new t)})},n.prototype.appendFn=function(t){return this.select(function(e,r,i,o){return e.appendChild(t(e,r,i,o))})},n.prototype.select=function(t){for(var e=this.groups,r=e.length,i=[],o=0;o<r;o++)for(var a=e[o],s=a.length,l=i[o]=new Array(s),u=0;u<s;u++){var c=a[u];if(c){var p=t(c,c.datum,u,a);p&&(p.datum=c.datum),l[u]=p}}return new n(i,this.parents)},n.prototype.selectByClass=function(t){return this.select(function(e){if(fa.isNode(e))for(var r=e.children,i=r.length,o=0;o<i;o++){var a=r[o];if(a instanceof t)return a}})},n.prototype.selectByTag=function(t){return this.select(function(e){if(fa.isNode(e))for(var r=e.children,i=r.length,o=0;o<i;o++){var a=r[o];if(a.tag===t)return a}})},n.prototype.selectAllByClass=function(t){return this.selectAll(function(e){var r=[];if(fa.isNode(e))for(var i=e.children,o=i.length,a=0;a<o;a++){var s=i[a];s instanceof t&&r.push(s)}return r})},n.prototype.selectAllByTag=function(t){return this.selectAll(function(e){var r=[];if(fa.isNode(e))for(var i=e.children,o=i.length,a=0;a<o;a++){var s=i[a];s.tag===t&&r.push(s)}return r})},n.prototype.selectNone=function(){return[]},n.prototype.selectAll=function(t){t||(t=this.selectNone);for(var e=[],r=[],i=this.groups,o=i.length,a=0;a<o;a++)for(var s=i[a],l=s.length,u=0;u<l;u++){var c=s[u];c&&(e.push(t(c,c.datum,u,s)),r.push(c))}return new n(e,r)},n.prototype.each=function(t){for(var e=this.groups,r=e.length,i=0;i<r;i++)for(var o=e[i],a=o.length,s=0;s<a;s++){var l=o[s];l&&t(l,l.datum,s,o)}return this},n.prototype.remove=function(){return this.each(function(t){if(fa.isNode(t)){var e=t.parent;e&&e.removeChild(t)}})},n.prototype.merge=function(t){for(var e=this.groups,r=t.groups,i=e.length,o=r.length,a=Math.min(i,o),s=new Array(i),l=0;l<a;l++)for(var u=e[l],c=r[l],p=u.length,h=s[l]=new Array(p),d=0;d<p;d++){var f=u[d]||c[d];h[d]=f||void 0}for(;l<i;l++)s[l]=e[l];return new n(s,this.parents)},n.prototype.node=function(){for(var t=this.groups,e=t.length,r=0;r<e;r++)for(var i=t[r],o=i.length,a=0;a<o;a++){var s=i[a];if(s)return s}return null},n.prototype.attr=function(t,e){return this.each(function(r){r[t]=e}),this},n.prototype.attrFn=function(t,e){return this.each(function(r,i,o,a){r[t]=e(r,i,o,a)}),this},n.prototype.call=function(t){return t(this),this},Object.defineProperty(n.prototype,"size",{get:function(){var t=0;return this.each(function(){return t++}),t},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"data",{get:function(){var t=[];return this.each(function(e,r){return t.push(r)}),t},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"enter",{get:function(){return new n(this.enterGroups?this.enterGroups:[[]],this.parents)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"exit",{get:function(){return new n(this.exitGroups?this.exitGroups:[[]],this.parents)},enumerable:!0,configurable:!0}),n.prototype.setDatum=function(t){return this.each(function(e){e.datum=t})},Object.defineProperty(n.prototype,"datum",{get:function(){var t=this.node();return t?t.datum:null},enumerable:!0,configurable:!0}),n.prototype.setData=function(t,e){if(typeof t!="function"){var r=t;t=function(){return r}}for(var i=this.groups,o=this.parents,a=i.length,s=new Array(a),l=new Array(a),u=new Array(a),c=0;c<a;c++){var p=i[c],h=o[c];if(!h)throw new Error("Group #"+c+" has no parent: "+p);var d=p.length,f=t(h,h.datum,c,o),g=f.length,v=l[c]=new Array(g),m=s[c]=new Array(g),C=u[c]=new Array(d);e?this.bindKey(h,p,v,m,C,f,e):this.bindIndex(h,p,v,m,C,f);for(var b=0,w=0;b<g;b++){var S=v[b];if(S){b>=w&&(w=b+1);for(var T=void 0;!(T=m[w])&&w<g;)w++;S.next=T||null}}}var E=new n(s,o);return E.enterGroups=l,E.exitGroups=u,E},n.prototype.bindIndex=function(t,e,r,i,o,a){for(var s=e.length,l=a.length,u=0;u<l;u++){var c=e[u];c?(c.datum=a[u],i[u]=c):r[u]=new LE(t,a[u])}for(;u<s;u++){var c=e[u];c&&(o[u]=c)}},n.prototype.bindKey=function(t,e,r,i,o,a,s){for(var l=e.length,u=a.length,c=new Array(l),p={},h=0;h<l;h++){var d=e[h];if(d){var f=c[h]=n.keyPrefix+s(d,d.datum,h,e);f in p?o[h]=d:p[f]=d}}for(var h=0;h<u;h++){var f=n.keyPrefix+s(t,a[h],h,a),d=p[f];d?(i[h]=d,d.datum=a[h],p[f]=void 0):r[h]=new LE(t,a[h])}for(var h=0;h<l;h++){var d=e[h];d&&p[c[h]]===d&&(o[h]=d)}},n.keyPrefix="$",n}(),GZ=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),eo=function(n){GZ(t,n);function t(){var e=n.call(this)||this;return e._x1=0,e._y1=0,e._x2=0,e._y2=0,e.restoreOwnStyles(),e}return Object.defineProperty(t.prototype,"x1",{get:function(){return this._x1},set:function(e){this._x1!==e&&(this._x1=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"y1",{get:function(){return this._y1},set:function(e){this._y1!==e&&(this._y1=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"x2",{get:function(){return this._x2},set:function(e){this._x2!==e&&(this._x2=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"y2",{get:function(){return this._y2},set:function(e){this._y2!==e&&(this._y2=e,this.dirty=!0)},enumerable:!0,configurable:!0}),t.prototype.computeBBox=function(){return new lr(this.x1,this.y1,this.x2-this.x1,this.y2-this.y1)},t.prototype.isPointInPath=function(e,r){return!1},t.prototype.isPointInStroke=function(e,r){return!1},t.prototype.render=function(e){this.dirtyTransform&&this.computeTransformMatrix(),this.matrix.toContext(e);var r=this.x1,i=this.y1,o=this.x2,a=this.y2;if(r===o){var s=Math.round(r)+Math.floor(this.strokeWidth)%2/2;r=s,o=s}else if(i===a){var l=Math.round(i)+Math.floor(this.strokeWidth)%2/2;i=l,a=l}e.beginPath(),e.moveTo(r,i),e.lineTo(o,a),this.fillStroke(e),this.dirty=!1},t.className="Line",t.defaultStyles=Am(Ws.defaultStyles,{fill:void 0,strokeWidth:1}),t}(Ws),NE=Math.sign?Math.sign:function(n){return n=+n,n===0||isNaN(n)?n:n>0?1:-1};function BZ(n,t){var e=-t/n;return n!==0&&e>=0&&e<=1?[e]:[]}function VZ(n,t,e){if(n===0)return BZ(t,e);var r=t*t-4*n*e,i=[];if(r===0){var o=-t/(2*n);o>=0&&o<=1&&i.push(o)}else if(r>0){var a=Math.sqrt(r),s=(-t-a)/(2*n),l=(-t+a)/(2*n);s>=0&&s<=1&&i.push(s),l>=0&&l<=1&&i.push(l)}return i}function WZ(n,t,e,r){if(n===0)return VZ(t,e,r);var i=t/n,o=e/n,a=r/n,s=(3*o-i*i)/9,l=(9*i*o-27*a-2*i*i*i)/54,u=s*s*s+l*l,c=1/3,p=[];if(u>=0){var h=Math.sqrt(u),d=NE(l+h)*Math.pow(Math.abs(l+h),c),f=NE(l-h)*Math.pow(Math.abs(l-h),c),g=Math.abs(Math.sqrt(3)*(d-f)/2),v=-c*i+(d+f);if(v>=0&&v<=1&&p.push(v),g===0){var m=-c*i-(d+f)/2;m>=0&&m<=1&&p.push(m)}}else{var C=Math.acos(l/Math.sqrt(-s*s*s)),b=c*i,w=2*Math.sqrt(-s),S=w*Math.cos(c*C)-b,T=w*Math.cos(c*(C+2*Math.PI))-b,E=w*Math.cos(c*(C+4*Math.PI))-b;S>=0&&S<=1&&p.push(S),T>=0&&T<=1&&p.push(T),E>=0&&E<=1&&p.push(E)}return p}function HC(n,t,e,r,i,o,a,s){var l=(e-n)*(s-o)-(r-t)*(a-i);if(l===0)return null;var u=((a-i)*(t-o)-(n-i)*(s-o))/l,c=((e-n)*(t-o)-(r-t)*(n-i))/l;return u>=0&&u<=1&&c>=0&&c<=1?{x:n+u*(e-n),y:t+u*(r-t)}:null}function HZ(n,t,e,r,i,o,a,s,l,u,c,p){for(var h=[],d=u-p,f=c-l,g=l*(p-u)-u*(c-l),v=kE(n,e,i,a),m=kE(t,r,o,s),C=d*v[0]+f*m[0],b=d*v[1]+f*m[1],w=d*v[2]+f*m[2],S=d*v[3]+f*m[3]+g,T=WZ(C,b,w,S),E=0;E<T.length;E++){var P=T[E],R=P*P,M=P*R,N=v[0]*M+v[1]*R+v[2]*P+v[3],B=m[0]*M+m[1]*R+m[2]*P+m[3],k=void 0;l!==c?k=(N-l)/(c-l):k=(B-u)/(p-u),k>=0&&k<=1&&h.push({x:N,y:B})}return h}function kE(n,t,e,r){return[-n+3*t-3*e+r,3*n-6*t+3*e,-3*n+3*t,n]}var aL=function(){function n(){this.commands=[],this.params=[],this._closedPath=!1}return n.prototype.draw=function(t){var e=this.commands,r=this.params,i=e.length,o=0;t.beginPath();for(var a=0;a<i;a++)switch(e[a]){case"M":t.moveTo(r[o++],r[o++]);break;case"L":t.lineTo(r[o++],r[o++]);break;case"C":t.bezierCurveTo(r[o++],r[o++],r[o++],r[o++],r[o++],r[o++]);break;case"Z":t.closePath();break}},n.prototype.moveTo=function(t,e){this.xy?(this.xy[0]=t,this.xy[1]=e):this.xy=[t,e],this.commands.push("M"),this.params.push(t,e)},n.prototype.lineTo=function(t,e){this.xy?(this.commands.push("L"),this.params.push(t,e),this.xy[0]=t,this.xy[1]=e):this.moveTo(t,e)},n.prototype.rect=function(t,e,r,i){this.moveTo(t,e),this.lineTo(t+r,e),this.lineTo(t+r,e+i),this.lineTo(t,e+i),this.closePath()},n.prototype.arcTo=function(t,e,r,i,o,a,s){var l=this.xy;if(!!l){t<0&&(t=-t),e<0&&(e=-e);var u=l[0],c=l[1],p=(u-a)/2,h=(c-s)/2,d=Math.sin(r),f=Math.cos(r),g=f*p+d*h,v=-d*p+f*h,m=g/t,C=v/e,b=m*m+C*C,w=(u+a)/2,S=(c+s)/2,T=0,E=0;b>=1?(b=Math.sqrt(b),t*=b,e*=b):(b=Math.sqrt(1/b-1),i===o&&(b=-b),T=b*t*C,E=-b*e*m,w+=f*T-d*E,S+=d*T+f*E);var P=Math.atan2((v-E)/e,(g-T)/t),R=Math.atan2((-v-E)/e,(-g-T)/t)-P;this.cubicArc(w,S,t,e,r,P,P+R,1-o)}},n.cubicArc=function(t,e,r,i,o,a,s,l,u,c){if(c){var p=l;l=u,u=p}var h=e.length,d=.5522847498307935,f=Math.sin(l),g=Math.cos(l),v=Math.sin(s),m=Math.cos(s),C=Math.PI/2,b=m*g*o-v*f*a,w=v*g*o+m*f*a,S=-m*f*o-v*g*a,T=-v*f*o+m*g*a;for(u-=l,u<0&&(u+=Math.PI*2),t.push("M"),e.push(b+r,w+i);u>=C;){u-=C,t.push("C");var E=S+r;e.push(b+S*d+r,w+T*d+i,b*d+S+r,w*d+T+i,Math.abs(E)<1e-8?0:E,T+i);var p=b;b=S,S=-p,p=w,w=T,T=-p}if(u){var P=1.3333333333333333*Math.tan(u/4),R=Math.sin(u),M=Math.cos(u),N=M+P*R,B=R-P*M;t.push("C");var E=b*M+S*R+r;e.push(b+S*P+r,w+T*P+i,b*N+S*B+r,w*N+T*B+i,Math.abs(E)<1e-8?0:E,w*M+T*R+i)}if(c)for(var k=h,G=e.length-2;k<G;k+=2,G-=2){var p=e[k];e[k]=e[G],e[G]=p,p=e[k+1],e[k+1]=e[G+1],e[G+1]=p}},n.prototype.cubicArc=function(t,e,r,i,o,a,s,l){var u=this.commands,c=this.params,p=u.length;n.cubicArc(u,c,t,e,r,i,o,a,s,l);var h=c[c.length-2],d=c[c.length-1];this.xy?(u[p]="L",this.xy[0]=h,this.xy[1]=d):this.xy=[h,d]},n.prototype.deCasteljau=function(t,e){var r=t.length;if(r<2||r%2===1)throw new Error("Fewer than two points or not an even count.");if(r===2||e===0)return t.slice(0,2);if(e===1)return t.slice(-2);for(var i=[],o=r-2,a=0;a<o;a+=2)i.push((1-e)*t[a]+e*t[a+2],(1-e)*t[a+1]+e*t[a+3]);return this.deCasteljau(i,e)},n.prototype.approximateCurve=function(t,e){var r=this.deCasteljau(t,0);this.moveTo(r[0],r[1]);for(var i=1/e,o=i;o<=1;o+=i){var a=this.deCasteljau(t,o);this.lineTo(a[0],a[1])}},n.prototype.quadraticCurveTo=function(t,e,r,i){this.xy||this.moveTo(t,e),this.cubicCurveTo((this.xy[0]+2*t)/3,(this.xy[1]+2*e)/3,(2*t+r)/3,(2*e+i)/3,r,i)},n.prototype.cubicCurveTo=function(t,e,r,i,o,a){this.xy||this.moveTo(t,e),this.commands.push("C"),this.params.push(t,e,r,i,o,a),this.xy[0]=o,this.xy[1]=a},Object.defineProperty(n.prototype,"closedPath",{get:function(){return this._closedPath},enumerable:!0,configurable:!0}),n.prototype.closePath=function(){this.xy&&(this.xy=void 0,this.commands.push("Z"),this._closedPath=!0)},n.prototype.clear=function(){this.commands.length=0,this.params.length=0,this.xy=void 0,this._closedPath=!1},n.prototype.isPointInPath=function(t,e){for(var r=this.commands,i=this.params,o=r.length,a=-1e4,s=-1e4,l=NaN,u=NaN,c=0,p=0,h=0,d=0,f=0;d<o;d++)switch(r[d]){case"M":isNaN(l)||HC(l,u,c,p,a,s,t,e)&&h++,l=c=i[f++],u=p=i[f++];break;case"L":HC(c,p,c=i[f++],p=i[f++],a,s,t,e)&&h++;break;case"C":h+=HZ(c,p,i[f++],i[f++],i[f++],i[f++],c=i[f++],p=i[f++],a,s,t,e).length;break;case"Z":isNaN(l)||HC(l,u,c,p,a,s,t,e)&&h++;break}return h%2===1},n.fromString=function(t){var e=new n;return e.setFromString(t),e},n.parseSvgPath=function(t){return t.trim().split(n.splitCommandsRe).map(function(e){var r=e.match(n.matchParamsRe);return{command:e.substr(0,1),params:r?r.map(parseFloat):[]}})},n.prettifySvgPath=function(t){return n.parseSvgPath(t).map(function(e){return e.command+e.params.join(",")}).join(`
`)},n.prototype.setFromString=function(t){var e=this;this.clear();var r=n.parseSvgPath(t),i,o,a,s,l;function u(){l.match(n.quadraticCommandRe)||(a=i,s=o)}function c(){l.match(n.cubicCommandRe)||(a=i,s=o)}r.forEach(function(p){var h=p.params,d=h.length,f=0;switch(p.command){case"M":for(e.moveTo(i=h[f++],o=h[f++]);f<d;)e.lineTo(i=h[f++],o=h[f++]);break;case"m":for(e.moveTo(i+=h[f++],o+=h[f++]);f<d;)e.lineTo(i+=h[f++],o+=h[f++]);break;case"L":for(;f<d;)e.lineTo(i=h[f++],o=h[f++]);break;case"l":for(;f<d;)e.lineTo(i+=h[f++],o+=h[f++]);break;case"C":for(;f<d;)e.cubicCurveTo(h[f++],h[f++],a=h[f++],s=h[f++],i=h[f++],o=h[f++]);break;case"c":for(;f<d;)e.cubicCurveTo(i+h[f++],o+h[f++],a=i+h[f++],s=o+h[f++],i+=h[f++],o+=h[f++]);break;case"S":for(c();f<d;)e.cubicCurveTo(i+i-a,o+o-s,a=h[f++],s=h[f++],i=h[f++],o=h[f++]);break;case"s":for(c();f<d;)e.cubicCurveTo(i+i-a,o+o-s,a=i+h[f++],s=o+h[f++],i+=h[f++],o+=h[f++]);break;case"Q":for(;f<d;)e.quadraticCurveTo(a=h[f++],s=h[f++],i=h[f++],o=h[f++]);break;case"q":for(;f<d;)e.quadraticCurveTo(a=i+h[f++],s=o+h[f++],i+=h[f++],o+=h[f++]);break;case"T":for(u();f<d;)e.quadraticCurveTo(a=i+i-a,s=o+o-s,i=h[f++],o=h[f++]);break;case"t":for(u();f<d;)e.quadraticCurveTo(a=i+i-a,s=o+o-s,i+=h[f++],o+=h[f++]);break;case"A":for(;f<d;)e.arcTo(h[f++],h[f++],h[f++]*Math.PI/180,h[f++],h[f++],i=h[f++],o=h[f++]);break;case"a":for(;f<d;)e.arcTo(h[f++],h[f++],h[f++]*Math.PI/180,h[f++],h[f++],i+=h[f++],o+=h[f++]);break;case"Z":case"z":e.closePath();break;case"H":for(;f<d;)e.lineTo(i=h[f++],o);break;case"h":for(;f<d;)e.lineTo(i+=h[f++],o);break;case"V":for(;f<d;)e.lineTo(i,o=h[f++]);break;case"v":for(;f<d;)e.lineTo(i,o+=h[f++]);break}l=p.command})},n.prototype.toString=function(){for(var t=this.commands,e=this.params,r=t.length,i=[],o=0,a=0;o<r;o++)switch(t[o]){case"M":i.push("M"+e[a++]+","+e[a++]);break;case"L":i.push("L"+e[a++]+","+e[a++]);break;case"C":i.push("C"+e[a++]+","+e[a++]+" "+e[a++]+","+e[a++]+" "+e[a++]+","+e[a++]);break;case"Z":i.push("Z");break}return i.join("")},n.prototype.toPrettyString=function(){return n.prettifySvgPath(this.toString())},n.prototype.toSvg=function(){return n.xmlDeclaration+`
<svg width="100%" height="100%" viewBox="0 0 50 50" version="1.1" xmlns="`+n.xmlns+`">
    <path d="`+this.toString()+`" style="fill:none;stroke:#000;stroke-width:0.5;"/>
</svg>`},n.prototype.toDebugSvg=function(){var t=n.prettifySvgPath(this.toString());return n.xmlDeclaration+`
<svg width="100%" height="100%" viewBox="0 0 100 100" version="1.1" xmlns="`+n.xmlns+`">
    <path d="`+t+`" style="fill:none;stroke:#000;stroke-width:0.5;"/>
</svg>`},n.prototype.toCubicPaths=function(){var t=[],e=this.params,r,i,o,a,s,l=0;return this.commands.forEach(function(u){switch(u){case"M":r=[i=a=e[l++],o=s=e[l++]],t.push(r);break;case"L":var c=e[l++],p=e[l++];r.push((a+a+c)/3,(s+s+p)/3,(a+c+c)/3,(s+p+p)/3,a=c,s=p);break;case"C":r.push(e[l++],e[l++],e[l++],e[l++],a=e[l++],s=e[l++]);break;case"Z":r.push((a+a+i)/3,(s+s+o)/3,(a+i+i)/3,(s+o+o)/3,a=i,s=o);break}}),t},n.cubicPathToString=function(t){var e=t.length;if(!(e%2===0&&(e/2-1)/2>=1))throw new Error("Invalid path.");return"M"+t.slice(0,2).join(",")+"C"+t.slice(2).join(",")},n.splitCommandsRe=/(?=[AaCcHhLlMmQqSsTtVvZz])/g,n.matchParamsRe=/-?[0-9]*\.?\d+/g,n.quadraticCommandRe=/[QqTt]/,n.cubicCommandRe=/[CcSs]/,n.xmlDeclaration='<?xml version="1.0" encoding="UTF-8"?>',n.xmlns="http://www.w3.org/2000/svg",n}(),jZ=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Mn=function(n){jZ(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.path=new aL,e._dirtyPath=!0,e._svgPath="",e}return Object.defineProperty(t.prototype,"dirtyPath",{get:function(){return this._dirtyPath},set:function(e){this._dirtyPath!==e&&(this._dirtyPath=e,e&&(this.dirty=!0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"svgPath",{get:function(){return this._svgPath},set:function(e){this._svgPath!==e&&(this._svgPath=e,this.path.setFromString(e),this.dirty=!0)},enumerable:!0,configurable:!0}),t.prototype.isPointInPath=function(e,r){var i=this.transformPoint(e,r);return this.path.closedPath&&this.path.isPointInPath(i.x,i.y)},t.prototype.isPointInStroke=function(e,r){return!1},t.prototype.updatePath=function(){},t.prototype.render=function(e){this.dirtyTransform&&this.computeTransformMatrix(),this.matrix.toContext(e),this.dirtyPath&&(this.updatePath(),this.dirtyPath=!1),this.path.draw(e),this.fillStroke(e),this.dirty=!1},t.className="Path",t}(Ws),Wo=Math.PI*2;function Oi(n){return n%=Wo,n+=Wo,n%=Wo,n}function UZ(n){return n%=Wo,n+=Wo,n!==Wo&&(n%=Wo),n}function zZ(n){return n%=Wo,n<-Math.PI?n+=Wo:n>=Math.PI&&(n-=Wo),n}function or(n){return n/180*Math.PI}function sL(n,t,e){return e===void 0&&(e=1e-10),Math.abs(n-t)<e}function Qw(n,t){t===void 0&&(t=2);var e=Math.floor(Math.log(Math.abs(n))/Math.LN10);return e>=0||!isFinite(e)?n.toFixed(t):n.toFixed(Math.abs(e)-1+t)}function $Z(n,t){var e=n%t;return e>=0?e:e+t}var KZ=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),lc;(function(n){n[n.Open=0]="Open",n[n.Chord=1]="Chord",n[n.Round=2]="Round"})(lc||(lc={}));var W0=function(n){KZ(t,n);function t(){var e=n.call(this)||this;return e._centerX=0,e._centerY=0,e._radiusX=10,e._radiusY=10,e._startAngle=0,e._endAngle=Math.PI*2,e._counterClockwise=!1,e._type=lc.Open,e.restoreOwnStyles(),e}return Object.defineProperty(t.prototype,"centerX",{get:function(){return this._centerX},set:function(e){this._centerX!==e&&(this._centerX=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"centerY",{get:function(){return this._centerY},set:function(e){this._centerY!==e&&(this._centerY=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"radiusX",{get:function(){return this._radiusX},set:function(e){this._radiusX!==e&&(this._radiusX=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"radiusY",{get:function(){return this._radiusY},set:function(e){this._radiusY!==e&&(this._radiusY=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"startAngle",{get:function(){return this._startAngle},set:function(e){this._startAngle!==e&&(this._startAngle=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"endAngle",{get:function(){return this._endAngle},set:function(e){this._endAngle!==e&&(this._endAngle=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fullPie",{get:function(){return sL(Oi(this.startAngle),Oi(this.endAngle))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"counterClockwise",{get:function(){return this._counterClockwise},set:function(e){this._counterClockwise!==e&&(this._counterClockwise=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"type",{get:function(){return this._type},set:function(e){this._type!==e&&(this._type=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),t.prototype.updatePath=function(){var e=this.path;e.clear(),e.cubicArc(this.centerX,this.centerY,this.radiusX,this.radiusY,0,this.startAngle,this.endAngle,this.counterClockwise?1:0),this.type===lc.Chord?e.closePath():this.type===lc.Round&&!this.fullPie&&(e.lineTo(this.centerX,this.centerY),e.closePath())},t.prototype.computeBBox=function(){return new lr(this.centerX-this.radiusX,this.centerY-this.radiusY,this.radiusX*2,this.radiusY*2)},t.prototype.isPointInPath=function(e,r){var i=this.transformPoint(e,r),o=this.computeBBox();return this.type!==lc.Open&&o.containsPoint(i.x,i.y)&&this.path.isPointInPath(i.x,i.y)},t.className="Arc",t.defaultStyles=Am(Ws.defaultStyles,{lineWidth:1,fillStyle:null}),t}(Mn),GE={};function Av(n,t){GE[t]||(n(),GE[t]=!0)}var BE=globalThis&&globalThis.__read||function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},YZ=globalThis&&globalThis.__values||function(n){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},ss;(function(n){n[n.Tick=0]="Tick",n[n.GridLine=1]="GridLine"})(ss||(ss={}));var XZ=function(){function n(){this.width=1,this.size=6,this.color="rgba(195, 195, 195, 1)",this.count=void 0}return n}(),lL=function(){function n(){this.fontStyle=void 0,this.fontWeight=void 0,this.fontSize=12,this.fontFamily="Verdana, sans-serif",this.padding=5,this.color="rgba(87, 87, 87, 1)",this.rotation=void 0,this.autoRotate=void 0,this.autoRotateAngle=335,this.mirrored=!1,this.parallel=!1,this.formatter=void 0,this.onFormatChange=void 0}return Object.defineProperty(n.prototype,"format",{get:function(){return this._format},set:function(t){this._format!==t&&(this._format=t,this.onFormatChange&&this.onFormatChange(t))},enumerable:!0,configurable:!0}),n}(),qZ=function(){function n(t){this.id=ip(this),this.lineNode=new eo,this.group=new sr,this.line={width:1,color:"rgba(195, 195, 195, 1)"},this.tick=new XZ,this.label=new lL,this.translation={x:0,y:0},this.rotation=0,this._labelAutoRotated=!1,this._calculatedTickCount=void 0,this.requestedRange=[0,1],this._visibleRange=[0,1],this._title=void 0,this._gridLength=0,this.gridStyle=[{stroke:"rgba(219, 219, 219, 1)",lineDash:[4,2]}],this._radialGrid=!1,this.fractionDigits=0,this.thickness=0,this.scale=t,this.groupSelection=mr.select(this.group).selectAll(),this.label.onFormatChange=this.onLabelFormatChange.bind(this),this.group.append(this.lineNode)}return Object.defineProperty(n.prototype,"scale",{get:function(){return this._scale},set:function(t){this._scale=t,this.requestedRange=t.range.slice(),this.onLabelFormatChange()},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"ticks",{get:function(){return this._ticks},set:function(t){this._ticks=t},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"labelAutoRotated",{get:function(){return this._labelAutoRotated},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"calculatedTickCount",{get:function(){var t;return t=this._calculatedTickCount,t!=null?t:this.tick.count},enumerable:!0,configurable:!0}),n.prototype.calculateTickCount=function(t){},n.prototype.getMeta=function(){},n.prototype.updateRange=function(){var t=this,e=t.requestedRange,r=t.visibleRange,i=t.scale,o=(e[1]-e[0])/(r[1]-r[0]),a=o*r[0],s=e[0]-a;i.range=[s,s+o]},n.prototype.inRange=function(t,e,r){return e===void 0&&(e=0),r===void 0&&(r=0),this.inRangeEx(t,e,r)===0},n.prototype.inRangeEx=function(t,e,r){e===void 0&&(e=0),r===void 0&&(r=0);var i=this.range,o=Math.min(i[0],i[1]),a=Math.max(i[0],i[1]);return t+e<o-r?-1:t>a+r?1:0},Object.defineProperty(n.prototype,"range",{get:function(){return this.requestedRange.slice()},set:function(t){this.requestedRange=t.slice(),this.updateRange()},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"visibleRange",{get:function(){return this._visibleRange.slice()},set:function(t){if(t&&t.length===2){var e=BE(t,2),r=e[0],i=e[1];r=Math.max(0,r),i=Math.min(1,i),r=Math.min(r,i),i=Math.max(r,i),this._visibleRange=[r,i],this.updateRange()}},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"domain",{get:function(){return this.scale.domain.slice()},set:function(t){this.scale.domain=t.slice(),this.onLabelFormatChange(this.label.format)},enumerable:!0,configurable:!0}),n.prototype.onLabelFormatChange=function(t){if(t&&this.scale&&this.scale.tickFormat)try{this.labelFormatter=this.scale.tickFormat(this.calculatedTickCount,t)}catch{this.labelFormatter=void 0,Av(function(){return console.warn("AG Charts - the axis label format string "+t+" is invalid. No formatting will be applied")},"invalid axis label format string "+t)}else this.labelFormatter=void 0},Object.defineProperty(n.prototype,"title",{get:function(){return this._title},set:function(t){var e=this._title;e!==t&&(e&&this.group.removeChild(e.node),t&&(t.node.rotation=-Math.PI/2,this.group.appendChild(t.node)),this._title=t,this.positionTitle())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"gridLength",{get:function(){return this._gridLength},set:function(t){(this._gridLength&&!t||!this._gridLength&&t)&&(this.groupSelection=this.groupSelection.remove().setData([])),this._gridLength=t},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"radialGrid",{get:function(){return this._radialGrid},set:function(t){this._radialGrid!==t&&(this._radialGrid=t,this.groupSelection=this.groupSelection.remove().setData([]))},enumerable:!0,configurable:!0}),n.prototype.update=function(){var t=this,e=this,r=e.group,i=e.scale,o=e.tick,a=e.label,s=e.gridStyle,l=e.requestedRange,u=Math.min(l[0],l[1]),c=Math.max(l[0],l[1]),p=or(this.rotation),h=a.rotation?Oi(or(a.rotation)):0,d=a.parallel,f=0;r.translationX=this.translation.x,r.translationY=this.translation.y,r.rotation=p;var g=(i.bandwidth||0)/2,v=a.mirrored?1:-1,m=Oi(p),C=!h&&m>=0&&m<=Math.PI?-1:1,b=Oi(p-Math.PI/2),w=!h&&b>=0&&b<=Math.PI?-1:1,S=this.ticks||i.ticks(this.calculatedTickCount),T=this.groupSelection.setData(S);T.exit.remove();var E=T.enter.append(sr);E.append(eo).each(function(oe){return oe.tag=ss.Tick}),this.gridLength&&(this.radialGrid?E.append(W0).each(function(oe){return oe.tag=ss.GridLine}):E.append(eo).each(function(oe){return oe.tag=ss.GridLine})),E.append(un);var P=T.merge(E),R=!1;if(P.attrFn("translationY",function(oe,et){return Math.round(i.convert(et)+g)}).attrFn("visible",function(oe){var et=Math.floor(u),Ge=Math.ceil(c),ie=et!==Ge&&oe.translationY>=et&&oe.translationY<=Ge;return R=ie||R,ie}),this.group.visible=R,!R){this.groupSelection=P;return}this.fractionDigits=S.fractionDigits>=0?S.fractionDigits:0;var M=new Map,N=0,B=!1,k=!1,G=c-u,V=P.selectByClass(un).each(function(oe,et,Ge){oe.fontStyle=a.fontStyle,oe.fontWeight=a.fontWeight,oe.fontSize=a.fontSize,oe.fontFamily=a.fontFamily,oe.fill=a.color,oe.text=t.formatTickDatum(et,Ge),oe.visible=oe.parent.visible,oe.visible===!0&&(M.set(Ge,oe.computeBBox()),!(oe.text===""||oe.text==null)&&(N++,Ge===0&&oe.translationY===i.range[0]?B=!0:Ge===S.length-1&&oe.translationY===i.range[1]&&(k=!0)))}),z=v*(o.size+a.padding),ee=G/N,Q=function(oe,et){var Ge,ie,Xe=0,ht=!1,St=oe.size-1,oi=12;try{for(var Ln=YZ(oe.entries()),tn=Ln.next();!tn.done;tn=Ln.next()){var Nn=BE(tn.value,2),ki=Nn[0],Ha=Nn[1],ja=ki===0&&B||ki===St&&k?2:1,Qo=et?Ha.width/ja:Ha.height/ja,Ua=Qo<=0?0:Qo+oi;Xe+=Ua,Ua>ee&&(ht=!0)}}catch(Ys){Ge={error:Ys}}finally{try{tn&&!tn.done&&(ie=Ln.return)&&ie.call(Ln)}finally{if(Ge)throw Ge.error}}return{totalLength:Xe,rotate:ht}},ue=d,X=Q(M,ue),se=X.totalLength,$=X.rotate;this._labelAutoRotated=!1,a.rotation===void 0&&a.autoRotate===!0&&$&&(f=Oi(or(a.autoRotateAngle)),this._labelAutoRotated=!0),(h||f)&&(d?ue=h===Math.PI||f===Math.PI:ue=h===Math.PI/2||h===Math.PI+Math.PI/2||f===Math.PI/2||f===Math.PI+Math.PI/2,se=Q(M,ue).totalLength);var q=d?C*Math.PI/2:w===-1?Math.PI:0,ce=d&&!h?v*C===-1?"hanging":"bottom":"middle",he=h>0&&h<=Math.PI||f>0&&f<=Math.PI?-1:1,we=d?h||f?v*he===-1?"end":"start":"center":v*w===-1?"end":"start";if(V.each(function(oe){if(oe.text===""||oe.text==null){oe.visible=!1;return}oe.textBaseline=ce,oe.textAlign=we,oe.x=z,oe.rotationCenterX=z,oe.rotation=q+h+f}),se>G){var _e=i instanceof Yr,Oe=se/N,De=Math.floor(G/Oe),Re=De>2?Math.ceil(N/De):N,Ue=0;V.each(function(oe,et,Ge){if(oe.visible===!0){var ie=_e&&t.tick.count===void 0?Ge===0||Ge===N-1:!1;oe.visible=!!(ie||Ue%Re===0),Ue++,oe.visible||M.delete(Ge)}})}if(P.selectByTag(ss.Tick).each(function(oe,et,Ge){oe.strokeWidth=o.width,oe.stroke=o.color,oe.visible=M.has(Ge)}).attr("x1",v*o.size).attr("x2",0).attr("y1",0).attr("y2",0),this.gridLength&&s.length){var gt=s.length,Pe=void 0;if(this.radialGrid){var Ye=UZ(or(this.gridLength));Pe=P.selectByTag(ss.GridLine).each(function(oe,et,Ge){var ie=Math.round(i.convert(et)+g);oe.centerX=0,oe.centerY=i.range[0]-ie,oe.endAngle=Ye,oe.radiusX=ie,oe.radiusY=ie,oe.visible=M.has(Ge)})}else Pe=P.selectByTag(ss.GridLine).each(function(oe,et,Ge){oe.x1=0,oe.x2=-v*t.gridLength,oe.y1=0,oe.y2=0,oe.visible=Math.abs(oe.parent.translationY-i.range[0])>1&&M.has(Ge)});Pe.each(function(oe,et,Ge){var ie=s[Ge%gt];oe.stroke=ie.stroke,oe.strokeWidth=o.width,oe.lineDash=ie.lineDash,oe.fill=void 0})}this.groupSelection=P;var pt=this.lineNode;pt.x1=0,pt.x2=0,pt.y1=l[0],pt.y2=l[1],pt.strokeWidth=this.line.width,pt.stroke=this.line.color,pt.visible=S.length>0,this.positionTitle()},n.prototype.positionTitle=function(){var t=this,e=t.title,r=t.lineNode;if(!!e){var i=!1;if(e.enabled&&r.visible){i=!0;var o=this,a=o.label,s=o.rotation,l=o.requestedRange,u=a.mirrored?1:-1,c=Oi(s),p=e.padding.bottom,h=e.node,d=this.computeBBox({excludeTitle:!0}),f=u===-1&&c>Math.PI&&c<Math.PI*2?-1:1;h.rotation=f*u*Math.PI/2,h.x=f*u*(l[0]+l[1])/2,u===-1?h.y=f*(-p-d.width+Math.max(d.x+d.width,0)):h.y=-p-d.width-Math.min(d.x,0),h.textBaseline=f===1?"bottom":"top"}e.node.visible=i}},n.prototype.formatTickDatum=function(t,e){var r=this,i=r.label,o=r.labelFormatter,a=r.fractionDigits,s=this.getMeta();return i.formatter?i.formatter({value:a>=0?t:String(t),index:e,fractionDigits:a,formatter:o,axis:s}):o?o(t):typeof t=="number"&&a>=0?t.toFixed(a):String(t)},n.prototype.formatDatum=function(t){return String(t)},n.prototype.computeBBox=function(t){var e=this,r=e.title,i=e.lineNode,o=this.groupSelection.selectByClass(un),a=1/0,s=-1/0,l=1/0,u=-1/0;if(o.each(function(f){f.computeTransformMatrix();var g=Ss.flyweight(f.matrix),v=f.parent;v.computeTransformMatrix(),g.preMultiplySelf(v.matrix);var m=f.computeBBox();if(m){var C=g.transformBBox(m);a=Math.min(a,C.x),s=Math.max(s,C.x+C.width),l=Math.min(l,C.y),u=Math.max(u,C.y+C.height)}}),r&&r.enabled&&i.visible&&(!t||!t.excludeTitle)){var c=r.node;c.computeTransformMatrix();var p=Ss.flyweight(c.matrix),h=c.computeBBox();if(h){var d=p.transformBBox(h);a=Math.min(a,d.x),s=Math.max(s,d.x+d.width),l=Math.min(l,d.y),u=Math.max(u,d.y+d.height)}}return a=Math.min(a,0),s=Math.max(s,0),l=Math.min(l,i.y1,i.y2),u=Math.max(u,i.y1,i.y2),new lr(a,l,s-a,u-l)},n}(),ZZ=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),bt;(function(n){n.X="x",n.Y="y"})(bt||(bt={}));function VE(n){return n===bt.X?bt.Y:bt.X}var Me;(function(n){n.Top="top",n.Right="right",n.Bottom="bottom",n.Left="left",n.Angle="angle",n.Radius="radius"})(Me||(Me={}));var Dm=function(n){ZZ(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.keys=[],e.direction=bt.Y,e.boundSeries=[],e._position=Me.Left,e}return Object.defineProperty(t.prototype,"type",{get:function(){return this.constructor.type||""},enumerable:!0,configurable:!0}),t.prototype.getMeta=function(){return{id:this.id,direction:this.direction,boundSeries:this.boundSeries}},t.prototype.useCalculatedTickCount=function(){return this.scale instanceof ur},t.prototype.calculateTickCount=function(e){if(!!this.useCalculatedTickCount()){var r=600,i=70,o=Math.pow(Math.log(e)/Math.log(r),2),a=i*o;this._calculatedTickCount=this.tick.count||Math.max(2,Math.floor(e/a))}},Object.defineProperty(t.prototype,"position",{get:function(){return this._position},set:function(e){if(this._position!==e)switch(this._position=e,e){case Me.Top:this.direction=bt.X,this.rotation=-90,this.label.mirrored=!0,this.label.parallel=!0;break;case Me.Right:this.direction=bt.Y,this.rotation=0,this.label.mirrored=!0,this.label.parallel=!1;break;case Me.Bottom:this.direction=bt.X,this.rotation=-90,this.label.mirrored=!1,this.label.parallel=!0;break;case Me.Left:this.direction=bt.Y,this.rotation=0,this.label.mirrored=!1,this.label.parallel=!1;break}},enumerable:!0,configurable:!0}),t}(qZ),QZ=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),uL=globalThis&&globalThis.__read||function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o};function cL(n){var t,e=n[0],r=n[n.length-1];return e>r&&(t=uL([r,e],2),e=t[0],r=t[1]),function(i){return i>=e&&i<=r?i:NaN}}var op=function(n){QZ(t,n);function t(){var e=n.call(this,new ur)||this;return e._nice=!0,e._min=NaN,e._max=NaN,e.scale.clamper=cL,e}return Object.defineProperty(t.prototype,"nice",{get:function(){return this._nice},set:function(e){this._nice!==e&&(this._nice=e,e&&this.scale.nice&&this.scale.nice(typeof this.calculatedTickCount=="number"?this.calculatedTickCount:void 0))},enumerable:!0,configurable:!0}),t.prototype.setDomain=function(e,r){var i=this,o=i.scale,a=i.min,s=i.max;if(e.length>2&&(e=Ji(e,cn,Number)||[0,1]),e=[isNaN(a)?e[0]:a,isNaN(s)?e[1]:s],r){var l=uL(rZ(e,r),2),u=l[0],c=l[1];o.domain=u,this.ticks=c;return}else o.domain=e,this.onLabelFormatChange(this.label.format),this.scale.clamp=!0,this.nice&&this.scale.nice&&this.scale.nice(typeof this.calculatedTickCount=="number"?this.calculatedTickCount:void 0)},Object.defineProperty(t.prototype,"domain",{get:function(){return this.scale.domain},set:function(e){this.setDomain(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"min",{get:function(){return this._min},set:function(e){this._min!==e&&(this._min=e,isNaN(e)||(this.scale.domain=[e,this.scale.domain[1]]))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"max",{get:function(){return this._max},set:function(e){this._max!==e&&(this._max=e,isNaN(e)||(this.scale.domain=[this.scale.domain[0],e]))},enumerable:!0,configurable:!0}),t.prototype.formatDatum=function(e){return typeof e=="number"?e.toFixed(2):(Av(function(){return console.warn("AG Charts - Data contains Date objects which are being plotted against a number axis, please only use a number axis for numbers.")},"number axis config used with Date objects"),String(e))},t.className="NumberAxis",t.type="number",t}(Dm),WE=globalThis&&globalThis.__read||function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},Zo=function(){function n(){this.type="band",this.index=new Map,this.ordinalRange=[],this._domain=[],this._range=[0,1],this._bandwidth=1,this._paddingInner=0,this._paddingOuter=0,this._round=!1,this._align=.5}return Object.defineProperty(n.prototype,"domain",{get:function(){return this._domain},set:function(t){var e=this._domain;e.length=0,this.index=new Map;var r=this.index;t.forEach(function(i){r.get(i)===void 0&&r.set(i,e.push(i)-1)}),this.rescale()},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"range",{get:function(){return this._range},set:function(t){this._range[0]=t[0],this._range[1]=t[1],this.rescale()},enumerable:!0,configurable:!0}),n.prototype.ticks=function(){return this._domain},n.prototype.convert=function(t){var e=this.index.get(t);if(e===void 0)return NaN;var r=this.ordinalRange[e];return r===void 0?NaN:r},Object.defineProperty(n.prototype,"bandwidth",{get:function(){return this._bandwidth},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"padding",{get:function(){return this._paddingInner},set:function(t){t=Math.max(0,Math.min(1,t)),this._paddingInner=t,this._paddingOuter=t,this.rescale()},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"paddingInner",{get:function(){return this._paddingInner},set:function(t){this._paddingInner=Math.max(0,Math.min(1,t)),this.rescale()},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"paddingOuter",{get:function(){return this._paddingOuter},set:function(t){this._paddingOuter=Math.max(0,Math.min(1,t)),this.rescale()},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"round",{get:function(){return this._round},set:function(t){this._round=t,this.rescale()},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"align",{get:function(){return this._align},set:function(t){this._align=Math.max(0,Math.min(1,t)),this.rescale()},enumerable:!0,configurable:!0}),n.prototype.rescale=function(){var t,e=this._domain.length;if(!!e){var r=WE(this._range,2),i=r[0],o=r[1],a=o<i;a&&(t=WE([o,i],2),i=t[0],o=t[1]);var s=(o-i)/Math.max(1,e-this._paddingInner+this._paddingOuter*2);this._round&&(s=Math.floor(s)),i+=(o-i-s*(e-this._paddingInner))*this._align,this._bandwidth=s*(1-this._paddingInner),this._round&&(i=Math.round(i),this._bandwidth=Math.round(this._bandwidth));for(var l=[],u=0;u<e;u++)l.push(i+s*u);this.ordinalRange=a?l.reverse():l}},n}(),JZ=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),eu=function(n){JZ(t,n);function t(){var e=n.call(this,new Zo)||this;return e.scale.paddingInner=.2,e.scale.paddingOuter=.3,e}return Object.defineProperty(t.prototype,"paddingInner",{get:function(){return this.scale.paddingInner},set:function(e){this.scale.paddingInner=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"paddingOuter",{get:function(){return this.scale.paddingOuter},set:function(e){this.scale.paddingOuter=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"domain",{get:function(){return this.scale.domain.slice()},set:function(e){this.scale.domain=e.filter(function(r,i,o){return o.indexOf(r)===i})},enumerable:!0,configurable:!0}),t.className="CategoryAxis",t.type="category",t}(Dm),pL=function(){function n(t,e,r){t===void 0&&(t=""),r===void 0&&(r=0),this.x=0,this.y=0,this.subtreeLeft=NaN,this.subtreeRight=NaN,this.screenX=0,this.screenY=0,this.children=[],this.leafCount=0,this.prelim=0,this.mod=0,this.ancestor=this,this.change=0,this.shift=0,this.label=t,this.parent=e,this.depth=e?e.depth+1:0,this.number=r}return n.prototype.getLeftSibling=function(){return this.number>0&&this.parent?this.parent.children[this.number-1]:void 0},n.prototype.getLeftmostSibling=function(){return this.number>0&&this.parent?this.parent.children[0]:void 0},n.prototype.nextLeft=function(){return this.children?this.children[0]:this.thread},n.prototype.nextRight=function(){return this.children?this.children[this.children.length-1]:this.thread},n.prototype.getSiblings=function(){var t=this;return this.parent?this.parent.children.filter(function(e,r){return r!==t.number}):[]},n}();function eQ(n,t){t===void 0&&(t=!0);var e=new pL,r=0;return t&&n.forEach(function(i){return r=Math.max(r,i.labels.length)}),n.forEach(function(i){if(t)for(;i.labels.length<r;)i.labels.unshift("");tQ(e,i)}),e}function tQ(n,t){var e=t.labels.slice().reverse(),r=e.length-1;e.forEach(function(i,o){var a=n.children,s=Zw(a,function(c){return c.label===i}),l=o!==r;if(s&&l)n=s;else{var u=new pL(i,n);u.number=a.length,a.push(u),l&&(n=u)}})}function rQ(n,t,e){var r=t.number-n.number,i=e/r;t.change-=i,t.shift+=e,n.change+=i,t.prelim+=e,t.mod+=e}function nQ(n,t,e){return t.getSiblings().indexOf(n.ancestor)>=0?n.ancestor:e}function iQ(n){var t=n.children;if(t)for(var e=0,r=0,i=t.length-1;i>=0;i--){var o=t[i];o.prelim+=e,o.mod+=e,r+=o.change,e+=o.shift+r}}function oQ(n,t,e){var r=n.getLeftSibling();if(r){for(var i=n,o=n,a=r,s=o.getLeftmostSibling(),l=o.mod,u=i.mod,c=a.mod,p=s.mod;a.nextRight()&&o.nextLeft();){a=a.nextRight(),o=o.nextLeft(),s=s.nextLeft(),i=i.nextRight(),i.ancestor=n;var h=a.prelim+c-(o.prelim+l)+e;h>0&&(rQ(nQ(a,n,t),n,h),l+=h,u+=h),c+=a.mod,l+=o.mod,p+=s.mod,u+=i.mod}a.nextRight()&&!i.nextRight()?(i.thread=a.nextRight(),i.mod+=c-u):(o.nextLeft()&&!s.nextLeft()&&(s.thread=o.nextLeft(),s.mod+=l-p),t=n)}return t}function hL(n,t){var e=n.children;if(e.length){var r=e[0];e.forEach(function(a){hL(a,t),r=oQ(a,r,t)}),iQ(n);var i=(e[0].prelim+e[e.length-1].prelim)/2,o=n.getLeftSibling();o?(n.prelim=o.prelim+t,n.mod=n.prelim-i):n.prelim=i}else{var o=n.getLeftSibling();n.prelim=o?o.prelim+t:0}}var HE=function(){function n(){this.top=1/0,this.right=-1/0,this.bottom=-1/0,this.left=1/0}return n.prototype.update=function(t,e){var r=e(t),i=r.x,o=r.y;i>this.right&&(this.right=i),i<this.left&&(this.left=i),o>this.bottom&&(this.bottom=o),o<this.top&&(this.top=o)},n}();function dL(n,t,e){n.x=n.prelim+t,n.y=n.depth,e.update(n),n.children.forEach(function(r){return dL(r,t+n.mod,e)})}function fL(n){var t=n.children,e=0;t.forEach(function(r){fL(r),r.children.length?e+=r.leafCount:e++}),n.leafCount=e,t.length?(n.subtreeLeft=t[0].subtreeLeft,n.subtreeRight=t[n.children.length-1].subtreeRight,n.x=(n.subtreeLeft+n.subtreeRight)/2):(n.subtreeLeft=n.x,n.subtreeRight=n.x)}function aQ(n){var t=new sQ;return hL(n,1),dL(n,-n.prelim,t),fL(n),t}var sQ=function(){function n(){this.dimensions=new HE,this.leafCount=0,this.nodes=[],this.leafNodes=[],this.nonLeafNodes=[],this.depth=0}return n.prototype.update=function(t){this.dimensions.update(t,function(e){return{x:e.x,y:e.y}}),t.children.length?this.nonLeafNodes.push(t):(this.leafCount++,this.leafNodes.push(t)),t.depth>this.depth&&(this.depth=t.depth),this.nodes.push(t)},n.prototype.resize=function(t,e,r,i,o){r===void 0&&(r=0),i===void 0&&(i=0),o===void 0&&(o=!1);var a=this.leafCount-1,s=this.depth,l=this.dimensions,u=1,c=1;if(t>0&&a){var p=(l.right-l.left)/a,h=t/a;u=h/p,o&&(u=-u)}if(e>0&&s){var d=(l.bottom-l.top)/s,f=e/s;c=f/d}var g=new HE;this.nodes.forEach(function(C){C.screenX=C.x*u,C.screenY=C.y*c,g.update(C,function(b){return{x:b.screenX,y:b.screenY}})});var v=-g.left,m=-g.top;this.nodes.forEach(function(C){C.screenX+=v+r,C.screenY+=m+i})},n}(),gL=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),lQ=function(n){gL(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.grid=!1,e}return t}(lL),Vc=function(n){gL(t,n);function t(){var e=n.call(this,new Zo)||this;e.tickScale=new Zo,e.longestSeparatorLength=0,e.translation={x:0,y:0},e.rotation=0,e.line={width:1,color:"rgba(195, 195, 195, 1)"},e.label=new lQ,e.labelColor="rgba(87, 87, 87, 1)";var r=e,i=r.group,o=r.tickScale,a=r.scale;return a.paddingOuter=.1,a.paddingInner=a.paddingOuter*2,e.requestedRange=a.range.slice(),e.scale=a,o.paddingInner=1,o.paddingOuter=0,e.gridLineSelection=mr.select(i).selectAll(),e.axisLineSelection=mr.select(i).selectAll(),e.separatorSelection=mr.select(i).selectAll(),e.labelSelection=mr.select(i).selectAll(),e}return Object.defineProperty(t.prototype,"domain",{get:function(){return this.scale.domain},set:function(e){var r=e.filter(function(a,s,l){return l.indexOf(a)===s});this.scale.domain=r;var i=eQ(r);this.tickTreeLayout=aQ(i);var o=r.slice();o.push(""),this.tickScale.domain=o,this.resizeTickTree()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"range",{get:function(){return this.requestedRange.slice()},set:function(e){this.requestedRange=e.slice(),this.updateRange()},enumerable:!0,configurable:!0}),t.prototype.updateRange=function(){var e=this,r=e.requestedRange,i=e.visibleRange,o=e.scale,a=(r[1]-r[0])/(i[1]-i[0]),s=a*i[0],l=r[0]-s;this.tickScale.range=o.range=[l,l+a],this.resizeTickTree()},t.prototype.resizeTickTree=function(){var e=this.scale,r=e.domain.length?[e.convert(e.domain[0]),e.convert(e.domain[e.domain.length-1])]:e.range,i=this.tickTreeLayout,o=this.lineHeight;i&&i.resize(Math.abs(r[1]-r[0]),i.depth*o,(Math.min(r[0],r[1])||0)+(e.bandwidth||0)/2,-i.depth*o,r[1]-r[0]<0)},Object.defineProperty(t.prototype,"lineHeight",{get:function(){return this.label.fontSize*1.5},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"gridLength",{get:function(){return this._gridLength},set:function(e){(this._gridLength&&!e||!this._gridLength&&e)&&(this.gridLineSelection=this.gridLineSelection.remove().setData([]),this.labelSelection=this.labelSelection.remove().setData([])),this._gridLength=e},enumerable:!0,configurable:!0}),t.prototype.update=function(){var e=this,r=this,i=r.group,o=r.scale,a=r.label,s=r.tickScale,l=r.requestedRange,u=o.range[0],c=o.range[1],p=Math.abs(c-u),h=p/o.domain.length||0,d=a.parallel,f=or(this.rotation),g=Math.abs(Math.cos(f))<1e-8,v=this.label.rotation?Oi(or(this.label.rotation)):0;i.translationX=this.translation.x,i.translationY=this.translation.y,i.rotation=f;var m=this.title;m&&(m.node.visible=!1);var C=this.lineHeight,b=this.tickTreeLayout,w=o.ticks(),S=b?b.nodes:[],T=b?b.depth>1:!1,E=s.ticks(),P=a.mirrored?1:-1,R=Oi(f),M=!v&&R>=0&&R<=Math.PI?-1:1,N=Oi(f-Math.PI/2),B=!v&&N>=0&&N<=Math.PI?-1:1,k=this.gridLineSelection.setData(this.gridLength?E:[]);k.exit.remove();var G=k.enter.append(eo),V=k.merge(G),z=this.labelSelection.setData(S);z.exit.remove();var ee=z.enter.append(un),Q=z.merge(ee),ue=a.formatter,X=new Map,se=0;Q.each(function(ie,Xe,ht){ie.fontStyle=a.fontStyle,ie.fontWeight=a.fontWeight,ie.fontSize=a.fontSize,ie.fontFamily=a.fontFamily,ie.fill=a.color,ie.textBaseline=M===-1?"bottom":"hanging",ie.textAlign="center",ie.translationX=Xe.screenY-a.fontSize*.25,ie.translationY=Xe.screenX,ht===0?m&&m.enabled&&w.length>0?(ie.visible=!0,ie.text=m.text,ie.fontSize=m.fontSize,ie.fontStyle=m.fontStyle,ie.fontWeight=m.fontWeight,ie.fontFamily=m.fontFamily,ie.textBaseline="hanging"):ie.visible=!1:(ie.text=ue?ue({value:String(Xe.label),index:ht}):String(Xe.label),ie.visible=Xe.screenX>=l[0]&&Xe.screenX<=l[1]);var St=ie.computeBBox();X.set(ie.id,St),St.width>se&&(se=St.width)});var $=P*a.padding,q=d?M*Math.PI/2:B===-1?Math.PI:0,ce=this.label.grid,he=[];Q.each(function(ie,Xe,ht){if(ie.x=$,ie.rotationCenterX=$,Xe.children.length){ie.translationX-=se-C+e.label.padding;var oi=Xe.leafCount*h,St=X.get(ie.id);St&&St.width>oi?ie.visible=!1:g?ie.rotation=q:ie.rotation=-Math.PI/2}else{ie.rotation=v,ie.textAlign="end",ie.textBaseline="middle";var St=X.get(ie.id);St&&St.height>h&&(ie.visible=!1)}if(Xe.parent&&T){var Ln=Xe.children.length?Xe.screenX-Xe.leafCount*h/2:Xe.screenX-h/2;if(!Xe.children.length)(Xe.number!==Xe.children.length-1||ce)&&he.push({y:Ln,x1:0,x2:-se-e.label.padding*2,toString:function(){return String(ht)}});else{var tn=-se-e.label.padding*2+Xe.screenY;he.push({y:Ln,x1:tn+C,x2:tn,toString:function(){return String(ht)}})}}});var we=0;he.forEach(function(ie){return we=Math.min(we,ie.x2)}),this.longestSeparatorLength=Math.abs(we),he.push({y:Math.max(u,c),x1:0,x2:we,toString:function(){return String(he.length)}});var _e=this.separatorSelection.setData(he);_e.exit.remove();var Oe=_e.enter.append(eo),De=_e.merge(Oe);this.separatorSelection=De;var Re=1e-7;De.each(function(ie,Xe,ht){ie.x1=Xe.x1,ie.x2=Xe.x2,ie.y1=Xe.y,ie.y2=Xe.y,ie.visible=Xe.y>=l[0]-Re&&Xe.y<=l[1]+Re,ie.stroke=e.tick.color,ie.fill=void 0,ie.strokeWidth=1}),this.gridLineSelection=V,this.labelSelection=Q;for(var Ue=b?b.depth+1:1,gt=[],Pe=0;Pe<Ue;Pe++)gt.push(Pe);var Ye=this.axisLineSelection.setData(gt);Ye.exit.remove();var pt=Ye.enter.append(eo),oe=Ye.merge(pt);if(this.axisLineSelection=oe,oe.each(function(ie,Xe,ht){var St=ht>0?-se-e.label.padding*2-(ht-1)*C:0;ie.x1=St,ie.x2=St,ie.y1=l[0],ie.y2=l[1],ie.strokeWidth=e.line.width,ie.stroke=e.line.color,ie.visible=w.length>0&&(ht===0||ce&&T)}),this.gridLength){var et=this.gridStyle,Ge=et.length;V.each(function(ie,Xe,ht){var St=Math.round(s.convert(Xe));ie.x1=0,ie.x2=-P*e.gridLength,ie.y1=St,ie.y2=St,ie.visible=St>=l[0]&&St<=l[1]&&Math.abs(ie.parent.translationY-u)>1;var oi=et[ht%Ge];ie.stroke=oi.stroke,ie.strokeWidth=e.tick.width,ie.lineDash=oi.lineDash,ie.fill=void 0})}},t.prototype.computeBBox=function(e){var r=!e||!e.excludeTitle,i=1/0,o=-1/0,a=1/0,s=-1/0;return this.labelSelection.each(function(l,u,c){if(c>0||r){l.computeTransformMatrix();var p=Ss.flyweight(l.matrix),h=l.computeBBox();if(h){var d=p.transformBBox(h);i=Math.min(i,d.x),o=Math.max(o,d.x+d.width),a=Math.min(a,d.y),s=Math.max(s,d.y+d.height)}}}),new lr(i,a,Math.max(o-i,this.longestSeparatorLength),s-a)},t.className="GroupedCategoryAxis",t.type="groupedCategory",t}(Dm),uQ=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),jC=new Date,UC=new Date,vL=function(){function n(t,e){this._floor=t,this._offset=e}return n.prototype.floor=function(t){return t=new Date(+t),this._floor(t),t},n.prototype.ceil=function(t){return t=new Date(+t-1),this._floor(t),this._offset(t,1),this._floor(t),t},n.prototype.round=function(t){var e=this.floor(t),r=this.ceil(t),i=+t;return i-e.getTime()<r.getTime()-i?e:r},n.prototype.offset=function(t,e){return e===void 0&&(e=1),t=new Date(+t),this._offset(t,Math.floor(e)),t},n.prototype.range=function(t,e,r){r===void 0&&(r=1);var i=[];if(t=this.ceil(t),r=Math.floor(r),t>e||r<=0)return i;var o;do o=new Date(+t),i.push(o),this._offset(t,r),this._floor(t);while(o<t&&t<e);return i},n.prototype.filter=function(t){var e=this,r=function(o){if(o>=o)for(;e._floor(o),!t(o);)o.setTime(o.getTime()-1);return o},i=function(o,a){if(o>=o)if(a<0)for(;++a<=0;)do e._offset(o,-1);while(!t(o));else for(;--a>=0;)do e._offset(o,1);while(!t(o));return o};return new n(r,i)},n}(),In=function(n){uQ(t,n);function t(e,r,i,o){var a=n.call(this,e,r)||this;return a._count=i,a._field=o,a}return t.prototype.count=function(e,r){return jC.setTime(+e),UC.setTime(+r),this._floor(jC),this._floor(UC),Math.floor(this._count(jC,UC))},t.prototype.every=function(e){var r=this,i;if(e=Math.floor(e),isFinite(e)&&e>0)if(e>1){var o=this._field;o?i=this.filter(function(a){return o(a)%e===0}):i=this.filter(function(a){return r.count(0,a)%e===0})}else i=this;return i},t}(vL);function cQ(n){return n}function pQ(n,t){n.setTime(n.getTime()+t)}function hQ(n,t){return t.getTime()-n.getTime()}var dQ=new In(cQ,pQ,hQ),Ca=1e3,Ai=Ca*60,ba=Ai*60,tu=ba*24,H0=tu*7,jE=tu*30,zC=tu*365;function fQ(n){n.setTime(n.getTime()-n.getMilliseconds())}function gQ(n,t){n.setTime(n.getTime()+t*Ca)}function vQ(n,t){return(t.getTime()-n.getTime())/Ca}var mQ=new In(fQ,gQ,vQ);function yQ(n){n.setTime(n.getTime()-n.getMilliseconds()-n.getSeconds()*Ca)}function CQ(n,t){n.setTime(n.getTime()+t*Ai)}function bQ(n,t){return(t.getTime()-n.getTime())/Ai}function wQ(n){return n.getMinutes()}var _Q=new In(yQ,CQ,bQ,wQ);function SQ(n){n.setTime(n.getTime()-n.getMilliseconds()-n.getSeconds()*Ca-n.getMinutes()*Ai)}function xQ(n,t){n.setTime(n.getTime()+t*ba)}function TQ(n,t){return(t.getTime()-n.getTime())/ba}function OQ(n){return n.getHours()}var EQ=new In(SQ,xQ,TQ,OQ);function RQ(n){n.setHours(0,0,0,0)}function PQ(n,t){n.setDate(n.getDate()+t)}function AQ(n,t){var e=t.getTimezoneOffset()-n.getTimezoneOffset();return(t.getTime()-n.getTime()-e*Ai)/tu}function DQ(n){return n.getDate()-1}var Jw=new In(RQ,PQ,AQ,DQ);function hu(n){function t(i){i.setDate(i.getDate()-(i.getDay()+7-n)%7),i.setHours(0,0,0,0)}function e(i,o){i.setDate(i.getDate()+o*7)}function r(i,o){var a=o.getTime()-i.getTime(),s=o.getTimezoneOffset()-i.getTimezoneOffset();return(a-s*Ai)/H0}return new In(t,e,r)}var mL=hu(0),$C=hu(1);hu(2);hu(3);var KC=hu(4);hu(5);hu(6);function MQ(n){n.setDate(1),n.setHours(0,0,0,0)}function FQ(n,t){n.setMonth(n.getMonth()+t)}function IQ(n,t){return t.getMonth()-n.getMonth()+(t.getFullYear()-n.getFullYear())*12}function LQ(n){return n.getMonth()}var NQ=new In(MQ,FQ,IQ,LQ);function kQ(n){n.setMonth(0,1),n.setHours(0,0,0,0)}function GQ(n,t){n.setFullYear(n.getFullYear()+t)}function BQ(n,t){return t.getFullYear()-n.getFullYear()}function VQ(n){return n.getFullYear()}var lh=new In(kQ,GQ,BQ,VQ);function WQ(n){n.setUTCHours(0,0,0,0)}function HQ(n,t){n.setUTCDate(n.getUTCDate()+t)}function jQ(n,t){return(t.getTime()-n.getTime())/tu}function UQ(n){return n.getUTCDate()-1}var UE=new In(WQ,HQ,jQ,UQ);function zQ(n){n.setUTCMonth(0,1),n.setUTCHours(0,0,0,0)}function $Q(n,t){n.setUTCFullYear(n.getUTCFullYear()+t)}function KQ(n,t){return t.getUTCFullYear()-n.getUTCFullYear()}function YQ(n){return n.getUTCFullYear()}var Pf=new In(zQ,$Q,KQ,YQ);function du(n){function t(i){i.setUTCDate(i.getUTCDate()-(i.getUTCDay()+7-n)%7),i.setHours(0,0,0,0)}function e(i,o){i.setUTCDate(i.getUTCDate()+o*7)}function r(i,o){return(o.getTime()-i.getTime())/H0}return new In(t,e,r)}var XQ=du(0),YC=du(1);du(2);du(3);var XC=du(4);du(5);du(6);function qQ(n){if(n.y>=0&&n.y<100){var t=new Date(-1,n.m,n.d,n.H,n.M,n.S,n.L);return t.setFullYear(n.y),t}return new Date(n.y,n.m,n.d,n.H,n.M,n.S,n.L)}function Af(n){if(n.y>=0&&n.y<100){var t=new Date(Date.UTC(-1,n.m,n.d,n.H,n.M,n.S,n.L));return t.setUTCFullYear(n.y),t}return new Date(Date.UTC(n.y,n.m,n.d,n.H,n.M,n.S,n.L))}function Wp(n){for(var t={},e=0,r=n.length;e<r;e++)t[n[e].toLowerCase()]=e;return t}function Hp(n){return{y:n,m:0,d:1,H:0,M:0,S:0,L:0}}var zE=37,Ar=/^\s*\d+/,ZQ=/^%/,QQ=/[\\^$*+?|[\]().{}]/g,JQ=function(n){return n.replace(QQ,"\\$&")},jp=function(n){return new RegExp("^(?:"+n.map(JQ).join("|")+")","i")},$E={"-":"",_:" ",0:"0"};function xt(n,t,e){var r=n<0?"-":"",i=String(r?-n:n),o=i.length;return r+(o<e?new Array(e-o+1).join(t)+i:i)}function eJ(n){var t=n.dateTime,e=n.date,r=n.time,i=n.periods,o=n.days,a=n.shortDays,s=n.months,l=n.shortMonths,u=jp(i),c=Wp(i),p=jp(o),h=Wp(o),d=jp(a),f=Wp(a),g=jp(s),v=Wp(s),m=jp(l),C=Wp(l),b={a:z,A:ee,b:he,B:we,c:void 0,d:q,e:q,f:R,H:G,I:k,j:ce,L:M,m:_e,M:B,p:V,Q:za,s:vt,S:N,u:Q,U:ue,V:X,w:se,W:$,x:void 0,X:void 0,y:Oe,Y:De,Z:Re,"%":Xs},w={a:oi,A:Ln,b:ht,B:St,c:void 0,d:Ge,e:Ge,f:Ue,H:oe,I:pt,j:ie,L:gt,m:Xe,M:Ye,p:et,Q:za,s:vt,S:Pe,u:tn,U:Nn,V:ki,w:Ha,W:ja,x:void 0,X:void 0,y:Qo,Y:Ua,Z:Ys,"%":Xs},S={a:Vm,A:Wm,b:Km,B:Ym,c:qm,d:cp,e:cp,f:Ht,H:qs,I:qs,j:Bm,L:qe,m:Xm,M:Wr,p:Gm,Q:Jm,s:ey,S:Yt,u:Hm,U:jm,V:Um,w:$m,W:zm,x:Zm,X:Qm,y:ty,Y:ry,Z:ny,"%":iy};b.x=E(e,b),b.X=E(r,b),b.c=E(t,b),w.x=E(e,w),w.X=E(r,w),w.c=E(t,w);function T(O,D){return function(F){var A=Hp(1900),Er=P(A,O,F+="",0);if(Er==F.length){if("Q"in A)return new Date(A.Q);if("p"in A&&(A.H=A.H%12+A.p*12),"V"in A){if(A.V<1||A.V>53)return;if("w"in A||(A.w=1),"Z"in A){var Ce=Af(Hp(A.y)),mt=Ce.getUTCDay();Ce=mt>4||mt===0?YC.ceil(Ce):YC.floor(Ce),Ce=UE.offset(Ce,(A.V-1)*7),A.y=Ce.getUTCFullYear(),A.m=Ce.getUTCMonth(),A.d=Ce.getUTCDate()+(A.w+6)%7}else{var Ce=D(Hp(A.y)),mt=Ce.getDay();Ce=mt>4||mt===0?$C.ceil(Ce):$C.floor(Ce),Ce=Jw.offset(Ce,(A.V-1)*7),A.y=Ce.getFullYear(),A.m=Ce.getMonth(),A.d=Ce.getDate()+(A.w+6)%7}}else if("W"in A||"U"in A){"w"in A||(A.w="u"in A?A.u%7:"W"in A?1:0);var mt="Z"in A?Af(Hp(A.y)).getUTCDay():D(Hp(A.y)).getDay();A.m=0,A.d="W"in A?(A.w+6)%7+A.W*7-(mt+5)%7:A.w+A.U*7-(mt+6)%7}return"Z"in A?(A.H+=A.Z/100|0,A.M+=A.Z%100,Af(A)):D(A)}}}function E(O,D){return function(F){var A=[],Er=O.length,Ce=-1,mt=0;for(F instanceof Date||(F=new Date(+F));++Ce<Er;)if(O.charCodeAt(Ce)===zE){A.push(O.slice(mt,Ce));var cr=O.charAt(++Ce),kn=$E[cr];kn!=null?cr=O.charAt(++Ce):kn=cr==="e"?" ":"0";var Gi=D[cr];Gi&&(cr=Gi(F,kn)),A.push(cr),mt=Ce+1}return A.push(O.slice(mt,Ce)),A.join("")}}function P(O,D,F,A){for(var Er=0,Ce=D.length,mt=F.length;Er<Ce;){if(A>=mt)return-1;var cr=D.charCodeAt(Er++);if(cr===zE){var kn=D.charAt(Er++),Gi=S[kn in $E?D.charAt(Er++):kn];if(!Gi||(A=Gi(O,F,A))<0)return-1}else if(cr!=F.charCodeAt(A++))return-1}return A}function R(O,D){return M(O,D)+"000"}function M(O,D){return xt(O.getMilliseconds(),D,3)}function N(O,D){return xt(O.getSeconds(),D,2)}function B(O,D){return xt(O.getMinutes(),D,2)}function k(O,D){return xt(O.getHours()%12||12,D,2)}function G(O,D){return xt(O.getHours(),D,2)}function V(O){return i[O.getHours()>=12?1:0]}function z(O){return a[O.getDay()]}function ee(O){return o[O.getDay()]}function Q(O){var D=O.getDay();return D===0?7:D}function ue(O,D){return xt(mL.count(lh.floor(O),O),D,2)}function X(O,D){var F=O.getDay();O=F>=4||F===0?KC.floor(O):KC.ceil(O);var A=lh.floor(O);return xt(KC.count(A,O)+(A.getDay()===4?1:0),D,2)}function se(O){return O.getDay()}function $(O,D){return xt($C.count(lh.floor(O),O),D,2)}function q(O,D){return xt(O.getDate(),D,2)}function ce(O,D){return xt(1+Jw.count(lh.floor(O),O),D,3)}function he(O){return l[O.getMonth()]}function we(O){return s[O.getMonth()]}function _e(O,D){return xt(O.getMonth()+1,D,2)}function Oe(O,D){return xt(O.getFullYear()%100,D,2)}function De(O,D){return xt(O.getFullYear()%1e4,D,4)}function Re(O){var D=O.getTimezoneOffset();return(D>0?"-":(D*=-1,"+"))+xt(Math.floor(D/60),"0",2)+xt(D%60,"0",2)}function Ue(O,D){return gt(O,D)+"000"}function gt(O,D){return xt(O.getUTCMilliseconds(),D,3)}function Pe(O,D){return xt(O.getUTCSeconds(),D,2)}function Ye(O,D){return xt(O.getUTCMinutes(),D,2)}function pt(O,D){return xt(O.getUTCHours()%12||12,D,2)}function oe(O,D){return xt(O.getUTCHours(),D,2)}function et(O){return i[O.getUTCHours()>=12?1:0]}function Ge(O,D){return xt(O.getUTCDate(),D,2)}function ie(O,D){return xt(1+UE.count(Pf.floor(O),O),D,3)}function Xe(O,D){return xt(O.getUTCMonth()+1,D,2)}function ht(O){return l[O.getUTCMonth()]}function St(O){return s[O.getUTCMonth()]}function oi(O){return a[O.getUTCDay()]}function Ln(O){return o[O.getUTCDay()]}function tn(O){var D=O.getUTCDay();return D===0?7:D}function Nn(O,D){return xt(XQ.count(Pf.floor(O),O),D,2)}function ki(O,D){var F=O.getUTCDay();O=F>=4||F===0?XC.floor(O):XC.ceil(O);var A=Pf.floor(O);return xt(XC.count(A,O)+(A.getUTCDay()===4?1:0),D,4)}function Ha(O){return O.getUTCDay()}function ja(O,D){return xt(YC.count(Pf.floor(O),O),D,2)}function Qo(O,D){return xt(O.getUTCFullYear()%100,D,2)}function Ua(O,D){return xt(O.getUTCFullYear()%1e4,D,4)}function Ys(){return"+0000"}function Xs(O){return"%"}function za(O){return O.getTime()}function vt(O){return Math.floor(O.getTime()/1e3)}function Ht(O,D,F){var A=Ar.exec(D.slice(F,F+6));return A?(O.L=Math.floor(parseFloat(A[0])/1e3),F+A[0].length):-1}function qe(O,D,F){var A=Ar.exec(D.slice(F,F+3));return A?(O.L=+A[0],F+A[0].length):-1}function Yt(O,D,F){var A=Ar.exec(D.slice(F,F+2));return A?(O.S=+A[0],F+A[0].length):-1}function Wr(O,D,F){var A=Ar.exec(D.slice(F,F+2));return A?(O.M=+A[0],F+A[0].length):-1}function qs(O,D,F){var A=Ar.exec(D.slice(F,F+2));return A?(O.H=+A[0],F+A[0].length):-1}function Gm(O,D,F){var A=u.exec(D.slice(F));return A?(O.p=c[A[0].toLowerCase()],F+A[0].length):-1}function cp(O,D,F){var A=Ar.exec(D.slice(F,F+2));return A?(O.d=+A[0],F+A[0].length):-1}function Bm(O,D,F){var A=Ar.exec(D.slice(F,F+3));return A?(O.m=0,O.d=+A[0],F+A[0].length):-1}function Vm(O,D,F){var A=d.exec(D.slice(F));return A?(O.w=f[A[0].toLowerCase()],F+A[0].length):-1}function Wm(O,D,F){var A=p.exec(D.slice(F));return A?(O.w=h[A[0].toLowerCase()],F+A[0].length):-1}function Hm(O,D,F){var A=Ar.exec(D.slice(F,F+1));return A?(O.u=+A[0],F+A[0].length):-1}function jm(O,D,F){var A=Ar.exec(D.slice(F,F+2));return A?(O.U=+A[0],F+A[0].length):-1}function Um(O,D,F){var A=Ar.exec(D.slice(F,F+2));return A?(O.V=+A[0],F+A[0].length):-1}function zm(O,D,F){var A=Ar.exec(D.slice(F,F+2));return A?(O.W=+A[0],F+A[0].length):-1}function $m(O,D,F){var A=Ar.exec(D.slice(F,F+1));return A?(O.w=+A[0],F+A[0].length):-1}function Km(O,D,F){var A=m.exec(D.slice(F));return A?(O.m=C[A[0].toLowerCase()],F+A[0].length):-1}function Ym(O,D,F){var A=g.exec(D.slice(F));return A?(O.m=v[A[0].toLowerCase()],F+A[0].length):-1}function Xm(O,D,F){var A=Ar.exec(D.slice(F,F+2));return A?(O.m=parseFloat(A[0])-1,F+A[0].length):-1}function qm(O,D,F){return P(O,t,D,F)}function Zm(O,D,F){return P(O,e,D,F)}function Qm(O,D,F){return P(O,r,D,F)}function Jm(O,D,F){var A=Ar.exec(D.slice(F));return A?(O.Q=+A[0],F+A[0].length):-1}function ey(O,D,F){var A=Ar.exec(D.slice(F));return A?(O.Q=+A[0]*1e3,F+A[0].length):-1}function ty(O,D,F){var A=Ar.exec(D.slice(F,F+2));return A?(O.y=+A[0]+(+A[0]>68?1900:2e3),F+A[0].length):-1}function ry(O,D,F){var A=Ar.exec(D.slice(F,F+4));return A?(O.y=+A[0],F+A[0].length):-1}function ny(O,D,F){var A=/^(Z)|^([+-]\d\d)(?::?(\d\d))?/.exec(D.slice(F,F+6));return A?(O.Z=A[1]?0:-(A[2]+(A[3]||"00")),F+A[0].length):-1}function iy(O,D,F){var A=ZQ.exec(D.slice(F,F+1));return A?F+A[0].length:-1}return{format:function(O){var D=E(O,b);return D.toString=function(){return O},D},parse:function(O){var D=T(O,qQ);return D.toString=function(){return O},D},utcFormat:function(O){var D=E(O,w);return D.toString=function(){return O},D},utcParse:function(O){var D=T(O,Af);return D.toString=function(){return O},D}}}var j0;tJ({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function tJ(n){return j0=eJ(n)}var rJ=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),qC=globalThis&&globalThis.__read||function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},nJ=function(n){rJ(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.type="time",e.year=lh,e.month=NQ,e.week=mL,e.day=Jw,e.hour=EQ,e.minute=_Q,e.second=mQ,e.millisecond=dQ,e.format=j0.format,e.tickIntervals=[[e.second,1,Ca],[e.second,5,5*Ca],[e.second,15,15*Ca],[e.second,30,30*Ca],[e.minute,1,Ai],[e.minute,5,5*Ai],[e.minute,15,15*Ai],[e.minute,30,30*Ai],[e.hour,1,ba],[e.hour,3,3*ba],[e.hour,6,6*ba],[e.hour,12,12*ba],[e.day,1,tu],[e.day,2,2*tu],[e.week,1,H0],[e.month,1,jE],[e.month,3,3*jE],[e.year,1,zC]],e.formatMillisecond=e.format(".%L"),e.formatSecond=e.format(":%S"),e.formatMinute=e.format("%I:%M"),e.formatHour=e.format("%I %p"),e.formatDay=e.format("%a %d"),e.formatWeek=e.format("%b %d"),e.formatMonth=e.format("%B"),e.formatYear=e.format("%Y"),e._domain=[new Date(2e3,0,1),new Date(2e3,0,2)],e}return t.prototype.defaultTickFormat=function(e){return(this.second.floor(e)<e?this.formatMillisecond:this.minute.floor(e)<e?this.formatSecond:this.hour.floor(e)<e?this.formatMinute:this.day.floor(e)<e?this.formatHour:this.month.floor(e)<e?this.week.floor(e)<e?this.formatDay:this.formatWeek:this.year.floor(e)<e?this.formatMonth:this.formatYear)(e)},t.prototype.tickInterval=function(e,r,i,o){var a;if(typeof e=="number"){var s=e,l=this.tickIntervals,u=Math.abs(i-r)/s,c=hZ(l,u,function(p){return p[2]});c===l.length?(o=Xh(r/zC,i/zC,s),e=this.year):c?(a=qC(l[u/l[c-1][2]<l[c][2]/u?c-1:c],2),e=a[0],o=a[1]):(o=Math.max(Xh(r,i,e),1),e=this.millisecond)}return o==null?e:e.every(o)},Object.defineProperty(t.prototype,"domain",{get:function(){return n.prototype.getDomain.call(this).map(function(e){return new Date(e)})},set:function(e){n.prototype.setDomain.call(this,Array.prototype.map.call(e,function(r){return r instanceof Date?+r:+new Date(+r)}))},enumerable:!0,configurable:!0}),t.prototype.invert=function(e){return new Date(n.prototype.invert.call(this,e))},t.prototype.ticks=function(e){e===void 0&&(e=10);var r=n.prototype.getDomain.call(this),i=r[0],o=r[r.length-1],a=o<i;if(a){var s=i;i=o,o=s}var l=this.tickInterval(e,i,o),u=l?l.range(i,o+1):[];return a?u.reverse():u},t.prototype.tickFormat=function(e,r){return r==null?this.defaultTickFormat.bind(this):this.format(r)},t.prototype.nice=function(e){e===void 0&&(e=10);var r=n.prototype.getDomain.call(this),i=this.tickInterval(e,r[0],r[r.length-1]);i&&(this.domain=this._nice(r,i))},t.prototype._nice=function(e,r){var i,o;e=e.slice();var a=0,s=e.length-1,l=e[a],u=e[s];return u<l&&(i=qC([s,a],2),a=i[0],s=i[1],o=qC([u,l],2),l=o[0],u=o[1]),e[a]=r.floor(l),e[s]=r.ceil(u),e},t}(Yr),iJ=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),qh=function(n){iJ(t,n);function t(){var e=n.call(this,new nJ)||this;e.datumFormat="%m/%d/%y, %H:%M:%S",e._nice=!0;var r=e.scale;return r.clamp=!0,e.scale=r,e.datumFormatter=r.tickFormat(e.calculatedTickCount,e.datumFormat),e}return Object.defineProperty(t.prototype,"nice",{get:function(){return this._nice},set:function(e){this._nice!==e&&(this._nice=e,e&&this.scale.nice&&this.scale.nice(10))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"domain",{get:function(){return this.scale.domain},set:function(e){e.length>2&&(e=(Ji(e,cn,Number)||[0,1e3]).map(function(r){return new Date(r)})),this.scale.domain=e,this.nice&&this.scale.nice&&this.scale.nice(10)},enumerable:!0,configurable:!0}),t.prototype.onLabelFormatChange=function(e){e?n.prototype.onLabelFormatChange.call(this,e):this.labelFormatter=this.scale.tickFormat(this.calculatedTickCount,void 0)},t.prototype.formatDatum=function(e){return this.datumFormatter(e)},t.className="TimeAxis",t.type="time",t}(Dm),oJ=globalThis&&globalThis.__read||function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},aJ=globalThis&&globalThis.__spread||function(){for(var n=[],t=0;t<arguments.length;t++)n=n.concat(oJ(arguments[t]));return n},yL=function(){function n(t,e,r){var i=this;t===void 0&&(t=window.document),this.id=ip(this),this._dirty=!1,this.animationFrameId=0,this._root=null,this.debug={renderFrameIndex:!1,renderBoundingBoxes:!1},this._frameIndex=0,this.render=function(){var o,a=i,s=a.ctx,l=a.root,u=a.pendingSize;if(i.animationFrameId=0,u&&((o=i.canvas).resize.apply(o,aJ(u)),i.pendingSize=void 0),l&&!l.visible){i.dirty=!1;return}s.clearRect(0,0,i.width,i.height),l&&(s.save(),l.visible&&l.render(s),s.restore()),i._frameIndex++,i.debug.renderFrameIndex&&(s.fillStyle="white",s.fillRect(0,0,40,15),s.fillStyle="black",s.fillText(i.frameIndex.toString(),2,10)),i.dirty=!1},this.canvas=new zl(t,e,r),this.ctx=this.canvas.context}return Object.defineProperty(n.prototype,"container",{get:function(){return this.canvas.container},set:function(t){this.canvas.container=t},enumerable:!0,configurable:!0}),n.prototype.download=function(t){this.canvas.download(t)},n.prototype.getDataURL=function(t){return this.canvas.getDataURL(t)},Object.defineProperty(n.prototype,"width",{get:function(){return this.pendingSize?this.pendingSize[0]:this.canvas.width},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"height",{get:function(){return this.pendingSize?this.pendingSize[1]:this.canvas.height},enumerable:!0,configurable:!0}),n.prototype.resize=function(t,e){t=Math.round(t),e=Math.round(e),!(t===this.width&&e===this.height)&&(this.pendingSize=[t,e],this.dirty=!0)},Object.defineProperty(n.prototype,"dirty",{get:function(){return this._dirty},set:function(t){t?this._dirty||(this.animationFrameId=requestAnimationFrame(this.render)):this.animationFrameId&&(cancelAnimationFrame(this.animationFrameId),this.animationFrameId=0),this._dirty=t},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"root",{get:function(){return this._root},set:function(t){t!==this._root&&(this._root&&this._root._setScene(),this._root=t,t&&(t.parent===null&&t.scene&&t.scene!==this&&(t.scene.root=null),t._setScene(this)),this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"frameIndex",{get:function(){return this._frameIndex},enumerable:!0,configurable:!0}),n.className="Scene",n}(),sJ=function(){function n(){this.stops=[]}return n}(),lJ=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),uJ=function(n){lJ(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.angle=0,e}return t.prototype.createGradient=function(e,r){var i=this.stops,o=this.angle%360*Math.PI/180,a=Math.cos(o),s=Math.sin(o),l=r.width,u=r.height,c=r.x+l*.5,p=r.y+u*.5;if(l>0&&u>0){var h=Math.sqrt(u*u+l*l)*Math.abs(Math.cos(o-Math.atan(u/l)))/2,d=e.createLinearGradient(c+a*h,p+s*h,c-a*h,p-s*h);return i.forEach(function(f){d.addColorStop(f.offset,f.color)}),d}return"black"},t}(sJ),cJ=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),xh;(function(n){n[n.Content=0]="Content",n[n.Border=1]="Border"})(xh||(xh={}));var Na=function(n){cJ(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e._x=0,e._y=0,e._width=10,e._height=10,e._radius=0,e._crisp=!1,e._gradient=!1,e.effectiveStrokeWidth=Ws.defaultStyles.strokeWidth,e._sizing=xh.Content,e}return Object.defineProperty(t.prototype,"x",{get:function(){return this._x},set:function(e){this._x!==e&&(this._x=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this._y},set:function(e){this._y!==e&&(this._y=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this._width},set:function(e){this._width!==e&&(this._width=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._height},set:function(e){this._height!==e&&(this._height=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"radius",{get:function(){return this._radius},set:function(e){this._radius!==e&&(this._radius=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"crisp",{get:function(){return this._crisp},set:function(e){this._crisp!==e&&(this._crisp=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"gradient",{get:function(){return this._gradient},set:function(e){this._gradient!==e&&(this._gradient=e,this.updateGradientInstance(),this.dirty=!0)},enumerable:!0,configurable:!0}),t.prototype.updateGradientInstance=function(){if(this.gradient){var e=this.fill;if(e){var r=new uJ;r.angle=270,r.stops=[{offset:0,color:ga.fromString(e).brighter().toString()},{offset:1,color:ga.fromString(e).darker().toString()}],this.gradientInstance=r}}else this.gradientInstance=void 0},Object.defineProperty(t.prototype,"fill",{get:function(){return this._fill},set:function(e){this._fill!==e&&(this._fill=e,this.updateGradientInstance(),this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"strokeWidth",{get:function(){return this._strokeWidth},set:function(e){this._strokeWidth!==e&&(this._strokeWidth=e,this.crisp||this.sizing===xh.Border?this.dirtyPath=!0:(this.effectiveStrokeWidth=e,this.dirty=!0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"sizing",{get:function(){return this._sizing},set:function(e){this._sizing!==e&&(this._sizing=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),t.prototype.updatePath=function(){var e=this.sizing===xh.Border,r=this.path;r.clear();var i=this.x,o=this.y,a=this.width,s=this.height,l;if(e){var u=a/2,c=s/2;l=Math.min(this.strokeWidth,u,c),i=Math.min(i+l/2,i+u),o=Math.min(o+l/2,o+c),a=Math.max(a-l,0),s=Math.max(s-l,0)}else l=this.strokeWidth;if(this.effectiveStrokeWidth=l,this.crisp&&!e){var p=this,h=p.alignment,d=p.align;r.rect(d(h,i),d(h,o),d(h,i,a),d(h,o,s))}else r.rect(i,o,a,s)},t.prototype.computeBBox=function(){var e=this,r=e.x,i=e.y,o=e.width,a=e.height;return new lr(r,i,o,a)},t.prototype.isPointInPath=function(e,r){var i=this.transformPoint(e,r),o=this.computeBBox();return o.containsPoint(i.x,i.y)},t.prototype.isPointInStroke=function(e,r){return!1},t.prototype.fillStroke=function(e){if(!!this.scene){var r=this.scene.canvas.pixelRatio||1;if(this.fill){this.gradientInstance?e.fillStyle=this.gradientInstance.createGradient(e,this.computeBBox()):e.fillStyle=this.fill,e.globalAlpha=this.opacity*this.fillOpacity;var i=this.fillShadow;i&&i.enabled&&(e.shadowColor=i.color,e.shadowOffsetX=i.xOffset*r,e.shadowOffsetY=i.yOffset*r,e.shadowBlur=i.blur*r),e.fill()}if(e.shadowColor="rgba(0, 0, 0, 0)",this.stroke&&this.effectiveStrokeWidth){e.strokeStyle=this.stroke,e.globalAlpha=this.opacity*this.strokeOpacity,e.lineWidth=this.effectiveStrokeWidth,this.lineDash&&e.setLineDash(this.lineDash),this.lineDashOffset&&(e.lineDashOffset=this.lineDashOffset),this.lineCap&&(e.lineCap=this.lineCap),this.lineJoin&&(e.lineJoin=this.lineJoin);var o=this.strokeShadow;o&&o.enabled&&(e.shadowColor=o.color,e.shadowOffsetX=o.xOffset*r,e.shadowOffsetY=o.yOffset*r,e.shadowBlur=o.blur*r),e.stroke()}}},t.className="Rect",t}(Mn),pJ=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),fu=function(n){pJ(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e._x=0,e._y=0,e._size=12,e}return Object.defineProperty(t.prototype,"x",{get:function(){return this._x},set:function(e){this._x!==e&&(this._x=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this._y},set:function(e){this._y!==e&&(this._y=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._size},set:function(e){this._size!==e&&(this._size=Math.abs(e),this.dirtyPath=!0)},enumerable:!0,configurable:!0}),t.prototype.computeBBox=function(){var e=this,r=e.x,i=e.y,o=e.size,a=o/2;return new lr(r-a,i-a,o,o)},t}(Mn),hJ=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),ug=function(n){hJ(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.updatePath=function(){var e=this,r=e.path,i=e.x,o=e.y,a=this.size/2,s=this,l=s.alignment,u=s.align;r.clear(),r.moveTo(u(l,i-a),u(l,o-a)),r.lineTo(u(l,i+a),u(l,o-a)),r.lineTo(u(l,i+a),u(l,o+a)),r.lineTo(u(l,i-a),u(l,o+a)),r.closePath()},t.className="Square",t}(fu),dJ=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),fJ=function(n){dJ(t,n);function t(){var e=n.call(this)||this;e.label=new un,e._marker=new ug,e._markerSize=15,e._spacing=8;var r=e.label;return r.textBaseline="middle",r.fontSize=12,r.fontFamily="Verdana, sans-serif",r.fill="black",r.y=zl.has.textMetrics?1:0,e.append([e.marker,r]),e.update(),e}return Object.defineProperty(t.prototype,"text",{get:function(){return this.label.text},set:function(e){this.label.text=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fontStyle",{get:function(){return this.label.fontStyle},set:function(e){this.label.fontStyle=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fontWeight",{get:function(){return this.label.fontWeight},set:function(e){this.label.fontWeight=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fontSize",{get:function(){return this.label.fontSize},set:function(e){this.label.fontSize=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fontFamily",{get:function(){return this.label.fontFamily},set:function(e){this.label.fontFamily=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){return this.label.fill},set:function(e){this.label.fill=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"marker",{get:function(){return this._marker},set:function(e){this._marker!==e&&(this.removeChild(this._marker),this._marker=e,this.appendChild(e),this.update())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"markerSize",{get:function(){return this._markerSize},set:function(e){this._markerSize!==e&&(this._markerSize=e,this.update())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"markerFill",{get:function(){return this.marker.fill},set:function(e){this.marker.fill=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"markerStroke",{get:function(){return this.marker.stroke},set:function(e){this.marker.stroke=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"markerStrokeWidth",{get:function(){return this.marker.strokeWidth},set:function(e){this.marker.strokeWidth=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"markerFillOpacity",{get:function(){return this.marker.fillOpacity},set:function(e){this.marker.fillOpacity=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"markerStrokeOpacity",{get:function(){return this.marker.strokeOpacity},set:function(e){this.marker.strokeOpacity=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"opacity",{get:function(){return this.marker.opacity},set:function(e){this.marker.opacity=e,this.label.opacity=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"spacing",{get:function(){return this._spacing},set:function(e){this._spacing!==e&&(this._spacing=e,this.update())},enumerable:!0,configurable:!0}),t.prototype.update=function(){var e=this.marker,r=this.markerSize;e.size=r,this.label.x=r/2+this.spacing},t.className="MarkerLabel",t}(sr),gJ=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),CL=function(n){gJ(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.updatePath=function(){var e=this,r=e.x,i=e.y,o=e.path,a=e.size,s=a/2;o.clear(),o.cubicArc(r,i,s,s,0,0,Math.PI*2,0),o.closePath()},t.className="Circle",t}(fu),vJ=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),mJ=function(n){vJ(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.updatePath=function(){var e=this,r=e.x,i=e.y,o=this,a=o.path,s=o.size,l=s/4.2;a.clear(),a.moveTo(r-=l,i),a.lineTo(r-=l,i-=l),a.lineTo(r+=l,i-=l),a.lineTo(r+=l,i+=l),a.lineTo(r+=l,i-=l),a.lineTo(r+=l,i+=l),a.lineTo(r-=l,i+=l),a.lineTo(r+=l,i+=l),a.lineTo(r-=l,i+=l),a.lineTo(r-=l,i-=l),a.lineTo(r-=l,i+=l),a.lineTo(r-=l,i-=l),a.closePath()},t.className="Cross",t}(fu),yJ=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),CJ=function(n){yJ(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.updatePath=function(){var e=this,r=e.x,i=e.y,o=this,a=o.path,s=o.size,l=s/2;a.clear(),a.moveTo(r,i-=l),a.lineTo(r+=l,i+=l),a.lineTo(r-=l,i+=l),a.lineTo(r-=l,i-=l),a.lineTo(r+=l,i-=l),a.closePath()},t.className="Diamond",t}(fu),bJ=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),wJ=function(n){bJ(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.rad=function(e){return e/180*Math.PI},t.prototype.updatePath=function(){var e=this,r=e.x,i=e.path,o=e.size,a=e.rad,s=o/4,l=this.y+s/2;i.clear(),i.cubicArc(r-s,l-s,s,s,0,a(130),a(330),0),i.cubicArc(r+s,l-s,s,s,0,a(220),a(50),0),i.lineTo(r,l+s),i.closePath()},t.className="Heart",t}(fu),_J=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),SJ=function(n){_J(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.updatePath=function(){var e=this,r=e.x,i=e.y,o=this,a=o.path,s=o.size,l=s/3,u=l/2;a.clear(),a.moveTo(r-=u,i-=u),a.lineTo(r,i-=l),a.lineTo(r+=l,i),a.lineTo(r,i+=l),a.lineTo(r+=l,i),a.lineTo(r,i+=l),a.lineTo(r-=l,i),a.lineTo(r,i+=l),a.lineTo(r-=l,i),a.lineTo(r,i-=l),a.lineTo(r-=l,i),a.lineTo(r,i-=l),a.closePath()},t.className="Plus",t}(fu),xJ=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),TJ=function(n){xJ(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.updatePath=function(){var e=this,r=e.x,i=e.y,o=this,a=o.path,s=o.size,l=s*1.1;a.clear(),a.moveTo(r,i-=l*.48),a.lineTo(r+=l*.5,i+=l*.87),a.lineTo(r-=l,i),a.closePath()},t.className="Triangle",t}(fu);function Wc(n){if(n===void 0&&(n=ug),typeof n=="string")switch(n){case"circle":return CL;case"cross":return mJ;case"diamond":return CJ;case"heart":return wJ;case"plus":return SJ;case"triangle":return TJ;default:return ug}return typeof n=="function"?n:ug}var Mm=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Lr=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},xl;(function(n){n[n.Vertical=0]="Vertical",n[n.Horizontal=1]="Horizontal"})(xl||(xl={}));var Gl;(function(n){n.Top="top",n.Right="right",n.Bottom="bottom",n.Left="left"})(Gl||(Gl={}));var OJ=function(n){Mm(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.color="black",e.fontSize=12,e.fontFamily="Verdana, sans-serif",e}return Lr([K("change")],t.prototype,"color",void 0),Lr([K("layoutChange")],t.prototype,"fontStyle",void 0),Lr([K("layoutChange")],t.prototype,"fontWeight",void 0),Lr([K("layoutChange")],t.prototype,"fontSize",void 0),Lr([K("layoutChange")],t.prototype,"fontFamily",void 0),Lr([K()],t.prototype,"formatter",void 0),t}(fn),EJ=function(n){Mm(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.size=15,e.padding=8,e.strokeWidth=1,e}return Lr([K("layoutChange")],t.prototype,"size",void 0),Lr([K("layoutChange")],t.prototype,"shape",void 0),Lr([K("layoutChange")],t.prototype,"padding",void 0),Lr([K("change")],t.prototype,"strokeWidth",void 0),t}(fn),RJ=function(n){Mm(t,n);function t(){var e=n.call(this)||this;e.marker=new EJ,e.label=new OJ,e.paddingX=16,e.paddingY=8;var r=function(){return e.fireEvent({type:"change"})};e.marker.addEventListener("change",r),e.label.addEventListener("change",r);var i=function(){return e.fireEvent({type:"layoutChange"})};return e.marker.addEventListener("layoutChange",i),e.label.addEventListener("layoutChange",i),e}return Lr([K("layoutChange")],t.prototype,"paddingX",void 0),Lr([K("layoutChange")],t.prototype,"paddingY",void 0),t}(fn),PJ=function(n){Mm(t,n);function t(){var e=n.call(this)||this;return e.id=ip(e),e.group=new sr,e.itemSelection=mr.select(e.group).selectAll(),e.oldSize=[0,0],e.item=new RJ,e.data=[],e.enabled=!0,e.orientation=xl.Vertical,e.position=Gl.Right,e.spacing=20,e._size=[0,0],e.addPropertyListener("data",e.onDataChange),e.addPropertyListener("enabled",e.onEnabledChange),e.addPropertyListener("position",e.onPositionChange),e.item.marker.addPropertyListener("shape",e.onMarkerShapeChange,e),e.addEventListener("change",e.update),e.item.addEventListener("change",function(){return e.fireEvent({type:"change"})}),e.item.addEventListener("layoutChange",function(){return e.fireEvent({type:"layoutChange"})}),e}return Object.defineProperty(t.prototype,"size",{get:function(){return this._size},enumerable:!0,configurable:!0}),t.prototype.onDataChange=function(e){this.group.visible=e.value.length>0&&this.enabled},t.prototype.onEnabledChange=function(e){this.group.visible=e.value&&this.data.length>0},t.prototype.onPositionChange=function(e){switch(e.value){case"right":case"left":this.orientation=xl.Vertical;break;case"bottom":case"top":this.orientation=xl.Horizontal;break}},t.prototype.onMarkerShapeChange=function(){this.itemSelection=this.itemSelection.setData([]),this.itemSelection.exit.remove(),this.group.scene&&(this.group.scene.dirty=!1)},t.prototype.performLayout=function(e,r){var i=this.item,o=i.marker,a=i.paddingX,s=i.paddingY,l=this.itemSelection.setData(this.data,function(Q,ue){var X=Wc(o.shape||ue.marker.shape);return ue.id+"-"+ue.itemId+"-"+X.name});l.exit.remove();var u=l.enter.append(fJ).each(function(Q,ue){var X=Wc(o.shape||ue.marker.shape);Q.marker=new X}),c=this.itemSelection=l.merge(u),p=c.size,h=[],d=this.item.marker,f=this.item.label,g=25,v="...";c.each(function(Q,ue){Q.markerSize=d.size,Q.spacing=d.padding,Q.fontStyle=f.fontStyle,Q.fontWeight=f.fontWeight,Q.fontSize=f.fontSize,Q.fontFamily=f.fontFamily;var X=ue.label.text;X.length>g&&(X=""+X.substring(0,g-v.length)+v),Q.text=X,h.push(Q.computeBBox())});var m=h.length&&h[0].height,C=0,b=0,w=0,S=0;switch(e=Math.max(1,e),r=Math.max(1,r),this.orientation){case xl.Horizontal:if(!(isFinite(e)&&e>0))return!1;C=0;var T=0;do{var E=0;T=0,b=0,C++;for(var P=0;P<p;){var R=h[P];R.width>b&&(b=R.width),P++,P%C===0&&(E+=b,b=0,T++)}P%C!==0&&(E+=b,T++),w=E+(T-1)*a}while(w>e&&T>1);S=m*C+(C-1)*s;break;case xl.Vertical:if(!(isFinite(r)&&r>0))return!1;C=p*2;do{C=(C>>1)+C%2,b=0;for(var E=0,M=0,N=0,P=0;P<p;){var R=h[P];N||(M+=R.height),R.width>b&&(b=R.width),P++,P%C===0&&(E+=b,b=0,N++)}P%C!==0&&(E+=b,N++),w=E+(N-1)*a,S=M+(C-1)*s}while(S>r&&C>1);break}var B=(e-w)/2,k=(r-S)/2,G=0,V=0;b=0,c.each(function(Q,ue,X){Q.translationX=Math.floor(B+G),Q.translationY=Math.floor(k+V);var se=h[X];se.width>b&&(b=se.width),(X+1)%C===0?(G+=b+a,V=0,b=0):V+=se.height+s}),this.update();var z=this._size,ee=this.oldSize;z[0]=w,z[1]=S,(z[0]!==ee[0]||z[1]!==ee[1])&&(ee[0]=z[0],ee[1]=z[1])},t.prototype.update=function(){var e=this;this.itemSelection.each(function(r,i){var o=i.marker;r.markerFill=o.fill,r.markerStroke=o.stroke,r.markerStrokeWidth=e.item.marker.strokeWidth,r.markerFillOpacity=o.fillOpacity,r.markerStrokeOpacity=o.strokeOpacity,r.opacity=i.enabled?1:.5,r.color=e.item.label.color})},t.prototype.getDatumForPoint=function(e,r){var i=this.group.pickNode(e,r);if(i&&i.parent)return i.parent.datum},t.className="Legend",Lr([K("layoutChange")],t.prototype,"data",void 0),Lr([K("layoutChange")],t.prototype,"enabled",void 0),Lr([K("layoutChange")],t.prototype,"orientation",void 0),Lr([K("layoutChange")],t.prototype,"position",void 0),Lr([K("layoutChange")],t.prototype,"spacing",void 0),t}(fn),AJ=globalThis&&globalThis.__values||function(n){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},ZC=function(){function n(){}return n.init=function(){var t=this,e=window.ResizeObserver;if(e)this.resizeObserver=new e(function(i){var o,a;try{for(var s=AJ(i),l=s.next();!l.done;l=s.next()){var u=l.value,c=u.contentRect,p=c.width,h=c.height;t.checkSize(t.elements.get(u.target),u.target,p,h)}}catch(d){o={error:d}}finally{try{l&&!l.done&&(a=s.return)&&a.call(s)}finally{if(o)throw o.error}}});else{var r=function(){t.elements.forEach(function(i,o){t.checkClientSize(o,i)})};window.setInterval(r,100)}this.ready=!0},n.checkSize=function(t,e,r,i){t&&(!t.size||r!==t.size.width||i!==t.size.height)&&(t.size={width:r,height:i},t.cb(t.size,e))},n.observe=function(t,e){this.ready||this.init(),this.unobserve(t),this.resizeObserver&&this.resizeObserver.observe(t),this.elements.set(t,{cb:e}),this.checkClientSize(t,{cb:e})},n.unobserve=function(t){this.resizeObserver&&this.resizeObserver.unobserve(t),this.elements.delete(t)},n.checkClientSize=function(t,e){var r=t.clientWidth?t.clientWidth:0,i=t.clientHeight?t.clientHeight:0;this.checkSize(e,t,r,i)},n.elements=new Map,n.ready=!1,n}();function DJ(n,t,e,r,i,o,a){var s=n<r?r:n>r+o?r+o:n,l=t<i?i:t>i+a?i+a:t,u=n-s,c=t-l,p=Math.sqrt(u*u+c*c);return p<=e}function MJ(n,t,e,r,i,o,a,s){var l=n+e>i&&n<i+a,u=t+r>o&&t<o+s;return l&&u}function FJ(n,t,e,r,i,o,a,s){return i+a<n+e&&i>n&&o>t&&o+s<t+r}function IJ(n,t,e){e===void 0&&(e=5);var r=[];n=n.map(function(c){return c.slice().sort(function(p,h){return h.size-p.size})});for(var i=0;i<n.length;i++){var o=r[i]=[],a=n[i];if(!!(a&&a.length&&a[0].label))for(var s=function(c,p){var h=a[c],d=h.label,f=h.size*.5,g=h.point.x-d.width*.5,v=h.point.y-f-d.height-e,m=d.width,C=d.height,b=!t||FJ(t.x,t.y,t.width,t.height,g,v,m,C);if(!b)return"continue";var w=n.some(function(T){return T.some(function(E){return DJ(E.point.x,E.point.y,E.size*.5,g,v,m,C)})});if(w)return"continue";var S=r.some(function(T){return T.some(function(E){return MJ(E.x,E.y,E.width,E.height,g,v,m,C)})});if(S)return"continue";o.push({index:c,text:d.text,x:g,y:v,width:m,height:C})},l=0,u=a.length;l<u;l++)s(l,u)}return r}var bL=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Dv=globalThis&&globalThis.__assign||function(){return Dv=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Dv.apply(this,arguments)},uc=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},LJ=globalThis&&globalThis.__values||function(n){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},NJ=`
.ag-chart-tooltip {
    display: table;
    position: absolute;
    user-select: none;
    pointer-events: none;
    white-space: nowrap;
    z-index: 99999;
    font: 12px Verdana, sans-serif;
    color: black;
    background: rgb(244, 244, 244);
    border-radius: 5px;
    box-shadow: 0 0 1px rgba(3, 3, 3, 0.7), 0.5vh 0.5vh 1vh rgba(3, 3, 3, 0.25);
}

.ag-chart-tooltip-hidden {
    top: -10000px !important;
}

.ag-chart-tooltip-title {
    font-weight: bold;
    padding: 7px;
    border-top-left-radius: 5px;
    border-top-right-radius: 5px;
    color: white;
    background-color: #888888;
    border-top-left-radius: 5px;
    border-top-right-radius: 5px;
}

.ag-chart-tooltip-content {
    padding: 7px;
    line-height: 1.7em;
    border-bottom-left-radius: 5px;
    border-bottom-right-radius: 5px;
    overflow: hidden;
}

.ag-chart-tooltip-content:empty {
    padding: 0;
    height: 7px;
}

.ag-chart-tooltip-arrow::before {
    content: "";

    position: absolute;
    top: 100%;
    left: 50%;
    transform: translateX(-50%);

    border: 6px solid #989898;

    border-left-color: transparent;
    border-right-color: transparent;
    border-top-color: #989898;
    border-bottom-color: transparent;

    width: 0;
    height: 0;

    margin: 0 auto;
}

.ag-chart-tooltip-arrow::after {
    content: "";

    position: absolute;
    top: 100%;
    left: 50%;
    transform: translateX(-50%);

    border: 5px solid black;

    border-left-color: transparent;
    border-right-color: transparent;
    border-top-color: rgb(244, 244, 244);
    border-bottom-color: transparent;

    width: 0;
    height: 0;

    margin: 0 auto;
}

.ag-chart-wrapper {
    box-sizing: border-box;
    overflow: hidden;
}
`;function Qr(n,t){if(typeof n=="string")return n;t=t||{};var e=n.content,r=e===void 0?t.content||"":e,i=n.title,o=i===void 0?t.title||void 0:i,a=n.color,s=a===void 0?t.color||"white":a,l=n.backgroundColor,u=l===void 0?t.backgroundColor||"#888":l,c=o?'<div class="'+Si.defaultTooltipClass+`-title"
        style="color: `+s+"; background-color: "+u+'">'+o+"</div>":"";return c+'<div class="'+Si.defaultTooltipClass+'-content">'+r+"</div>"}var kJ=function(n){bL(t,n);function t(e,r){var i=n.call(this)||this;i.enabled=!0,i.class=Si.defaultTooltipClass,i.delay=0,i.tracking=!0,i.showTimeout=0,i.constrained=!1,i.chart=e,i.class="";var o=r.body,a=r.createElement("div");if(i.element=o.appendChild(a),window.IntersectionObserver){var s=i.chart.scene.canvas.element,l=new IntersectionObserver(function(u){var c,p;try{for(var h=LJ(u),d=h.next();!d.done;d=h.next()){var f=d.value;f.target===s&&f.intersectionRatio===0&&i.toggle(!1)}}catch(g){c={error:g}}finally{try{d&&!d.done&&(p=h.return)&&p.call(h)}finally{if(c)throw c.error}}},{root:o});l.observe(s),i.observer=l}return i}return t.prototype.destroy=function(){var e=this.element.parentNode;e&&e.removeChild(this.element),this.observer&&this.observer.unobserve(this.chart.scene.canvas.element)},t.prototype.isVisible=function(){var e=this.element;if(e.classList)return!e.classList.contains(Si.defaultTooltipClass+"-hidden");var r=e.getAttribute("class");return r?r.split(" ").indexOf(Si.defaultTooltipClass+"-hidden")<0:!1},t.prototype.updateClass=function(e,r){var i=[Si.defaultTooltipClass,this.class];e!==!0&&i.push(Si.defaultTooltipClass+"-hidden"),r!==!0&&i.push(Si.defaultTooltipClass+"-arrow"),this.element.setAttribute("class",i.join(" "))},t.prototype.show=function(e,r,i){var o=this;i===void 0&&(i=!1);var a=this.element;if(r!==void 0)a.innerHTML=r;else if(!a.innerHTML)return;var s=e.pageX-a.clientWidth/2,l=e.pageY-a.clientHeight-8;if(this.constrained=!1,this.chart.container){var u=a.getBoundingClientRect(),c=0,p=window.innerWidth-u.width-1;s<c?(s=c,this.updateClass(!0,this.constrained=!0)):s>p&&(s=p,this.updateClass(!0,this.constrained=!0)),l<window.pageYOffset&&(l=e.pageY+20,this.updateClass(!0,this.constrained=!0))}if(a.style.left=Math.round(s)+"px",a.style.top=Math.round(l)+"px",this.delay>0&&!i){this.toggle(!1),this.showTimeout=window.setTimeout(function(){o.toggle(!0)},this.delay);return}this.toggle(!0)},t.prototype.toggle=function(e){e||(window.clearTimeout(this.showTimeout),this.chart.lastPick&&!this.delay&&(this.chart.dehighlightDatum(),this.chart.lastPick=void 0)),this.updateClass(e,this.constrained)},uc([K()],t.prototype,"enabled",void 0),uc([K()],t.prototype,"class",void 0),uc([K()],t.prototype,"delay",void 0),uc([K()],t.prototype,"tracking",void 0),t}(fn),Si=function(n){bL(t,n);function t(e){e===void 0&&(e=window.document);var r=n.call(this)||this;r.id=ip(r),r.background=new Na,r.legend=new PJ,r.legendAutoPadding=new Ev,r.captionAutoPadding=0,r._container=void 0,r._data=[],r._autoSize=!1,r.padding=new Ev(20),r._axes=[],r._series=[],r._axesChanged=!1,r._seriesChanged=!1,r.layoutCallbackId=0,r._performLayout=function(){r.layoutCallbackId=0,r.background.width=r.width,r.background.height=r.height,r.performLayout(),r.layoutPending||r.fireEvent({type:"layoutDone"})},r.dataCallbackId=0,r.nodeData=new Map,r.updateCallbackId=0,r.legendBBox=new lr(0,0,0,0),r._onMouseDown=r.onMouseDown.bind(r),r._onMouseMove=r.onMouseMove.bind(r),r._onMouseUp=r.onMouseUp.bind(r),r._onMouseOut=r.onMouseOut.bind(r),r._onClick=r.onClick.bind(r),r.pointerInsideLegend=!1,r.pointerOverLegendDatum=!1;var i=new sr,o=r.background;o.fill="white",i.appendChild(o);var a=r._element=e.createElement("div");a.setAttribute("class","ag-chart-wrapper");var s=new yL(e);r.scene=s,r.autoSize=!0,s.root=i,s.container=a,r.padding.addEventListener("layoutChange",r.scheduleLayout,r);var l=r.legend;if(l.addEventListener("layoutChange",r.scheduleLayout,r),l.item.label.addPropertyListener("formatter",r.updateLegend,r),l.addPropertyListener("position",r.onLegendPositionChange,r),r.tooltip=new kJ(r,e),r.tooltip.addPropertyListener("class",function(){return r.tooltip.toggle()}),t.tooltipDocuments.indexOf(e)<0){var u=e.createElement("style");u.innerHTML=NJ,e.head.insertBefore(u,e.head.querySelector("style")),t.tooltipDocuments.push(e)}return r.setupDomListeners(s.canvas.element),r.addPropertyListener("title",r.onCaptionChange),r.addPropertyListener("subtitle",r.onCaptionChange),r.addEventListener("layoutChange",r.scheduleLayout),r}return Object.defineProperty(t.prototype,"container",{get:function(){return this._container},set:function(e){if(this._container!==e){var r=this.element.parentNode;r!=null&&r.removeChild(this.element),e&&e.appendChild(this.element),this._container=e}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"data",{get:function(){return this._data},set:function(e){this._data=e,this.series.forEach(function(r){return r.data=e})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this.scene.width},set:function(e){this.autoSize=!1,this.width!==e&&(this.scene.resize(e,this.height),this.fireEvent({type:"layoutChange"}))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.scene.height},set:function(e){this.autoSize=!1,this.height!==e&&(this.scene.resize(this.width,e),this.fireEvent({type:"layoutChange"}))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"autoSize",{get:function(){return this._autoSize},set:function(e){if(this._autoSize!==e){this._autoSize=e;var r=this.element.style;if(e){var i=this;ZC.observe(this.element,function(o){(o.width!==i.width||o.height!==i.height)&&(i.scene.resize(o.width,o.height),i.fireEvent({type:"layoutChange"}))}),r.display="block",r.width="100%",r.height="100%"}else ZC.unobserve(this.element),r.display="inline-block",r.width="auto",r.height="auto"}},enumerable:!0,configurable:!0}),t.prototype.download=function(e){this.scene.download(e)},t.prototype.destroy=function(){this.tooltip.destroy(),ZC.unobserve(this.element),this.container=void 0,this.cleanupDomListeners(this.scene.canvas.element),this.scene.container=void 0},t.prototype.onLegendPositionChange=function(){this.legendAutoPadding.clear(),this.layoutPending=!0},t.prototype.onCaptionChange=function(e){var r=e.value,i=e.oldValue;i&&(i.removeEventListener("change",this.scheduleLayout,this),this.scene.root.removeChild(i.node)),r&&(r.addEventListener("change",this.scheduleLayout,this),this.scene.root.appendChild(r.node))},Object.defineProperty(t.prototype,"element",{get:function(){return this._element},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"axes",{get:function(){return this._axes},set:function(e){var r=this;this._axes.forEach(function(i){return r.detachAxis(i)}),this._axes=e.filter(function(i){return!i.linkedTo}).concat(e.filter(function(i){return i.linkedTo})),this._axes.forEach(function(i){return r.attachAxis(i)}),this.axesChanged=!0},enumerable:!0,configurable:!0}),t.prototype.attachAxis=function(e){this.scene.root.insertBefore(e.group,this.seriesRoot)},t.prototype.detachAxis=function(e){this.scene.root.removeChild(e.group)},Object.defineProperty(t.prototype,"series",{get:function(){return this._series},set:function(e){var r=this;this.removeAllSeries(),e.forEach(function(i){return r.addSeries(i)})},enumerable:!0,configurable:!0}),t.prototype.scheduleLayout=function(){this.layoutPending=!0},t.prototype.scheduleData=function(){this.dehighlightDatum(),this.dataPending=!0},t.prototype.addSeries=function(e,r){var i=this,o=i.series,a=i.seriesRoot,s=o.indexOf(e)<0;if(s){var l=r?o.indexOf(r):-1;return l>=0?(o.splice(l,0,e),a.insertBefore(e.group,r.group)):(o.push(e),a.append(e.group)),this.initSeries(e),this.seriesChanged=!0,this.axesChanged=!0,!0}return!1},t.prototype.initSeries=function(e){e.chart=this,e.data||(e.data=this.data),e.addEventListener("layoutChange",this.scheduleLayout,this),e.addEventListener("dataChange",this.scheduleData,this),e.addEventListener("legendChange",this.updateLegend,this),e.addEventListener("nodeClick",this.onSeriesNodeClick,this)},t.prototype.freeSeries=function(e){e.chart=void 0,e.removeEventListener("layoutChange",this.scheduleLayout,this),e.removeEventListener("dataChange",this.scheduleData,this),e.removeEventListener("legendChange",this.updateLegend,this),e.removeEventListener("nodeClick",this.onSeriesNodeClick,this)},t.prototype.addSeriesAfter=function(e,r){var i=this,o=i.series,a=i.seriesRoot,s=o.indexOf(e)<0;if(s){var l=r?this.series.indexOf(r):-1;l>=0?(l+1<o.length?a.insertBefore(e.group,o[l+1].group):a.append(e.group),this.initSeries(e),o.splice(l+1,0,e)):(o.length>0?a.insertBefore(e.group,o[0].group):a.append(e.group),this.initSeries(e),o.unshift(e)),this.seriesChanged=!0,this.axesChanged=!0}return!1},t.prototype.removeSeries=function(e){var r=this.series.indexOf(e);return r>=0?(this.series.splice(r,1),this.freeSeries(e),this.seriesRoot.removeChild(e.group),this.seriesChanged=!0,!0):!1},t.prototype.removeAllSeries=function(){var e=this;this.series.forEach(function(r){e.freeSeries(r),e.seriesRoot.removeChild(r.group)}),this._series=[],this.seriesChanged=!0},t.prototype.assignSeriesToAxes=function(){var e=this;this.axes.forEach(function(r){var i=r.direction+"Axis",o=[];e.series.forEach(function(a){a[i]===r&&o.push(a)}),r.boundSeries=o}),this.seriesChanged=!1},t.prototype.assignAxesToSeries=function(e){var r=this;e===void 0&&(e=!1);var i={};this.axes.forEach(function(o){var a=o.direction,s=i[a]||(i[a]=[]);s.push(o)}),this.series.forEach(function(o){o.directions.forEach(function(a){var s=a+"Axis";if(!o[s]||e){var l=i[a];if(l){var u=r.findMatchingAxis(l,o.getKeys(a));u&&(o[s]=u)}}})}),this.axesChanged=!1},t.prototype.findMatchingAxis=function(e,r){for(var i=0;i<e.length;i++){var o=e[i],a=o.keys;if(a.length){if(r){for(var s=0;s<r.length;s++)if(a.indexOf(r[s])>=0)return o}}else return o}},Object.defineProperty(t.prototype,"axesChanged",{get:function(){return this._axesChanged},set:function(e){this._axesChanged=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"seriesChanged",{get:function(){return this._seriesChanged},set:function(e){this._seriesChanged=e,e&&(this.dataPending=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"layoutPending",{get:function(){return!!this.layoutCallbackId},set:function(e){e?this.layoutCallbackId||this.dataPending||(this.layoutCallbackId=requestAnimationFrame(this._performLayout),this.series.forEach(function(r){return r.nodeDataPending=!0})):this.layoutCallbackId&&(cancelAnimationFrame(this.layoutCallbackId),this.layoutCallbackId=0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dataPending",{get:function(){return!!this.dataCallbackId},set:function(e){var r=this;this.dataCallbackId&&(clearTimeout(this.dataCallbackId),this.dataCallbackId=0),e&&(this.dataCallbackId=window.setTimeout(function(){r.dataPending=!1,r.processData()},0))},enumerable:!0,configurable:!0}),t.prototype.processData=function(){this.layoutPending=!1,this.axesChanged&&(this.assignAxesToSeries(!0),this.assignSeriesToAxes()),this.seriesChanged&&this.assignSeriesToAxes(),this.series.forEach(function(e){return e.processData()}),this.updateLegend(),this.layoutPending=!0},t.prototype.createNodeData=function(){var e=this;this.nodeData.clear(),this.series.forEach(function(r){var i=r.visible?r.createNodeData():[];e.nodeData.set(r,i)})},t.prototype.placeLabels=function(){var e=[],r=[];this.nodeData.forEach(function(a,s){s.visible&&s.label.enabled&&(e.push(s),r.push(s.getLabelData()))});var i=this.seriesRect,o=i?IJ(r,{x:0,y:0,width:i.width,height:i.height}):[];return new Map(o.map(function(a,s){return[e[s],a]}))},t.prototype.updateLegend=function(){var e=[];this.series.filter(function(i){return i.showInLegend}).forEach(function(i){return i.listSeriesItems(e)});var r=this.legend.item.label.formatter;r&&e.forEach(function(i){return i.label.text=r({id:i.id,itemId:i.itemId,value:i.label.text})}),this.legend.data=e},Object.defineProperty(t.prototype,"updatePending",{get:function(){return!!this.updateCallbackId},set:function(e){var r=this;this.updateCallbackId&&(clearTimeout(this.updateCallbackId),this.updateCallbackId=0),e&&!this.layoutPending&&(this.updateCallbackId=window.setTimeout(function(){r.update()},0))},enumerable:!0,configurable:!0}),t.prototype.update=function(){this.updatePending=!1,this.series.forEach(function(e){e.updatePending&&e.update()})},t.prototype.positionCaptions=function(){var e=this,r=e.title,i=e.subtitle,o=!1,a=!1,s=10,l=s;if(r&&r.enabled){r.node.x=this.width/2,r.node.y=l,o=!0;var u=r.node.computeBBox();if(u&&(l=u.y+u.height),i&&i.enabled){i.node.x=this.width/2,i.node.y=l+s,a=!0;var c=i.node.computeBBox();c&&(l=c.y+c.height)}}r&&(r.node.visible=o),i&&(i.node.visible=a),this.captionAutoPadding=Math.floor(l)},t.prototype.positionLegend=function(){if(!(!this.legend.enabled||!this.legend.data.length)){var e=this,r=e.legend,i=e.captionAutoPadding,o=e.legendAutoPadding,a=this.width,s=this.height-i,l=r.group,u=r.spacing,c=0,p=0,h;switch(r.position){case"bottom":r.performLayout(a-u*2,0),h=l.computeBBox(),l.visible=h.height<Math.floor(s*.5),l.visible?(c=(a-h.width)/2-h.x,p=i+s-h.height-h.y-u,o.bottom=h.height):o.bottom=0;break;case"top":r.performLayout(a-u*2,0),h=l.computeBBox(),l.visible=h.height<Math.floor(s*.5),l.visible?(c=(a-h.width)/2-h.x,p=i+u-h.y,o.top=h.height):o.top=0;break;case"left":r.performLayout(0,s-u*2),h=l.computeBBox(),l.visible=h.width<Math.floor(a*.5),l.visible?(c=u-h.x,p=i+(s-h.height)/2-h.y,o.left=h.width):o.left=0;break;default:r.performLayout(0,s-u*2),h=l.computeBBox(),l.visible=h.width<Math.floor(a*.5),l.visible?(c=a-h.width-h.x-u,p=i+(s-h.height)/2-h.y,o.right=h.width):o.right=0;break}l.visible&&(l.translationX=Math.floor(c+l.translationX),l.translationY=Math.floor(p+l.translationY),this.legendBBox=l.computeBBox())}},t.prototype.setupDomListeners=function(e){e.addEventListener("mousedown",this._onMouseDown),e.addEventListener("mousemove",this._onMouseMove),e.addEventListener("mouseup",this._onMouseUp),e.addEventListener("mouseout",this._onMouseOut),e.addEventListener("click",this._onClick)},t.prototype.cleanupDomListeners=function(e){e.removeEventListener("mousedown",this._onMouseDown),e.removeEventListener("mousemove",this._onMouseMove),e.removeEventListener("mouseup",this._onMouseUp),e.removeEventListener("mouseout",this._onMouseOut),e.removeEventListener("click",this._onClick)},t.prototype.getSeriesRect=function(){return this.seriesRect},t.prototype.pickSeriesNode=function(e,r){if(!!(this.seriesRect&&this.seriesRect.containsPoint(e,r)))for(var i=this.series,o=void 0,a=i.length-1;a>=0;a--){var s=i[a];if(!(!s.visible||!s.group.visible)&&(o=s.pickGroup.pickNode(e,r),o))return{series:s,node:o}}},t.prototype.pickClosestSeriesNodeDatum=function(e,r){if(!this.seriesRect||!this.seriesRect.containsPoint(e,r))return;var i=this.series;function o(c,p){return Math.sqrt(Math.pow(c.x-p.x,2)+Math.pow(c.y-p.y,2))}for(var a=1/0,s,l=function(c){var p=i[c];if(!p.visible||!p.group.visible)return"continue";var h=p.group.transformPoint(e,r);p.getNodeData().forEach(function(d){var f,g;if(!!d.point){var v=p.xAxis,m=p.yAxis,C=((f=v)===null||f===void 0?void 0:f.inRange(d.point.x))&&((g=m)===null||g===void 0?void 0:g.inRange(d.point.y));if(!!C){var b=o(h,d.point);b<a&&(a=b,s=d)}}})},u=i.length-1;u>=0;u--)l(u);return s},t.prototype.onMouseMove=function(e){this.handleLegendMouseMove(e),this.tooltip.enabled&&(this.tooltip.delay>0&&this.tooltip.toggle(!1),this.handleTooltip(e))},t.prototype.handleTooltip=function(e){var r=this,i=r.lastPick,o=r.tooltip.tracking,a=e.offsetX,s=e.offsetY,l=this.pickSeriesNode(a,s),u;if(l&&l.node instanceof Ws){var c=l.node;if(u=c.datum,i&&i.datum===u&&(i.node=c,i.event=e),!c.datum.point||!o){!i||i.node!==c?this.onSeriesDatumPick(e,c.datum,c,e):l.series.tooltip.enabled&&this.tooltip.show(e);return}}var p=!1;if(o){var h=this.pickClosestSeriesNodeDatum(a,s);if(h&&h.point){var d=h.point,f=d.x,g=d.y,v=this.scene.canvas,m=h.series.group.inverseTransformPoint(f,g),C=v.element.getBoundingClientRect();this.onSeriesDatumPick({pageX:Math.round(C.left+window.pageXOffset+m.x),pageY:Math.round(C.top+window.pageYOffset+m.y)},h,u===h&&l?l.node:void 0,e)}else p=!0}i&&(p||!o)&&(this.dehighlightDatum(),this.tooltip.toggle(!1),this.lastPick=void 0)},t.prototype.onMouseDown=function(e){},t.prototype.onMouseUp=function(e){},t.prototype.onMouseOut=function(e){this.tooltip.toggle(!1)},t.prototype.onClick=function(e){this.checkSeriesNodeClick()||this.checkLegendClick(e)||this.fireEvent({type:"click",event:e})},t.prototype.checkSeriesNodeClick=function(){var e=this.lastPick;if(e&&e.event&&e.node){var r=e.event,i=e.datum;return i.series.fireNodeClickEvent(r,i),!0}return!1},t.prototype.onSeriesNodeClick=function(e){this.fireEvent(Dv(Dv({},e),{type:"seriesNodeClick"}))},t.prototype.checkLegendClick=function(e){var r=this.legend.getDatumForPoint(e.offsetX,e.offsetY);if(r){var i=r.id,o=r.itemId,a=r.enabled,s=Zw(this.series,function(l){return l.id===i});if(s)return s.toggleSeriesItem(o,!a),a&&this.tooltip.toggle(!1),this.legend.fireEvent({type:"click",event:e,itemId:o,enabled:!a}),!0}return!1},t.prototype.handleLegendMouseMove=function(e){if(!!this.legend.enabled){var r=e.offsetX,i=e.offsetY,o=this.legend.getDatumForPoint(r,i),a=this.legendBBox.containsPoint(r,i),s=a&&o!==void 0;if(!a&&this.pointerInsideLegend){this.pointerInsideLegend=!1,this.element.style.cursor="default",this.dehighlightDatum();return}s&&!this.pointerOverLegendDatum&&(this.element.style.cursor="pointer"),!s&&this.pointerOverLegendDatum&&(this.element.style.cursor="default"),this.pointerInsideLegend=a,this.pointerOverLegendDatum=s;var l=this.highlightedDatum;if(o){var u=o.id,c=o.itemId,p=o.enabled;if(p){var h=Zw(this.series,function(d){return d.id===u});h&&(this.highlightedDatum={series:h,itemId:c,datum:void 0})}}(this.highlightedDatum&&!l||this.highlightedDatum&&l&&(this.highlightedDatum.series!==l.series||this.highlightedDatum.itemId!==l.itemId))&&this.series.forEach(function(d){return d.updatePending=!0})}},t.prototype.onSeriesDatumPick=function(e,r,i,o){var a=this.lastPick;if(a){if(a.datum===r)return;this.dehighlightDatum()}this.lastPick={datum:r,node:i,event:o},this.highlightDatum(r);var s=r.series.tooltip.enabled&&r.series.getTooltipHtml(r);s&&this.tooltip.show(e,s)},t.prototype.highlightDatum=function(e){this.element.style.cursor=e.series.cursor,this.highlightedDatum=e,this.series.forEach(function(r){return r.updatePending=!0})},t.prototype.dehighlightDatum=function(){this.highlightedDatum&&(this.highlightedDatum=void 0,this.series.forEach(function(e){return e.updatePending=!0}))},t.defaultTooltipClass="ag-chart-tooltip",t.tooltipDocuments=[],uc([K("layoutChange")],t.prototype,"title",void 0),uc([K("layoutChange")],t.prototype,"subtitle",void 0),t}(fn),GJ=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),xd=function(n){GJ(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.isContainerNode=!0,e.path=new aL,e._enabled=!0,e._dirtyPath=!0,e._x=0,e._y=0,e._width=10,e._height=10,e}return t.prototype.containsPoint=function(e,r){var i=this.transformPoint(e,r);return i.x>=this.x&&i.x<=this.x+this.width&&i.y>=this.y&&i.y<=this.y+this.height},Object.defineProperty(t.prototype,"enabled",{get:function(){return this._enabled},set:function(e){this._enabled!==e&&(this._enabled=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dirtyPath",{get:function(){return this._dirtyPath},set:function(e){this._dirtyPath!==e&&(this._dirtyPath=e,e&&(this.dirty=!0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"x",{get:function(){return this._x},set:function(e){this._x!==e&&(this._x=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this._y},set:function(e){this._y!==e&&(this._y=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this._width},set:function(e){this._width!==e&&(this._width=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._height},set:function(e){this._height!==e&&(this._height=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),t.prototype.updatePath=function(){var e=this.path;e.clear(),e.rect(this.x,this.y,this.width,this.height),this.dirtyPath=!1},t.prototype.computeBBox=function(){var e=this,r=e.x,i=e.y,o=e.width,a=e.height;return new lr(r,i,o,a)},t.prototype.render=function(e){this.enabled&&(this.dirtyPath&&this.updatePath(),this.path.draw(e),e.clip());for(var r=this.children,i=r.length,o=0;o<i;o++){e.save();var a=r[o];a.visible&&a.render(e),e.restore()}},t.className="ClipRect",t}(fa),BJ=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),KE=function(n){BJ(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e._fill="#f2f2f2",e._stroke="#999999",e._strokeWidth=1,e._lineCap="square",e._centerX=0,e._centerY=0,e._width=8,e._gripLineGap=2,e._gripLineLength=8,e._height=16,e}return Object.defineProperty(t.prototype,"centerX",{get:function(){return this._centerX},set:function(e){this._centerX!==e&&(this._centerX=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"centerY",{get:function(){return this._centerY},set:function(e){this._centerY!==e&&(this._centerY=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this._width},set:function(e){this._width!==e&&(this._width=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"gripLineGap",{get:function(){return this._gripLineGap},set:function(e){this._gripLineGap!==e&&(this._gripLineGap=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"gripLineLength",{get:function(){return this._gripLineLength},set:function(e){this._gripLineLength!==e&&(this._gripLineLength=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._height},set:function(e){this._height!==e&&(this._height=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),t.prototype.computeBBox=function(){var e=this,r=e.centerX,i=e.centerY,o=e.width,a=e.height,s=r-o/2,l=i-a/2;return new lr(s,l,o,a)},t.prototype.isPointInPath=function(e,r){var i=this.transformPoint(e,r),o=this.computeBBox();return o.containsPoint(i.x,i.y)},t.prototype.updatePath=function(){var e=this,r=e.path,i=e.centerX,o=e.centerY,a=e.width,s=e.height,l=this,u=l.alignment,c=l.align;r.clear();var p=i-a/2,h=o-s/2,d=c(u,p),f=c(u,h),g=d+c(u,p,a),v=f+c(u,h,s);r.moveTo(d,f),r.lineTo(g,f),r.lineTo(g,v),r.lineTo(d,v),r.lineTo(d,f);var m=this.gripLineGap/2,C=this.gripLineLength/2;r.moveTo(c(u,i-m),c(u,o-C)),r.lineTo(c(u,i-m),c(u,o+C)),r.moveTo(c(u,i+m),c(u,o-C)),r.lineTo(c(u,i+m),c(u,o+C))},t.className="RangeHandle",t}(Mn),VJ=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),WJ=function(n){VJ(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e._stroke="#999999",e._strokeWidth=1,e._fill="#999999",e._fillOpacity=.2,e._lineCap="square",e._x=0,e._y=0,e._width=200,e._height=30,e.minRange=.05,e._min=0,e._max=1,e}return Object.defineProperty(t.prototype,"x",{get:function(){return this._x},set:function(e){this._x!==e&&(this._x=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this._y},set:function(e){this._y!==e&&(this._y=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this._width},set:function(e){this._width!==e&&(this._width=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._height},set:function(e){this._height!==e&&(this._height=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"min",{get:function(){return this._min},set:function(e){e=Math.min(Math.max(e,0),this.max-this.minRange),!isNaN(e)&&this._min!==e&&(this._min=e,this.dirtyPath=!0,this.onRangeChange&&this.onRangeChange(e,this.max))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"max",{get:function(){return this._max},set:function(e){e=Math.max(Math.min(e,1),this.min+this.minRange),!isNaN(e)&&this._max!==e&&(this._max=e,this.dirtyPath=!0,this.onRangeChange&&this.onRangeChange(this.min,e))},enumerable:!0,configurable:!0}),t.prototype.computeBBox=function(){var e=this,r=e.x,i=e.y,o=e.width,a=e.height;return new lr(r,i,o,a)},t.prototype.computeVisibleRangeBBox=function(){var e=this,r=e.x,i=e.y,o=e.width,a=e.height,s=e.min,l=e.max,u=r+o*s,c=r+o*l;return new lr(u,i,c-u,a)},t.prototype.updatePath=function(){var e=this,r=e.path,i=e.x,o=e.y,a=e.width,s=e.height,l=e.min,u=e.max,c=this,p=c.alignment,h=c.align;r.clear();var d=h(p,i),f=h(p,o),g=d+h(p,i,a),v=f+h(p,o,s);r.moveTo(d,f),r.lineTo(g,f),r.lineTo(g,v),r.lineTo(d,v),r.lineTo(d,f);var m=h(p,i+a*l),C=h(p,i+a*u);r.moveTo(m,f),r.lineTo(m,v),r.lineTo(C,v),r.lineTo(C,f),r.lineTo(m,f)},t.className="RangeMask",t}(Mn),HJ=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),jJ=function(n){HJ(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.isContainerNode=!0,e.minHandle=new KE,e.maxHandle=new KE,e.mask=function(){var r=t.defaults,i=r.x,o=r.y,a=r.width,s=r.height,l=r.min,u=r.max,c=new WJ;c.x=i,c.y=o,c.width=a,c.height=s,c.min=l,c.max=u;var p=e,h=p.minHandle,d=p.maxHandle;return h.centerX=i,d.centerX=i+a,h.centerY=d.centerY=o+s/2,e.append([c,h,d]),c.onRangeChange=function(f,g){e.updateHandles(),e.onRangeChange&&e.onRangeChange(f,g)},c}(),e._x=t.defaults.x,e._y=t.defaults.y,e._width=t.defaults.width,e._height=t.defaults.height,e._min=t.defaults.min,e._max=t.defaults.max,e}return Object.defineProperty(t.prototype,"x",{get:function(){return this.mask.x},set:function(e){this.mask.x=e,this.updateHandles()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this.mask.y},set:function(e){this.mask.y=e,this.updateHandles()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this.mask.width},set:function(e){this.mask.width=e,this.updateHandles()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.mask.height},set:function(e){this.mask.height=e,this.updateHandles()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"min",{get:function(){return this.mask.min},set:function(e){this.mask.min=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"max",{get:function(){return this.mask.max},set:function(e){this.mask.max=e},enumerable:!0,configurable:!0}),t.prototype.updateHandles=function(){var e=this,r=e.minHandle,i=e.maxHandle,o=e.x,a=e.y,s=e.width,l=e.height,u=e.mask;r.centerX=o+s*u.min,i.centerX=o+s*u.max,r.centerY=i.centerY=a+l/2},t.prototype.computeBBox=function(){return this.mask.computeBBox()},t.prototype.computeVisibleRangeBBox=function(){return this.mask.computeVisibleRangeBBox()},t.prototype.render=function(e){this.dirtyTransform&&this.computeTransformMatrix(),this.matrix.toContext(e);var r=this,i=r.mask,o=r.minHandle,a=r.maxHandle;[i,o,a].forEach(function(s){e.save(),s.visible&&s.render(e),e.restore()})},t.className="Range",t.defaults={x:0,y:0,width:200,height:30,min:0,max:1},t}(sr),UJ=function(){function n(t){this.rm=t}return Object.defineProperty(n.prototype,"fill",{get:function(){return this.rm.fill},set:function(t){this.rm.fill=t},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"stroke",{get:function(){return this.rm.stroke},set:function(t){this.rm.stroke=t},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"strokeWidth",{get:function(){return this.rm.strokeWidth},set:function(t){this.rm.strokeWidth=t},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"fillOpacity",{get:function(){return this.rm.fillOpacity},set:function(t){this.rm.fillOpacity=t},enumerable:!0,configurable:!0}),n}(),YE=function(){function n(t){this.rh=t}return Object.defineProperty(n.prototype,"fill",{get:function(){return this.rh.fill},set:function(t){this.rh.fill=t},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"stroke",{get:function(){return this.rh.stroke},set:function(t){this.rh.stroke=t},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"strokeWidth",{get:function(){return this.rh.strokeWidth},set:function(t){this.rh.strokeWidth=t},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"width",{get:function(){return this.rh.width},set:function(t){this.rh.width=t},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"height",{get:function(){return this.rh.height},set:function(t){this.rh.height=t},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"gripLineGap",{get:function(){return this.rh.gripLineGap},set:function(t){this.rh.gripLineGap=t},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"gripLineLength",{get:function(){return this.rh.gripLineLength},set:function(t){this.rh.gripLineLength=t},enumerable:!0,configurable:!0}),n}(),zJ=function(){function n(t){var e=this;this.rs=new jJ,this.mask=new UJ(this.rs.mask),this.minHandle=new YE(this.rs.minHandle),this.maxHandle=new YE(this.rs.maxHandle),this.minHandleDragging=!1,this.maxHandleDragging=!1,this.panHandleOffset=NaN,this.changedCursor=!1,this._margin=10,this.chart=t,t.scene.root.append(this.rs),this.rs.onRangeChange=function(r,i){return e.updateAxes(r,i)}}return Object.defineProperty(n.prototype,"enabled",{get:function(){return this.rs.visible},set:function(t){this.rs.visible=t,this.chart.layoutPending=!0},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"x",{get:function(){return this.rs.x},set:function(t){this.rs.x=t},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"y",{get:function(){return this.rs.y},set:function(t){this.rs.y=t},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"width",{get:function(){return this.rs.width},set:function(t){this.rs.width=t},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"height",{get:function(){return this.rs.height},set:function(t){this.rs.height=t,this.chart.layoutPending=!0},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"margin",{get:function(){return this._margin},set:function(t){this._margin=t,this.chart.layoutPending=!0},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"min",{get:function(){return this.rs.min},set:function(t){this.rs.min=t},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"max",{get:function(){return this.rs.max},set:function(t){this.rs.max=t},enumerable:!0,configurable:!0}),n.prototype.updateAxes=function(t,e){var r=this,i=this.chart,o=!1;i.axes.forEach(function(a){if(a.direction===bt.X){!o&&(t>0||e<1)&&(o=!0),a.visibleRange=[t,e];var s=a.labelAutoRotated;a.update(),a.labelAutoRotated!==s&&(r.chart.layoutPending=!0)}}),i.seriesRoot.enabled=o,i.series.forEach(function(a){return a.nodeDataPending=!0})},n.prototype.onDragStart=function(t){if(!!this.enabled){var e=t.offsetX,r=t.offsetY,i=this.rs,o=i.minHandle,a=i.maxHandle,s=i.x,l=i.width,u=i.min,c=i.computeVisibleRangeBBox();this.minHandleDragging||this.maxHandleDragging||(o.containsPoint(e,r)?this.minHandleDragging=!0:a.containsPoint(e,r)?this.maxHandleDragging=!0:c.containsPoint(e,r)&&(this.panHandleOffset=(e-s)/l-u))}},n.prototype.onDrag=function(t){if(!this.enabled)return;var e=this,r=e.rs,i=e.panHandleOffset,o=r.x,a=r.y,s=r.width,l=r.height,u=r.minHandle,c=r.maxHandle,p=this.chart.element.style,h=t.offsetX,d=t.offsetY,f=o+s*r.min,g=o+s*r.max,v=new lr(f,a,g-f,l);function m(){return Math.min(Math.max((h-o)/s,0),1)}if(u.containsPoint(h,d)?(this.changedCursor=!0,p.cursor="ew-resize"):c.containsPoint(h,d)?(this.changedCursor=!0,p.cursor="ew-resize"):v.containsPoint(h,d)?(this.changedCursor=!0,p.cursor="grab"):this.changedCursor&&(this.changedCursor=!1,p.cursor="default"),this.minHandleDragging)r.min=m();else if(this.maxHandleDragging)r.max=m();else if(!isNaN(i)){var C=r.max-r.min,b=Math.min(m()-i,1-C);b<=r.min?(r.min=b,r.max=r.min+C):(r.max=b+C,r.min=r.max-C)}},n.prototype.onDragStop=function(){this.stopHandleDragging()},n.prototype.stopHandleDragging=function(){this.minHandleDragging=this.maxHandleDragging=!1,this.panHandleOffset=NaN},n}(),$J=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),KJ=globalThis&&globalThis.__read||function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},YJ=globalThis&&globalThis.__spread||function(){for(var n=[],t=0;t<arguments.length;t++)n=n.concat(KJ(arguments[t]));return n},wL=function(n){$J(t,n);function t(e){e===void 0&&(e=window.document);var r=n.call(this,e)||this;r._seriesRoot=new xd,r.navigator=new zJ(r),r.scene.root.visible=!1;var i=r.scene.root;return i.append(r.seriesRoot),i.append(r.legend.group),r.navigator.enabled=!1,r}return Object.defineProperty(t.prototype,"seriesRoot",{get:function(){return this._seriesRoot},enumerable:!0,configurable:!0}),t.prototype.performLayout=function(){if(!this.dataPending){this.scene.root.visible=!0;var e=this,r=e.width,i=e.height,o=e.axes,a=e.legend,s=e.navigator,l=new lr(0,0,r,i);if(this.positionCaptions(),this.positionLegend(),a.enabled&&a.data.length){var u=this.legendAutoPadding,c=this.legend.spacing;switch(l.x+=u.left,l.y+=u.top,l.width-=u.left+u.right,l.height-=u.top+u.bottom,this.legend.position){case"right":l.width-=c;break;case"bottom":l.height-=c;break;case"left":l.x+=c,l.width-=c;break;case"top":l.y+=c,l.height-=c;break}}var p=this,h=p.captionAutoPadding,d=p.padding;l.x+=d.left,l.width-=d.left+d.right,l.y+=d.top+h,l.height-=d.top+h+d.bottom,s.enabled&&(l.height-=s.height+s.margin),o.forEach(function(m){var C=0;switch(m.position){case Me.Top:case Me.Bottom:C=l.width;break;case Me.Left:case Me.Right:C=l.height;break}m.calculateTickCount(C)}),this.updateAxes();var f=0,g={top:!1,right:!1,bottom:!1,left:!1,angle:!1,radius:!1};o.forEach(function(m){m.group.visible=!0;var C=Math.floor(m.thickness||m.computeBBox().width),b=m.title&&m.title.padding.top||15;switch(g[m.position]&&(C+=b),m.position){case Me.Top:g[Me.Top]=!0,l.y+=C,l.height-=C,m.translation.y=Math.floor(l.y+1),m.label.mirrored=!0;break;case Me.Right:g[Me.Right]=!0,l.width-=C,m.translation.x=Math.max(Math.floor(l.x),Math.floor(l.x+l.width)),m.label.mirrored=!0;break;case Me.Bottom:g[Me.Bottom]=!0,l.height-=C,f+=C,m.translation.y=Math.max(Math.floor(l.y),Math.floor(l.y+l.height+1));break;case Me.Left:g[Me.Left]=!0,l.x+=C,l.width-=C,m.translation.x=Math.floor(l.x);break}}),l.width=Math.max(0,l.width),l.height=Math.max(0,l.height),o.forEach(function(m){switch(m.position){case Me.Top:case Me.Bottom:m.translation.x=Math.floor(l.x),m.range=[0,l.width],m.gridLength=l.height;break;case Me.Left:case Me.Right:m.translation.y=Math.floor(l.y),m instanceof eu||m instanceof Vc?m.range=[0,l.height]:m.range=[l.height,0],m.gridLength=l.width;break}}),this.createNodeData(),this.seriesRect=l,this.series.forEach(function(m){m.group.translationX=Math.floor(l.x),m.group.translationY=Math.floor(l.y),m.update()});var v=this.seriesRoot;v.x=l.x,v.y=l.y,v.width=l.width,v.height=l.height,s.enabled&&(s.x=l.x,s.y=l.y+l.height+f+s.margin,s.width=l.width),this.axes.forEach(function(m){return m.update()})}},t.prototype.initSeries=function(e){n.prototype.initSeries.call(this,e)},t.prototype.freeSeries=function(e){n.prototype.freeSeries.call(this,e)},t.prototype.setupDomListeners=function(e){n.prototype.setupDomListeners.call(this,e),this._onTouchStart=this.onTouchStart.bind(this),this._onTouchMove=this.onTouchMove.bind(this),this._onTouchEnd=this.onTouchEnd.bind(this),this._onTouchCancel=this.onTouchCancel.bind(this),e.addEventListener("touchstart",this._onTouchStart,{passive:!0}),e.addEventListener("touchmove",this._onTouchMove,{passive:!0}),e.addEventListener("touchend",this._onTouchEnd,{passive:!0}),e.addEventListener("touchcancel",this._onTouchCancel,{passive:!0})},t.prototype.cleanupDomListeners=function(e){n.prototype.cleanupDomListeners.call(this,e),e.removeEventListener("touchstart",this._onTouchStart),e.removeEventListener("touchmove",this._onTouchMove),e.removeEventListener("touchend",this._onTouchEnd),e.removeEventListener("touchcancel",this._onTouchCancel)},t.prototype.getTouchOffset=function(e){var r=this.scene.canvas.element.getBoundingClientRect(),i=e.touches[0];return i?{offsetX:i.clientX-r.left,offsetY:i.clientY-r.top}:void 0},t.prototype.onTouchStart=function(e){var r=this.getTouchOffset(e);r&&this.navigator.onDragStart(r)},t.prototype.onTouchMove=function(e){var r=this.getTouchOffset(e);r&&this.navigator.onDrag(r)},t.prototype.onTouchEnd=function(e){this.navigator.onDragStop()},t.prototype.onTouchCancel=function(e){this.navigator.onDragStop()},t.prototype.onMouseDown=function(e){n.prototype.onMouseDown.call(this,e),this.navigator.onDragStart(e)},t.prototype.onMouseMove=function(e){n.prototype.onMouseMove.call(this,e),this.navigator.onDrag(e)},t.prototype.onMouseUp=function(e){n.prototype.onMouseUp.call(this,e),this.navigator.onDragStop()},t.prototype.onMouseOut=function(e){n.prototype.onMouseOut.call(this,e),this.navigator.onDragStop()},t.prototype.assignAxesToSeries=function(e){e===void 0&&(e=!1),n.prototype.assignAxesToSeries.call(this,e),this.series.forEach(function(r){r.xAxis||console.warn("Could not find a matching xAxis for the "+r.id+" series."),r.yAxis||console.warn("Could not find a matching yAxis for the "+r.id+" series.")})},t.prototype.updateAxes=function(){var e=this,r=this.navigator,i=!1,o;this.axes.forEach(function(a){var s,l=a.direction,u=a.boundSeries;if(u.length===0&&e._series.length>0&&console.warn("AG Charts - chart series not initialised; check series and axes configuration."),a.linkedTo)a.domain=a.linkedTo.domain;else{var c=[];u.filter(function(d){return d.visible}).forEach(function(d){c.push(d.getDomain(l))});var p=(s=new Array).concat.apply(s,YJ(c)),h=a.direction==="y";a instanceof op&&h?(a.setDomain(p,o),o=o||a.scale.ticks(a.calculatedTickCount).length):a.domain=p}a.direction===bt.X&&(a.visibleRange=[r.min,r.max]),!i&&(a.visibleRange[0]>0||a.visibleRange[1]<1)&&(i=!0),a.update()}),this.seriesRoot.enabled=i},t.className="CartesianChart",t.type="cartesian",t}(Si),XJ=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),qJ=function(n){XJ(t,n);function t(e){e===void 0&&(e=window.document);var r=n.call(this,e)||this;r._data={},r._seriesRoot=new xd,r.scene.root.visible=!1;var i=r.scene.root;return i.append(r.seriesRoot),i.append(r.legend.group),r}return Object.defineProperty(t.prototype,"seriesRoot",{get:function(){return this._seriesRoot},enumerable:!0,configurable:!0}),t.prototype.performLayout=function(){if(!this.dataPending){this.scene.root.visible=!0;var e=this,r=e.width,i=e.height,o=e.legend,a=new lr(0,0,r,i);if(this.positionCaptions(),this.positionLegend(),o.enabled&&o.data.length){var s=this.legendAutoPadding,l=this.legend.spacing;switch(a.x+=s.left,a.y+=s.top,a.width-=s.left+s.right,a.height-=s.top+s.bottom,this.legend.position){case"right":a.width-=l;break;case"bottom":a.height-=l;break;case"left":a.x+=l,a.width-=l;break;case"top":a.y+=l,a.height-=l;break}}var u=this,c=u.captionAutoPadding,p=u.padding;a.x+=p.left,a.width-=p.left+p.right,a.y+=p.top+c,a.height-=p.top+c+p.bottom,this.seriesRect=a,this.series.forEach(function(d){d.group.translationX=Math.floor(a.x),d.group.translationY=Math.floor(a.y),d.update()});var h=this.seriesRoot;h.x=a.x,h.y=a.y,h.width=a.width,h.height=a.height}},t.className="HierarchyChart",t.type="hierarchy",t}(Si),ZJ=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),QJ=globalThis&&globalThis.__read||function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},JJ=globalThis&&globalThis.__spread||function(){for(var n=[],t=0;t<arguments.length;t++)n=n.concat(QJ(arguments[t]));return n},eee=function(n){ZJ(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.updateAxes=function(){this.axes.forEach(function(e){var r,i=e.direction,o=e.boundSeries,a=[],s=void 0;o.filter(function(u){return u.visible}).forEach(function(u){if(i===bt.X)if(s===void 0){var c=u.getDomain(i);a.push(c),s=typeof c[0]=="number"}else s&&a.push(u.getDomain(i));else a.push(u.getDomain(i))});var l=(r=new Array).concat.apply(r,JJ(a));e.domain=Ji(l,cn)||l,e.update()})},t.className="GroupedCategoryChart",t.type="groupedCategory",t}(wL),tee=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Wu=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Di=function(n){tee(t,n);function t(){var e=n.call(this)||this;return e.enabled=!0,e.fontSize=12,e.fontFamily="Verdana, sans-serif",e.color="rgba(70, 70, 70, 1)",e}return t.prototype.getFont=function(){return eL(this.fontSize,this.fontFamily,this.fontStyle,this.fontWeight)},Wu([K("change","dataChange")],t.prototype,"enabled",void 0),Wu([K("change")],t.prototype,"fontSize",void 0),Wu([K("change")],t.prototype,"fontFamily",void 0),Wu([K("change")],t.prototype,"fontStyle",void 0),Wu([K("change")],t.prototype,"fontWeight",void 0),Wu([K("change")],t.prototype,"color",void 0),t}(fn),_L=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),cg=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},SL=globalThis&&globalThis.__read||function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},ree=globalThis&&globalThis.__spread||function(){for(var n=[],t=0;t<arguments.length;t++)n=n.concat(SL(arguments[t]));return n},nee=function(){function n(){this.fill="yellow",this.stroke=void 0,this.strokeWidth=void 0}return n}(),iee=function(){function n(){this.strokeWidth=void 0,this.dimOpacity=void 0}return n}(),xL=function(){function n(){this.fill=void 0,this.stroke=void 0,this.strokeWidth=void 0,this.item=new nee,this.series=new iee}return n}(),gu=function(n){_L(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.enabled=!0,e}return cg([K("change")],t.prototype,"enabled",void 0),t}(fn),ap=function(n){_L(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.id=ip(e),e.group=new sr,e.pickGroup=e.group.appendChild(new sr),e.directions=[bt.X,bt.Y],e.directionKeys={},e.label=new Di,e.data=void 0,e.visible=!0,e.showInLegend=!0,e.cursor="default",e._nodeDataPending=!0,e._updatePending=!1,e.highlightStyle=new xL,e.scheduleLayout=function(){e.fireEvent({type:"layoutChange"})},e.scheduleData=function(){e.fireEvent({type:"dataChange"})},e}return Object.defineProperty(t.prototype,"type",{get:function(){return this.constructor.type||""},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"grouped",{set:function(e){if(e===!0)throw new Error("AG Charts - grouped: true is unsupported for series of type: "+this.type)},enumerable:!0,configurable:!0}),t.prototype.setColors=function(e,r){},t.prototype.getKeys=function(e){var r=this,i=this.directionKeys,o=i&&i[e],a=[];return o&&o.forEach(function(s){var l=r[s];l&&(Array.isArray(l)?a.push.apply(a,ree(l)):a.push(l))}),a},t.prototype.createNodeData=function(){return[]},t.prototype.getNodeData=function(){return[]},t.prototype.getLabelData=function(){return[]},Object.defineProperty(t.prototype,"nodeDataPending",{get:function(){return this._nodeDataPending},set:function(e){this._nodeDataPending!==e&&(this._nodeDataPending=e,this.updatePending=!0,e&&this.chart&&(this.chart.updatePending=e))},enumerable:!0,configurable:!0}),t.prototype.scheduleNodeDate=function(){this.nodeDataPending=!0},Object.defineProperty(t.prototype,"updatePending",{get:function(){return this._updatePending},set:function(e){this._updatePending!==e&&(this._updatePending=e,e&&this.chart&&(this.chart.updatePending=e))},enumerable:!0,configurable:!0}),t.prototype.scheduleUpdate=function(){this.updatePending=!0},t.prototype.getOpacity=function(e){var r=this,i=r.chart,o=r.highlightStyle.series.dimOpacity,a=o===void 0?1:o;return!i||!i.highlightedDatum||i.highlightedDatum.series===this&&(!e||i.highlightedDatum.itemId===e.itemId)?1:a},t.prototype.getStrokeWidth=function(e,r){var i=this,o=i.chart,a=i.highlightStyle.series.strokeWidth;return o&&o.highlightedDatum&&o.highlightedDatum.series===this&&(!r||o.highlightedDatum.itemId===r.itemId)&&a!==void 0?a:e},t.prototype.fireNodeClickEvent=function(e,r){},t.prototype.toggleSeriesItem=function(e,r){this.visible=r},t.prototype.onHighlightChange=function(){},t.prototype.fixNumericExtent=function(e,r,i){if(!e)return[0,1];var o=SL(e,2),a=o[0],s=o[1];if(a=+a,s=+s,a===0&&s===0)return[0,1];if(a===s)if(i instanceof qh)a-=1,s+=1;else{var l=Math.abs(a*.01);a-=l,s+=l}return Hs(a)&&Hs(s)?[a,s]:[0,1]},t.highlightedZIndex=1e12,cg([K("dataChange")],t.prototype,"data",void 0),cg([K("dataChange")],t.prototype,"visible",void 0),cg([K("layoutChange")],t.prototype,"showInLegend",void 0),t}(fn),oee=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),mo=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},TL=function(n){oee(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.enabled=!0,e.shape=CL,e.size=6,e.maxSize=30,e.strokeWidth=1,e}return mo([K("change")],t.prototype,"enabled",void 0),mo([K("change")],t.prototype,"shape",void 0),mo([K("change")],t.prototype,"size",void 0),mo([K("change")],t.prototype,"maxSize",void 0),mo([K("change")],t.prototype,"domain",void 0),mo([K("change")],t.prototype,"fill",void 0),mo([K("change")],t.prototype,"stroke",void 0),mo([K("change")],t.prototype,"strokeWidth",void 0),mo([K("change")],t.prototype,"fillOpacity",void 0),mo([K("change")],t.prototype,"strokeOpacity",void 0),t}(fn),OL=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),EL=function(n){OL(t,n);function t(){var e,r=n!==null&&n.apply(this,arguments)||this;return r.directionKeys=(e={},e[bt.X]=["angleKey"],e[bt.Y]=["radiusKey"],e),r.centerX=0,r.centerY=0,r.radius=0,r}return t}(ap);(function(n){OL(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t})(TL);var aee=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),see=function(n){aee(t,n);function t(e){e===void 0&&(e=window.document);var r=n.call(this,e)||this;return r.padding=new Ev(40),r.scene.root.append(r.legend.group),r.padding.addEventListener("layoutChange",r.scheduleLayout,r),r}return Object.defineProperty(t.prototype,"seriesRoot",{get:function(){return this.scene.root},enumerable:!0,configurable:!0}),t.prototype.performLayout=function(){var e=new lr(0,0,this.width,this.height);this.positionCaptions(),this.positionLegend();var r=this.captionAutoPadding;if(e.y+=r,e.height-=r,this.legend.enabled&&this.legend.data.length){var i=this.legendAutoPadding;e.x+=i.left,e.y+=i.top,e.width-=i.left+i.right,e.height-=i.top+i.bottom;var o=this.legend.spacing;switch(this.legend.position){case"right":e.width-=o;break;case"bottom":e.height-=o;break;case"left":e.x+=o,e.width-=o;break;case"top":e.y+=o,e.height-=o;break}}var a=this.padding;e.x+=a.left,e.y+=a.top,e.width-=a.left+a.right,e.height-=a.top+a.bottom,this.seriesRect=e;var s=e.x+e.width/2,l=e.y+e.height/2,u=Math.max(0,Math.min(e.width,e.height)/2);this.series.forEach(function(c){c instanceof EL&&(c.centerX=s,c.centerY=l,c.radius=u,c.update())})},t.className="PolarChart",t.type="polar",t}(Si),RL=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Td=function(n){RL(t,n);function t(){var e,r=n!==null&&n.apply(this,arguments)||this;return r.directionKeys=(e={},e[bt.X]=["xKey"],e[bt.Y]=["yKey"],e),r}return t.prototype.checkDomainXY=function(e,r,i,o){var a=(i&&cn(e)||!i&&WC(e))&&(o&&cn(r)||!o&&WC(r));return a?[e,r]:void 0},t.prototype.checkDatum=function(e,r){if(r&&cn(e))return e;if(!r)return WC(e)?e:String(e)},t.prototype.checkRangeXY=function(e,r,i,o){return!isNaN(e)&&!isNaN(r)&&i.inRange(e)&&o.inRange(r)},t}(ap),U0=function(n){RL(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.formatter=void 0,e}return t}(TL);function Mv(n,t){if(n===t)return!0;if(n&&t&&typeof n=="object"&&typeof t=="object"){if(n.constructor!==t.constructor)return!1;var e,r=void 0;if(Array.isArray(n)){if(e=n.length,e!=t.length)return!1;for(r=e;r--!==0;)if(!Mv(n[r],t[r]))return!1;return!0}if(n.constructor===RegExp)return n.source===t.source&&n.flags===t.flags;if(n.valueOf!==Object.prototype.valueOf)return n.valueOf()===t.valueOf();if(n.toString!==Object.prototype.toString)return n.toString()===t.toString();var i=Object.keys(n);if(e=i.length,e!==Object.keys(t).length)return!1;for(r=e;r--!==0;)if(!Object.prototype.hasOwnProperty.call(t,i[r]))return!1;for(r=e;r--!==0;){var o=i[r];if(!Mv(n[o],t[o]))return!1}return!0}return n!==n&&t!==t}var lee=globalThis&&globalThis.__read||function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},uee=/(#\{(.*?)\})/g;function PL(n,t,e){return n.replace(uee,function(){var r=arguments[2],i=lee(r.split(":"),2),o=i[0],a=i[1],s=t[o];if(typeof s=="number"){var l=a&&e&&e[a];if(l){var u=l,c=u.locales,p=u.options;return s.toLocaleString(c,p)}return String(s)}if(s instanceof Date){var l=a&&e&&e[a];if(typeof l=="string"){var h=j0.format(l);return h(s)}return s.toDateString()}return typeof s=="string"||s&&s.toString?String(s):""})}var Df=null;function Ir(n){return Df=Df||document.createElement("div"),n?(Df.innerText=n,Df.innerHTML):""}var z0=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),$n=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Mf=globalThis&&globalThis.__values||function(n){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},cee=globalThis&&globalThis.__read||function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},pee=globalThis&&globalThis.__spread||function(){for(var n=[],t=0;t<arguments.length;t++)n=n.concat(cee(arguments[t]));return n},hee=function(n){z0(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return $n([K("change")],t.prototype,"formatter",void 0),t}(Di),dee=function(n){z0(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return $n([K("change")],t.prototype,"renderer",void 0),$n([K("change")],t.prototype,"format",void 0),t}(gu),$0=function(n){z0(t,n);function t(){var e=n.call(this)||this;e.tooltip=new dee,e.areaGroup=e.group.insertBefore(new sr,e.pickGroup),e.strokeGroup=e.group.insertBefore(new sr,e.pickGroup),e.markerGroup=e.pickGroup.appendChild(new sr),e.labelGroup=e.group.appendChild(new sr),e.fillSelection=mr.select(e.areaGroup).selectAll(),e.strokeSelection=mr.select(e.strokeGroup).selectAll(),e.markerSelection=mr.select(e.markerGroup).selectAll(),e.labelSelection=mr.select(e.labelGroup).selectAll(),e.seriesItemEnabled=new Map,e.xData=[],e.yData=[],e.fillSelectionData=[],e.strokeSelectionData=[],e.markerSelectionData=[],e.labelSelectionData=[],e.yDomain=[],e.xDomain=[],e.directionKeys={x:["xKey"],y:["yKeys"]},e.marker=new U0,e.label=new hee,e.fills=["#c16068","#a2bf8a","#ebcc87","#80a0c3","#b58dae","#85c0d1"],e.strokes=["#874349","#718661","#a48f5f","#5a7088","#7f637a","#5d8692"],e.fillOpacity=1,e.strokeOpacity=1,e.lineDash=[0],e.lineDashOffset=0,e._xKey="",e.xName="",e._yKeys=[],e.yNames=[],e.strokeWidth=2,e.addEventListener("update",e.scheduleUpdate);var r=e,i=r.marker,o=r.label;return i.enabled=!1,i.addPropertyListener("shape",e.onMarkerShapeChange,e),i.addEventListener("change",e.scheduleUpdate,e),o.enabled=!1,o.addEventListener("change",e.scheduleUpdate,e),e}return t.prototype.onMarkerShapeChange=function(){this.markerSelection=this.markerSelection.setData([]),this.markerSelection.exit.remove(),this.fireEvent({type:"legendChange"})},Object.defineProperty(t.prototype,"xKey",{get:function(){return this._xKey},set:function(e){this._xKey!==e&&(this._xKey=e,this.xData=[],this.scheduleData())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"yKeys",{get:function(){return this._yKeys},set:function(e){if(!Mv(this._yKeys,e)){this._yKeys=e,this.yData=[];var r=this.seriesItemEnabled;r.clear(),e.forEach(function(i){return r.set(i,!0)}),this.scheduleData()}},enumerable:!0,configurable:!0}),t.prototype.setColors=function(e,r){this.fills=e,this.strokes=r},Object.defineProperty(t.prototype,"normalizedTo",{get:function(){return this._normalizedTo},set:function(e){var r=e?Math.abs(e):void 0;this._normalizedTo!==r&&(this._normalizedTo=r,this.scheduleData())},enumerable:!0,configurable:!0}),t.prototype.processData=function(){var e,r,i,o,a,s,l=this,u=this,c=u.xKey,p=u.yKeys,h=u.seriesItemEnabled,d=u.xAxis,f=u.yAxis,g=u.normalizedTo,v=c&&p.length&&this.data?this.data:[];if(!d||!f)return!1;var m=d.scale instanceof Yr,C=f.scale instanceof Yr,b=g&&isFinite(g),w=[],S=[],T=[],E=function(he){if(!(c in he))return Av(function(){return console.warn("The key '"+c+"' was not found in the data: ",he)},c+" not found in data"),"continue";var we=P.checkDatum(he[c],m);if(m&&we===void 0)return"continue";T.push(we),S.push({xDatum:we,seriesDatum:he}),p.forEach(function(_e,Oe){if(!(_e in he)){Av(function(){return console.warn("The key '"+_e+"' was not found in the data: ",he)},_e+" not found in data");return}var De=he[_e],Re=w[Oe]||(w[Oe]=[]);if(!h.get(_e))Re.push(0);else{var Ue=l.checkDatum(De,C);Re.push(Ue)}})},P=this;try{for(var R=Mf(v),M=R.next();!M.done;M=R.next()){var N=M.value;E(N)}}catch(he){e={error:he}}finally{try{M&&!M.done&&(r=R.return)&&r.call(R)}finally{if(e)throw e.error}}this.yData=w,this.xData=S,this.xDomain=m?this.fixNumericExtent(Ji(T,cn),"x",d):T;for(var B=0,k=0,G=0;G<S.length;G++){var V={sum:0,absSum:0};try{for(var z=(i=void 0,Mf(w)),ee=z.next();!ee.done;ee=z.next()){var Q=ee.value;if(Q[G]!==void 0){var ue=+Q[G];V.absSum+=Math.abs(ue),V.sum+=ue,V.sum>k?k=V.sum:V.sum<B&&(B=V.sum)}}}catch(he){i={error:he}}finally{try{ee&&!ee.done&&(o=z.return)&&o.call(z)}finally{if(i)throw i.error}}if(!!(b&&g)){var X=0;try{for(var se=(a=void 0,Mf(w)),$=se.next();!$.done;$=se.next()){var Q=$.value,q=+Q[G]/V.absSum*g;Q[G]=q,X+=q,X>k?k=X:X<B&&(B=X)}}catch(he){a={error:he}}finally{try{$&&!$.done&&(s=se.return)&&s.call(se)}finally{if(a)throw a.error}}}}if(b&&g){var ce=.5;B=B<-g*ce?-g:B,k=k>g*ce?g:k}return this.yDomain=this.fixNumericExtent([B,k],"y",f),this.fireEvent({type:"dataProcessed"}),!0},t.prototype.findLargestMinMax=function(e){var r,i,o=0,a=0;try{for(var s=Mf(e),l=s.next();!l.done;l=s.next()){var u=l.value;u.min<o&&(o=u.min),u.max>a&&(a=u.max)}}catch(c){r={error:c}}finally{try{l&&!l.done&&(i=s.return)&&i.call(s)}finally{if(r)throw r.error}}return{min:o,max:a}},t.prototype.getDomain=function(e){return e===bt.X?this.xDomain:this.yDomain},t.prototype.update=function(){this.updatePending=!1,this.updateSelections(),this.updateNodes()},t.prototype.updateSelections=function(){!this.nodeDataPending||(this.nodeDataPending=!1,this.createSelectionData(),this.updateFillSelection(),this.updateStrokeSelection(),this.updateMarkerSelection(),this.updateLabelSelection())},t.prototype.updateNodes=function(){this.group.visible=this.visible&&this.xData.length>0&&this.yData.length>0,this.updateFillNodes(),this.updateStrokeNodes(),this.updateMarkerNodes(),this.updateLabelNodes()},t.prototype.createSelectionData=function(){var e=this,r=this,i=r.data,o=r.xAxis,a=r.yAxis,s=r.xData,l=r.yData,u=r.labelSelectionData,c=r.markerSelectionData,p=r.strokeSelectionData,h=r.fillSelectionData;if(r.xKey,!(!i||!o||!a||!s.length||!l.length)){var d=this,f=d.yKeys,g=d.marker,v=d.label,m=d.fills,C=d.strokes,b=o.scale,w=a.scale,S=w instanceof Yr,T=(b.bandwidth||0)/2;c.length=0,u.length=0,p.length=0,h.length=0;var E=new Array(s.length).fill(null).map(function(){return{left:0,right:0}}),P=new Array(s.length).fill(0),R=function(N,B,k,G){var V=b.convert(N)+T,z=E[k][G],ee=E[k][G]+B,Q=w.convert(z,S?Sc:void 0),ue=w.convert(ee,S?Sc:void 0);return E[k][G]=ee,[{x:V,y:ue},{x:V,y:Q}]},M=function(N,B,k,G){var V,z=e.normalizedTo&&isFinite(e.normalizedTo),ee=z&&S&&cn(G),Q=!z&&!isNaN(B)||ee;Q&&(V=P[k]+=B);var ue=b.convert(N)+T,X=w.convert(V,S?Sc:void 0);return{x:ue,y:X}};l.forEach(function(N,B){var k=f[B],G=h[B]||(h[B]={itemId:k,points:[]}),V=G.points,z=[],ee=p[B]||(p[B]={itemId:k,points:[],yValues:[]}),Q=ee.points,ue=ee.yValues;N.forEach(function(X,se){var $,q=s[se],ce=q.xDatum,he=q.seriesDatum,we=($=s[se+1])===null||$===void 0?void 0:$.xDatum,_e=N[se+1],Oe=M(ce,+X,se,he[k]);g&&c.push({index:se,series:e,itemId:k,datum:he,yValue:X,yKey:k,point:Oe,fill:m[B%m.length],stroke:C[B%C.length]});var De;v.formatter?De=v.formatter({value:X}):De=Hs(X)?Number(X).toFixed(2):String(X),v&&u.push({index:se,itemId:k,point:Oe,label:e.seriesItemEnabled.get(k)&&De?{text:De,fontStyle:v.fontStyle,fontWeight:v.fontWeight,fontSize:v.fontSize,fontFamily:v.fontFamily,textAlign:"center",textBaseline:"bottom",fill:v.color}:void 0});var Re=[ce,we],Ue=[X,_e];if(!Re.some(function(Ye){return Ye==null})){Ue.some(function(Ye){return Ye==null})&&(Ue[0]=0,Ue[1]=0);var gt=R(Re[0],+Ue[0],se,"right");V.push(gt[0]),z.push(gt[1]);var Pe=R(Re[1],+Ue[1],se,"left");V.push(Pe[0]),z.push(Pe[1]),Q.push({x:NaN,y:NaN}),ue.push(void 0),Q.push(gt[0]),ue.push(X),_e!==void 0&&(Q.push(Pe[0]),ue.push(X))}}),V.push.apply(V,pee(z.slice().reverse()))})}},t.prototype.updateFillSelection=function(){var e=this.fillSelection.setData(this.fillSelectionData);e.exit.remove();var r=e.enter.append(Mn).each(function(i){i.lineJoin="round",i.stroke=void 0,i.pointerEvents=Li.None});this.fillSelection=e.merge(r)},t.prototype.updateFillNodes=function(){var e=this,r=this,i=r.fills,o=r.fillOpacity,a=r.strokeOpacity,s=r.strokeWidth,l=r.shadow,u=r.seriesItemEnabled;this.fillSelection.each(function(c,p,h){c.fill=i[h%i.length],c.fillOpacity=o,c.strokeOpacity=a,c.strokeWidth=s,c.lineDash=e.lineDash,c.lineDashOffset=e.lineDashOffset,c.fillShadow=l,c.visible=!!u.get(p.itemId),c.opacity=e.getOpacity(p);var d=p.points,f=c.path;f.clear(),d.forEach(function(g,v){var m=g.x,C=g.y;v>0?f.lineTo(m,C):f.moveTo(m,C)}),f.closePath()})},t.prototype.updateStrokeSelection=function(){var e=this.strokeSelection.setData(this.strokeSelectionData);e.exit.remove();var r=e.enter.append(Mn).each(function(i){i.fill=void 0,i.lineJoin=i.lineCap="round",i.pointerEvents=Li.None});this.strokeSelection=e.merge(r)},t.prototype.updateStrokeNodes=function(){var e=this;if(!!this.data){var r=this,i=r.strokes,o=r.strokeOpacity,a=r.seriesItemEnabled,s=!0;this.strokeSelection.each(function(l,u,c){l.visible=!!a.get(u.itemId),l.opacity=e.getOpacity(u),l.stroke=i[c%i.length],l.strokeWidth=e.getStrokeWidth(e.strokeWidth,u),l.strokeOpacity=o,l.lineDash=e.lineDash,l.lineDashOffset=e.lineDashOffset;var p=u.points,h=u.yValues,d=l.path;d.clear();for(var f=0;f<p.length;f++){var g=p[f],v=g.x,m=g.y;h[f]===void 0?s=!0:s?(d.moveTo(v,m),s=!1):d.lineTo(v,m)}})}},t.prototype.updateMarkerSelection=function(){var e=Wc(this.marker.shape),r=e?this.markerSelectionData:[],i=this.markerSelection.setData(r);i.exit.remove();var o=i.enter.append(e);this.markerSelection=i.merge(o)},t.prototype.updateMarkerNodes=function(){var e=this;if(!!this.chart){var r=this,i=r.xKey,o=r.marker,a=r.seriesItemEnabled,s=r.yKeys,l=r.fills,u=r.strokes,c=r.chart.highlightedDatum,p=r.highlightStyle,h=p.fill,d=p.stroke,f=p.strokeWidth,g=p.item,v=g.fill,m=v===void 0?h:v,C=g.stroke,b=C===void 0?d:C,w=g.strokeWidth,S=w===void 0?f:w,T=o.size,E=o.formatter,P=o.strokeWidth!==void 0?o.strokeWidth:this.strokeWidth;this.markerSelection.each(function(R,M){var N=s.indexOf(M.yKey),B=M===c,k=B&&m!==void 0?m:o.fill||l[N%l.length],G=B&&b!==void 0?b:o.stroke||u[N%l.length],V=B&&S!==void 0?S:P,z=void 0;E&&(z=E({datum:M.datum,xKey:i,yKey:M.yKey,fill:k,stroke:G,strokeWidth:V,size:T,highlighted:B})),R.fill=z&&z.fill||k,R.stroke=z&&z.stroke||G,R.strokeWidth=z&&z.strokeWidth!==void 0?z.strokeWidth:V,R.size=z&&z.size!==void 0?z.size:T,R.translationX=M.point.x,R.translationY=M.point.y,R.visible=o.enabled&&R.size>0&&!!a.get(M.yKey)&&!isNaN(M.point.x)&&!isNaN(M.point.y),R.opacity=e.getOpacity(M)})}},t.prototype.updateLabelSelection=function(){var e=this.labelSelection.setData(this.labelSelectionData);e.exit.remove();var r=e.enter.append(un);this.labelSelection=e.merge(r)},t.prototype.updateLabelNodes=function(){var e=this;if(!!this.chart){var r=this.label,i=r.enabled,o=r.fontStyle,a=r.fontWeight,s=r.fontSize,l=r.fontFamily,u=r.color;this.labelSelection.each(function(c,p){var h=p.point,d=p.label;d&&i?(c.fontStyle=o,c.fontWeight=a,c.fontSize=s,c.fontFamily=l,c.textAlign=d.textAlign,c.textBaseline=d.textBaseline,c.text=d.text,c.x=h.x,c.y=h.y-10,c.fill=u,c.visible=!0,c.opacity=e.getOpacity(p)):c.visible=!1})}},t.prototype.getNodeData=function(){return this.markerSelectionData},t.prototype.fireNodeClickEvent=function(e,r){this.fireEvent({type:"nodeClick",event:e,series:this,datum:r.datum,xKey:this.xKey,yKey:r.yKey})},t.prototype.getTooltipHtml=function(e){var r=this.xKey,i=e.yKey;if(!(r&&i)||!this.seriesItemEnabled.get(i))return"";var o=e.datum,a=o[r],s=o[i],l=this,u=l.xAxis,c=l.yAxis;if(!(u&&c&&Hs(s)))return"";var p=this,h=p.xName,d=p.yKeys,f=p.yNames,g=p.yData,v=p.fills,m=p.strokes,C=p.tooltip,b=p.marker,w=b.size,S=b.formatter,T=b.strokeWidth,E=b.fill,P=b.stroke,R=u.formatDatum(a),M=c.formatDatum(s),N=d.indexOf(i),B=g[N],k=B[e.index],G=f[N],V=Ir(G),z=Ir(R+": "+M),ee=T!==void 0?T:this.strokeWidth,Q=E||v[N%v.length],ue=P||m[N%v.length],X=void 0;S&&(X=S({datum:o,xKey:r,yKey:i,fill:Q,stroke:ue,strokeWidth:ee,size:w,highlighted:!1}));var se=X&&X.fill||Q,$={title:V,backgroundColor:se,content:z},q=C.renderer,ce=C.format;if(ce||q){var he={datum:o,xKey:r,xName:h,xValue:a,yKey:i,yValue:s,processedYValue:k,yName:G,color:se};if(ce)return Qr({content:PL(ce,he)},$);if(q)return Qr(q(he),$)}return Qr($)},t.prototype.listSeriesItems=function(e){var r=this,i=r.data,o=r.id,a=r.xKey,s=r.yKeys,l=r.yNames,u=r.seriesItemEnabled,c=r.marker,p=r.fills,h=r.strokes,d=r.fillOpacity,f=r.strokeOpacity;i&&i.length&&a&&s.length&&s.forEach(function(g,v){e.push({id:o,itemId:g,enabled:u.get(g)||!1,label:{text:l[v]||s[v]},marker:{shape:c.shape,fill:c.fill||p[v%p.length],stroke:c.stroke||h[v%h.length],fillOpacity:d,strokeOpacity:f}})})},t.prototype.toggleSeriesItem=function(e,r){this.seriesItemEnabled.set(e,r),this.scheduleData()},t.className="AreaSeries",t.type="area",$n([K("dataChange")],t.prototype,"fills",void 0),$n([K("dataChange")],t.prototype,"strokes",void 0),$n([K("update")],t.prototype,"fillOpacity",void 0),$n([K("update")],t.prototype,"strokeOpacity",void 0),$n([K("update")],t.prototype,"lineDash",void 0),$n([K("update")],t.prototype,"lineDashOffset",void 0),$n([K("update")],t.prototype,"xName",void 0),$n([K("update")],t.prototype,"yNames",void 0),$n([K("update")],t.prototype,"strokeWidth",void 0),$n([K("update")],t.prototype,"shadow",void 0),t}(Td),K0=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),gi=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},XE=globalThis&&globalThis.__values||function(n){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Fv;(function(n){n[n.Bar=0]="Bar",n[n.Label=1]="Label"})(Fv||(Fv={}));var Ps;(function(n){n.Inside="inside",n.Outside="outside"})(Ps||(Ps={}));var fee=function(n){K0(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.placement=Ps.Inside,e}return gi([K("change")],t.prototype,"formatter",void 0),gi([K("change")],t.prototype,"placement",void 0),t}(Di),gee=function(n){K0(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return gi([K("change")],t.prototype,"renderer",void 0),t}(gu);function AL(n,t){return t===void 0&&(t=[]),n.forEach(function(e){Array.isArray(e)?AL(e,t):t.push(e)}),t}function vee(n){return n.length>0&&Array.isArray(n[0])}var e_=function(n){K0(t,n);function t(){var e,r=n.call(this)||this;return r.rectGroup=r.pickGroup.appendChild(new sr),r.labelGroup=r.group.appendChild(new sr),r.rectSelection=mr.select(r.rectGroup).selectAll(),r.labelSelection=mr.select(r.labelGroup).selectAll(),r.nodeData=[],r.xData=[],r.yData=[],r.yDomain=[],r.label=new fee,r.seriesItemEnabled=new Map,r.tooltip=new gee,r.flipXY=!1,r.fills=["#c16068","#a2bf8a","#ebcc87","#80a0c3","#b58dae","#85c0d1"],r.strokes=["#874349","#718661","#a48f5f","#5a7088","#7f637a","#5d8692"],r.fillOpacity=1,r.strokeOpacity=1,r.lineDash=[0],r.lineDashOffset=0,r.groupScale=new Zo,r.directionKeys=(e={},e[bt.X]=["xKey"],e[bt.Y]=["yKeys"],e),r._xKey="",r._xName="",r.cumYKeyCount=[],r.flatYKeys=void 0,r.hideInLegend=[],r._yKeys=[],r._grouped=!1,r._yNames={},r._strokeWidth=1,r.addEventListener("update",r.scheduleUpdate),r.label.enabled=!1,r.label.addEventListener("change",r.scheduleUpdate,r),r}return t.prototype.getKeys=function(e){var r=this,i=this.directionKeys,o=i&&i[this.flipXY?VE(e):e],a=[];return o&&o.forEach(function(s){var l=r[s];l&&(Array.isArray(l)?a=a.concat(AL(l)):a.push(l))}),a},Object.defineProperty(t.prototype,"xKey",{get:function(){return this._xKey},set:function(e){this._xKey!==e&&(this._xKey=e,this.xData=[],this.scheduleData())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"xName",{get:function(){return this._xName},set:function(e){this._xName!==e&&(this._xName=e,this.scheduleUpdate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"yKeys",{get:function(){return this._yKeys},set:function(e){var r=this,i=void 0;if(vee(e)||(i=e,e=this.grouped?i.map(function(u){return[u]}):[i]),!Mv(this._yKeys,e)){this.flatYKeys=i||void 0,this._yKeys=e;var o=0;this.cumYKeyCount=[];var a=[];e.forEach(function(u,c){u.length>0&&a.push(String(c)),r.cumYKeyCount.push(o),o+=u.length}),this.yData=[];var s=this.seriesItemEnabled;s.clear(),e.forEach(function(u){u.forEach(function(c){return s.set(c,!0)})});var l=this.groupScale;l.domain=a,l.padding=.1,l.round=!0,this.scheduleData()}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"grouped",{get:function(){return this._grouped},set:function(e){this._grouped!==e&&(this._grouped=e,this.flatYKeys&&(this.yKeys=this.flatYKeys))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"yNames",{get:function(){return this._yNames},set:function(e){if(Array.isArray(e)&&this.flatYKeys){var r={};this.flatYKeys.forEach(function(i,o){r[i]=e[o]}),e=r}this._yNames=e,this.scheduleData()},enumerable:!0,configurable:!0}),t.prototype.setColors=function(e,r){this.fills=e,this.strokes=r},Object.defineProperty(t.prototype,"normalizedTo",{get:function(){return this._normalizedTo},set:function(e){var r=e?Math.abs(e):void 0;this._normalizedTo!==r&&(this._normalizedTo=r,this.scheduleData())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"strokeWidth",{get:function(){return this._strokeWidth},set:function(e){this._strokeWidth!==e&&(this._strokeWidth=e,this.scheduleUpdate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"shadow",{get:function(){return this._shadow},set:function(e){this._shadow!==e&&(this._shadow=e,this.scheduleUpdate())},enumerable:!0,configurable:!0}),t.prototype.onHighlightChange=function(){this.updateRectNodes()},t.prototype.processData=function(){var e=this,r=this,i=r.xKey,o=r.yKeys,a=r.seriesItemEnabled,s=r.xAxis,l=i&&o.length&&this.data?this.data:[];if(!s)return!1;var u=!0;this.xData=l.map(function(C){return u&&!(i in C)&&(u=!1,console.warn("The key '"+i+"' was not found in the data: ",C)),e.checkDatum(C[i],!1)}),this.yData=l.map(function(C){return o.map(function(b){return b.map(function(w){u&&!(w in C)&&(u=!1,console.warn("The key '"+w+"' was not found in the data: ",C));var S=e.checkDatum(C[w],!0);return!a.get(w)||S===void 0?0:S})})});var c=this.yData.map(function(C){return C.map(function(b){return MZ(b)})}),p=this,h=p.yData,d=p.normalizedTo,f=this.yData.map(function(C){return C.map(function(b){return b.reduce(function(w,S){return w+=Math.abs(S),w},0)})}),g=this.findLargestMinMax(c),v,m;return d&&isFinite(d)?(v=g.min<0?-d:0,m=g.max>0?d:0,h.forEach(function(C,b){C.forEach(function(w,S){w.forEach(function(T,E){w[E]=T/f[b][S]*d})})})):(v=g.min,m=g.max),this.yDomain=this.fixNumericExtent([v,m],"y",this.yAxis),this.fireEvent({type:"dataProcessed"}),!0},t.prototype.findLargestMinMax=function(e){var r,i,o,a,s=0,l=0;try{for(var u=XE(e),c=u.next();!c.done;c=u.next()){var p=c.value;try{for(var h=(o=void 0,XE(p)),d=h.next();!d.done;d=h.next()){var f=d.value;f.min<s&&(s=f.min),f.max>l&&(l=f.max)}}catch(g){o={error:g}}finally{try{d&&!d.done&&(a=h.return)&&a.call(h)}finally{if(o)throw o.error}}}}catch(g){r={error:g}}finally{try{c&&!c.done&&(i=u.return)&&i.call(u)}finally{if(r)throw r.error}}return{min:s,max:l}},t.prototype.getDomain=function(e){return this.flipXY&&(e=VE(e)),e===bt.X?this.xData:this.yDomain},t.prototype.fireNodeClickEvent=function(e,r){this.fireEvent({type:"nodeClick",event:e,series:this,datum:r.datum,xKey:this.xKey,yKey:r.yKey})},t.prototype.getCategoryAxis=function(){return this.flipXY?this.yAxis:this.xAxis},t.prototype.getValueAxis=function(){return this.flipXY?this.xAxis:this.yAxis},t.prototype.createNodeData=function(){var e=this,r=this,i=r.chart,o=r.data,a=r.visible,s=this.getCategoryAxis(),l=this.getValueAxis();if(!(i&&o&&a&&s&&l)||i.layoutPending||i.dataPending)return[];var u=this.flipXY,c=s.scale,p=l.scale,h=this,d=h.groupScale,f=h.yKeys,g=h.cumYKeyCount,v=h.fills,m=h.strokes,C=h.strokeWidth,b=h.seriesItemEnabled,w=h.xData,S=h.yData,T=h.label,E=T.fontStyle,P=T.fontWeight,R=T.fontSize,M=T.fontFamily,N=T.color,B=T.formatter,k=T.placement;d.range=[0,c.bandwidth];var G=d.bandwidth,V=[];return w.forEach(function(z,ee){for(var Q=o[ee],ue=c.convert(z),X=S[ee],se=0;se<X.length;se++)for(var $=X[se],q=0,ce=0,he=0;he<$.length;he++){var we=+$[he],_e=f[se][he],Oe=ue+d.convert(String(se));if(!!s.inRange(Oe,G)){var De=we<0?q:ce,Re=p instanceof Yr,Ue=p.convert(De+we,Re?Sc:void 0),gt=p.convert(De,Re?Sc:void 0),Pe=Q[_e],Ye=void 0;B?Ye=B({value:Hs(Pe)?Pe:void 0}):Ye=Hs(Pe)?Pe.toFixed(2):"";var pt=void 0,oe=void 0;u?(oe=Oe+G/2,k===Ps.Inside?pt=Ue+(Pe>=0?-1:1)*Math.abs(gt-Ue)/2:pt=Ue+(Pe>=0?1:-1)*4):(pt=Oe+G/2,k===Ps.Inside?oe=Ue+(Pe>=0?1:-1)*Math.abs(gt-Ue)/2:oe=Ue+(Pe>=0?-3:4));var et=void 0,Ge=void 0;k===Ps.Inside?(et="center",Ge="middle"):(et=u?Pe>=0?"start":"end":"center",Ge=u?"middle":Pe>=0?"bottom":"top");var ie=g[se]+he;V.push({index:ee,series:e,itemId:_e,datum:Q,yValue:Pe,yKey:_e,x:u?Math.min(Ue,gt):Oe,y:u?Oe:Math.min(Ue,gt),width:u?Math.abs(gt-Ue):G,height:u?G:Math.abs(gt-Ue),fill:v[ie%v.length],stroke:m[ie%m.length],strokeWidth:C,label:b.get(_e)&&Ye?{text:Ye,fontStyle:E,fontWeight:P,fontSize:R,fontFamily:M,textAlign:et,textBaseline:Ge,fill:N,x:pt,y:oe}:void 0}),we<0?q+=we:ce+=we}}}),this.nodeData=V},t.prototype.update=function(){this.updatePending=!1,this.updateSelections(),this.updateNodes()},t.prototype.updateSelections=function(){!this.nodeDataPending||(this.nodeDataPending=!1,this.createNodeData(),this.updateRectSelection(),this.updateLabelSelection())},t.prototype.updateNodes=function(){this.group.visible=this.visible,this.updateRectNodes(),this.updateLabelNodes()},t.prototype.updateRectSelection=function(){var e=this.rectSelection.setData(this.nodeData);e.exit.remove();var r=e.enter.append(Na).each(function(i){i.tag=Fv.Bar,i.crisp=!0});this.rectSelection=e.merge(r)},t.prototype.updateRectNodes=function(){var e=this;if(!!this.chart){var r=this,i=r.fills,o=r.strokes,a=r.fillOpacity,s=r.strokeOpacity,l=r.shadow,u=r.formatter,c=r.xKey,p=r.flipXY,h=r.yKeys,d=r.chart.highlightedDatum,f=r.highlightStyle,g=f.fill,v=f.stroke,m=f.strokeWidth,C=f.item,b=C.fill,w=b===void 0?g:b,S=C.stroke,T=S===void 0?v:S,E=C.strokeWidth,P=E===void 0?m:E;this.rectSelection.each(function(R,M,N){for(var B=0,k=0,G=0;G<h.length;G++){var V=h[G];if(k=V.indexOf(M.yKey),k>=0){B+=k;break}B+=V.length}var z=M===d,ee=z&&w!==void 0?w:i[B%i.length],Q=z&&T!==void 0?T:o[B%i.length],ue=z&&P!==void 0?P:e.getStrokeWidth(e.strokeWidth,M),X=void 0;u&&(X=u({datum:M.datum,fill:ee,stroke:Q,strokeWidth:ue,highlighted:z,xKey:c,yKey:M.yKey})),R.x=M.x,R.y=M.y,R.width=M.width,R.height=M.height,R.fill=X&&X.fill||ee,R.stroke=X&&X.stroke||Q,R.strokeWidth=X&&X.strokeWidth!==void 0?X.strokeWidth:ue,R.fillOpacity=a,R.strokeOpacity=s,R.lineDash=e.lineDash,R.lineDashOffset=e.lineDashOffset,R.fillShadow=l,R.visible=p?M.width>0:M.height>0,R.zIndex=z?ap.highlightedZIndex:N,R.opacity=e.getOpacity(M)})}},t.prototype.updateLabelSelection=function(){var e=this.labelSelection.setData(this.nodeData);e.exit.remove();var r=e.enter.append(un).each(function(i){i.tag=Fv.Label,i.pointerEvents=Li.None});this.labelSelection=e.merge(r)},t.prototype.updateLabelNodes=function(){var e=this;if(!!this.chart){var r=this;r.chart.highlightedDatum;var i=r.label,o=i.enabled,a=i.fontStyle,s=i.fontWeight,l=i.fontSize,u=i.fontFamily,c=i.color;this.labelSelection.each(function(p,h,d){var f=h.label;f&&o?(p.fontStyle=a,p.fontWeight=s,p.fontSize=l,p.fontFamily=u,p.textAlign=f.textAlign,p.textBaseline=f.textBaseline,p.text=f.text,p.x=f.x,p.y=f.y,p.fill=c,p.visible=!0,p.opacity=e.getOpacity(h)):p.visible=!1})}},t.prototype.getTooltipHtml=function(e){var r=this,i=r.xKey,o=r.yKeys,a=r.yData,s=this.getCategoryAxis(),l=this.getValueAxis(),u=e.yKey;if(!a.length||!i||!u||!s||!l)return"";for(var c=a[e.index],p=0,h=0,d=0;d<o.length;d++){var f=o[d];if(h=f.indexOf(u),h>=0){p+=h;break}p+=f.length}var g=this,v=g.xName,m=g.yNames,C=g.fills,b=g.strokes,w=g.tooltip,S=g.formatter,T=w.renderer,E=e.datum,P=m[u],R=C[p%C.length],M=b[p%C.length],N=this.getStrokeWidth(this.strokeWidth,E),B=E[i],k=E[u],G=c[d][h],V=Ir(s.formatDatum(B)),z=Ir(l.formatDatum(k)),ee=Ir(P),Q=V+": "+z,ue=void 0;S&&(ue=S({datum:E,fill:R,stroke:M,strokeWidth:N,highlighted:!1,xKey:i,yKey:u}));var X=ue&&ue.fill||R,se={title:ee,backgroundColor:X,content:Q};return T?Qr(T({datum:E,xKey:i,xValue:B,xName:v,yKey:u,yValue:k,processedYValue:G,yName:P,color:X}),se):Qr(se)},t.prototype.listSeriesItems=function(e){var r=this,i=r.id,o=r.data,a=r.xKey,s=r.yKeys,l=r.yNames,u=r.cumYKeyCount,c=r.seriesItemEnabled,p=r.hideInLegend,h=r.fills,d=r.strokes,f=r.fillOpacity,g=r.strokeOpacity;o&&o.length&&a&&s.length&&this.yKeys.forEach(function(v,m){v.forEach(function(C,b){if(p.indexOf(C)<0){var w=u[m]+b;e.push({id:i,itemId:C,enabled:c.get(C)||!1,label:{text:l[C]||C},marker:{fill:h[w%h.length],stroke:d[w%d.length],fillOpacity:f,strokeOpacity:g}})}})})},t.prototype.toggleSeriesItem=function(e,r){var i=this.seriesItemEnabled;i.set(e,r);var o=this.yKeys.map(function(s){return s.slice()});i.forEach(function(s,l){s||o.forEach(function(u){var c=u.indexOf(l);c>=0&&u.splice(c,1)})});var a=[];o.forEach(function(s,l){s.length>0&&a.push(String(l))}),this.groupScale.domain=a,this.scheduleData()},t.className="BarSeries",t.type="bar",gi([K("dataChange")],t.prototype,"flipXY",void 0),gi([K("dataChange")],t.prototype,"fills",void 0),gi([K("dataChange")],t.prototype,"strokes",void 0),gi([K("update")],t.prototype,"fillOpacity",void 0),gi([K("update")],t.prototype,"strokeOpacity",void 0),gi([K("update")],t.prototype,"lineDash",void 0),gi([K("update")],t.prototype,"lineDashOffset",void 0),gi([K("update")],t.prototype,"formatter",void 0),gi([K("layoutChange")],t.prototype,"hideInLegend",void 0),t}(Td),Y0=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Ui=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},mee=globalThis&&globalThis.__read||function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},yee=function(n){Y0(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return Ui([K("change")],t.prototype,"formatter",void 0),t}(Di),Cee=function(n){Y0(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return Ui([K("change")],t.prototype,"renderer",void 0),Ui([K("change")],t.prototype,"format",void 0),t}(gu),X0=function(n){Y0(t,n);function t(){var e=n.call(this)||this;e.xDomain=[],e.yDomain=[],e.xData=[],e.yData=[],e.lineNode=new Mn,e.nodeSelection=mr.select(e.pickGroup).selectAll(),e.nodeData=[],e.marker=new U0,e.label=new yee,e.stroke="#874349",e.lineDash=[0],e.lineDashOffset=0,e.strokeWidth=2,e.strokeOpacity=1,e.tooltip=new Cee,e._xKey="",e.xName="",e._yKey="",e.yName="";var r=e.lineNode;r.fill=void 0,r.lineJoin="round",r.pointerEvents=Li.None,e.group.insertBefore(r,e.pickGroup),e.addEventListener("update",e.scheduleUpdate);var i=e,o=i.marker,a=i.label;return o.fill="#c16068",o.stroke="#874349",o.addPropertyListener("shape",e.onMarkerShapeChange,e),o.addEventListener("change",e.scheduleUpdate,e),a.enabled=!1,a.addEventListener("change",e.scheduleUpdate,e),e}return t.prototype.onMarkerShapeChange=function(){this.nodeSelection=this.nodeSelection.setData([]),this.nodeSelection.exit.remove(),this.fireEvent({type:"legendChange"})},t.prototype.setColors=function(e,r){this.stroke=e[0],this.marker.stroke=r[0],this.marker.fill=e[0]},Object.defineProperty(t.prototype,"xKey",{get:function(){return this._xKey},set:function(e){this._xKey!==e&&(this._xKey=e,this.xData=[],this.scheduleData())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"yKey",{get:function(){return this._yKey},set:function(e){this._yKey!==e&&(this._yKey=e,this.yData=[],this.scheduleData())},enumerable:!0,configurable:!0}),t.prototype.processData=function(){var e=this,r=e.xAxis,i=e.yAxis,o=e.xKey,a=e.yKey,s=e.xData,l=e.yData,u=o&&a&&this.data?this.data:[];if(!r||!i)return!1;var c=r.scale instanceof Yr,p=i.scale instanceof Yr;s.length=0,l.length=0;for(var h=0,d=u.length;h<d;h++){var f=u[h],g=f[o],v=f[a],m=this.checkDatum(g,c);if(!(c&&m===void 0)){s.push(m);var C=this.checkDatum(v,p);l.push(C)}}return this.xDomain=c?this.fixNumericExtent(Ji(s,cn),"x",r):s,this.yDomain=p?this.fixNumericExtent(Ji(l,cn),"y",i):l,!0},t.prototype.getDomain=function(e){return e===bt.X?this.xDomain:this.yDomain},t.prototype.onHighlightChange=function(){this.updateNodes()},t.prototype.resetHighlight=function(){this.lineNode.strokeWidth=this.strokeWidth},t.prototype.update=function(){this.updatePending=!1,this.updateSelections(),this.updateNodes()},t.prototype.updateSelections=function(){!this.nodeDataPending||(this.nodeDataPending=!1,this.updateLinePath(),this.updateNodeSelection())},t.prototype.updateLinePath=function(){var e,r=this,i=r.data,o=r.xAxis,a=r.yAxis;if(!(!i||!o||!a)){var s=this,l=s.xData,u=s.yData,c=s.lineNode,p=s.label,h=s.xKey,d=s.yKey,f=o.scale,g=a.scale,v=(f.bandwidth||0)/2,m=(g.bandwidth||0)/2,C=c.path,b=[];C.clear();for(var w=!0,S=void 0,T=void 0,E=0;E<l.length;E++){var P=T||[l[E],u[E]];if(P[1]===void 0)S=void 0,w=!0;else{var R=mee(P,2),M=R[0],N=R[1],B=f.convert(M)+v;if(isNaN(B)){S=void 0,w=!0;continue}var k=(f.bandwidth||this.marker.size*.5+(this.marker.strokeWidth||0))+1;T=u[E+1]===void 0?void 0:[l[E+1],u[E+1]];var G=o.inRangeEx(B,0,k),V=T&&o.inRangeEx(f.convert(T[0])+v,0,k);if(G===-1&&V===-1){w=!0;continue}if(G===1&&S===1){w=!0;continue}S=G;var z=g.convert(N)+m;w?(C.moveTo(B,z),w=!1):C.lineTo(B,z);var ee=void 0;p.formatter?ee=p.formatter({value:N}):ee=typeof N=="number"&&isFinite(N)?N.toFixed(2):N?String(N):"";var Q=(e={},e[h]=M,e[d]=N,e);b.push({series:this,datum:Q,point:{x:B,y:z},label:ee?{text:ee,fontStyle:p.fontStyle,fontWeight:p.fontWeight,fontSize:p.fontSize,fontFamily:p.fontFamily,textAlign:"center",textBaseline:"bottom",fill:p.color}:void 0})}}this.nodeData=b}},t.prototype.updateNodeSelection=function(){var e=this.marker,r=e.shape?this.nodeData:[],i=Wc(e.shape),o=this.nodeSelection.setData(r);o.exit.remove();var a=o.enter.append(sr);a.append(i),a.append(un),this.nodeSelection=o.merge(a)},t.prototype.updateNodes=function(){this.group.visible=this.visible,this.updateLineNode(),this.updateMarkerNodes(),this.updateTextNodes()},t.prototype.updateLineNode=function(){var e=this.lineNode;e.stroke=this.stroke,e.strokeWidth=this.getStrokeWidth(this.strokeWidth),e.strokeOpacity=this.strokeOpacity,e.lineDash=this.lineDash,e.lineDashOffset=this.lineDashOffset,e.opacity=this.getOpacity()},t.prototype.updateMarkerNodes=function(){var e=this;if(!!this.chart){var r=this,i=r.marker,o=r.xKey,a=r.yKey,s=r.stroke,l=r.chart.highlightedDatum,u=r.highlightStyle,c=u.fill,p=u.stroke,h=u.strokeWidth,d=u.item,f=d.fill,g=f===void 0?c:f,v=d.stroke,m=v===void 0?p:v,C=d.strokeWidth,b=C===void 0?h:C,w=i.size,S=i.formatter,T=i.strokeWidth!==void 0?i.strokeWidth:this.strokeWidth,E=Wc(i.shape);this.nodeSelection.selectByClass(E).each(function(P,R){var M=R===l,N=M&&g!==void 0?g:i.fill,B=M&&m!==void 0?m:i.stroke||s,k=M&&b!==void 0?b:T,G=void 0;S&&(G=S({datum:R.datum,xKey:o,yKey:a,fill:N,stroke:B,strokeWidth:k,size:w,highlighted:M})),P.fill=G&&G.fill||N,P.stroke=G&&G.stroke||B,P.strokeWidth=G&&G.strokeWidth!==void 0?G.strokeWidth:k,P.size=G&&G.size!==void 0?G.size:w,P.translationX=R.point.x,P.translationY=R.point.y,P.opacity=e.getOpacity(R),P.visible=i.enabled&&P.size>0})}},t.prototype.updateTextNodes=function(){var e=this;this.nodeSelection.selectByClass(un).each(function(r,i){var o=i.point,a=i.label,s=e.label,l=s.enabled,u=s.fontStyle,c=s.fontWeight,p=s.fontSize,h=s.fontFamily,d=s.color;a&&l?(r.fontStyle=u,r.fontWeight=c,r.fontSize=p,r.fontFamily=h,r.textAlign=a.textAlign,r.textBaseline=a.textBaseline,r.text=a.text,r.x=o.x,r.y=o.y-10,r.fill=d,r.visible=!0):r.visible=!1})},t.prototype.getNodeData=function(){return this.nodeData},t.prototype.fireNodeClickEvent=function(e,r){this.fireEvent({type:"nodeClick",event:e,series:this,datum:r.datum,xKey:this.xKey,yKey:this.yKey})},t.prototype.getTooltipHtml=function(e){var r=this,i=r.xKey,o=r.yKey,a=r.xAxis,s=r.yAxis;if(!i||!o||!a||!s)return"";var l=this,u=l.xName,c=l.yName,p=l.tooltip,h=l.marker,d=p.renderer,f=p.format,g=e.datum,v=g[i],m=g[o],C=a.formatDatum(v),b=s.formatDatum(m),w=Ir(this.title||c),S=Ir(C+": "+b),T=h.formatter,E=h.fill,P=h.stroke,R=h.strokeWidth,M=h.size,N=R!==void 0?R:this.strokeWidth,B=void 0;T&&(B=T({datum:g,xKey:i,yKey:o,fill:E,stroke:P,strokeWidth:N,size:M,highlighted:!1}));var k=B&&B.fill||E,G={title:w,backgroundColor:k,content:S};if(f||d){var V={datum:g,xKey:i,xValue:v,xName:u,yKey:o,yValue:m,yName:c,title:w,color:k};if(f)return Qr({content:PL(f,V)},G);if(d)return Qr(d(V),G)}return Qr(G)},t.prototype.listSeriesItems=function(e){var r=this,i=r.id,o=r.data,a=r.xKey,s=r.yKey,l=r.yName,u=r.visible,c=r.title,p=r.marker,h=r.stroke,d=r.strokeOpacity;o&&o.length&&a&&s&&e.push({id:i,itemId:void 0,enabled:u,label:{text:c||l||s},marker:{shape:p.shape,fill:p.fill||"rgba(0, 0, 0, 0)",stroke:p.stroke||h||"rgba(0, 0, 0, 0)",fillOpacity:1,strokeOpacity:d}})},t.className="LineSeries",t.type="line",Ui([K("layoutChange")],t.prototype,"title",void 0),Ui([K("update")],t.prototype,"stroke",void 0),Ui([K("update")],t.prototype,"lineDash",void 0),Ui([K("update")],t.prototype,"lineDashOffset",void 0),Ui([K("update")],t.prototype,"strokeWidth",void 0),Ui([K("update")],t.prototype,"strokeOpacity",void 0),Ui([K("update")],t.prototype,"xName",void 0),Ui([K("update")],t.prototype,"yName",void 0),t}(Td),DL=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),t_=globalThis&&globalThis.__assign||function(){return t_=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},t_.apply(this,arguments)},ec=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},bee=function(n){DL(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return ec([K("change")],t.prototype,"renderer",void 0),t}(gu),ML=function(n){DL(t,n);function t(){var e=n.call(this)||this;e.xDomain=[],e.yDomain=[],e.xData=[],e.yData=[],e.validData=[],e.sizeData=[],e.sizeScale=new ur,e.nodeData=[],e.markerSelection=mr.select(e.pickGroup).selectAll(),e.labelSelection=mr.select(e.group).selectAll(),e.marker=new U0,e.label=new Di,e._fill="#c16068",e._stroke="#874349",e._strokeWidth=2,e._fillOpacity=1,e._strokeOpacity=1,e.xKey="",e.yKey="",e.xName="",e.yName="",e.sizeName="Size",e.labelName="Label",e.tooltip=new bee;var r=e,i=r.marker,o=r.label;return i.addPropertyListener("shape",e.onMarkerShapeChange,e),i.addEventListener("change",e.scheduleUpdate,e),e.addPropertyListener("xKey",function(){return e.xData=[]}),e.addPropertyListener("yKey",function(){return e.yData=[]}),e.addPropertyListener("sizeKey",function(){return e.sizeData=[]}),o.enabled=!1,o.addEventListener("change",e.scheduleUpdate,e),o.addEventListener("dataChange",e.scheduleData,e),e}return Object.defineProperty(t.prototype,"fill",{get:function(){return this._fill},set:function(e){this._fill!==e&&(this._fill=e,this.scheduleUpdate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"stroke",{get:function(){return this._stroke},set:function(e){this._stroke!==e&&(this._stroke=e,this.scheduleUpdate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"strokeWidth",{get:function(){return this._strokeWidth},set:function(e){this._strokeWidth!==e&&(this._strokeWidth=e,this.scheduleUpdate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fillOpacity",{get:function(){return this._fillOpacity},set:function(e){this._fillOpacity!==e&&(this._fillOpacity=e,this.scheduleUpdate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"strokeOpacity",{get:function(){return this._strokeOpacity},set:function(e){this._strokeOpacity!==e&&(this._strokeOpacity=e,this.scheduleUpdate())},enumerable:!0,configurable:!0}),t.prototype.onHighlightChange=function(){this.updateMarkerNodes()},t.prototype.onMarkerShapeChange=function(){this.markerSelection=this.markerSelection.setData([]),this.markerSelection.exit.remove(),this.fireEvent({type:"legendChange"})},t.prototype.setColors=function(e,r){this.fill=e[0],this.stroke=r[0],this.marker.fill=e[0],this.marker.stroke=r[0]},t.prototype.processData=function(){var e=this,r=this,i=r.xKey,o=r.yKey,a=r.sizeKey;r.labelKey;var s=r.xAxis,l=r.yAxis,u=r.marker;if(r.label,!s||!l)return!1;var c=i&&o&&this.data?this.data:[],p=s.scale,h=l.scale,d=p instanceof Yr,f=h instanceof Yr;return this.validData=c.filter(function(g){return e.checkDatum(g[i],d)!==void 0&&e.checkDatum(g[o],f)!==void 0}),this.xData=this.validData.map(function(g){return g[i]}),this.yData=this.validData.map(function(g){return g[o]}),this.sizeData=a?this.validData.map(function(g){return g[a]}):[],this.sizeScale.domain=u.domain?u.domain:Ji(this.sizeData,cn)||[1,1],s.scale instanceof Yr?this.xDomain=this.fixNumericExtent(Ji(this.xData,cn),"x",s):this.xDomain=this.xData,l.scale instanceof Yr?this.yDomain=this.fixNumericExtent(Ji(this.yData,cn),"y",l):this.yDomain=this.yData,!0},t.prototype.getDomain=function(e){return e===bt.X?this.xDomain:this.yDomain},t.prototype.getNodeData=function(){return this.nodeData},t.prototype.getLabelData=function(){return this.nodeData},t.prototype.fireNodeClickEvent=function(e,r){this.fireEvent({type:"nodeClick",event:e,series:this,datum:r.datum,xKey:this.xKey,yKey:this.yKey,sizeKey:this.sizeKey})},t.prototype.createNodeData=function(){var e=this,r=e.chart,i=e.data,o=e.visible,a=e.xAxis,s=e.yAxis,l=e.label,u=e.labelKey;if(!(r&&i&&o&&a&&s)||r.layoutPending||r.dataPending)return[];var c=a.scale,p=s.scale,h=c instanceof Yr,d=p instanceof Yr,f=(c.bandwidth||0)/2,g=(p.bandwidth||0)/2,v=this,m=v.xData,C=v.yData,b=v.validData,w=v.sizeData,S=v.sizeScale,T=v.marker,E=[];S.range=[T.size,T.maxSize];for(var P=l.getFont(),R=0;R<m.length;R++){var M=this.checkDomainXY(m[R],C[R],h,d);if(!!M){var N=c.convert(M[0])+f,B=p.convert(M[1])+g;if(!!this.checkRangeXY(N,B,a,s)){var k=u?String(b[R][u]):"",G=zl.getTextSize(k,P);E.push({series:this,datum:b[R],point:{x:N,y:B},size:w.length?S.convert(w[R]):T.size,label:t_({text:k},G)})}}}return this.nodeData=E},t.prototype.update=function(){this.updatePending=!1,this.updateSelections(),this.updateNodes()},t.prototype.updateSelections=function(){!this.nodeDataPending||(this.nodeDataPending=!1,this.createNodeData(),this.updateMarkerSelection(),this.updateLabelSelection())},t.prototype.updateNodes=function(){this.group.visible=this.visible,this.updateMarkerNodes(),this.updateLabelNodes()},t.prototype.updateLabelSelection=function(){var e=this.chart&&this.chart.placeLabels().get(this)||[],r=this.labelSelection.setData(e);r.exit.remove();var i=r.enter.append(un);this.labelSelection=r.merge(i)},t.prototype.updateMarkerSelection=function(){var e=Wc(this.marker.shape),r=this.markerSelection.setData(this.nodeData);r.exit.remove();var i=r.enter.append(e);this.markerSelection=r.merge(i)},t.prototype.updateLabelNodes=function(){var e=this.label;this.labelSelection.each(function(r,i){r.text=i.text,r.fill=e.color,r.x=i.x,r.y=i.y,r.fontStyle=e.fontStyle,r.fontWeight=e.fontWeight,r.fontSize=e.fontSize,r.fontFamily=e.fontFamily,r.textAlign="left",r.textBaseline="top"})},t.prototype.updateMarkerNodes=function(){var e=this;if(!!this.chart){var r=this,i=r.marker,o=r.xKey,a=r.yKey,s=r.strokeWidth,l=r.fillOpacity,u=r.strokeOpacity,c=r.fill,p=r.stroke,h=r.chart.highlightedDatum,d=r.sizeScale,f=r.sizeData,g=r.highlightStyle,v=g.fill,m=g.stroke,C=g.strokeWidth,b=g.item,w=b.fill,S=w===void 0?v:w,T=b.stroke,E=T===void 0?m:T,P=b.strokeWidth,R=P===void 0?C:P,M=i.strokeWidth!==void 0?i.strokeWidth:s,N=i.formatter;d.range=[i.size,i.maxSize],this.markerSelection.each(function(B,k,G){var V=k===h,z=V&&S!==void 0?S:i.fill||c,ee=V&&E!==void 0?E:i.stroke||p,Q=V&&R!==void 0?R:e.getStrokeWidth(M,k),ue=f.length?d.convert(f[G]):i.size,X=void 0;N&&(X=N({datum:k.datum,xKey:o,yKey:a,fill:z,stroke:ee,strokeWidth:Q,size:ue,highlighted:V})),B.fill=X&&X.fill||z,B.stroke=X&&X.stroke||ee,B.strokeWidth=X&&X.strokeWidth!==void 0?X.strokeWidth:Q,B.size=X&&X.size!==void 0?X.size:ue,B.fillOpacity=i.fillOpacity!==void 0?i.fillOpacity:l,B.strokeOpacity=i.strokeOpacity!==void 0?i.strokeOpacity:u,B.translationX=k.point.x,B.translationY=k.point.y,B.opacity=e.getOpacity(k),B.zIndex=V?ap.highlightedZIndex:G,B.visible=i.enabled&&B.size>0})}},t.prototype.getTooltipHtml=function(e){var r=this,i=r.xKey,o=r.yKey,a=r.xAxis,s=r.yAxis;if(!i||!o||!a||!s)return"";var l=this,u=l.fill,c=l.stroke,p=l.marker,h=l.tooltip,d=l.xName,f=l.yName,g=l.sizeKey,v=l.sizeName,m=l.labelKey,C=l.labelName,b=p.fill||u,w=p.stroke||c,S=this.getStrokeWidth(p.strokeWidth||this.strokeWidth,e),T=this.marker.formatter,E=void 0;T&&(E=T({datum:e,xKey:i,yKey:o,fill:b,stroke:w,strokeWidth:S,size:e.size,highlighted:!1}));var P=E&&E.fill||b||"gray",R=this.title||f,M=e.datum,N=M[i],B=M[o],k=Ir(a.formatDatum(N)),G=Ir(s.formatDatum(B)),V="<b>"+Ir(d||i)+"</b>: "+k+"<br>"+("<b>"+Ir(f||o)+"</b>: "+G);g&&(V+="<br><b>"+Ir(v||g)+"</b>: "+Ir(M[g])),m&&(V="<b>"+Ir(C||m)+"</b>: "+Ir(M[m])+"<br>"+V);var z={title:R,backgroundColor:P,content:V},ee=h.renderer;return ee?Qr(ee({datum:M,xKey:i,xValue:N,xName:d,yKey:o,yValue:B,yName:f,sizeKey:g,sizeName:v,labelKey:m,labelName:C,title:R,color:P}),z):Qr(z)},t.prototype.listSeriesItems=function(e){var r=this,i=r.id,o=r.data,a=r.xKey,s=r.yKey,l=r.yName,u=r.title,c=r.visible,p=r.marker,h=r.fill,d=r.stroke,f=r.fillOpacity,g=r.strokeOpacity;o&&o.length&&a&&s&&e.push({id:i,itemId:void 0,enabled:c,label:{text:u||l||s},marker:{shape:p.shape,fill:p.fill||h||"rgba(0, 0, 0, 0)",stroke:p.stroke||d||"rgba(0, 0, 0, 0)",fillOpacity:p.fillOpacity!==void 0?p.fillOpacity:f,strokeOpacity:p.strokeOpacity!==void 0?p.strokeOpacity:g}})},t.className="ScatterSeries",t.type="scatter",ec([K("layoutChange")],t.prototype,"title",void 0),ec([K("dataChange")],t.prototype,"xKey",void 0),ec([K("dataChange")],t.prototype,"yKey",void 0),ec([K("dataChange")],t.prototype,"sizeKey",void 0),ec([K("dataChange")],t.prototype,"labelKey",void 0),t}(Td),q0=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),ls=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Zh=globalThis&&globalThis.__read||function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},qE=globalThis&&globalThis.__spread||function(){for(var n=[],t=0;t<arguments.length;t++)n=n.concat(Zh(arguments[t]));return n},Iv;(function(n){n[n.Bin=0]="Bin",n[n.Label=1]="Label"})(Iv||(Iv={}));var wee=function(n){q0(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return ls([K("change")],t.prototype,"formatter",void 0),t}(Di),ZE=10,r_={count:function(n){return n.data.length},sum:function(n,t){return n.data.reduce(function(e,r){return e+r[t]},0)},mean:function(n,t){return r_.sum(n,t)/r_.count(n,t)}},QE=function(){function n(t){var e=Zh(t,2),r=e[0],i=e[1];this.data=[],this.aggregatedValue=0,this.frequency=0,this.domain=[r,i]}return n.prototype.addDatum=function(t){this.data.push(t),this.frequency++},Object.defineProperty(n.prototype,"domainWidth",{get:function(){var t=Zh(this.domain,2),e=t[0],r=t[1];return r-e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"relativeHeight",{get:function(){return this.aggregatedValue/this.domainWidth},enumerable:!0,configurable:!0}),n.prototype.calculateAggregatedValue=function(t,e){e||(t="count");var r=r_[t];this.aggregatedValue=r(this,e)},n.prototype.getY=function(t){return t?this.relativeHeight:this.aggregatedValue},n}(),_ee=function(n){q0(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return ls([K("change")],t.prototype,"renderer",void 0),t}(gu),FL=function(n){q0(t,n);function t(){var e,r=n.call(this)||this;return r.rectGroup=r.pickGroup.appendChild(new sr),r.textGroup=r.group.appendChild(new sr),r.rectSelection=mr.select(r.rectGroup).selectAll(),r.textSelection=mr.select(r.textGroup).selectAll(),r.binnedData=[],r.xDomain=[],r.yDomain=[],r.label=new wee,r.seriesItemEnabled=!0,r.tooltip=new _ee,r.fill=void 0,r.stroke=void 0,r.fillOpacity=1,r.strokeOpacity=1,r.lineDash=[0],r.lineDashOffset=0,r.directionKeys=(e={},e[bt.X]=["xKey"],e[bt.Y]=["yKey"],e),r._xKey="",r._areaPlot=!1,r._bins=void 0,r._aggregation="count",r._binCount=void 0,r._xName="",r._yKey="",r._yName="",r._strokeWidth=1,r.label.enabled=!1,r.label.addEventListener("change",r.scheduleUpdate,r),r}return t.prototype.getKeys=function(e){var r=this,i=this.directionKeys,o=i&&i[e],a=[];return o&&o.forEach(function(s){var l=r[s];l&&(Array.isArray(l)?a.push.apply(a,qE(l)):a.push(l))}),a},Object.defineProperty(t.prototype,"xKey",{get:function(){return this._xKey},set:function(e){this._xKey!==e&&(this._xKey=e,this.scheduleData())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"areaPlot",{get:function(){return this._areaPlot},set:function(e){this._areaPlot=e,this.scheduleData()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bins",{get:function(){return this._bins},set:function(e){this._bins=e,this.scheduleData()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"aggregation",{get:function(){return this._aggregation},set:function(e){this._aggregation=e,this.scheduleData()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"binCount",{get:function(){return this._binCount},set:function(e){this._binCount=e,this.scheduleData()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"xName",{get:function(){return this._xName},set:function(e){this._xName!==e&&(this._xName=e,this.scheduleUpdate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"yKey",{get:function(){return this._yKey},set:function(e){this._yKey=e,this.seriesItemEnabled=!0,this.scheduleData()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"yName",{get:function(){return this._yName},set:function(e){this._yName=e,this.scheduleData()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"strokeWidth",{get:function(){return this._strokeWidth},set:function(e){this._strokeWidth!==e&&(this._strokeWidth=e,this.scheduleUpdate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"shadow",{get:function(){return this._shadow},set:function(e){this._shadow!==e&&(this._shadow=e,this.scheduleUpdate())},enumerable:!0,configurable:!0}),t.prototype.onHighlightChange=function(){this.updateRectNodes()},t.prototype.setColors=function(e,r){this.fill=e[0],this.stroke=r[0]},t.prototype.deriveBins=function(){var e=this,r=this,i=r.bins;if(r.binCount,!this.data)return[];if(i)return i;var o=this.data.map(function(p){return p[e.xKey]}),a=this.fixNumericExtent(Ji(o,cn),"x"),s=Rv(a[0],a[1],this.binCount||ZE),l=Xh(a[0],a[1],this.binCount||ZE),u=s[0],c=function(p){return[p,p+l]};return qE([[u-l,u]],s.map(c))},t.prototype.placeDataInBins=function(e){var r=this,i=this.xKey,o=this.deriveBins(),a=e.slice().sort(function(d,f){return d[i]<f[i]?-1:d[i]>f[i]?1:0}),s=0,l=[new QE(o[0])];e:for(var u=0,c=a.length;u<c;u++){for(var p=a[u];p[i]>o[s][1];){s++;var h=o[s];if(!h)break e;l.push(new QE(h))}l[s].addDatum(p)}return l.forEach(function(d){return d.calculateAggregatedValue(r._aggregation,r.yKey)}),l},Object.defineProperty(t.prototype,"xMax",{get:function(){var e=this;return this.data&&this.data.reduce(function(r,i){return Math.max(r,i[e.xKey])},Number.NEGATIVE_INFINITY)},enumerable:!0,configurable:!0}),t.prototype.processData=function(){var e=this,r=this,i=r.xKey,o=r.data;this.binnedData=this.placeDataInBins(i&&o?o:[]);var a=this.binnedData.map(function(h){return h.getY(e.areaPlot)}),s=Ji(a,cn);this.yDomain=this.fixNumericExtent([0,s?s[1]:1],"y");var l=this.binnedData[0],u=this.binnedData[this.binnedData.length-1],c=l.domain[0],p=u.domain[1];return this.xDomain=[c,p],this.fireEvent({type:"dataProcessed"}),!0},t.prototype.getDomain=function(e){return e===bt.X?this.xDomain:this.yDomain},t.prototype.fireNodeClickEvent=function(e,r){this.fireEvent({type:"nodeClick",event:e,series:this,datum:r.datum,xKey:this.xKey})},t.prototype.update=function(){this.updatePending=!1,this.updateSelections(),this.updateNodes()},t.prototype.updateSelections=function(){if(!!this.nodeDataPending){this.nodeDataPending=!1;var e=this.createNodeData();this.updateRectSelection(e),this.updateTextSelection(e)}},t.prototype.updateNodes=function(){this.group.visible=this.visible,this.updateRectNodes(),this.updateTextNodes()},t.prototype.createNodeData=function(){var e=this,r=this,i=r.xAxis,o=r.yAxis;if(!this.seriesItemEnabled||!i||!o)return[];var a=i.scale,s=o.scale,l=this,u=l.fill,c=l.stroke,p=l.strokeWidth,h=[],d=function(T){return String(T.value)},f=this.label,g=f.formatter,v=g===void 0?d:g,m=f.fontStyle,C=f.fontWeight,b=f.fontSize,w=f.fontFamily,S=f.color;return this.binnedData.forEach(function(T){var E=T.aggregatedValue,P=T.frequency,R=Zh(T.domain,2),M=R[0],N=R[1],B=T.relativeHeight,k=a.convert(M),G=a.convert(N),V=e.areaPlot?B:e.yKey?E:P,z=s.convert(0),ee=s.convert(V),Q=G-k,ue=Math.abs(ee-z),X=V!==0?{text:v({value:T.aggregatedValue}),fontStyle:m,fontWeight:C,fontSize:b,fontFamily:w,fill:S,x:k+Q/2,y:ee+ue/2}:void 0;h.push({series:e,datum:T,x:k,y:ee,width:Q,height:ue,fill:u,stroke:c,strokeWidth:p,label:X})}),h},t.prototype.updateRectSelection=function(e){var r=this.rectSelection.setData(e);r.exit.remove();var i=r.enter.append(Na).each(function(o){o.tag=Iv.Bin,o.crisp=!0});this.rectSelection=r.merge(i)},t.prototype.updateRectNodes=function(){var e=this;if(!!this.chart){var r=this,i=r.fillOpacity,o=r.strokeOpacity,a=r.shadow,s=r.chart.highlightedDatum,l=r.highlightStyle,u=l.fill,c=l.stroke,p=l.strokeWidth,h=l.item,d=h.fill,f=d===void 0?u:d,g=h.stroke,v=g===void 0?c:g,m=h.strokeWidth,C=m===void 0?p:m;this.rectSelection.each(function(b,w,S){var T=w===s,E=T&&C!==void 0?C:e.getStrokeWidth(w.strokeWidth,w);b.x=w.x,b.y=w.y,b.width=w.width,b.height=w.height,b.fill=T&&f!==void 0?f:w.fill,b.stroke=T&&v!==void 0?v:w.stroke,b.fillOpacity=i,b.strokeOpacity=o,b.strokeWidth=E,b.lineDash=e.lineDash,b.lineDashOffset=e.lineDashOffset,b.fillShadow=a,b.zIndex=T?ap.highlightedZIndex:S,b.visible=w.height>0,b.opacity=e.getOpacity(w)})}},t.prototype.updateTextSelection=function(e){var r=this.textSelection.setData(e);r.exit.remove();var i=r.enter.append(un).each(function(o){o.tag=Iv.Label,o.pointerEvents=Li.None,o.textAlign="center",o.textBaseline="middle"});this.textSelection=r.merge(i)},t.prototype.updateTextNodes=function(){var e=this.label.enabled;this.textSelection.each(function(r,i){var o=i.label;o&&e?(r.text=o.text,r.x=o.x,r.y=o.y,r.fontStyle=o.fontStyle,r.fontWeight=o.fontWeight,r.fontSize=o.fontSize,r.fontFamily=o.fontFamily,r.fill=o.fill,r.visible=!0):r.visible=!1})},t.prototype.getTooltipHtml=function(e){var r=this,i=r.xKey,o=r.yKey,a=r.xAxis,s=r.yAxis;if(!i||!a||!s)return"";var l=this,u=l.xName,c=l.yName,p=l.fill,h=l.tooltip,d=l.aggregation,f=h.renderer,g=e.datum,v=g.aggregatedValue,m=g.frequency,C=Zh(g.domain,2),b=C[0],w=C[1],S=Ir(u||i)+": "+a.formatDatum(b)+" - "+a.formatDatum(w),T=o?"<b>"+Ir(c||o)+" ("+d+")</b>: "+s.formatDatum(v)+"<br>":"";T+="<b>Frequency</b>: "+m;var E={title:S,backgroundColor:p,content:T};return f?Qr(f({datum:g,xKey:i,xValue:g.domain,xName:u,yKey:o,yValue:g.aggregatedValue,yName:c,color:p}),E):Qr(E)},t.prototype.listSeriesItems=function(e){var r=this,i=r.id,o=r.data,a=r.yKey,s=r.yName,l=r.seriesItemEnabled,u=r.fill,c=r.stroke,p=r.fillOpacity,h=r.strokeOpacity;o&&o.length&&e.push({id:i,itemId:a,enabled:l,label:{text:s||a||"Frequency"},marker:{fill:u||"rgba(0, 0, 0, 0)",stroke:c||"rgba(0, 0, 0, 0)",fillOpacity:p,strokeOpacity:h}})},t.prototype.toggleSeriesItem=function(e,r){e===this.yKey&&(this.seriesItemEnabled=r),this.scheduleData()},t.className="HistogramSeries",t.type="histogram",ls([K("dataChange")],t.prototype,"fill",void 0),ls([K("dataChange")],t.prototype,"stroke",void 0),ls([K("layoutChange")],t.prototype,"fillOpacity",void 0),ls([K("layoutChange")],t.prototype,"strokeOpacity",void 0),ls([K("update")],t.prototype,"lineDash",void 0),ls([K("update")],t.prototype,"lineDashOffset",void 0),t}(Td),See=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),xee=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Tee=function(n){See(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.data=void 0,e}return xee([K("dataChange")],t.prototype,"data",void 0),t}(ap),Oee=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Up=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},IL=function(n){Oee(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.enabled=!0,e.color="rgba(0, 0, 0, 0.5)",e.xOffset=0,e.yOffset=0,e.blur=5,e}return Up([K("change")],t.prototype,"enabled",void 0),Up([K("change")],t.prototype,"color",void 0),Up([K("change")],t.prototype,"xOffset",void 0),Up([K("change")],t.prototype,"yOffset",void 0),Up([K("change")],t.prototype,"blur",void 0),t}(fn);function Eee(n,t,e,r,i){var o=n.children,a=n.value&&(i-e)/n.value;o.forEach(function(s){s.x0=t,s.x1=r,s.y0=e,s.y1=e+=s.value*a})}function Ree(n,t,e,r,i){var o=n.children,a=n.value&&(r-t)/n.value;o.forEach(function(s){s.x0=t,s.x1=t+=s.value*a,s.y0=e,s.y1=i})}function Pee(n){n.x0=Math.round(n.x0),n.y0=Math.round(n.y0),n.x1=Math.round(n.x1),n.y1=Math.round(n.y1)}function Aee(n,t,e,r,i,o){for(var a=[],s=t.children,l=s.length,u=t.value,c=0,p=0,h,d,f,g,v,m,C,b,w,S;c<l;){h=i-e,d=o-r;do g=s[p++].value;while(!g&&p<l);for(v=m=g,w=Math.max(d/h,h/d)/(u*n),S=g*g*w,b=Math.max(m/S,S/v);p<l;++p){if(f=s[p].value,g+=f,f<v&&(v=f),f>m&&(m=f),S=g*g*w,C=Math.max(m/S,S/v),C>b){g-=f;break}b=C}var T={value:g,dice:h<d,children:s.slice(c,p)};a.push(T),T.dice?Ree(T,e,r,i,u?r+=d*g/u:o):Eee(T,e,r,u?e+=h*g/u:i,o),u-=g,c=p}return a}var Dee=(1+Math.sqrt(5))/2,Mee=function n(t){function e(r,i,o,a,s){Aee(t,r,i,o,a,s)}return e.ratio=function(r){return n((r=+r)>1?r:1)},e}(Dee),Fee=function(){function n(){this.paddingStack=[0],this.dx=1,this.dy=1,this.round=!0,this.tile=Mee,this.paddingInner=function(t){return 0},this.paddingTop=function(t){return 0},this.paddingRight=function(t){return 0},this.paddingBottom=function(t){return 0},this.paddingLeft=function(t){return 0}}return Object.defineProperty(n.prototype,"size",{get:function(){return[this.dx,this.dy]},set:function(t){this.dx=t[0],this.dy=t[1]},enumerable:!0,configurable:!0}),n.prototype.processData=function(t){return t.x0=0,t.y0=0,t.x1=this.dx,t.y1=this.dy,t.eachBefore(this.positionNode.bind(this)),this.paddingStack=[0],this.round&&t.eachBefore(Pee),t},n.prototype.positionNode=function(t){var e=this.paddingStack[t.depth],r=t.x0+e,i=t.y0+e,o=t.x1-e,a=t.y1-e;o<r&&(r=o=(r+o)/2),a<i&&(i=a=(i+a)/2),t.x0=r,t.y0=i,t.x1=o,t.y1=a,t.children&&(e=this.paddingStack[t.depth+1]=this.paddingInner(t)/2,r+=this.paddingLeft(t)-e,i+=this.paddingTop(t)-e,o-=this.paddingRight(t)-e,a-=this.paddingBottom(t)-e,o<r&&(r=o=(r+o)/2),a<i&&(i=a=(i+a)/2),this.tile(t,r,i,o,a))},n}(),JE=function(){function n(t){this.value=0,this.depth=0,this.height=0,this.parent=void 0,this.children=void 0,this.datum=t}return n.prototype.countFn=function(t){var e=0,r=t.children;if(!r||!r.length)e=1;else for(var i=r.length;--i>=0;)e+=r[i].value;t.value=e},n.prototype.count=function(){return this.eachAfter(this.countFn)},n.prototype.each=function(t,e){var r=this,i=-1;return this.iterator(function(o){t.call(e,o,++i,r)}),this},n.prototype.eachAfter=function(t,e){for(var r=this,i=[r],o=[];r=i.pop();){o.push(r);var a=r.children;if(a)for(var s=0,l=a.length;s<l;++s)i.push(a[s])}for(var u=-1;r=o.pop();)t.call(e,r,++u,this);return this},n.prototype.eachBefore=function(t,e){for(var r=this,i=[r],o=-1;r=i.pop();){t.call(e,r,++o,this);var a=r.children;if(a)for(var s=a.length-1;s>=0;--s){var l=a[s];i.push(l)}}return this},n.prototype.find=function(t,e){var r=this,i=-1,o;return this.iterator(function(a){if(t.call(e,a,++i,r))return o=a,!1}),o},n.prototype.sum=function(t){return this.eachAfter(function(e){var r=+t(e.datum)||0,i=e.children;if(i)for(var o=i.length;--o>=0;)r+=i[o].value;e.value=r})},n.prototype.sort=function(t){return this.eachBefore(function(e){e.children&&e.children.sort(t)})},n.prototype.path=function(t){for(var e=this,r=kee(e,t),i=[e];e!==r;)e=e.parent,i.push(e);for(var o=i.length;t!==r;)i.splice(o,0,t),t=t.parent;return i},n.prototype.ancestors=function(){for(var t=this,e=[t];t=t.parent;)e.push(t);return e},n.prototype.descendants=function(){var t=[];return this.iterator(function(e){return t.push(e)}),t},n.prototype.leaves=function(){var t=[];return this.eachBefore(function(e){e.children||t.push(e)}),t},n.prototype.links=function(){var t=this,e=[];return t.each(function(r){r!==t&&e.push({source:r.parent,target:r})}),e},n.prototype.copy=function(){},n.prototype.iterator=function(t){var e=this,r=[e],i;e:do for(i=r.reverse(),r=[];e=i.pop();){if(t(e)===!1)break e;var o=e.children;if(o)for(var a=0,s=o.length;a<s;++a)r.push(o[a])}while(r.length)},n}();function eR(n,t){n instanceof Map?(n=[void 0,n],t===void 0&&(t=Lee)):t===void 0&&(t=Nee);for(var e=new JE(n),r=[e],i,o,a,s,l;i=r.pop();)if((a=t(i.datum))&&(l=(a=Array.from(a)).length))for(i.children=a,s=l-1;s>=0;--s)r.push(o=a[s]=new JE(a[s])),o.parent=i,o.depth=i.depth+1;return e.eachBefore(Iee)}function Iee(n){var t=0;do n.height=t;while((n=n.parent)&&n.height<++t)}function Lee(n){return Array.isArray(n)?n[1]:void 0}function Nee(n){return n.children}function kee(n,t){if(!!(n&&t)){if(n===t)return n;var e=n.ancestors(),r=t.ancestors(),i=void 0;for(n=e.pop(),t=r.pop();n===t;)i=n,n=e.pop(),t=r.pop();return i}}var Z0=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),aa=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Gee=function(n){Z0(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return aa([K("change")],t.prototype,"renderer",void 0),t}(gu),tR=function(n){Z0(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.padding=10,e}return aa([K("change")],t.prototype,"padding",void 0),t}(Di),cc;(function(n){n[n.Name=0]="Name",n[n.Value=1]="Value"})(cc||(cc={}));var Bee=function(n){Z0(t,n);function t(){var e=n.call(this)||this;return e.groupSelection=mr.select(e.pickGroup).selectAll(),e.labelMap=new Map,e.layout=new Fee,e.title=function(){var r=new tR;return r.color="white",r.fontWeight="bold",r.fontSize=12,r.fontFamily="Verdana, sans-serif",r.padding=15,r}(),e.subtitle=function(){var r=new tR;return r.color="white",r.fontSize=9,r.fontFamily="Verdana, sans-serif",r.padding=13,r}(),e.labels={large:function(){var r=new Di;return r.color="white",r.fontWeight="bold",r.fontSize=18,r}(),medium:function(){var r=new Di;return r.color="white",r.fontWeight="bold",r.fontSize=14,r}(),small:function(){var r=new Di;return r.color="white",r.fontWeight="bold",r.fontSize=10,r}(),color:function(){var r=new Di;return r.color="white",r}()},e._nodePadding=2,e.labelKey="label",e.sizeKey="size",e.colorKey="color",e.colorDomain=[-5,5],e.colorRange=["#cb4b3f","#6acb64"],e.colorParents=!1,e.gradient=!0,e.colorName="Change",e.rootName="Root",e._shadow=function(){var r=new IL;return r.color="rgba(0, 0, 0, 0.4)",r.xOffset=1.5,r.yOffset=1.5,r}(),e.tooltip=new Gee,e.shadow.addEventListener("change",e.scheduleUpdate,e),e.title.addEventListener("change",e.scheduleUpdate,e),e.subtitle.addEventListener("change",e.scheduleUpdate,e),e.labels.small.addEventListener("change",e.scheduleUpdate,e),e.labels.medium.addEventListener("change",e.scheduleUpdate,e),e.labels.large.addEventListener("change",e.scheduleUpdate,e),e.labels.color.addEventListener("change",e.scheduleUpdate,e),e}return Object.defineProperty(t.prototype,"nodePadding",{get:function(){return this._nodePadding},set:function(e){this._nodePadding!==e&&(this._nodePadding=e,this.updateLayoutPadding(),this.scheduleUpdate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"shadow",{get:function(){return this._shadow},set:function(e){this._shadow!==e&&(this._shadow=e,this.scheduleUpdate())},enumerable:!0,configurable:!0}),t.prototype.onHighlightChange=function(){this.updateNodes()},t.prototype.updateLayoutPadding=function(){var e=this,r=e.title,i=e.subtitle,o=e.nodePadding,a=e.labelKey;this.layout.paddingRight=function(s){return o},this.layout.paddingBottom=function(s){return o},this.layout.paddingLeft=function(s){return o},this.layout.paddingTop=function(s){var l=s.datum[a]||"";s.children&&(l=l.toUpperCase());var u=s.depth>1?i:r,c=zl.getTextSize(l,[u.fontWeight,u.fontSize+"px",u.fontFamily].join(" ").trim()),p=s.x1-s.x0-o*2,h=s.depth>0&&s.children&&c.width<=p;return s.hasTitle=!!h,h?c.height+o*2:o}},t.prototype.processData=function(){if(!this.data)return!1;var e=this,r=e.data,i=e.sizeKey,o=e.labelKey,a=e.colorKey,s=e.colorDomain,l=e.colorRange,u=e.colorParents,c;i?c=eR(r).sum(function(f){return f.children?1:f[i]}):c=eR(r).sum(function(f){return f.children?0:1}),this.dataRoot=c;var p=new ur;p.domain=s,p.range=l;var h=this;function d(f,g){g===void 0&&(g=0);var v=f.children,m=f.datum,C=m[o],b=a?m[a]:g;f.series=h,f.fill=!v||u?p.convert(b):"#272931",f.colorValue=b,C?f.label=v?C.toUpperCase():C:f.label="",v&&v.forEach(function(w){return d(w,g+1)})}return d(this.dataRoot),!0},t.prototype.getLabelCenterX=function(e){return(e.x0+e.x1)/2},t.prototype.getLabelCenterY=function(e){return(e.y0+e.y1)/2+2},t.prototype.update=function(){this.updatePending=!1,this.updateSelections(),this.updateNodes()},t.prototype.updateSelections=function(){if(!!this.nodeDataPending){this.nodeDataPending=!1;var e=this,r=e.chart,i=e.dataRoot;if(!(!r||!i)){var o=r.getSeriesRect();if(!!o){this.layout.size=[o.width,o.height],this.updateLayoutPadding();var a=this.layout.processData(i).descendants(),s=this.groupSelection.setData(a);s.exit.remove();var l=s.enter.append(sr);l.append(Na),l.append(un).each(function(u){return u.tag=cc.Name}),l.append(un).each(function(u){return u.tag=cc.Value}),this.groupSelection=s.merge(l)}}}},t.prototype.updateNodes=function(){var e=this;if(!!this.chart){var r=this,i=r.colorKey,o=r.labelMap,a=r.nodePadding,s=r.title,l=r.subtitle,u=r.labels,c=r.shadow,p=r.gradient,h=r.chart.highlightedDatum,d=r.highlightStyle,f=d.fill,g=d.stroke,v=d.strokeWidth,m=d.item,C=m.fill,b=C===void 0?f:C,w=m.stroke,S=w===void 0?g:w,T=m.strokeWidth,E=T===void 0?v:T;this.groupSelection.selectByClass(Na).each(function(P,R){var M=R===h,N=M&&b!==void 0?b:R.fill,B=M&&S!==void 0?S:R.depth<2?void 0:"black",k=M&&E!==void 0?E:e.getStrokeWidth(1,R);P.fill=N,P.stroke=B,P.strokeWidth=k,P.crisp=!0,P.gradient=p,P.x=R.x0,P.y=R.y0,P.width=R.x1-R.x0,P.height=R.y1-R.y0}),this.groupSelection.selectByTag(cc.Name).each(function(P,R,M){var N=!R.children,B=R.x1-R.x0-a*2,k=R.y1-R.y0-a*2,G=R.hasTitle,V=R===h,z;N?B>40&&k>40?z=u.large:B>20&&k>20?z=u.medium:z=u.small:R.depth>1?z=l:z=s,P.fontWeight=z.fontWeight,P.fontSize=z.fontSize,P.fontFamily=z.fontFamily,P.textBaseline=N?"bottom":G?"top":"middle",P.textAlign=G?"left":"center",P.text=R.label;var ee=P.computeBBox(),Q=N&&!!ee&&ee.width<=B&&ee.height*2+8<=k;o.set(M,P),P.fill=V?"black":z.color,P.fillShadow=Q&&!V?c:void 0,P.visible=G||Q,G?(P.x=R.x0+a,P.y=R.y0+a):(P.x=e.getLabelCenterX(R),P.y=e.getLabelCenterY(R))}),this.groupSelection.selectByTag(cc.Value).each(function(P,R,M){var N=!R.children,B=R.x1-R.x0-a*2,k=R===h,G=R.colorValue,V=u.color;P.fontSize=V.fontSize,P.fontFamily=V.fontFamily,P.fontStyle=V.fontStyle,P.fontWeight=V.fontWeight,P.textBaseline="top",P.textAlign="center",P.text=typeof G=="number"&&isFinite(G)?String(Qw(R.colorValue))+"%":"";var z=P.computeBBox(),ee=o.get(M),Q=!!ee&&ee.visible,ue=N&&!!i&&Q&&!!z&&z.width<B;P.fill=k?"black":V.color,P.fillShadow=k?void 0:c,P.visible=ue,ue?(P.x=e.getLabelCenterX(R),P.y=e.getLabelCenterY(R)):ee&&!(R.children&&R.children.length)&&(ee.textBaseline="middle",ee.y=e.getLabelCenterY(R))})}},t.prototype.getDomain=function(e){return[0,1]},t.prototype.fireNodeClickEvent=function(e,r){this.fireEvent({type:"nodeClick",event:e,series:this,datum:r.datum,labelKey:this.labelKey,sizeKey:this.sizeKey,colorKey:this.colorKey})},t.prototype.getTooltipHtml=function(e){var r=this,i=r.tooltip,o=r.sizeKey,a=r.labelKey,s=r.colorKey,l=r.colorName,u=r.rootName,c=e.datum,p=i.renderer,h=e.depth?c[a]:u||c[a],d=void 0,f=e.fill||"gray";if(s&&l){var g=c[s];typeof g=="number"&&isFinite(g)&&(d="<b>"+l+"</b>: "+Qw(c[s]))}var v={title:h,backgroundColor:f,content:d};return p?Qr(p({datum:e,sizeKey:o,labelKey:a,colorKey:s,title:h,color:f}),v):Qr(v)},t.prototype.listSeriesItems=function(e){},t.className="TreemapSeries",t.type="treemap",aa([K("dataChange")],t.prototype,"labelKey",void 0),aa([K("dataChange")],t.prototype,"sizeKey",void 0),aa([K("dataChange")],t.prototype,"colorKey",void 0),aa([K("dataChange")],t.prototype,"colorDomain",void 0),aa([K("dataChange")],t.prototype,"colorRange",void 0),aa([K("dataChange")],t.prototype,"colorParents",void 0),aa([K("update")],t.prototype,"gradient",void 0),t}(Tee),Vee=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),LL=function(n){Vee(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e._centerX=0,e._centerY=0,e._centerOffset=0,e._innerRadius=10,e._outerRadius=20,e._startAngle=0,e._endAngle=Math.PI*2,e._angleOffset=0,e}return Object.defineProperty(t.prototype,"centerX",{get:function(){return this._centerX},set:function(e){this._centerX!==e&&(this._centerX=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"centerY",{get:function(){return this._centerY},set:function(e){this._centerY!==e&&(this._centerY=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"centerOffset",{get:function(){return this._centerOffset},set:function(e){this._centerOffset!==e&&(this._centerOffset=Math.max(0,e),this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"innerRadius",{get:function(){return this._innerRadius},set:function(e){this._innerRadius!==e&&(this._innerRadius=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"outerRadius",{get:function(){return this._outerRadius},set:function(e){this._outerRadius!==e&&(this._outerRadius=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"startAngle",{get:function(){return this._startAngle},set:function(e){this._startAngle!==e&&(this._startAngle=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"endAngle",{get:function(){return this._endAngle},set:function(e){this._endAngle!==e&&(this._endAngle=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"angleOffset",{get:function(){return this._angleOffset},set:function(e){this._angleOffset!==e&&(this._angleOffset=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),t.prototype.computeBBox=function(){var e=this.outerRadius;return new lr(this.centerX-e,this.centerY-e,e*2,e*2)},t.prototype.isFullPie=function(){return sL(Oi(this.startAngle),Oi(this.endAngle))},t.prototype.updatePath=function(){var e=this.path,r=this.angleOffset,i=Math.min(this.startAngle,this.endAngle)+r,o=Math.max(this.startAngle,this.endAngle)+r,a=(i+o)*.5,s=Math.min(this.innerRadius,this.outerRadius),l=Math.max(this.innerRadius,this.outerRadius),u=this.centerOffset,c=this.isFullPie(),p=this.centerX,h=this.centerY;if(e.clear(),u&&(p+=u*Math.cos(a),h+=u*Math.sin(a)),c||(e.moveTo(p+s*Math.cos(i),h+s*Math.sin(i)),e.lineTo(p+l*Math.cos(i),h+l*Math.sin(i))),e.cubicArc(p,h,l,l,0,i,o,0),c)e.moveTo(p+s*Math.cos(o),h+s*Math.sin(o));else{var d=p+s*Math.cos(o);e.lineTo(Math.abs(d)<1e-8?0:d,h+s*Math.sin(o))}e.cubicArc(p,h,s,s,0,o,i,1),e.closePath(),this.dirtyPath=!1},t.className="Sector",t}(Mn),sp=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Bt=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Wee=globalThis&&globalThis.__read||function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},rR=globalThis&&globalThis.__spread||function(){for(var n=[],t=0;t<arguments.length;t++)n=n.concat(Wee(arguments[t]));return n},Hee=function(n){sp(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t}(xL),us;(function(n){n[n.Sector=0]="Sector",n[n.Callout=1]="Callout",n[n.Label=2]="Label"})(us||(us={}));var jee=function(n){sp(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.offset=3,e.minAngle=20,e}return Bt([K("change")],t.prototype,"offset",void 0),Bt([K("dataChange")],t.prototype,"minAngle",void 0),Bt([K("dataChange")],t.prototype,"formatter",void 0),t}(Di),Uee=function(n){sp(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.colors=["#874349","#718661","#a48f5f","#5a7088","#7f637a","#5d8692"],e.length=10,e.strokeWidth=1,e}return Bt([K("change")],t.prototype,"colors",void 0),Bt([K("change")],t.prototype,"length",void 0),Bt([K("change")],t.prototype,"strokeWidth",void 0),t}(fn),zee=function(n){sp(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return Bt([K("change")],t.prototype,"renderer",void 0),t}(gu),$ee=function(n){sp(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.showInLegend=!1,e}return Bt([K()],t.prototype,"showInLegend",void 0),t}(zw),NL=function(n){sp(t,n);function t(){var e=n.call(this)||this;return e.radiusScale=new ur,e.groupSelection=mr.select(e.pickGroup).selectAll(),e.groupSelectionData=[],e.angleScale=function(){var r=new ur;return r.domain=[0,1],r.range=[-Math.PI,Math.PI].map(function(i){return i+Math.PI/2}),r}(),e.seriesItemEnabled=[],e.label=new jee,e.callout=new Uee,e.tooltip=new zee,e.angleKey="",e.angleName="",e._fills=["#c16068","#a2bf8a","#ebcc87","#80a0c3","#b58dae","#85c0d1"],e._strokes=["#874349","#718661","#a48f5f","#5a7088","#7f637a","#5d8692"],e.fillOpacity=1,e.strokeOpacity=1,e.lineDash=[0],e.lineDashOffset=0,e.rotation=0,e.outerRadiusOffset=0,e.innerRadiusOffset=0,e.strokeWidth=1,e.highlightStyle=new Hee,e.addEventListener("update",e.scheduleUpdate,e),e.label.addEventListener("change",e.scheduleUpdate,e),e.label.addEventListener("dataChange",e.scheduleData,e),e.callout.addEventListener("change",e.scheduleLayout,e),e.addPropertyListener("data",function(r){r.value&&(r.source.seriesItemEnabled=r.value.map(function(){return!0}))}),e}return Object.defineProperty(t.prototype,"title",{get:function(){return this._title},set:function(e){var r=this._title;function i(){this.fireEvent({type:"legendChange"})}r!==e&&(r&&(r.removeEventListener("change",this.scheduleUpdate,this),r.removePropertyListener("showInLegend",i,this),this.group.removeChild(r.node)),e&&(e.node.textBaseline="bottom",e.addEventListener("change",this.scheduleUpdate,this),e.addPropertyListener("showInLegend",i,this),this.group.appendChild(e.node)),this._title=e,this.scheduleUpdate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fills",{get:function(){return this._fills},set:function(e){this._fills=e,this.scheduleUpdate()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"strokes",{get:function(){return this._strokes},set:function(e){this._strokes=e,this.scheduleUpdate()},enumerable:!0,configurable:!0}),t.prototype.onHighlightChange=function(){this.updateNodes()},t.prototype.setColors=function(e,r){this.fills=e,this.strokes=r,this.callout.colors=r},t.prototype.getDomain=function(e){return e===bt.X?this.angleScale.domain:this.radiusScale.domain},t.prototype.processData=function(){var e=this,r=this,i=r.angleKey,o=r.radiusKey,a=r.seriesItemEnabled,s=r.angleScale,l=r.groupSelectionData,u=r.label,c=i&&this.data?this.data:[],p=c.map(function(G,V){return a[V]&&Math.abs(+G[i])||0}),h=p.reduce(function(G,V){return G+V},0),d=function(){var G=0;return p.map(function(V){return G+=V/h})}(),f=u.formatter,g=u.enabled&&this.labelKey,v=[],m=[];if(g&&(f?v=c.map(function(G){return f({value:G[g]})}):v=c.map(function(G){return String(G[g])})),o){var C=this,b=C.radiusMin,w=C.radiusMax,S=c.map(function(G){return Math.abs(G[o])}),T=b!==void 0?b:Math.min.apply(Math,rR(S)),E=w!==void 0?w:Math.max.apply(Math,rR(S)),P=E-T;m=S.map(function(G){return P?(G-T)/P:1})}l.length=0;var R=or(this.rotation),M=Math.PI/2,N=0,B=[{textAlign:"center",textBaseline:"bottom"},{textAlign:"left",textBaseline:"middle"},{textAlign:"center",textBaseline:"hanging"},{textAlign:"right",textBaseline:"middle"}],k=0;return d.forEach(function(G){if(!isNaN(G)){var V=o?m[N]:1,z=s.convert(G)+R,ee=s.convert(k)+R,Q=(z+ee)/2,ue=Math.abs(ee-z),X=Math.cos(Q),se=Math.sin(Q),$=or(u.minAngle),q=g&&ue>$,ce=zZ(Q),he=-3*Math.PI/4,we=ce-he,_e=Math.floor(we/M),Oe=$Z(_e,B.length),De=B[Oe],Re=De.textAlign,Ue=De.textBaseline;l.push({series:e,datum:c[N],itemId:N,index:N,radius:V,startAngle:z,endAngle:ee,midAngle:Q,midCos:X,midSin:se,label:q?{text:v[N],textAlign:Re,textBaseline:Ue}:void 0}),N++,k=G}}),!0},t.prototype.update=function(){this.updatePending=!1;var e=this,r=e.radius,i=e.innerRadiusOffset,o=e.outerRadiusOffset,a=e.title;if(this.radiusScale.range=[i?r+i:0,r+(o||0)],this.group.translationX=this.centerX,this.group.translationY=this.centerY,a){var s=Math.max(0,this.radiusScale.range[1]);s===0?a.node.visible=!1:(a.node.translationY=-r-o-2,a.node.visible=a.enabled)}this.updateSelections(),this.updateNodes()},t.prototype.updateSelections=function(){!this.nodeDataPending||(this.nodeDataPending=!1,this.updateGroupSelection())},t.prototype.updateGroupSelection=function(){var e=this.groupSelection.setData(this.groupSelectionData);e.exit.remove();var r=e.enter.append(sr);r.append(LL).each(function(i){return i.tag=us.Sector}),r.append(eo).each(function(i){i.tag=us.Callout,i.pointerEvents=Li.None}),r.append(un).each(function(i){i.tag=us.Label,i.pointerEvents=Li.None}),this.groupSelection=e.merge(r)},t.prototype.updateNodes=function(){var e=this;if(!!this.chart){this.group.visible=this.visible&&this.seriesItemEnabled.indexOf(!0)>=0;var r=this,i=r.fills,o=r.strokes,a=r.fillOpacity,s=r.strokeOpacity,l=r.radiusScale,u=r.callout,c=r.shadow,p=r.chart.highlightedDatum,h=r.highlightStyle,d=h.fill,f=h.stroke,g=h.strokeWidth,v=h.item,m=v.fill,C=m===void 0?d:m,b=v.stroke,w=b===void 0?f:b,S=v.strokeWidth,T=S===void 0?g:S,E=r.angleKey,P=r.radiusKey,R=r.formatter,M=[],N=l.convert(0);this.groupSelection.selectByTag(us.Sector).each(function($,q,ce){var he=l.convert(q.radius),we=!!p&&p.series===e&&q.itemId===p.itemId,_e=we&&C!==void 0?C:i[ce%i.length],Oe=we&&w!==void 0?w:o[ce%o.length],De=we&&T!==void 0?T:e.getStrokeWidth(e.strokeWidth),Re=void 0;R&&(Re=R({datum:q.datum,angleKey:E,radiusKey:P,fill:_e,stroke:Oe,strokeWidth:De,highlighted:we}));var Ue=$.parent&&$.parent.parent;we&&Ue&&(Ue.removeChild($.parent),Ue.appendChild($.parent)),$.innerRadius=Math.max(0,N),$.outerRadius=Math.max(0,he),$.startAngle=q.startAngle,$.endAngle=q.endAngle,$.fill=Re&&Re.fill||_e,$.stroke=Re&&Re.stroke||Oe,$.strokeWidth=Re&&Re.strokeWidth!==void 0?Re.strokeWidth:De,$.fillOpacity=a,$.strokeOpacity=s,$.lineDash=e.lineDash,$.lineDashOffset=e.lineDashOffset,$.fillShadow=c,$.lineJoin="round",$.opacity=e.getOpacity(),M.push($.centerOffset)});var B=u.colors,k=u.length,G=u.strokeWidth;this.groupSelection.selectByTag(us.Callout).each(function($,q,ce){var he=l.convert(q.radius),we=Math.max(0,he);q.label&&we!==0?($.strokeWidth=G,$.stroke=B[ce%B.length],$.x1=q.midCos*we,$.y1=q.midSin*we,$.x2=q.midCos*(we+k),$.y2=q.midSin*(we+k)):$.stroke=void 0});{var V=this.label,z=V.offset,ee=V.fontStyle,Q=V.fontWeight,ue=V.fontSize,X=V.fontFamily,se=V.color;this.groupSelection.selectByTag(us.Label).each(function($,q,ce){var he=q.label,we=l.convert(q.radius),_e=Math.max(0,we);if(he&&_e!==0){var Oe=M[ce]+_e+k+z;$.fontStyle=ee,$.fontWeight=Q,$.fontSize=ue,$.fontFamily=X,$.text=he.text,$.x=q.midCos*Oe,$.y=q.midSin*Oe,$.fill=se,$.textAlign=he.textAlign,$.textBaseline=he.textBaseline}else $.fill=void 0})}}},t.prototype.fireNodeClickEvent=function(e,r){this.fireEvent({type:"nodeClick",event:e,series:this,datum:r.datum,angleKey:this.angleKey,labelKey:this.labelKey,radiusKey:this.radiusKey})},t.prototype.getTooltipHtml=function(e){var r=this.angleKey;if(!r)return"";var i=this,o=i.fills,a=i.tooltip,s=i.angleName,l=i.radiusKey,u=i.radiusName,c=i.labelKey,p=i.labelName,h=a.renderer,d=o[e.index%o.length],f=e.datum,g=c?f[c]+": ":"",v=f[r],m=typeof v=="number"?Qw(v):v.toString(),C=this.title?this.title.text:void 0,b=g+m,w={title:C,backgroundColor:d,content:b};return h?Qr(h({datum:f,angleKey:r,angleValue:v,angleName:s,radiusKey:l,radiusValue:l?f[l]:void 0,radiusName:u,labelKey:c,labelName:p,title:C,color:d}),w):Qr(w)},t.prototype.listSeriesItems=function(e){var r=this,i=this,o=i.labelKey,a=i.data;if(a&&a.length&&o){var s=this,l=s.fills,u=s.strokes,c=s.id,p=this.title&&this.title.showInLegend&&this.title.text;a.forEach(function(h,d){var f=[];p&&f.push(p),f.push(String(h[o])),e.push({id:c,itemId:d,enabled:r.seriesItemEnabled[d],label:{text:f.join(" - ")},marker:{fill:l[d%l.length],stroke:u[d%u.length],fillOpacity:r.fillOpacity,strokeOpacity:r.strokeOpacity}})})}},t.prototype.toggleSeriesItem=function(e,r){this.seriesItemEnabled[e]=r,this.scheduleData()},t.className="PieSeries",t.type="pie",Bt([K("dataChange")],t.prototype,"angleKey",void 0),Bt([K("update")],t.prototype,"angleName",void 0),Bt([K("dataChange")],t.prototype,"radiusKey",void 0),Bt([K("update")],t.prototype,"radiusName",void 0),Bt([K("dataChange")],t.prototype,"radiusMin",void 0),Bt([K("dataChange")],t.prototype,"radiusMax",void 0),Bt([K("dataChange")],t.prototype,"labelKey",void 0),Bt([K("update")],t.prototype,"labelName",void 0),Bt([K("layoutChange")],t.prototype,"fillOpacity",void 0),Bt([K("layoutChange")],t.prototype,"strokeOpacity",void 0),Bt([K("update")],t.prototype,"lineDash",void 0),Bt([K("update")],t.prototype,"lineDashOffset",void 0),Bt([K("update")],t.prototype,"formatter",void 0),Bt([K("dataChange")],t.prototype,"rotation",void 0),Bt([K("layoutChange")],t.prototype,"outerRadiusOffset",void 0),Bt([K("dataChange")],t.prototype,"innerRadiusOffset",void 0),Bt([K("layoutChange")],t.prototype,"strokeWidth",void 0),Bt([K("layoutChange")],t.prototype,"shadow",void 0),t}(EL);function Kee(n){n.setUTCSeconds(0,0)}function Yee(n,t){n.setTime(n.getTime()+t*Ai)}function Xee(n,t){return(t.getTime()-n.getTime())/Ai}function qee(n){return n.getUTCMinutes()}new In(Kee,Yee,Xee,qee);function Zee(n){n.setUTCMinutes(0,0,0)}function Qee(n,t){n.setTime(n.getTime()+t*ba)}function Jee(n,t){return(t.getTime()-n.getTime())/ba}function ete(n){return n.getUTCHours()}new In(Zee,Qee,Jee,ete);function tte(n){n.setUTCDate(1),n.setUTCHours(0,0,0,0)}function rte(n,t){n.setUTCMonth(n.getUTCMonth()+t)}function nte(n,t){return t.getUTCMonth()-n.getUTCMonth()+(t.getUTCFullYear()-n.getUTCFullYear())*12}function ite(n){return n.getUTCMonth()}new In(tte,rte,nte,ite);var Ve=globalThis&&globalThis.__assign||function(){return Ve=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Ve.apply(this,arguments)},ote=globalThis&&globalThis.__read||function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},ate={fills:["#f3622d","#fba71b","#57b757","#41a9c9","#4258c9","#9a42c8","#c84164","#888888"],strokes:["#aa4520","#b07513","#3d803d","#2d768d","#2e3e8d","#6c2e8c","#8c2d46","#5f5f5f"]};function ste(n,t,e){return t}function lte(n){return JI(n)&&!(n instanceof vL)}var ra={arrayMerge:ste,isMergeableObject:lte},nR="bold",ute="inside",cte="right",vu=function(){function n(t){t=fi({},t||{},ra);var e=t.overrides,r=e===void 0?null:e,i=t.palette,o=i===void 0?null:i,a=this.createChartConfigPerSeries(this.getDefaults());if(r){var s=r.common,l=r.cartesian,u=r.polar,c=r.hierarchy,p=function(d,f,g){g&&(a[d]=fi(a[d],g,ra),f.forEach(function(v){a[v]=fi(a[v],g,ra)}))};p("common",Object.keys(a),s),p("cartesian",n.cartesianSeriesTypes,l),p("polar",n.polarSeriesTypes,u),p("hierarchy",n.hierarchySeriesTypes,c);var h={};n.seriesTypes.forEach(function(d){var f=r[d];f&&(f.series&&(h[d]=f.series,f.series=h),a[d]=fi(a[d],f,ra))})}this.palette=o!=null?o:this.getPalette(),this.config=Object.freeze(a)}return n.prototype.getPalette=function(){return ate},n.getAxisDefaults=function(){return{top:{},right:{},bottom:{},left:{},thickness:0,title:{enabled:!1,padding:{top:10,right:10,bottom:10,left:10},text:"Axis Title",fontStyle:void 0,fontWeight:nR,fontSize:12,fontFamily:this.fontFamily,color:"rgb(70, 70, 70)"},label:{fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:this.fontFamily,padding:5,rotation:void 0,color:"rgb(87, 87, 87)",formatter:void 0,autoRotate:!1},line:{width:1,color:"rgb(195, 195, 195)"},tick:{width:1,size:6,color:"rgb(195, 195, 195)"},gridStyle:[{stroke:"rgb(219, 219, 219)",lineDash:[4,2]}]}},n.getSeriesDefaults=function(){return{tooltip:{enabled:!0,renderer:void 0},visible:!0,showInLegend:!0,cursor:"default",highlightStyle:{item:{fill:"yellow"},series:{dimOpacity:1}}}},n.getBarSeriesDefaults=function(){return Ve(Ve({},this.getSeriesDefaults()),{flipXY:!1,fillOpacity:1,strokeOpacity:1,xKey:"",xName:"",yKeys:[],yNames:[],grouped:!1,normalizedTo:void 0,strokeWidth:1,lineDash:[0],lineDashOffset:0,label:{enabled:!1,fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:this.fontFamily,color:"rgb(70, 70, 70)",formatter:void 0,placement:ute},shadow:{enabled:!1,color:"rgba(0, 0, 0, 0.5)",xOffset:3,yOffset:3,blur:5}})},n.getLineSeriesDefaults=function(){var t=this.getSeriesDefaults();return Ve(Ve({},t),{tooltip:Ve(Ve({},t.tooltip),{format:void 0})})},n.getCartesianSeriesMarkerDefaults=function(){return{enabled:!0,shape:"circle",size:6,maxSize:30,strokeWidth:1,formatter:void 0}},n.getChartDefaults=function(){return{background:{visible:!0,fill:"white"},padding:{top:20,right:20,bottom:20,left:20},title:{enabled:!1,padding:{top:10,right:10,bottom:10,left:10},text:"Title",fontStyle:void 0,fontWeight:nR,fontSize:16,fontFamily:this.fontFamily,color:"rgb(70, 70, 70)"},subtitle:{enabled:!1,padding:{top:10,right:10,bottom:10,left:10},text:"Subtitle",fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:this.fontFamily,color:"rgb(140, 140, 140)"},legend:{enabled:!0,position:cte,spacing:20,item:{paddingX:16,paddingY:8,marker:{shape:void 0,size:15,strokeWidth:1,padding:8},label:{color:"black",fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:this.fontFamily,formatter:void 0}}},tooltip:{enabled:!0,tracking:!0,delay:0,class:Si.defaultTooltipClass}}},n.prototype.createChartConfigPerSeries=function(t){var e={cartesian:n.cartesianSeriesTypes,polar:n.polarSeriesTypes,hierarchy:n.hierarchySeriesTypes,groupedCategory:[]};return Object.entries(e).forEach(function(r){var i=ote(r,2),o=i[0],a=i[1];a.forEach(function(s){t[s]||(t[s]=fi({},t[o],ra))})}),t},n.prototype.getConfig=function(t,e){var r=Wq(this.config,t,e);return Array.isArray(r)?fi([],r,ra):qq(r)?fi({},r,ra):r},n.prototype.getDefaults=function(){return fi({},n.defaults,ra)},n.prototype.mergeWithParentDefaults=function(t,e){return fi(t,e,ra)},n.fontFamily="Verdana, sans-serif",n.cartesianDefaults=Ve(Ve({},n.getChartDefaults()),{axes:{number:Ve({},n.getAxisDefaults()),log:Ve(Ve({},n.getAxisDefaults()),{base:10}),category:Ve(Ve({},n.getAxisDefaults()),{label:Ve(Ve({},n.getAxisDefaults().label),{autoRotate:!0})}),groupedCategory:Ve({},n.getAxisDefaults()),time:Ve({},n.getAxisDefaults())},series:{column:Ve(Ve({},n.getBarSeriesDefaults()),{flipXY:!1}),bar:Ve(Ve({},n.getBarSeriesDefaults()),{flipXY:!0}),line:Ve(Ve({},n.getLineSeriesDefaults()),{title:void 0,xKey:"",xName:"",yKey:"",yName:"",strokeWidth:2,strokeOpacity:1,lineDash:[0],lineDashOffset:0,marker:Ve({},n.getCartesianSeriesMarkerDefaults()),label:{enabled:!1,fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:n.fontFamily,color:"rgb(70, 70, 70)",formatter:void 0}}),scatter:Ve(Ve({},n.getSeriesDefaults()),{title:void 0,xKey:"",yKey:"",sizeKey:void 0,labelKey:void 0,xName:"",yName:"",sizeName:"Size",labelName:"Label",strokeWidth:2,fillOpacity:1,strokeOpacity:1,marker:Ve({},n.getCartesianSeriesMarkerDefaults()),label:{enabled:!1,fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:n.fontFamily,color:"rgb(70, 70, 70)"}}),area:Ve(Ve({},n.getSeriesDefaults()),{xKey:"",xName:"",yKeys:[],yNames:[],normalizedTo:void 0,fillOpacity:.8,strokeOpacity:1,strokeWidth:2,lineDash:[0],lineDashOffset:0,shadow:{enabled:!1,color:"rgba(0, 0, 0, 0.5)",xOffset:3,yOffset:3,blur:5},marker:Ve(Ve({},n.getCartesianSeriesMarkerDefaults()),{enabled:!1}),label:{enabled:!1,fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:n.fontFamily,color:"rgb(70, 70, 70)",formatter:void 0}}),histogram:Ve(Ve({},n.getSeriesDefaults()),{xKey:"",yKey:"",xName:"",yName:"",strokeWidth:1,fillOpacity:1,strokeOpacity:1,lineDash:[0],lineDashOffset:0,areaPlot:!1,binCount:10,bins:void 0,aggregation:"sum",label:{enabled:!1,fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:n.fontFamily,color:"rgb(70, 70, 70)",formatter:void 0},shadow:{enabled:!0,color:"rgba(0, 0, 0, 0.5)",xOffset:0,yOffset:0,blur:5}})},navigator:{enabled:!1,height:30,mask:{fill:"#999999",stroke:"#999999",strokeWidth:1,fillOpacity:.2},minHandle:{fill:"#f2f2f2",stroke:"#999999",strokeWidth:1,width:8,height:16,gripLineGap:2,gripLineLength:8},maxHandle:{fill:"#f2f2f2",stroke:"#999999",strokeWidth:1,width:8,height:16,gripLineGap:2,gripLineLength:8}}}),n.polarDefaults=Ve(Ve({},n.getChartDefaults()),{series:{pie:Ve(Ve({},n.getSeriesDefaults()),{title:{enabled:!0,padding:{top:10,right:10,bottom:10,left:10},text:"",fontStyle:void 0,fontWeight:"bold",fontSize:14,fontFamily:n.fontFamily,color:"rgb(70, 70, 70)"},angleKey:"",angleName:"",radiusKey:void 0,radiusName:void 0,labelKey:void 0,labelName:void 0,label:{enabled:!0,fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:n.fontFamily,color:"rgb(70, 70, 70)",offset:3,minAngle:20},callout:{length:10,strokeWidth:2},fillOpacity:1,strokeOpacity:1,strokeWidth:1,lineDash:[0],lineDashOffset:0,rotation:0,outerRadiusOffset:0,innerRadiusOffset:0,shadow:{enabled:!1,color:"rgba(0, 0, 0, 0.5)",xOffset:3,yOffset:3,blur:5}})}}),n.hierarchyDefaults=Ve(Ve({},n.getChartDefaults()),{series:{treemap:Ve(Ve({},n.getSeriesDefaults()),{showInLegend:!1,labelKey:"label",sizeKey:"size",colorKey:"color",colorDomain:[-5,5],colorRange:["#cb4b3f","#6acb64"],colorParents:!1,gradient:!0,nodePadding:2,title:{enabled:!0,color:"white",fontStyle:void 0,fontWeight:"bold",fontSize:12,fontFamily:"Verdana, sans-serif",padding:15},subtitle:{enabled:!0,color:"white",fontStyle:void 0,fontWeight:void 0,fontSize:9,fontFamily:"Verdana, sans-serif",padding:13},labels:{large:{enabled:!0,fontStyle:void 0,fontWeight:"bold",fontSize:18,fontFamily:"Verdana, sans-serif",color:"white"},medium:{enabled:!0,fontStyle:void 0,fontWeight:"bold",fontSize:14,fontFamily:"Verdana, sans-serif",color:"white"},small:{enabled:!0,fontStyle:void 0,fontWeight:"bold",fontSize:10,fontFamily:"Verdana, sans-serif",color:"white"},color:{enabled:!0,fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:"Verdana, sans-serif",color:"white"}}})}}),n.defaults={cartesian:n.cartesianDefaults,groupedCategory:n.cartesianDefaults,polar:n.polarDefaults,hierarchy:n.hierarchyDefaults},n.cartesianSeriesTypes=["line","area","bar","column","scatter","histogram"],n.polarSeriesTypes=["pie"],n.hierarchySeriesTypes=["treemap"],n.seriesTypes=n.cartesianSeriesTypes.concat(n.polarSeriesTypes).concat(n.hierarchySeriesTypes),n}(),pte=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),qt=globalThis&&globalThis.__assign||function(){return qt=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},qt.apply(this,arguments)},Od=function(n){pte(t,n);function t(e){return n.call(this,e)||this}return t.prototype.getDefaults=function(){var e="rgb(200, 200, 200)",r="rgb(150, 150, 150)",i={title:{color:e},label:{color:e},gridStyle:[{stroke:"rgb(88, 88, 88)",lineDash:[4,2]}]},o={label:{color:e}},a={axes:{number:qt({},i),category:qt({},i),time:qt({},i)}},s={background:{fill:"rgb(34, 38, 41)"},title:{color:e},subtitle:{color:r},legend:{item:{label:{color:e}}}};return this.mergeWithParentDefaults(n.prototype.getDefaults.call(this),{cartesian:qt(qt(qt({},s),a),{series:{bar:qt({},o),column:qt({},o),histogram:qt({},o)}}),groupedCategory:qt(qt(qt({},s),a),{series:{bar:qt({},o),column:qt({},o),histogram:qt({},o)}}),polar:qt(qt({},s),{series:{pie:qt(qt({},o),{title:{color:e}})}}),hierarchy:qt(qt({},s),{series:{treemap:{title:{color:e},subtitle:{color:r},labels:{large:{color:e},medium:{color:e},small:{color:e},color:{color:e}}}}})})},t}(vu),hte=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),dte={fills:["#f44336","#e91e63","#9c27b0","#673ab7","#3f51b5","#2196f3","#03a9f4","#00bcd4","#009688","#4caf50","#8bc34a","#cddc39","#ffeb3b","#ffc107","#ff9800","#ff5722"],strokes:["#ab2f26","#a31545","#6d1b7b","#482980","#2c397f","#1769aa","#0276ab","#008494","#00695f","#357a38","#618834","#909a28","#b3a429","#b38705","#b36a00","#b33d18"]},fte=function(n){hte(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.getPalette=function(){return dte},t}(vu),gte=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),vte={fills:["#f44336","#e91e63","#9c27b0","#673ab7","#3f51b5","#2196f3","#03a9f4","#00bcd4","#009688","#4caf50","#8bc34a","#cddc39","#ffeb3b","#ffc107","#ff9800","#ff5722"],strokes:["#ab2f26","#a31545","#6d1b7b","#482980","#2c397f","#1769aa","#0276ab","#008494","#00695f","#357a38","#618834","#909a28","#b3a429","#b38705","#b36a00","#b33d18"]},mte=function(n){gte(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.getPalette=function(){return vte},t}(Od),yte=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Cte={fills:["#c16068","#a2bf8a","#ebcc87","#80a0c3","#b58dae","#85c0d1"],strokes:["#874349","#718661","#a48f5f","#5a7088","#7f637a","#5d8692"]},bte=function(n){yte(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.getPalette=function(){return Cte},t}(vu),wte=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),_te={fills:["#c16068","#a2bf8a","#ebcc87","#80a0c3","#b58dae","#85c0d1"],strokes:["#874349","#718661","#a48f5f","#5a7088","#7f637a","#5d8692"]},Ste=function(n){wte(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.getPalette=function(){return _te},t}(Od),xte=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Tte={fills:["#febe76","#ff7979","#badc58","#f9ca23","#f0932b","#eb4c4b","#6ab04c","#7ed6df","#e056fd","#686de0"],strokes:["#b28553","#b35555","#829a3e","#ae8d19","#a8671e","#a43535","#4a7b35","#58969c","#9d3cb1","#494c9d"]},Ote=function(n){xte(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.getPalette=function(){return Tte},t}(vu),Ete=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Rte={fills:["#febe76","#ff7979","#badc58","#f9ca23","#f0932b","#eb4c4b","#6ab04c","#7ed6df","#e056fd","#686de0"],strokes:["#b28553","#b35555","#829a3e","#ae8d19","#a8671e","#a43535","#4a7b35","#58969c","#9d3cb1","#494c9d"]},Pte=function(n){Ete(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.getPalette=function(){return Rte},t}(Od),Ate=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Dte={fills:["#5BC0EB","#FDE74C","#9BC53D","#E55934","#FA7921","#fa3081"],strokes:["#4086a4","#b1a235","#6c8a2b","#a03e24","#af5517","#af225a"]},Mte=function(n){Ate(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.getPalette=function(){return Dte},t}(vu),Fte=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Ite={fills:["#5BC0EB","#FDE74C","#9BC53D","#E55934","#FA7921","#fa3081"],strokes:["#4086a4","#b1a235","#6c8a2b","#a03e24","#af5517","#af225a"]},Lte=function(n){Fte(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.getPalette=function(){return Ite},t}(Od),Lv=globalThis&&globalThis.__assign||function(){return Lv=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Lv.apply(this,arguments)},pg=new vu,QC=new Od,Nte={undefined:pg,null:pg,"ag-default":pg,"ag-material":new fte,"ag-pastel":new bte,"ag-solar":new Ote,"ag-vivid":new Mte},kte={undefined:QC,null:QC,"ag-default-dark":QC,"ag-material-dark":new mte,"ag-pastel-dark":new Ste,"ag-solar-dark":new Pte,"ag-vivid-dark":new Lte},kL=Lv(Lv({},kte),Nte);function xc(n){if(n instanceof vu)return n;var t=kL[n];if(t)return t;if(n=n,n.baseTheme||n.overrides||n.palette){var e=xc(n.baseTheme);return new e.constructor(n)}return pg}var Gte=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),JC=globalThis&&globalThis.__read||function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},iR=function(n){return n},Bte=function(n){Gte(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.type="log",e._domain=[1,10],e.baseLog=iR,e.basePow=iR,e._base=10,e}return t.prototype.setDomain=function(e){var r=e[0],i=e[e.length-1];(r===0||i===0||r<0&&i>0||r>0&&i<0)&&(console.warn("Log scale domain should not start at, end at or cross zero."),r===0&&i>0?r=Number.EPSILON:i===0&&r<0?i=-Number.EPSILON:r<0&&i>0?Math.abs(i)>=Math.abs(r)?r=Number.EPSILON:i=-Number.EPSILON:r>0&&i<0&&(Math.abs(i)>=Math.abs(r)?r=-Number.EPSILON:i=Number.EPSILON),e=e.slice(),e[0]=r,e[e.length-1]=i),n.prototype.setDomain.call(this,e)},t.prototype.getDomain=function(){return n.prototype.getDomain.call(this)},Object.defineProperty(t.prototype,"base",{get:function(){return this._base},set:function(e){this._base!==e&&(this._base=e,this.rescale())},enumerable:!0,configurable:!0}),t.prototype.rescale=function(){var e=this.base,r=t.makeLogFn(e),i=t.makePowFn(e);this.domain[0]<0?(r=this.reflect(r),i=this.reflect(i),this.transform=function(o){return-Math.log(-o)},this.untransform=function(o){return-Math.exp(-o)}):(this.transform=function(o){return Math.log(o)},this.untransform=function(o){return Math.exp(o)}),this.baseLog=r,this.basePow=i,n.prototype.rescale.call(this)},t.prototype.reflect=function(e){return function(r){return-e(-r)}},t.prototype.nice=function(){var e,r,i=this.domain,o=0,a=i.length-1,s=i[o],l=i[a];l<s&&(e=JC([a,o],2),o=e[0],a=e[1],r=JC([l,s],2),s=r[0],l=r[1]),i[o]=this.basePow(Math.floor(this.baseLog(s))),i[a]=this.basePow(Math.ceil(this.baseLog(l))),this.domain=i},t.pow10=function(e){return isFinite(e)?+("1e"+e):e<0?0:e},t.makePowFn=function(e){return e===10?t.pow10:e===Math.E?Math.exp:function(r){return Math.pow(e,r)}},t.makeLogFn=function(e){if(e===Math.E)return Math.log;if(e===10)return Math.log10;if(e===2)return Math.log2;var r=Math.log(e);return function(i){return Math.log(i)/r}},t.prototype.ticks=function(e){var r;e===void 0&&(e=10);var i=e==null?10:+e,o=this.base,a=this.domain,s=a[0],l=a[a.length-1],u=l<s;u&&(r=JC([l,s],2),s=r[0],l=r[1]);var c=this.baseLog(s),p=this.baseLog(l),h=[];if(!(o%1)&&p-c<i){if(c=Math.round(c)-1,p=Math.round(p)+1,s>0)for(;c<p;++c)for(var d=1,f=this.basePow(c);d<o;++d){var g=f*d;if(!(g<s)){if(g>l)break;h.push(g)}}else for(;c<p;++c)for(var d=o-1,f=this.basePow(c);d>=1;--d){var g=f*d;if(!(g<s)){if(g>l)break;h.push(g)}}h.length*2<i&&(h=Rv(s,l,i))}else h=Rv(c,p,Math.min(p-c,i)).map(this.basePow);return u?h.reverse():h},t.prototype.tickFormat=function(e,r){var i=this,o=this.base;if(r==null&&(r=o===10?".0e":","),typeof r!="function"&&(r=V0(r)),e===1/0)return r;e==null&&(e=10);var a=Math.max(1,o*e/this.ticks().length);return function(s){var l=s/i.basePow(Math.round(i.baseLog(s)));return l*o<o-.5&&(l*=o),l<=a?r(s):""}},t}(Yr),Vte=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),oR=function(n){Vte(t,n);function t(){var e=n.call(this)||this;return e.scale=new Bte,e.scale.clamper=cL,e}return Object.defineProperty(t.prototype,"base",{get:function(){return this.scale.base},set:function(e){this.scale.base=e},enumerable:!0,configurable:!0}),t.className="LogAxis",t.type="log",t}(op),pc=globalThis&&globalThis.__assign||function(){return pc=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},pc.apply(this,arguments)},Wte=globalThis&&globalThis.__read||function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},$l=globalThis&&globalThis.__spread||function(){for(var n=[],t=0;t<arguments.length;t++)n=n.concat(Wte(arguments[t]));return n},GL=globalThis&&globalThis.__values||function(n){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};function Qh(n,t,e){var r,i,o=(e||{}).stringify,a=o===void 0?[]:o,s=Mi(n),l=Mi(t);if(l==="array")return s!=="array"||n.length!==t.length||t.some(function(C,b){var w;return Qh((w=n)===null||w===void 0?void 0:w[b],C)!=null})?$l(t):null;var u=n||{},c=t||{},p=new Set($l(Object.keys(u),Object.keys(c))),h=0,d={},f=function(C){if(u[C]===c[C])return"continue";var b=function(E){d[C]=E,h++};if(a.includes(C))return JSON.stringify(u[C]!==JSON.stringify(c[C]))&&b(c[C]),"continue";var w=Mi(u[C]),S=Mi(c[C]);if(w!==S||S==="primitive"||S===null||S==="array"&&u[C].length!==c[C].length||S==="class-instance"||S==="function"&&u[C]!==c[C])return b(c[C]),"continue";var T=Qh(u[C],c[C],{stringify:a});T!==null&&b(T)};try{for(var g=GL(p),v=g.next();!v.done;v=g.next()){var m=v.value;f(m)}}catch(C){r={error:C}}finally{try{v&&!v.done&&(i=g.return)&&i.call(g)}finally{if(r)throw r.error}}return h===0?null:d}var xs=Symbol("<delete-property>"),aR=Symbol("<unspecified-property>");function to(){for(var n,t,e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var i=e.map(function(h){return Mi(h)});if(i.some(function(h){return h==="array"})){var o=e[e.length-1];return o instanceof Array?o.map(function(h){var d=Mi(h);return d==="array"?to([],h):d==="object"?to({},h):h}):o}var a={},s=new Set(e.map(function(h){return h!=null?Object.keys(h):[]}).reduce(function(h,d){return h.concat(d)},[])),l=function(h){var d=e.map(function(m){return m!=null&&h in m?m[h]:aR}).filter(function(m){return m!==aR});if(d.length===0)return"continue";var f=d[d.length-1];if(f===xs)return"continue";var g=d.map(function(m){return Mi(m)}),v=g[0];if(g.some(function(m){return m!==v&&m!==null}))return a[h]=f,"continue";v==="array"||v==="object"?a[h]=to.apply(void 0,$l(d)):a[h]=f};try{for(var u=GL(s),c=u.next();!c.done;c=u.next()){var p=c.value;l(p)}}catch(h){n={error:h}}finally{try{c&&!c.done&&(t=u.return)&&t.call(u)}finally{if(n)throw n.error}}return a}function ru(n,t,e){e===void 0&&(e={});var r,i,o,a=e.path,s=a===void 0?void 0:a,l=e.matcherPath,u=l===void 0?s?s.replace(/(\[[0-9+]{1,}\])/i,"[]"):void 0:l,c=e.skip,p=c===void 0?[]:c,h=e.constructors,d=h===void 0?{}:h,f=e.allowedTypes,g=f===void 0?{}:f;if(n==null)throw new Error("AG Charts - target is uninitialised: "+(s||"<root>"));if(t==null)return n;var v=Mi(n);for(var m in t)if(!(p.indexOf(m)>=0)){var C=t[m],b=(s?s+".":"")+m,w=(u?u+".":"")+m,S=n,T=S.constructor,E=S[m],P=d[m];try{var R=Mi(E),M=Mi(C);if(v==="class-instance"&&!(m in n||S.hasOwnProperty(m))){console.warn("AG Charts - unable to set ["+b+"] in "+((r=T)===null||r===void 0?void 0:r.name)+" - property is unknown");continue}var N=g[w]||[R];if(!(R==="class-instance"&&M==="object")){if(R!=null&&M!=null&&!N.includes(M)){console.warn("AG Charts - unable to set ["+b+"] in "+((i=T)===null||i===void 0?void 0:i.name)+" - can't apply type of ["+M+"], allowed types are: ["+N+"]");continue}}M==="array"||M==="class-instance"?S[m]=C:M==="object"?E!=null?ru(E,C,pc(pc({},e),{path:b,matcherPath:w})):P!=null?S[m]=ru(new P,C,pc(pc({},e),{path:b,matcherPath:w})):S[m]=C:S[m]=C}catch(B){console.warn("AG Charts - unable to set ["+b+"] in ["+((o=T)===null||o===void 0?void 0:o.name)+"]; nested error is: "+B.message);continue}}return n}function n_(n,t,e){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o,a=Mi(n),s=e.skip||[];if(a==="array"){n.forEach(function(c,p){var h;n_.apply(void 0,$l([c,t,e],(h=r)===null||h===void 0?void 0:h.map(function(d){var f;return(f=d)===null||f===void 0?void 0:f[p]})))});return}else if(a!=="object")return;t.apply(void 0,$l([a,n],r));var l=function(c){if(s.indexOf(c)>=0)return"continue";var p=n[c],h=(o=r)===null||o===void 0?void 0:o.map(function(f){var g;return(g=f)===null||g===void 0?void 0:g[c]}),d=Mi(p);(d==="object"||d==="array")&&n_.apply(void 0,$l([p,t,e],h))};for(var u in n)l(u)}function Mi(n){return n==null?null:n instanceof HTMLElement?"primitive":n instanceof Array?"array":n instanceof Date?"primitive":typeof n=="object"&&n.constructor===Object?"object":typeof n=="function"?"function":typeof n=="object"&&n.constructor!=null?"class-instance":"primitive"}var Hte={type:"cartesian",axes:[{type:op.type,position:Me.Left},{type:eu.type,position:Me.Bottom}]},jte={axes:[{type:"number",position:Me.Bottom},{type:"category",position:Me.Left}]},sR={axes:[{type:"number",position:Me.Bottom},{type:"number",position:Me.Left}]},Hc=globalThis&&globalThis.__assign||function(){return Hc=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Hc.apply(this,arguments)};function Ute(n,t){var e={};for(var r in n){var i=t[r]||function(o){return o};e[r]=i(n[r],n)}return e}function BL(n){return n!=null&&n instanceof Array&&n[0]instanceof Array}function zte(n,t){if(n==null)return{};if(!(n instanceof Array))return n;var e=t.yKeys;if(e==null||BL(e))throw new Error("AG Charts - yNames and yKeys mismatching configuration.");var r={};return e.forEach(function(i,o){r[i]=n[o]}),r}function $te(n,t){return n==null?[[]]:BL(n)?n:t.grouped?n.map(function(e){return[e]}):[n]}function Kte(n){if(n!=null){var t=n.placement;return Hc(Hc({},n),{placement:t==="inside"?Ps.Inside:t==="outside"?Ps.Outside:void 0})}}function lR(n){var t=Hc(Hc({},n),{yKeys:n.yKeys||[n.yKey]});return delete t.yKey,Ute(t,{yNames:zte,yKeys:$te,label:Kte})}function Hu(n){return n}var Yte={area:Hu,bar:lR,column:lR,histogram:Hu,line:Hu,pie:Hu,scatter:Hu,treemap:Hu};function Xte(n){var t=n.type,e=Yte[t||"line"];return e(n)}var Nv=globalThis&&globalThis.__assign||function(){return Nv=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Nv.apply(this,arguments)},Q0=globalThis&&globalThis.__values||function(n){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},qte=globalThis&&globalThis.__read||function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},eb=globalThis&&globalThis.__spread||function(){for(var n=[],t=0;t<arguments.length;t++)n=n.concat(qte(arguments[t]));return n};function Zte(n){var t,e,r={},i=[];try{for(var o=Q0(n),a=o.next();!a.done;a=o.next()){var s=a.value;if(s.type!=="column"&&s.type!=="bar"&&(s.type!=="area"||s.stacked!==!0)){i.push([s]);continue}var l=s.type||"line",u=s.stacked?"stacked":s.grouped?"grouped":s.yKeys?"stacked":"grouped",c=l+"-"+s.xKey+"-"+u;r[c]==null&&(r[c]=[],i.push(r[c])),r[c].push(s)}}catch(p){t={error:p}}finally{try{a&&!a.done&&(e=o.return)&&e.call(o)}finally{if(t)throw t.error}}return i}function uR(n,t){var e,r,i={},o=["yKeys","fills","strokes","yNames","hideInChart","hideInLegend"],a=["yKey","fill","stroke","yName"];try{for(var s=Q0(n),l=s.next();!l.done;l=s.next()){var u=l.value;for(var c in u){var p=o.indexOf(c)>-1,h=a.indexOf(c)>-1;p&&u[c].length>0?i[c]=eb(i[c]||[],u[c]):h?i[c+"s"]=eb(i[c+"s"]||[],[u[c]]):t&&c==="showInLegend"?u[c]===!1&&(i.hideInLegend=eb(i.hideInLegend||[],u.yKey?[u.yKey]:u.yKeys)):t&&c==="grouped"?u[c]===!0&&(i[c]=u[c]):i[c]=u[c]}}}catch(d){e={error:d}}finally{try{l&&!l.done&&(r=s.return)&&r.call(s)}finally{if(e)throw e.error}}return i}function Qte(n){var t,e,r=[],i=n.map(function(l){return(l.type==="bar"||l.type==="column")&&l.yKey!=null&&!l.stacked?Nv(Nv({},l),{grouped:l.grouped!=null?l.grouped:!0}):l});try{for(var o=Q0(Zte(i)),a=o.next();!a.done;a=o.next()){var s=a.value;switch(s[0].type){case"column":case"bar":r.push(uR(s,!0));break;case"area":r.push(uR(s,!1));break;case"line":default:s.length>1&&console.warn("AG Charts - unexpected grouping of series type: "+s[0].type),r.push(s[0]);break}}}catch(l){t={error:l}}finally{try{a&&!a.done&&(e=o.return)&&e.call(o)}finally{if(t)throw t.error}}return r}var cs=globalThis&&globalThis.__assign||function(){return cs=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},cs.apply(this,arguments)},Jte=globalThis&&globalThis.__values||function(n){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},ere=globalThis&&globalThis.__read||function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},VL=globalThis&&globalThis.__spread||function(){for(var n=[],t=0;t<arguments.length;t++)n=n.concat(ere(arguments[t]));return n};function lp(n){var t,e;return n.type||((e=(t=n.series)===null||t===void 0?void 0:t[0])===null||e===void 0?void 0:e.type)||"cartesian"}function As(n){var t=lp(n);if(t==null)return!0;switch(t){case"cartesian":case"area":case"bar":case"column":case"groupedCategory":case"histogram":case"line":case"scatter":return!0;default:return!1}}function Fm(n){var t=lp(n);if(t==null)return!1;switch(n.type){case"hierarchy":case"treemap":return!0;default:return!1}}function Im(n){var t=lp(n);if(t==null)return!1;switch(n.type){case"polar":case"pie":return!0;default:return!1}}function tre(n){return n==null?!1:["line","bar","column","histogram","scatter","area","pie","treemap"].indexOf(n)>=0}function WL(n){var t,e,r=0;try{for(var i=Jte(n),o=i.next();!o.done;o=i.next()){var a=o.value;a instanceof Array&&(r+=WL(a)),a!=null&&r++}}catch(s){t={error:s}}finally{try{o&&!o.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}return r}function Qa(n,t,e){for(var r=[],i=0;i<e;i++)r.push(t[(i+n.colourIndex)%t.length]);return r}function cR(n,t){var e=t==null?n:to(t,n);rre(e);var r=e.type,i=lp(e);e=cs(cs({},e),{type:i});var o=As(e)?"line":Fm(e)?"treemap":Im(e)?"pie":"line",a=i==="bar"?jte:i==="scatter"||i==="histogram"?sR:As(e)?Hte:{},s=nre(a,e),l=s.context,u=s.mergedOptions,c=s.axesThemes,p=s.seriesThemes;return u.series=Qte(u.series||[]).map(function(h){var d=h.type?h.type:tre(r)?r:o,f=cs(cs({},h),{type:d});return ore(l,f,p[d]||{})}),As(u)&&(u.axes||[]).forEach(function(h,d){var f=h.type||"number",g=cs(cs({},h),{type:f}),v=to(c[f],c[f][h.position||"unknown"]||{});u.axes[d]=sre(g,v)}),lre(e,u),u}function rre(n){var t,e;!((t=n.series)===null||t===void 0)&&t.some(function(r){return r.yKeys!=null&&r.yKey!=null})&&console.warn("AG Charts - series options yKeys and yKey are mutually exclusive, please only use yKey for future compatibility."),!((e=n.series)===null||e===void 0)&&e.some(function(r){return r.yNames!=null&&r.yName!=null})&&console.warn("AG Charts - series options yNames and yName are mutually exclusive, please only use yName for future compatibility.")}function nre(n,t){var e=ire(t),r=e.theme,i=e.cleanedTheme,o=e.axesThemes,a=e.seriesThemes,s={colourIndex:0,palette:r.palette},l=to(n,i,t);return{context:s,mergedOptions:l,axesThemes:o,seriesThemes:a}}function ire(n){var t=xc(n.theme),e=t.getConfig(lp(n)||"cartesian");return{theme:t,axesThemes:e.axes||{},seriesThemes:e.series||{},cleanedTheme:to(e,{axes:xs,series:xs})}}function ore(n,t){for(var e=[],r=2;r<arguments.length;r++)e[r-2]=arguments[r];var i=are(n,t),o={stacked:xs},a=to.apply(void 0,VL(e,[i,t,o]));return Xte(a)}function are(n,t){var e={},r=n.palette,i=r.fills,o=r.strokes,a=t,s=WL(a.yKeys||[])||1;switch(t.type){case"pie":s=Math.max(i.length,o.length);case"area":case"bar":case"column":e.fills=Qa(n,i,s),e.strokes=Qa(n,o,s);break;case"histogram":e.fill=Qa(n,i,1)[0],e.stroke=Qa(n,o,1)[0];break;case"scatter":e.fill=Qa(n,i,1)[0];case"line":e.stroke=Qa(n,i,1)[0],e.marker={stroke:Qa(n,o,1)[0],fill:Qa(n,i,1)[0]};break;case"treemap":break;default:throw new Error("AG Charts - unknown series type: "+t.type)}return n.colourIndex+=s,e}function sre(n){for(var t=[],e=1;e<arguments.length;e++)t[e-1]=arguments[e];var r={top:xs,bottom:xs,left:xs,right:xs};return to.apply(void 0,VL(t,[n,r]))}function lre(n,t){n_(n,function(e,r,i){!i||"enabled"in i&&r.enabled==null&&(i.enabled=!0)},{skip:["data"]},t)}var _r=globalThis&&globalThis.__assign||function(){return _r=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},_r.apply(this,arguments)},ure=globalThis&&globalThis.__read||function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},Lm=globalThis&&globalThis.__spread||function(){for(var n=[],t=0;t<arguments.length;t++)n=n.concat(ure(arguments[t]));return n},HL=globalThis&&globalThis.__values||function(n){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};function pR(n){if(As(n))return"cartesian";if(Im(n))return"polar";if(Fm(n))return"hierarchy";throw new Error("AG Chart - unknown type of chart for options with type: "+n.type)}var pn=function(){function n(){}return n.createComponent=function(t,e){if(e.indexOf(".series")>=0){var r=_r(_r({},t),{type:t.type||e.split(".")[0]});return jL([r])[0]}return null},n.create=function(t,e,r){return i_.create(t)},n.update=function(t,e,r,i){return i_.update(t,e)},n}(),i_=function(){function n(){}return n.create=function(t){Th("user options",t);var e=cR(t),r=As(e)?e.type==="groupedCategory"?new eee(document):new wL(document):Fm(e)?new qJ(document):Im(e)?new see(document):void 0;if(!r)throw new Error("AG Charts - couldn't apply configuration, check type of options: "+e.type);return n.updateDelta(r,e,t),r},n.update=function(t,e){Th("user options",e);var r=cR(e,t.userOptions);if(pR(r)!==pR(t.options)){t.destroy(),console.warn("AG Charts - options supplied require a different type of chart, please recreate the chart.");return}var i=Qh(t.options,r,{stringify:["data"]});i!=null&&n.updateDelta(t,i,e)},n.updateDelta=function(t,e,r){e.type==null&&(e=_r(_r({},e),{type:t.options.type||lp(e)})),Th("delta update",e),cre(t,e,r)},n.DEBUG=!1,n}();function Th(n){for(var t=[],e=1;e<arguments.length;e++)t[e-1]=arguments[e];i_.DEBUG&&console.log.apply(console,Lm([n],t))}function cre(n,t,e){if(As(t))tb(n,t,{skip:["type","data","series","axes","autoSize","listeners","theme"]});else if(Im(t))tb(n,t,{skip:["type","data","series","autoSize","listeners","theme"]});else if(Fm(t))tb(n,t,{skip:["type","data","series","autoSize","listeners","theme"]});else throw new Error("AG Charts - couldn't apply configuration, check type of options and chart: "+t.type);var r=!1;t.series&&t.series.length>0&&pre(n,t),As(t)&&t.axes&&(r=hre(n,t)),t.data&&(n.data=t.data,r=!0),t.autoSize!=null&&(n.autoSize=t.autoSize),t.listeners&&UL(n,t.listeners),n.layoutPending=!0,r&&n.processData(),n.performLayout(),n.options=to(n.options||{},t),n.userOptions=to(n.userOptions||{},e)}function pre(n,t){var e=t.series;if(!!e){var r=n.series.length===e.length&&n.series.every(function(i,o){var a;return i.type===((a=e[o])===null||a===void 0?void 0:a.type)});if(r){n.series.forEach(function(i,o){var a,s,l=((s=(a=n.options)===null||a===void 0?void 0:a.series)===null||s===void 0?void 0:s[o])||{},u=Qh(l,e[o]||{});Th("applying series diff idx "+o,u),ru(i,u)});return}n.series=jL(e)}}function hre(n,t){var e=t.axes;if(!e)return!1;var r=n.axes.length===e.length&&n.axes.every(function(o,a){return o.type===e[a].type});if(r){var i=n.options;if(As(i))return n.axes.forEach(function(o,a){var s,l=((s=i.axes)===null||s===void 0?void 0:s[a])||{},u=Qh(l,e[a]);Th("applying axis diff idx "+a,u),ru(o,u)}),!0}return n.axes=dre(e),!0}function jL(n){var t,e,r=[],i=["listeners"],o=0;try{for(var a=HL(n||[]),s=a.next();!s.done;s=a.next()){var l=s.value,u="series["+o+++"]";switch(l.type){case"area":r.push(ul(new $0,l,{path:u,skip:i}));break;case"bar":case"column":r.push(ul(new e_,l,{path:u,skip:i}));break;case"histogram":r.push(ul(new FL,l,{path:u,skip:i}));break;case"line":r.push(ul(new X0,l,{path:u,skip:i}));break;case"scatter":r.push(ul(new ML,l,{path:u,skip:i}));break;case"pie":r.push(ul(new NL,l,{path:u,skip:i}));break;case"treemap":r.push(ul(new Bee,l,{path:u,skip:i}));break;default:throw new Error("AG Charts - unknown series type: "+l.type)}}}catch(c){t={error:c}}finally{try{s&&!s.done&&(e=a.return)&&e.call(a)}finally{if(t)throw t.error}}return r.forEach(function(c,p){var h,d,f=(d=(h=n)===null||h===void 0?void 0:h[p])===null||d===void 0?void 0:d.listeners;f!=null&&UL(c,f)}),r}function dre(n){var t,e,r=[],i=0;try{for(var o=HL(n||[]),a=o.next();!a.done;a=o.next()){var s=a.value,l="axis["+i+++"]";switch(s.type){case"number":r.push(zp(new op,s,{path:l}));break;case oR.type:r.push(zp(new oR,s,{path:l}));break;case eu.type:r.push(zp(new eu,s,{path:l}));break;case Vc.type:r.push(zp(new Vc,s,{path:l}));break;case qh.type:r.push(zp(new qh,s,{path:l}));break;default:throw new Error("AG Charts - unknown axis type: "+s.type)}}}catch(u){t={error:u}}finally{try{a&&!a.done&&(e=o.return)&&e.call(o)}finally{if(t)throw t.error}}return r}function UL(n,t){for(var e in t)n.addEventListener(e,t[e])}var kv={constructors:{title:zw,subtitle:zw,shadow:IL},allowedTypes:{"series[].marker.shape":["primitive","function"],"axis[].tick.count":["primitive","class-instance"]}};function tb(n,t,e){var r=e===void 0?{}:e,i=r.skip,o=r.path,a=_r(_r(_r({},kv),{skip:Lm(["type"],i||[])}),o?{path:o}:{});return ru(n,t,a)}function ul(n,t,e){var r=e===void 0?{}:e,i=r.skip,o=r.path,a,s=((a=kv)===null||a===void 0?void 0:a.constructors)||{},l={constructors:_r(_r({},s),{title:n.type==="pie"?$ee:s.title})},u=_r(_r(_r(_r({},kv),l),{skip:Lm(["type"],i||[])}),o?{path:o}:{});return ru(n,t,u)}function zp(n,t,e){var r=e===void 0?{}:e,i=r.skip,o=r.path,a=_r(_r(_r({},kv),{skip:Lm(["type"],i||[])}),o?{path:o}:{});return ru(n,t,a)}function zo(n){switch(n){case"bar":case"groupedBar":case"stackedBar":case"normalizedBar":return"bar";case"column":case"groupedColumn":case"stackedColumn":case"normalizedColumn":return"column";case"line":return"line";case"area":case"stackedArea":case"normalizedArea":return"area";case"scatter":case"bubble":return"scatter";case"histogram":return"histogram";case"pie":case"doughnut":return"pie";default:return"cartesian"}}var fre=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Ff=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},nu=function(n){fre(t,n);function t(e){var r=n.call(this)||this;return r.model=e,r}return t.prototype.init=function(){var e=this;this.setChartRange(),this.addManagedListener(this.eventService,x.EVENT_RANGE_SELECTION_CHANGED,function(r){r.id&&r.id===e.model.chartId&&e.updateForRangeChange()}),this.model.unlinked&&this.rangeService&&this.rangeService.setCellRanges([]),this.addManagedListener(this.eventService,x.EVENT_COLUMN_MOVED,this.updateForGridChange.bind(this)),this.addManagedListener(this.eventService,x.EVENT_COLUMN_PINNED,this.updateForGridChange.bind(this)),this.addManagedListener(this.eventService,x.EVENT_COLUMN_VISIBLE,this.updateForGridChange.bind(this)),this.addManagedListener(this.eventService,x.EVENT_COLUMN_ROW_GROUP_CHANGED,this.updateForGridChange.bind(this)),this.addManagedListener(this.eventService,x.EVENT_MODEL_UPDATED,this.updateForGridChange.bind(this)),this.addManagedListener(this.eventService,x.EVENT_CELL_VALUE_CHANGED,this.updateForDataChange.bind(this))},t.prototype.updateForGridChange=function(){this.model.unlinked||(this.model.updateCellRanges(),this.setChartRange())},t.prototype.updateForDataChange=function(){this.model.unlinked||(this.model.updateData(),this.raiseChartUpdatedEvent())},t.prototype.updateForRangeChange=function(){this.updateForGridChange(),this.raiseChartRangeSelectionChangedEvent()},t.prototype.updateForPanelChange=function(e){this.model.updateCellRanges(e),this.setChartRange(),this.raiseChartRangeSelectionChangedEvent()},t.prototype.getChartModel=function(){var e=this.model.pivotChart?"pivot":"range",r=this.isComboChart()?this.model.seriesChartTypes:void 0;return{modelType:e,chartId:this.model.chartId,chartType:this.model.chartType,chartThemeName:this.model.chartThemeName,chartOptions:this.chartProxy.getChartOptions(),chartPalette:this.chartProxy.getChartPalette(),cellRange:this.getCellRangeParams(),suppressChartRanges:this.model.suppressChartRanges,aggFunc:this.model.aggFunc,unlinkChart:this.model.unlinked,seriesChartTypes:r}},t.prototype.getChartId=function(){return this.model.chartId},t.prototype.getChartData=function(){return this.model.chartData},t.prototype.getChartType=function(){return this.model.chartType},t.prototype.setChartType=function(e){this.model.chartType=e,this.model.updateSeriesChartTypes(),this.raiseChartUpdatedEvent(),this.raiseChartOptionsChangedEvent()},t.prototype.setChartThemeName=function(e){this.model.chartThemeName=e,this.raiseChartUpdatedEvent(),this.raiseChartOptionsChangedEvent()},t.prototype.getChartThemeName=function(){return this.model.chartThemeName},t.prototype.isPivotChart=function(){return this.model.pivotChart},t.prototype.isPivotMode=function(){return this.model.isPivotMode()},t.prototype.isGrouping=function(){return this.model.isGrouping()},t.prototype.getThemes=function(){return this.gridOptionsWrapper.getChartThemes()},t.prototype.getPalettes=function(){var e=this,r=this.gridOptionsWrapper.getChartThemes();return r.map(function(i){var o=e.chartProxy.isStockTheme(i),a=o?i:e.chartProxy.lookupCustomChartTheme(i);return xc(a).palette})},t.prototype.getValueColState=function(){return this.model.valueColState.map(this.displayNameMapper.bind(this))},t.prototype.getSelectedValueColState=function(){return this.getValueColState().filter(function(e){return e.selected})},t.prototype.getDimensionColState=function(){return this.model.dimensionColState},t.prototype.getSelectedDimension=function(){return this.model.getSelectedDimension()},t.prototype.displayNameMapper=function(e){var r=this.model.columnNames[e.colId];return e.displayName=r?r.join(" - "):this.model.getColDisplayName(e.column),e},t.prototype.getColStateForMenu=function(){return{dimensionCols:this.model.dimensionColState,valueCols:this.getValueColState()}},t.prototype.isDefaultCategorySelected=function(){return this.model.getSelectedDimension().colId===Pm.DEFAULT_CATEGORY},t.prototype.setChartRange=function(e){e===void 0&&(e=!1),this.rangeService&&!this.model.suppressChartRanges&&!this.model.unlinked&&this.rangeService.setCellRanges(this.getCellRanges()),e||this.raiseChartUpdatedEvent()},t.prototype.detachChartRange=function(){this.model.unlinked=!this.model.unlinked,this.model.unlinked?this.rangeService&&this.rangeService.setCellRanges([]):this.updateForGridChange()},t.prototype.setChartProxy=function(e){this.chartProxy=e},t.prototype.getChartProxy=function(){return this.chartProxy},t.prototype.isActiveXYChart=function(){return _.includes(["scatter","bubble"],this.getChartType())},t.prototype.isChartLinked=function(){return!this.model.unlinked},t.prototype.customComboExists=function(){return this.model.savedCustomSeriesChartTypes&&this.model.savedCustomSeriesChartTypes.length>0},t.prototype.getSeriesChartTypes=function(){return this.model.seriesChartTypes},t.prototype.isComboChart=function(){return this.model.isComboChart()},t.prototype.updateSeriesChartType=function(e,r,i){var o=this.model.seriesChartTypes.find(function(l){return l.colId===e});if(o){var a=this.model.chartType!=="customCombo";a&&(this.model.chartType="customCombo");var s=o.chartType;r!=null&&(o.chartType=r),i!=null&&(o.secondaryAxis=i),this.model.savedCustomSeriesChartTypes=this.model.seriesChartTypes,this.model.updateSeriesChartTypes(),this.updateForDataChange(),a&&this.dispatchEvent(Object.freeze({type:t.EVENT_CHART_TYPE_CHANGED})),s!==r&&this.dispatchEvent(Object.freeze({type:t.EVENT_CHART_SERIES_CHART_TYPE_CHANGED}))}},t.prototype.getActiveSeriesChartTypes=function(){var e=this.getSelectedValueColState().map(function(r){return r.colId});return this.getSeriesChartTypes().filter(function(r){return e.includes(r.colId)})},t.prototype.getChartSeriesTypes=function(){var e=["line","column","area"];return this.isComboChart()?e:[zo(this.getChartType())]},t.prototype.getCellRanges=function(){return[this.model.dimensionCellRange,this.model.valueCellRange].filter(function(e){return e})},t.prototype.getCellRangeParams=function(){var e=this.getCellRanges(),r=e[0],i=r&&r.startRow||null,o=r&&r.endRow||null;return{rowStartIndex:i&&i.rowIndex,rowStartPinned:i&&i.rowPinned,rowEndIndex:o&&o.rowIndex,rowEndPinned:o&&o.rowPinned,columns:e.reduce(function(a,s){return a.concat(s.columns.map(function(l){return l.getId()}))},[])}},t.prototype.raiseChartUpdatedEvent=function(){var e=Object.freeze({type:t.EVENT_CHART_UPDATED});this.dispatchEvent(e)},t.prototype.raiseChartOptionsChangedEvent=function(){var e=this.getChartModel(),r=e.chartId,i=e.chartType,o=Object.freeze({type:x.EVENT_CHART_OPTIONS_CHANGED,chartId:r,chartType:i,chartThemeName:this.model.chartThemeName,chartOptions:this.chartProxy.getChartOptions(),api:this.gridApi,columnApi:this.columnApi});this.eventService.dispatchEvent(o)},t.prototype.raiseChartRangeSelectionChangedEvent=function(){var e=Object.freeze({type:x.EVENT_CHART_RANGE_SELECTION_CHANGED,id:this.model.chartId,chartId:this.model.chartId,cellRange:this.getCellRangeParams(),api:this.gridApi,columnApi:this.columnApi});this.eventService.dispatchEvent(e)},t.prototype.destroy=function(){n.prototype.destroy.call(this),this.rangeService&&this.rangeService.setCellRanges([])},t.EVENT_CHART_UPDATED="chartUpdated",t.EVENT_CHART_TYPE_CHANGED="chartTypeChanged",t.EVENT_CHART_SERIES_CHART_TYPE_CHANGED="chartSeriesChartTypeChanged",Ff([y("rangeService")],t.prototype,"rangeService",void 0),Ff([y("gridApi")],t.prototype,"gridApi",void 0),Ff([y("columnApi")],t.prototype,"columnApi",void 0),Ff([H],t.prototype,"init",null),t}(j),gre=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),rb=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},vre=globalThis&&globalThis.__read||function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},hR=globalThis&&globalThis.__spread||function(){for(var n=[],t=0;t<arguments.length;t++)n=n.concat(vre(arguments[t]));return n},mre=globalThis&&globalThis.__values||function(n){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},yre=function(n){gre(t,n);function t(e,r){var i=n.call(this,t.TEMPLATE)||this;return i.chartController=e,i.chartOptionsService=r,i.columnComps=new Map,i}return t.prototype.init=function(){this.updatePanels(),this.addManagedListener(this.chartController,nu.EVENT_CHART_UPDATED,this.updatePanels.bind(this)),this.createAutoScrollService()},t.prototype.destroy=function(){this.clearComponents(),n.prototype.destroy.call(this)},t.prototype.updatePanels=function(){var e=this,r=this.chartType,i=this.chartController.getColStateForMenu(),o=i.dimensionCols,a=i.valueCols,s=o.map(function(c){return c.colId}).concat(a.map(function(c){return c.colId}));this.chartType=this.chartController.getChartType();var l=this.getGroupExpandedState();if(_.areEqual(_.keys(this.columnComps),s)&&this.chartType===r){if(hR(o,a).forEach(function(c){e.columnComps.get(c.colId).setValue(c.selected,!0)}),this.chartController.isActiveXYChart()){var u=this.generateGetSeriesLabel();a.forEach(function(c){e.columnComps.get(c.colId).setLabel(u(c))})}_.removeFromParent(this.getGui().querySelector("#seriesChartTypeGroup")),this.seriesChartTypeGroupComp=this.destroyBean(this.seriesChartTypeGroupComp),this.createSeriesChartTypeGroup(a)}else this.clearComponents(),this.createCategoriesGroup(o),this.createSeriesGroup(a),this.createSeriesChartTypeGroup(a);this.restoreGroupExpandedState(l)},t.prototype.getGroupExpandedState=function(){return[this.categoriesGroupComp,this.seriesGroupComp,this.seriesChartTypeGroupComp].map(function(e){return e?e.isExpanded():!0})},t.prototype.restoreGroupExpandedState=function(e){[this.categoriesGroupComp,this.seriesGroupComp,this.seriesChartTypeGroupComp].forEach(function(r,i){!r||r.toggleGroupExpand(e[i])})},t.prototype.createAutoScrollService=function(){var e=this.getGui();this.autoScrollService=new fd({scrollContainer:e,scrollAxis:"y",getVerticalPosition:function(){return e.scrollTop},setVerticalPosition:function(r){return e.scrollTop=r}})},t.prototype.addComponent=function(e,r,i){var o=document.createElement("div");o.id=i,o.className="ag-chart-data-section",o.appendChild(r.getGui()),e.appendChild(o)},t.prototype.addChangeListener=function(e,r){var i=this;this.addManagedListener(e,Qi.EVENT_CHANGED,function(){r.selected=e.getValue(),i.chartController.updateForPanelChange(r)})},t.prototype.createCategoriesGroup=function(e){var r=this;this.categoriesGroupComp=this.createBean(new qi({title:this.getCategoryGroupTitle(),enabled:!0,suppressEnabledCheckbox:!0,suppressOpenCloseIcons:!1,cssIdentifier:"charts-data"}));var i="chartDimension"+this.getCompId();e.forEach(function(o){var a=r.categoriesGroupComp.createManagedBean(new KS);a.setLabel(_.escapeString(o.displayName)),a.setValue(o.selected),a.setInputName(i),r.addChangeListener(a,o),r.categoriesGroupComp.addItem(a),r.columnComps.set(o.colId,a)}),this.addComponent(this.getGui(),this.categoriesGroupComp,"categoriesGroup")},t.prototype.createSeriesGroup=function(e){var r=this;if(this.seriesGroupComp=this.createManagedBean(new qi({title:this.getSeriesGroupTitle(),enabled:!0,suppressEnabledCheckbox:!0,suppressOpenCloseIcons:!1,cssIdentifier:"charts-data"})),this.chartController.isActiveXYChart()){var i=this.seriesGroupComp.createManagedBean(new dm);i.setLabel(this.chartTranslationService.translate("paired")).setLabelAlignment("left").setLabelWidth("flex").setInputWidth(45).setValue(this.chartOptionsService.getPairedMode()).onValueChange(function(s){r.chartOptionsService.setPairedMode(!!s),r.chartController.updateForGridChange()}),this.seriesGroupComp.addItem(i)}var o=this.generateGetSeriesLabel();e.forEach(function(s){var l=r.seriesGroupComp.createManagedBean(new oo);l.addCssClass("ag-data-select-checkbox");var u=o(s);l.setLabel(u),l.setValue(s.selected),r.addChangeListener(l,s),r.seriesGroupComp.addItem(l),r.columnComps.set(s.colId,l),r.addDragHandle(l,s)}),this.addComponent(this.getGui(),this.seriesGroupComp,"seriesGroup");var a={getIconName:function(){return It.ICON_MOVE},getContainer:function(){return r.seriesGroupComp.getGui()},onDragging:function(s){return r.onDragging(s)},onDragLeave:function(){return r.onDragLeave()},isInterestedIn:this.isInterestedIn.bind(this),targetContainsSource:!0};this.dragAndDropService.addDropTarget(a)},t.prototype.createSeriesChartTypeGroup=function(e){var r=this;if(!!this.chartController.isComboChart()){this.seriesChartTypeGroupComp=this.createManagedBean(new qi({title:this.chartTranslationService.translate("seriesChartType"),enabled:!0,suppressEnabledCheckbox:!0,suppressOpenCloseIcons:!1,cssIdentifier:"charts-data"}));var i=this.chartController.getSeriesChartTypes();e.forEach(function(o){if(!!o.selected){var a=i.filter(function(h){return h.colId===o.colId})[0];if(!!a){var s=r.seriesChartTypeGroupComp.createManagedBean(new qi({title:o.displayName,enabled:!0,suppressEnabledCheckbox:!0,suppressOpenCloseIcons:!0,cssIdentifier:"charts-format-sub-level"})),l=r.seriesChartTypeGroupComp.createManagedBean(new oo).setLabel(r.chartTranslationService.translate("secondaryAxis")).setLabelWidth("flex").setDisabled(["groupedColumn","stackedColumn","stackedArea"].includes(a.chartType)).setValue(!!a.secondaryAxis).onValueChange(function(h){return r.chartController.updateSeriesChartType(o.colId,void 0,h)});s.addItem(l);var u=function(h,d){return r.chartTranslationService.translate(h,d)},c=[{value:"line",text:u("line","Line")},{value:"area",text:u("area","Area")},{value:"stackedArea",text:u("stackedArea","StackedArea")},{value:"groupedColumn",text:u("groupedColumn","Grouped Column")},{value:"stackedColumn",text:u("stackedColumn","Stacked Column")}],p=s.createManagedBean(new hd);p.setLabelAlignment("left").setLabelWidth("flex").addOptions(c).setValue(a.chartType).onValueChange(function(h){return r.chartController.updateSeriesChartType(o.colId,h)}),s.addItem(p),r.seriesChartTypeGroupComp.addItem(s)}}}),this.addComponent(this.getGui(),this.seriesChartTypeGroupComp,"seriesChartTypeGroup")}},t.prototype.addDragHandle=function(e,r){var i=this,o=_.createIconNoSpan("columnDrag",this.gridOptionsWrapper);o.classList.add("ag-drag-handle","ag-chart-data-column-drag-handle"),e.getGui().insertAdjacentElement("beforeend",o);var a={type:nr.ChartPanel,eElement:o,dragItemName:r.displayName,getDragItem:function(){return{columns:[r.column]}},onDragStopped:function(){return i.onDragStop()}};this.dragAndDropService.addDragSource(a,!0),this.addDestroyFunc(function(){return i.dragAndDropService.removeDragSource(a)})},t.prototype.generateGetSeriesLabel=function(){if(!this.chartController.isActiveXYChart())return function(a){return _.escapeString(a.displayName)};var e=this.chartType==="bubble",r=this.isInPairedMode(),i=0,o=new Map;return o.set(0,"X"),o.set(1,"Y"),o.set(2,"size"),function(a){var s=_.escapeString(a.displayName);if(!a.selected)return s;var l;return r?l=o.get(i%(e?3:2)):i===0?l="X":l=e&&i%2===0?"size":"Y",i++,s+" ("+l+")"}},t.prototype.getCategoryGroupTitle=function(){return this.chartTranslationService.translate(this.chartController.isActiveXYChart()?"labels":"categories")},t.prototype.getSeriesGroupTitle=function(){return this.chartTranslationService.translate(this.chartController.isActiveXYChart()?"xyValues":"series")},t.prototype.isInPairedMode=function(){return this.chartController.isActiveXYChart()&&this.chartOptionsService.getSeriesOption("paired","scatter")},t.prototype.clearComponents=function(){_.clearElement(this.getGui()),this.categoriesGroupComp=this.destroyBean(this.categoriesGroupComp),this.seriesGroupComp=this.destroyBean(this.seriesGroupComp),this.seriesChartTypeGroupComp=this.destroyBean(this.seriesChartTypeGroupComp),this.columnComps.clear()},t.prototype.onDragging=function(e){var r=this.checkHoveredItem(e);if(!!r){this.lastDraggedColumn=e.dragItem.columns[0];var i=r.comp,o=r.position,a=this.lastHoveredItem||{},s=a.comp,l=a.position;if(!(i===s&&o===l)){this.autoScrollService.check(e.event),this.clearHoveredItems(),this.lastHoveredItem={comp:i,position:o};var u=i.getGui();u.classList.add("ag-list-item-hovered","ag-item-highlight-"+o)}}},t.prototype.checkHoveredItem=function(e){var r,i;if(_.missing(e.vDirection))return null;var o=e.event;try{for(var a=mre(this.columnComps.values()),s=a.next();!s.done;s=a.next()){var l=s.value,u=l.getGui();if(!!u.querySelector(".ag-chart-data-column-drag-handle")){var c=u.getBoundingClientRect(),p=o.clientY>=c.top&&o.clientY<=c.bottom;if(p){var h=u.clientHeight,d=o.clientY>c.top+h/2?"bottom":"top";return{comp:l,position:d}}}}}catch(f){r={error:f}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(r)throw r.error}}return null},t.prototype.onDragLeave=function(){this.clearHoveredItems()},t.prototype.onDragStop=function(){var e=this;if(this.lastHoveredItem){var r=this.chartController.getColStateForMenu(),i=r.dimensionCols,o=r.valueCols,a=hR(i,o).find(function(l){return l.column===e.lastDraggedColumn});if(a){var s=Array.from(this.columnComps.values()).indexOf(this.lastHoveredItem.comp);this.lastHoveredItem.position==="bottom"&&s++,a.order=s,this.chartController.updateForPanelChange(a)}}this.clearHoveredItems(),this.lastDraggedColumn=void 0,this.autoScrollService.ensureCleared()},t.prototype.clearHoveredItems=function(){this.columnComps.forEach(function(e){e.getGui().classList.remove("ag-list-item-hovered","ag-item-highlight-top","ag-item-highlight-bottom")}),this.lastHoveredItem=void 0},t.prototype.isInterestedIn=function(e){return e===nr.ChartPanel},t.TEMPLATE='<div class="ag-chart-data-wrapper ag-scrollable-container"></div>',rb([y("dragAndDropService")],t.prototype,"dragAndDropService",void 0),rb([y("chartTranslationService")],t.prototype,"chartTranslationService",void 0),rb([H],t.prototype,"init",null),t}(te),Cre=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),cl=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Nm=function(n){Cre(t,n);function t(e){var r=n.call(this)||this;return r.activeComps=[],r.params=e,r}return t.prototype.init=function(){var e={cssIdentifier:"charts-format-sub-level",direction:"vertical",suppressOpenCloseIcons:!0};this.setTemplate(t.TEMPLATE,{fontGroup:e}),this.initGroup(),this.initFontFamilySelect(),this.initFontWeightStyleSelect(),this.initFontSizeSelect(),this.initFontColorPicker()},t.prototype.addCompToPanel=function(e){this.fontGroup.addItem(e),this.activeComps.push(e)},t.prototype.setEnabled=function(e){this.fontGroup.setEnabled(e)},t.prototype.initGroup=function(){var e=this;this.fontGroup.setTitle(this.params.name||this.chartTranslationService.translate("font")).setEnabled(this.params.enabled).hideEnabledCheckbox(!!this.params.suppressEnabledCheckbox).hideOpenCloseIcons(!0).onEnableChange(function(r){e.params.setEnabled&&e.params.setEnabled(r)})},t.prototype.initFontFamilySelect=function(){var e=this,r=["Arial, sans-serif","Aria Black, sans-serif","Book Antiqua,  serif","Charcoal, sans-serif","Comic Sans MS, cursive","Courier, monospace","Courier New, monospace","Gadget, sans-serif","Geneva, sans-serif","Helvetica, sans-serif","Impact, sans-serif","Lucida Console, monospace","Lucida Grande, sans-serif","Lucida Sans Unicode,  sans-serif","Monaco, monospace","Palatino Linotype, serif","Palatino, serif","Times New Roman, serif","Times, serif","Verdana, sans-serif"],i=this.params.initialFont.family,o=r[0];if(i){var a=r.map(function(c){return c.toLowerCase()}),s=a.indexOf(i.toLowerCase());if(s>=0)o=r[s];else{var l=_.capitalise(i);r.push(l),o=l}}var u=r.sort().map(function(c){return{value:c,text:c}});this.familySelect.addOptions(u).setInputWidth("flex").setValue(""+o).onValueChange(function(c){return e.params.setFont({family:c})})},t.prototype.initFontSizeSelect=function(){var e=this,r=[8,10,12,14,16,18,20,22,24,26,28,30,32,34,36],i=this.params.initialFont.size;_.includes(r,i)||r.push(i);var o=r.sort(function(a,s){return a-s}).map(function(a){return{value:""+a,text:""+a}});this.sizeSelect.addOptions(o).setInputWidth("flex").setValue(""+i).onValueChange(function(a){return e.params.setFont({size:parseInt(a,10)})}),this.sizeSelect.setLabel(this.chartTranslationService.translate("size"))},t.prototype.initFontWeightStyleSelect=function(){var e=this,r=this.params.initialFont,i=r.weight,o=i===void 0?"normal":i,a=r.style,s=a===void 0?"normal":a,l=[{name:"normal",weight:"normal",style:"normal"},{name:"bold",weight:"bold",style:"normal"},{name:"italic",weight:"normal",style:"italic"},{name:"boldItalic",weight:"bold",style:"italic"}],u=l.find(function(p){return p.weight===o&&p.style===s});u||(u={name:"predefined",weight:o,style:s},l.unshift(u));var c=l.map(function(p){return{value:p.name,text:e.chartTranslationService.translate(p.name)}});this.weightStyleSelect.addOptions(c).setInputWidth("flex").setValue(u.name).onValueChange(function(p){var h=l.find(function(d){return d.name===p});e.params.setFont({weight:h.weight,style:h.style})})},t.prototype.initFontColorPicker=function(){var e=this;this.colorPicker.setLabel(this.chartTranslationService.translate("color")).setInputWidth(45).setValue(""+this.params.initialFont.color).onValueChange(function(r){return e.params.setFont({color:r})})},t.prototype.destroyActiveComps=function(){var e=this;this.activeComps.forEach(function(r){_.removeFromParent(r.getGui()),e.destroyBean(r)})},t.prototype.destroy=function(){this.destroyActiveComps(),n.prototype.destroy.call(this)},t.TEMPLATE=`<div class="ag-font-panel">
            <ag-group-component ref="fontGroup">
                <ag-select ref="familySelect"></ag-select>
                <ag-select ref="weightStyleSelect"></ag-select>
                <div class="ag-charts-font-size-color">
                    <ag-select ref="sizeSelect"></ag-select>
                    <ag-color-picker ref="colorPicker"></ag-color-picker>
                </div>
            </ag-group-component>
        </div>`,cl([I("fontGroup")],t.prototype,"fontGroup",void 0),cl([I("familySelect")],t.prototype,"familySelect",void 0),cl([I("weightStyleSelect")],t.prototype,"weightStyleSelect",void 0),cl([I("sizeSelect")],t.prototype,"sizeSelect",void 0),cl([I("colorPicker")],t.prototype,"colorPicker",void 0),cl([y("chartTranslationService")],t.prototype,"chartTranslationService",void 0),cl([H],t.prototype,"init",null),t}(te),bre=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),yo=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},wre=function(n){bre(t,n);function t(e){var r=n.call(this)||this;return r.chartOptionsService=e,r.activePanels=[],r}return t.prototype.init=function(){var e={cssIdentifier:"charts-format-top-level",direction:"vertical"};this.setTemplate(t.TEMPLATE,{legendGroup:e}),this.initLegendGroup(),this.initLegendPosition(),this.initLegendPadding(),this.initLegendItems(),this.initLabelPanel()},t.prototype.initLegendGroup=function(){var e=this;this.legendGroup.setTitle(this.chartTranslationService.translate("legend")).hideEnabledCheckbox(!1).setEnabled(this.chartOptionsService.getChartOption("legend.enabled")||!1).toggleGroupExpand(!1).onEnableChange(function(r){e.chartOptionsService.setChartOption("legend.enabled",r),e.legendGroup.toggleGroupExpand(!0)})},t.prototype.initLegendPosition=function(){var e=this,r=[Gl.Top,Gl.Right,Gl.Bottom,Gl.Left];this.legendPositionSelect.setLabel(this.chartTranslationService.translate("position")).setLabelWidth("flex").setInputWidth(80).addOptions(r.map(function(i){return{value:i,text:e.chartTranslationService.translate(i)}})).setValue(this.chartOptionsService.getChartOption("legend.position")).onValueChange(function(i){return e.chartOptionsService.setChartOption("legend.position",i)})},t.prototype.initLegendPadding=function(){var e=this,r=this.chartOptionsService.getChartOption("legend.spacing");this.legendPaddingSlider.setLabel(this.chartTranslationService.translate("spacing")).setMaxValue(Xr(r,200)).setValue(""+r).setTextFieldWidth(45).onValueChange(function(i){return e.chartOptionsService.setChartOption("legend.spacing",i)})},t.prototype.initLegendItems=function(){var e=this,r=function(i,o,a,s){var l=e.chartOptionsService.getChartOption("legend."+i);a.setLabel(e.chartTranslationService.translate(o)).setMaxValue(Xr(l,s)).setValue(""+l).setTextFieldWidth(45).onValueChange(function(u){e.chartOptionsService.setChartOption("legend."+i,u)})};r("item.marker.size","markerSize",this.markerSizeSlider,40),r("item.marker.strokeWidth","markerStroke",this.markerStrokeSlider,10),r("item.marker.padding","itemSpacing",this.markerPaddingSlider,20),r("item.paddingX","layoutHorizontalSpacing",this.itemPaddingXSlider,50),r("item.paddingY","layoutVerticalSpacing",this.itemPaddingYSlider,50)},t.prototype.initLabelPanel=function(){var e=this,r=this.chartOptionsService,i={family:r.getChartOption("legend.item.label.fontFamily"),style:r.getChartOption("legend.item.label.fontStyle"),weight:r.getChartOption("legend.item.label.fontWeight"),size:r.getChartOption("legend.item.label.fontSize"),color:r.getChartOption("legend.item.label.color")},o=function(l){var u=e.chartOptionsService;l.family&&u.setChartOption("legend.item.label.fontFamily",l.family),l.weight&&u.setChartOption("legend.item.label.fontWeight",l.weight),l.style&&u.setChartOption("legend.item.label.fontStyle",l.style),l.size&&u.setChartOption("legend.item.label.fontSize",l.size),l.color&&u.setChartOption("legend.item.label.color",l.color)},a={enabled:!0,suppressEnabledCheckbox:!0,initialFont:i,setFont:o},s=this.createBean(new Nm(a));this.legendGroup.addItem(s),this.activePanels.push(s)},t.prototype.destroyActivePanels=function(){var e=this;this.activePanels.forEach(function(r){_.removeFromParent(r.getGui()),e.destroyBean(r)})},t.prototype.destroy=function(){this.destroyActivePanels(),n.prototype.destroy.call(this)},t.TEMPLATE=`<div>
            <ag-group-component ref="legendGroup">
                <ag-select ref="legendPositionSelect"></ag-select>
                <ag-slider ref="legendPaddingSlider"></ag-slider>
                <ag-slider ref="markerSizeSlider"></ag-slider>
                <ag-slider ref="markerStrokeSlider"></ag-slider>
                <ag-slider ref="markerPaddingSlider"></ag-slider>
                <ag-slider ref="itemPaddingXSlider"></ag-slider>
                <ag-slider ref="itemPaddingYSlider"></ag-slider>
            </ag-group-component>
        </div>`,yo([I("legendGroup")],t.prototype,"legendGroup",void 0),yo([I("legendPositionSelect")],t.prototype,"legendPositionSelect",void 0),yo([I("legendPaddingSlider")],t.prototype,"legendPaddingSlider",void 0),yo([I("markerSizeSlider")],t.prototype,"markerSizeSlider",void 0),yo([I("markerStrokeSlider")],t.prototype,"markerStrokeSlider",void 0),yo([I("markerPaddingSlider")],t.prototype,"markerPaddingSlider",void 0),yo([I("itemPaddingXSlider")],t.prototype,"itemPaddingXSlider",void 0),yo([I("itemPaddingYSlider")],t.prototype,"itemPaddingYSlider",void 0),yo([y("chartTranslationService")],t.prototype,"chartTranslationService",void 0),yo([H],t.prototype,"init",null),t}(te),_re=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),ju=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Sre=function(n){_re(t,n);function t(e){var r=n.call(this)||this;return r.chartOptionsService=e,r}return t.prototype.init=function(){var e={cssIdentifier:"charts-format-sub-level",direction:"vertical",suppressOpenCloseIcons:!0};this.setTemplate(t.TEMPLATE,{axisTicksGroup:e}),this.initAxisTicks()},t.prototype.initAxisTicks=function(){var e=this;this.axisTicksGroup.setTitle(this.chartTranslationService.translate("ticks")).hideOpenCloseIcons(!0).hideEnabledCheckbox(!0),this.axisTicksColorPicker.setLabel(this.chartTranslationService.translate("color")).setLabelWidth("flex").setInputWidth(45).setValue(this.chartOptionsService.getAxisProperty("tick.color")).onValueChange(function(i){return e.chartOptionsService.setAxisProperty("tick.color",i)});var r=function(i,o,a,s){var l=e.chartOptionsService.getAxisProperty(i);o.setLabel(a).setMaxValue(Xr(l,s)).setValue(""+l).setTextFieldWidth(45).onValueChange(function(u){return e.chartOptionsService.setAxisProperty(i,u)})};r("tick.width",this.axisTicksWidthSlider,this.chartTranslationService.translate("width"),10),r("tick.size",this.axisTicksSizeSlider,this.chartTranslationService.translate("length"),30)},t.TEMPLATE=`<div>
            <ag-group-component ref="axisTicksGroup">
                <ag-color-picker ref="axisTicksColorPicker"></ag-color-picker>
                <ag-slider ref="axisTicksWidthSlider"></ag-slider>
                <ag-slider ref="axisTicksSizeSlider"></ag-slider>
            </ag-group-component>
        </div>`,ju([I("axisTicksGroup")],t.prototype,"axisTicksGroup",void 0),ju([I("axisTicksColorPicker")],t.prototype,"axisTicksColorPicker",void 0),ju([I("axisTicksWidthSlider")],t.prototype,"axisTicksWidthSlider",void 0),ju([I("axisTicksSizeSlider")],t.prototype,"axisTicksSizeSlider",void 0),ju([y("chartTranslationService")],t.prototype,"chartTranslationService",void 0),ju([H],t.prototype,"init",null),t}(te),xre=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Uu=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},pl=function(n){xre(t,n);function t(e,r){var i=n.call(this)||this;return i.chartController=e,i.chartOptionsService=r,i.activePanels=[],i.axisLabelUpdateFuncs=[],i}return t.prototype.init=function(){var e=this,r={cssIdentifier:"charts-format-top-level",direction:"vertical"};this.setTemplate(t.TEMPLATE,{axisGroup:r}),this.initAxis(),this.initAxisTicks(),this.initAxisLabels();var i=function(){return e.axisLabelUpdateFuncs.forEach(function(o){return o()})};this.addManagedListener(this.chartController,nu.EVENT_CHART_UPDATED,i)},t.prototype.initAxis=function(){var e=this,r=this.chartTranslationService;this.axisGroup.setTitle(r.translate("axis")).toggleGroupExpand(!1).hideEnabledCheckbox(!0),this.axisColorInput.setLabel(r.translate("color")).setLabelWidth("flex").setInputWidth(45).setValue(this.chartOptionsService.getAxisProperty("line.color")).onValueChange(function(a){return e.chartOptionsService.setAxisProperty("line.color",a)});var i=this.chartOptionsService.getAxisProperty("line.width");if(this.axisLineWidthSlider.setMaxValue(Xr(i,10)).setLabel(r.translate("thickness")).setTextFieldWidth(45).setValue(""+i).onValueChange(function(a){return e.chartOptionsService.setAxisProperty("line.width",a)}),_.includes(["line","scatter","bubble"],this.chartController.getChartType())&&!this.chartController.isGrouping()){var o=[{value:"",text:r.translate("automatic")}];["category","time","number"].forEach(function(a){o.push({value:a,text:r.translate(a)})}),this.xAxisTypeSelect.setLabel(r.translate("xType")).setLabelWidth("flex").addOptions(o).setValue(this.chartOptionsService.getChartOption("xAxis.type")||"").onValueChange(function(a){e.chartOptionsService.setChartOption("xAxis.type",typeof a=="string"&&a.length&&a),e.chartController.updateForDataChange()})}else this.xAxisTypeSelect.setDisplayed(!1)},t.prototype.initAxisTicks=function(){var e=this.createBean(new Sre(this.chartOptionsService));this.axisGroup.addItem(e),this.activePanels.push(e)},t.prototype.initAxisLabels=function(){var e=this,r={family:this.chartOptionsService.getAxisProperty("label.fontFamily"),style:this.chartOptionsService.getAxisProperty("label.fontStyle"),weight:this.chartOptionsService.getAxisProperty("label.fontWeight"),size:this.chartOptionsService.getAxisProperty("label.fontSize"),color:this.chartOptionsService.getAxisProperty("label.color")},i=function(s){s.family&&e.chartOptionsService.setAxisProperty("label.fontFamily",s.family),s.weight&&e.chartOptionsService.setAxisProperty("label.fontWeight",s.weight),s.style&&e.chartOptionsService.setAxisProperty("label.fontStyle",s.style),s.size&&e.chartOptionsService.setAxisProperty("label.fontSize",s.size),s.color&&e.chartOptionsService.setAxisProperty("label.color",s.color),e.chartController.getChartProxy().getChart().layoutPending=!0},o={enabled:!0,suppressEnabledCheckbox:!0,initialFont:r,setFont:i},a=this.createBean(new Nm(o));this.axisGroup.addItem(a),this.activePanels.push(a),this.addAdditionalLabelComps(a)},t.prototype.addAdditionalLabelComps=function(e){var r=this,i=function(c,p){var h=r.chartOptionsService.getLabelRotation(p),d=new XS().setLabel(c).setLabelWidth("flex").setValue(h||0).onValueChange(function(g){return r.chartOptionsService.setLabelRotation(p,g)});r.axisLabelUpdateFuncs.push(function(){var g=r.chartOptionsService.getLabelRotation(p);d.setValue(g)});var f=r.createBean(d);e.addCompToPanel(f)},o=String.fromCharCode(176),a=this.chartTranslationService.translate("xRotation")+" "+o,s=this.chartTranslationService.translate("yRotation")+" "+o;i(a,"xAxis"),i(s,"yAxis");var l=this.createBean(new la),u=this.chartOptionsService.getAxisProperty("label.padding");l.setLabel(this.chartTranslationService.translate("padding")).setMaxValue(Xr(u,30)).setValue(""+u).setTextFieldWidth(45).onValueChange(function(c){return r.chartOptionsService.setAxisProperty("label.padding",c)}),e.addCompToPanel(l)},t.prototype.destroyActivePanels=function(){var e=this;this.activePanels.forEach(function(r){_.removeFromParent(r.getGui()),e.destroyBean(r)})},t.prototype.destroy=function(){this.destroyActivePanels(),n.prototype.destroy.call(this)},t.TEMPLATE=`<div>
            <ag-group-component ref="axisGroup">
                <ag-color-picker ref="axisColorInput"></ag-color-picker>
                <ag-slider ref="axisLineWidthSlider"></ag-slider>
                <ag-select ref="xAxisTypeSelect"></ag-select>
            </ag-group-component>
        </div>`,Uu([I("axisGroup")],t.prototype,"axisGroup",void 0),Uu([I("axisColorInput")],t.prototype,"axisColorInput",void 0),Uu([I("axisLineWidthSlider")],t.prototype,"axisLineWidthSlider",void 0),Uu([I("xAxisTypeSelect")],t.prototype,"xAxisTypeSelect",void 0),Uu([y("chartTranslationService")],t.prototype,"chartTranslationService",void 0),Uu([H],t.prototype,"init",null),t}(te),Tre=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),If=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},hl=function(n){Tre(t,n);function t(e){var r=n.call(this)||this;return r.chartOptionsService=e,r}return t.prototype.init=function(){var e={cssIdentifier:"charts-format-top-level",direction:"vertical"};this.setTemplate(t.TEMPLATE,{navigatorGroup:e}),this.initNavigator()},t.prototype.initNavigator=function(){var e=this,r=this.chartTranslationService;this.navigatorGroup.setTitle(r.translate("navigator")).toggleGroupExpand(!1).hideEnabledCheckbox(!1).setEnabled(this.chartOptionsService.getChartOption("navigator.enabled")||!1).onEnableChange(function(o){e.chartOptionsService.setChartOption("navigator.enabled",o),e.navigatorGroup.toggleGroupExpand(!0)});var i=this.chartOptionsService.getChartOption("navigator.height");this.navigatorHeightSlider.setLabel(r.translate("height")).setMinValue(10).setMaxValue(Xr(i,60)).setTextFieldWidth(45).setValue(""+(i||30)).onValueChange(function(o){return e.chartOptionsService.setChartOption("navigator.height",o)})},t.prototype.destroy=function(){n.prototype.destroy.call(this)},t.TEMPLATE=`<div>
            <ag-group-component ref="navigatorGroup">
                <ag-slider ref="navigatorHeightSlider"></ag-slider>
            </ag-group-component>
        </div>`,If([I("navigatorGroup")],t.prototype,"navigatorGroup",void 0),If([I("navigatorHeightSlider")],t.prototype,"navigatorHeightSlider",void 0),If([y("chartTranslationService")],t.prototype,"chartTranslationService",void 0),If([H],t.prototype,"init",null),t}(te),Ore=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),dl=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Ere=function(n){Ore(t,n);function t(e){var r=n.call(this)||this;return r.chartOptionsService=e,r}return t.prototype.init=function(){var e={cssIdentifier:"charts-format-sub-level",direction:"vertical",suppressOpenCloseIcons:!0};this.setTemplate(t.TEMPLATE,{chartPaddingGroup:e}),this.initGroup(),this.initChartPaddingItems()},t.prototype.initGroup=function(){this.chartPaddingGroup.setTitle(this.chartTranslationService.translate("padding")).hideOpenCloseIcons(!0).hideEnabledCheckbox(!0)},t.prototype.initChartPaddingItems=function(){var e=this,r=function(i,o){var a=e.chartOptionsService.getChartOption("padding."+i);o.setLabel(e.chartTranslationService.translate(i)).setMaxValue(Xr(a,200)).setValue(""+a).setTextFieldWidth(45).onValueChange(function(s){return e.chartOptionsService.setChartOption("padding."+i,s)})};r("top",this.paddingTopSlider),r("right",this.paddingRightSlider),r("bottom",this.paddingBottomSlider),r("left",this.paddingLeftSlider)},t.TEMPLATE=`<div>
            <ag-group-component ref="chartPaddingGroup">
                <ag-slider ref="paddingTopSlider"></ag-slider>
                <ag-slider ref="paddingRightSlider"></ag-slider>
                <ag-slider ref="paddingBottomSlider"></ag-slider>
                <ag-slider ref="paddingLeftSlider"></ag-slider>
            </ag-group-component>
        <div>`,dl([I("chartPaddingGroup")],t.prototype,"chartPaddingGroup",void 0),dl([I("paddingTopSlider")],t.prototype,"paddingTopSlider",void 0),dl([I("paddingRightSlider")],t.prototype,"paddingRightSlider",void 0),dl([I("paddingBottomSlider")],t.prototype,"paddingBottomSlider",void 0),dl([I("paddingLeftSlider")],t.prototype,"paddingLeftSlider",void 0),dl([y("chartTranslationService")],t.prototype,"chartTranslationService",void 0),dl([H],t.prototype,"init",null),t}(te),Rre=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Lf=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Pre=function(n){Rre(t,n);function t(e){var r=n.call(this)||this;return r.chartOptionsService=e,r}return t.prototype.init=function(){var e={cssIdentifier:"charts-format-sub-level",direction:"vertical",suppressOpenCloseIcons:!0};this.setTemplate(t.TEMPLATE,{chartBackgroundGroup:e}),this.initGroup(),this.initColorPicker()},t.prototype.initGroup=function(){var e=this;this.group.setTitle(this.chartTranslationService.translate("background")).setEnabled(this.chartOptionsService.getChartOption("background.visible")).hideOpenCloseIcons(!0).hideEnabledCheckbox(!1).onEnableChange(function(r){return e.chartOptionsService.setChartOption("background.visible",r)})},t.prototype.initColorPicker=function(){var e=this;this.colorPicker.setLabel(this.chartTranslationService.translate("color")).setLabelWidth("flex").setInputWidth(45).setValue(this.chartOptionsService.getChartOption("background.fill")).onValueChange(function(r){return e.chartOptionsService.setChartOption("background.fill",r)})},t.TEMPLATE=`<div>
            <ag-group-component ref="chartBackgroundGroup">
                <ag-color-picker ref="colorPicker"></ag-color-picker>
            </ag-group-component>
        <div>`,Lf([I("chartBackgroundGroup")],t.prototype,"group",void 0),Lf([I("colorPicker")],t.prototype,"colorPicker",void 0),Lf([y("chartTranslationService")],t.prototype,"chartTranslationService",void 0),Lf([H],t.prototype,"init",null),t}(te),Are=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),dR=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Dre=function(n){Are(t,n);function t(e){var r=n.call(this,t.TEMPLATE)||this;return r.chartOptionsService=e,r.activePanels=[],r}return t.prototype.init=function(){this.initFontPanel(),this.titlePlaceholder=this.chartTranslationService.translate("titlePlaceholder")},t.prototype.hasTitle=function(){var e=this.getOption("title");return e&&e.enabled&&e.text&&e.text.length>0},t.prototype.initFontPanel=function(){var e=this,r=this.hasTitle,i=function(l){l.family&&e.setOption("title.fontFamily",l.family),l.weight&&e.setOption("title.fontWeight",l.weight),l.style&&e.setOption("title.fontStyle",l.style),l.size&&e.setOption("title.fontSize",l.size),l.color&&e.setOption("title.color",l.color)},o={family:this.getOption("title.fontFamily"),style:this.getOption("title.fontStyle"),weight:this.getOption("title.fontWeight"),size:this.getOption("title.fontSize"),color:this.getOption("title.color")};r||i(o);var a={name:this.chartTranslationService.translate("title"),enabled:this.hasTitle(),suppressEnabledCheckbox:!1,initialFont:o,setFont:i,setEnabled:function(l){e.setOption("title.enabled",l);var u=e.getOption("title.text");l&&u==="Title"&&e.setOption("title.text",e.titlePlaceholder)}},s=this.createBean(new Nm(a));this.getGui().appendChild(s.getGui()),this.activePanels.push(s),this.addManagedListener(this.eventService,"chartTitleEdit",function(){s.setEnabled(e.hasTitle())})},t.prototype.getOption=function(e){return this.chartOptionsService.getChartOption(e)},t.prototype.setOption=function(e,r){this.chartOptionsService.setChartOption(e,r)},t.prototype.destroyActivePanels=function(){var e=this;this.activePanels.forEach(function(r){_.removeFromParent(r.getGui()),e.destroyBean(r)})},t.prototype.destroy=function(){this.destroyActivePanels(),n.prototype.destroy.call(this)},t.TEMPLATE="<div></div>",dR([y("chartTranslationService")],t.prototype,"chartTranslationService",void 0),dR([H],t.prototype,"init",null),t}(te),Mre=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),nb=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Fre=function(n){Mre(t,n);function t(e){var r=n.call(this)||this;return r.chartOptionsService=e,r.activePanels=[],r}return t.prototype.init=function(){var e={cssIdentifier:"charts-format-top-level",direction:"vertical"};this.setTemplate(t.TEMPLATE,{chartGroup:e}),this.initGroup(),this.initTitles(),this.initPaddingPanel(),this.initBackgroundPanel()},t.prototype.initGroup=function(){this.chartGroup.setTitle(this.chartTranslationService.translate("chart")).toggleGroupExpand(!1).hideEnabledCheckbox(!0)},t.prototype.initTitles=function(){var e=this.createBean(new Dre(this.chartOptionsService));this.chartGroup.addItem(e),this.activePanels.push(e)},t.prototype.initPaddingPanel=function(){var e=this.createBean(new Ere(this.chartOptionsService));this.chartGroup.addItem(e),this.activePanels.push(e)},t.prototype.initBackgroundPanel=function(){var e=this.createBean(new Pre(this.chartOptionsService));this.chartGroup.addItem(e),this.activePanels.push(e)},t.prototype.destroyActivePanels=function(){var e=this;this.activePanels.forEach(function(r){_.removeFromParent(r.getGui()),e.destroyBean(r)})},t.prototype.destroy=function(){this.destroyActivePanels(),n.prototype.destroy.call(this)},t.TEMPLATE=`<div>
            <ag-group-component ref="chartGroup"></ag-group-component>
        </div>`,nb([I("chartGroup")],t.prototype,"chartGroup",void 0),nb([y("chartTranslationService")],t.prototype,"chartTranslationService",void 0),nb([H],t.prototype,"init",null),t}(te),Ire=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),fl=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Lre=function(n){Ire(t,n);function t(e,r){var i=n.call(this)||this;return i.chartOptionsService=e,i.getSelectedSeries=r,i}return t.prototype.init=function(){var e={cssIdentifier:"charts-format-sub-level",direction:"vertical",suppressOpenCloseIcons:!0};this.setTemplate(t.TEMPLATE,{shadowGroup:e}),this.shadowBlurSlider.setTextFieldWidth(45),this.shadowXOffsetSlider.setTextFieldWidth(45),this.shadowYOffsetSlider.setTextFieldWidth(45),this.initSeriesShadow()},t.prototype.initSeriesShadow=function(){var e=this;this.shadowGroup.setTitle(this.chartTranslationService.translate("shadow")).setEnabled(this.chartOptionsService.getSeriesOption("shadow.enabled",this.getSelectedSeries())).hideOpenCloseIcons(!0).hideEnabledCheckbox(!1).onEnableChange(function(i){return e.chartOptionsService.setSeriesOption("shadow.enabled",i,e.getSelectedSeries())}),this.shadowColorPicker.setLabel(this.chartTranslationService.translate("color")).setLabelWidth("flex").setInputWidth(45).setValue(this.chartOptionsService.getSeriesOption("shadow.color",this.getSelectedSeries())).onValueChange(function(i){return e.chartOptionsService.setSeriesOption("shadow.color",i,e.getSelectedSeries())});var r=function(i,o,a,s){var l=e.chartOptionsService.getSeriesOption("shadow."+o,e.getSelectedSeries());i.setLabel(e.chartTranslationService.translate(o)).setMinValue(a).setMaxValue(Xr(l,s)).setValue(""+l).onValueChange(function(u){return e.chartOptionsService.setSeriesOption("shadow."+o,u,e.getSelectedSeries())})};r(this.shadowBlurSlider,"blur",0,20),r(this.shadowXOffsetSlider,"xOffset",-10,10),r(this.shadowYOffsetSlider,"yOffset",-10,10)},t.TEMPLATE=`<div>
            <ag-group-component ref="shadowGroup">
                <ag-color-picker ref="shadowColorPicker"></ag-color-picker>
                <ag-slider ref="shadowBlurSlider"></ag-slider>
                <ag-slider ref="shadowXOffsetSlider"></ag-slider>
                <ag-slider ref="shadowYOffsetSlider"></ag-slider>
            </ag-group-component>
        </div>`,fl([I("shadowGroup")],t.prototype,"shadowGroup",void 0),fl([I("shadowColorPicker")],t.prototype,"shadowColorPicker",void 0),fl([I("shadowBlurSlider")],t.prototype,"shadowBlurSlider",void 0),fl([I("shadowXOffsetSlider")],t.prototype,"shadowXOffsetSlider",void 0),fl([I("shadowYOffsetSlider")],t.prototype,"shadowYOffsetSlider",void 0),fl([y("chartTranslationService")],t.prototype,"chartTranslationService",void 0),fl([H],t.prototype,"init",null),t}(te);function Nre(n,t,e){var r={family:t.getSeriesOption("label.fontFamily",e()),style:t.getSeriesOption("label.fontStyle",e()),weight:t.getSeriesOption("label.fontWeight",e()),size:t.getSeriesOption("label.fontSize",e()),color:t.getSeriesOption("label.color",e())},i=function(a){a.family&&t.setSeriesOption("label.fontFamily",a.family,e()),a.weight&&t.setSeriesOption("label.fontWeight",a.weight,e()),a.style&&t.setSeriesOption("label.fontStyle",a.style,e()),a.size&&t.setSeriesOption("label.fontSize",a.size,e()),a.color&&t.setSeriesOption("label.color",a.color,e())},o={name:n.translate("labels"),enabled:t.getSeriesOption("label.enabled",e())||!1,setEnabled:function(a){return t.setSeriesOption("label.enabled",a,e())},suppressEnabledCheckbox:!1,initialFont:r,setFont:i};return o}var kre=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),gl=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Gre=function(n){kre(t,n);function t(e,r){var i=n.call(this)||this;return i.chartOptionsService=e,i.getSelectedSeries=r,i}return t.prototype.init=function(){var e={cssIdentifier:"charts-format-sub-level",direction:"vertical"};this.setTemplate(t.TEMPLATE,{seriesMarkersGroup:e}),this.initMarkers()},t.prototype.initMarkers=function(){var e=this,r=[{value:"square",text:"Square"},{value:"circle",text:"Circle"},{value:"cross",text:"Cross"},{value:"diamond",text:"Diamond"},{value:"plus",text:"Plus"},{value:"triangle",text:"Triangle"},{value:"heart",text:"Heart"}];this.seriesMarkerShapeSelect.addOptions(r).setLabel(this.chartTranslationService.translate("shape")).setValue(this.getSeriesOption("marker.shape")).onValueChange(function(s){return e.setSeriesOption("marker.shape",s)});var i=this.chartOptionsService.getChartType(),o=_.includes(["scatter","bubble"],i);this.seriesMarkersGroup.setTitle(this.chartTranslationService.translate("markers")).hideEnabledCheckbox(o).setEnabled(this.getSeriesOption("marker.enabled")||!1).hideOpenCloseIcons(!0).onEnableChange(function(s){return e.setSeriesOption("marker.enabled",s)});var a=function(s,l,u,c){var p=e.getSeriesOption(s);l.setLabel(e.chartTranslationService.translate(u)).setMaxValue(Xr(p,c)).setValue(""+p).setTextFieldWidth(45).onValueChange(function(h){return e.setSeriesOption(s,h)})};i==="bubble"?(a("marker.maxSize",this.seriesMarkerMinSizeSlider,"maxSize",60),a("marker.size",this.seriesMarkerSizeSlider,"minSize",60)):(this.seriesMarkerMinSizeSlider.setDisplayed(!1),a("marker.size",this.seriesMarkerSizeSlider,"size",60)),a("marker.strokeWidth",this.seriesMarkerStrokeWidthSlider,"strokeWidth",10)},t.prototype.getSeriesOption=function(e){return this.chartOptionsService.getSeriesOption(e,this.getSelectedSeries())},t.prototype.setSeriesOption=function(e,r){this.chartOptionsService.setSeriesOption(e,r,this.getSelectedSeries())},t.TEMPLATE=`<div>
            <ag-group-component ref="seriesMarkersGroup">
                <ag-select ref="seriesMarkerShapeSelect"></ag-select>
                <ag-slider ref="seriesMarkerMinSizeSlider"></ag-slider>
                <ag-slider ref="seriesMarkerSizeSlider"></ag-slider>
                <ag-slider ref="seriesMarkerStrokeWidthSlider"></ag-slider>
            </ag-group-component>
        </div>`,gl([I("seriesMarkersGroup")],t.prototype,"seriesMarkersGroup",void 0),gl([I("seriesMarkerShapeSelect")],t.prototype,"seriesMarkerShapeSelect",void 0),gl([I("seriesMarkerSizeSlider")],t.prototype,"seriesMarkerSizeSlider",void 0),gl([I("seriesMarkerMinSizeSlider")],t.prototype,"seriesMarkerMinSizeSlider",void 0),gl([I("seriesMarkerStrokeWidthSlider")],t.prototype,"seriesMarkerStrokeWidthSlider",void 0),gl([y("chartTranslationService")],t.prototype,"chartTranslationService",void 0),gl([H],t.prototype,"init",null),t}(te),Bre=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),zu=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Vre=function(n){Bre(t,n);function t(e,r){var i=n.call(this)||this;return i.chartOptionsService=e,i.getSelectedSeries=r,i}return t.prototype.init=function(){var e={cssIdentifier:"charts-format-sub-level",direction:"vertical"};this.setTemplate(t.TEMPLATE,{calloutGroup:e}),this.initCalloutOptions()},t.prototype.initCalloutOptions=function(){var e=this;this.calloutGroup.setTitle(this.chartTranslationService.translate("callout")).setEnabled(!0).hideOpenCloseIcons(!0).hideEnabledCheckbox(!0);var r=function(i,o,a,s){var l=e.chartOptionsService.getSeriesOption(i,e.getSelectedSeries());o.setLabel(e.chartTranslationService.translate(a)).setMaxValue(Xr(l,s)).setValue(""+l).setTextFieldWidth(45).onValueChange(function(u){return e.chartOptionsService.setSeriesOption(i,u,e.getSelectedSeries())})};r("callout.length",this.calloutLengthSlider,"length",40),r("callout.strokeWidth",this.calloutStrokeWidthSlider,"strokeWidth",10),r("label.offset",this.labelOffsetSlider,"offset",30)},t.TEMPLATE=`<div>
            <ag-group-component ref="calloutGroup">
                <ag-slider ref="calloutLengthSlider"></ag-slider>
                <ag-slider ref="calloutStrokeWidthSlider"></ag-slider>
                <ag-slider ref="labelOffsetSlider"></ag-slider>
            </ag-group-component>
        </div>`,zu([I("calloutGroup")],t.prototype,"calloutGroup",void 0),zu([I("calloutLengthSlider")],t.prototype,"calloutLengthSlider",void 0),zu([I("calloutStrokeWidthSlider")],t.prototype,"calloutStrokeWidthSlider",void 0),zu([I("labelOffsetSlider")],t.prototype,"labelOffsetSlider",void 0),zu([y("chartTranslationService")],t.prototype,"chartTranslationService",void 0),zu([H],t.prototype,"init",null),t}(te),Wre=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),ib=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Ja=function(n){Wre(t,n);function t(e,r,i){var o=n.call(this)||this;return o.chartController=e,o.chartOptionsService=r,o.activePanels=[],o.widgetFuncs={lineWidth:function(){return o.initLineWidth()},strokeWidth:function(){return o.initStrokeWidth()},lineDash:function(){return o.initLineDash()},lineOpacity:function(){return o.initLineOpacity()},fillOpacity:function(){return o.initFillOpacity()},markers:function(){return o.initMarkers()},labels:function(){return o.initLabels()},shadow:function(){return o.initShadow()},tooltips:function(){return o.initTooltips()},bins:function(){return o.initBins()}},o.seriesWidgetMappings={area:["tooltips","lineWidth","lineDash","lineOpacity","fillOpacity","markers","labels","shadow"],bar:["tooltips","strokeWidth","lineDash","lineOpacity","fillOpacity","labels","shadow"],column:["tooltips","strokeWidth","lineDash","lineOpacity","fillOpacity","labels","shadow"],line:["tooltips","lineWidth","lineDash","lineOpacity","markers","labels"],histogram:["tooltips","bins","strokeWidth","lineDash","lineOpacity","fillOpacity","labels","shadow"],scatter:["tooltips","markers","labels"],pie:["tooltips","strokeWidth","lineOpacity","fillOpacity","labels","shadow"]},o.seriesType=i||o.getChartSeriesType(),o}return t.prototype.init=function(){var e={cssIdentifier:"charts-format-top-level",direction:"vertical"};this.setTemplate(t.TEMPLATE,{seriesGroup:e}),this.seriesGroup.setTitle(this.translate("series")).toggleGroupExpand(!1).hideEnabledCheckbox(!0),this.addManagedListener(this.chartController,nu.EVENT_CHART_SERIES_CHART_TYPE_CHANGED,this.refreshWidgets.bind(this)),this.refreshWidgets()},t.prototype.refreshWidgets=function(){var e=this;this.destroyActivePanels(),this.chartController.isComboChart()&&(this.updateSeriesType(),this.initSeriesSelect()),this.seriesWidgetMappings[this.seriesType].forEach(function(r){return e.widgetFuncs[r]()})},t.prototype.initSeriesSelect=function(){var e=this,r=this.seriesGroup.createManagedBean(new hd);r.setLabel(this.translate("seriesType")).setLabelAlignment("left").setLabelWidth("flex").setInputWidth(100).addOptions(this.getSeriesSelectOptions()).setValue(""+this.seriesType).onValueChange(function(i){e.seriesType=i,e.refreshWidgets()}),this.seriesGroup.addItem(r),this.activePanels.push(r)},t.prototype.initTooltips=function(){var e=this,r=this.createBean(new dm);r.setLabel(this.translate("tooltips")).setLabelAlignment("left").setLabelWidth("flex").setInputWidth(45).setValue(this.getSeriesOption("tooltip.enabled")||!1).onValueChange(function(i){return e.setSeriesOption("tooltip.enabled",i)}),this.addWidget(r)},t.prototype.initStrokeWidth=function(){var e=this,r=this.getSeriesOption("strokeWidth"),i=this.createBean(new la);i.setLabel(this.translate("strokeWidth")).setMaxValue(Xr(r,10)).setTextFieldWidth(45).setValue(""+r).onValueChange(function(o){return e.setSeriesOption("strokeWidth",o)}),this.addWidget(i)},t.prototype.initLineWidth=function(){var e=this,r=this.getSeriesOption("strokeWidth"),i=this.createBean(new la);i.setLabel(this.translate("lineWidth")).setMaxValue(Xr(r,10)).setTextFieldWidth(45).setValue(""+r).onValueChange(function(o){return e.setSeriesOption("strokeWidth",o)}),this.addWidget(i)},t.prototype.initLineDash=function(){var e=this,r=this.getSeriesOption("lineDash"),i=r?r[0]:0,o=this.createBean(new la);o.setLabel(this.translate("lineDash")).setMaxValue(Xr(i,30)).setTextFieldWidth(45).setValue(""+i).onValueChange(function(a){return e.setSeriesOption("lineDash",[a])}),this.addWidget(o)},t.prototype.initLineOpacity=function(){var e=this,r=this.getSeriesOption("strokeOpacity"),i=this.createBean(new la);i.setLabel(this.translate("strokeOpacity")).setStep(.05).setMaxValue(Xr(r,1)).setTextFieldWidth(45).setValue(""+r).onValueChange(function(o){return e.setSeriesOption("strokeOpacity",o)}),this.addWidget(i)},t.prototype.initFillOpacity=function(){var e=this,r=this.getSeriesOption("fillOpacity"),i=this.createBean(new la);i.setLabel(this.translate("fillOpacity")).setStep(.05).setMaxValue(Xr(r,1)).setTextFieldWidth(45).setValue(""+r).onValueChange(function(o){return e.setSeriesOption("fillOpacity",o)}),this.addWidget(i)},t.prototype.initLabels=function(){var e=this,r=Nre(this.chartTranslationService,this.chartOptionsService,function(){return e.seriesType}),i=this.createBean(new Nm(r));if(this.seriesType==="pie"){var o=this.createBean(new Vre(this.chartOptionsService,function(){return e.seriesType}));i.addCompToPanel(o),this.activePanels.push(o)}this.addWidget(i)},t.prototype.initShadow=function(){var e=this,r=this.createBean(new Lre(this.chartOptionsService,function(){return e.seriesType}));this.addWidget(r)},t.prototype.initMarkers=function(){var e=this,r=this.createBean(new Gre(this.chartOptionsService,function(){return e.seriesType}));this.addWidget(r)},t.prototype.initBins=function(){var e=this,r=this.getSeriesOption("binCount"),i=this.createBean(new la);i.setLabel(this.translate("histogramBinCount")).setMinValue(4).setMaxValue(Xr(r,100)).setTextFieldWidth(45).setValue(""+r).onValueChange(function(o){return e.setSeriesOption("binCount",o)}),this.addWidget(i)},t.prototype.addWidget=function(e){this.seriesGroup.addItem(e),this.activePanels.push(e)},t.prototype.getSeriesOption=function(e){return this.chartOptionsService.getSeriesOption(e,this.seriesType)},t.prototype.setSeriesOption=function(e,r){this.chartOptionsService.setSeriesOption(e,r,this.seriesType)},t.prototype.getChartSeriesType=function(){var e=this.chartController.getSeriesChartTypes()[0].chartType;return e==="columnLineCombo"?"column":e==="areaColumnCombo"?"area":zo(e)},t.prototype.getSeriesSelectOptions=function(){var e=this;this.seriesSelectOptions||(this.seriesSelectOptions=new Map([["area",{value:"area",text:this.translate("area","Area")}],["bar",{value:"bar",text:this.translate("bar","Bar")}],["column",{value:"column",text:this.translate("column","Column")}],["line",{value:"line",text:this.translate("line","Line")}],["scatter",{value:"scatter",text:this.translate("scatter","Scatter")}],["histogram",{value:"histogram",text:this.translate("histogram","Histogram")}],["pie",{value:"pie",text:this.translate("pie","Pie")}]]));var r=new Set;return this.chartController.getActiveSeriesChartTypes().forEach(function(i){var o=zo(i.chartType);r.add(e.seriesSelectOptions.get(o))}),Array.from(r)},t.prototype.updateSeriesType=function(){var e=this.chartController.getActiveSeriesChartTypes().map(function(i){return zo(i.chartType)}),r=!e.includes(this.seriesType);r&&e.length>0&&(this.seriesType=e[0])},t.prototype.translate=function(e,r){return this.chartTranslationService.translate(e,r)},t.prototype.destroyActivePanels=function(){var e=this;this.activePanels.forEach(function(r){_.removeFromParent(r.getGui()),e.destroyBean(r)})},t.prototype.destroy=function(){this.destroyActivePanels(),n.prototype.destroy.call(this)},t.TEMPLATE=`<div>
            <ag-group-component ref="seriesGroup">                
            </ag-group-component>
        </div>`,ib([I("seriesGroup")],t.prototype,"seriesGroup",void 0),ib([y("chartTranslationService")],t.prototype,"chartTranslationService",void 0),ib([H],t.prototype,"init",null),t}(te),Hre=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),jre=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o};function Xr(n,t){return Math.max(n,t)}var Ure=function(n){Hre(t,n);function t(e,r){var i=n.call(this,t.TEMPLATE)||this;return i.chartController=e,i.chartOptionsService=r,i.panels=[],i}return t.prototype.init=function(){this.createPanels(),this.addManagedListener(this.chartController,nu.EVENT_CHART_UPDATED,this.createPanels.bind(this))},t.prototype.createPanels=function(){var e=this.chartController.getChartType(),r=this.chartController.isGrouping();if(!(e===this.chartType&&r===this.isGrouping)){switch(this.destroyPanels(),this.addComponent(new Fre(this.chartOptionsService)),this.addComponent(new wre(this.chartOptionsService)),e){case"groupedColumn":case"stackedColumn":case"normalizedColumn":this.addComponent(new pl(this.chartController,this.chartOptionsService)),this.addComponent(new Ja(this.chartController,this.chartOptionsService,"column")),this.addComponent(new hl(this.chartOptionsService));break;case"groupedBar":case"stackedBar":case"normalizedBar":this.addComponent(new pl(this.chartController,this.chartOptionsService)),this.addComponent(new Ja(this.chartController,this.chartOptionsService,"bar")),this.addComponent(new hl(this.chartOptionsService));break;case"pie":case"doughnut":this.addComponent(new Ja(this.chartController,this.chartOptionsService,"pie"));break;case"line":this.addComponent(new pl(this.chartController,this.chartOptionsService)),this.addComponent(new Ja(this.chartController,this.chartOptionsService,"line")),this.addComponent(new hl(this.chartOptionsService));break;case"scatter":case"bubble":this.addComponent(new pl(this.chartController,this.chartOptionsService)),this.addComponent(new Ja(this.chartController,this.chartOptionsService,"scatter")),this.addComponent(new hl(this.chartOptionsService));break;case"area":case"stackedArea":case"normalizedArea":this.addComponent(new pl(this.chartController,this.chartOptionsService)),this.addComponent(new Ja(this.chartController,this.chartOptionsService,"area")),this.addComponent(new hl(this.chartOptionsService));break;case"histogram":this.addComponent(new pl(this.chartController,this.chartOptionsService)),this.addComponent(new Ja(this.chartController,this.chartOptionsService,"histogram")),this.addComponent(new hl(this.chartOptionsService));break;case"columnLineCombo":case"areaColumnCombo":case"customCombo":this.addComponent(new pl(this.chartController,this.chartOptionsService)),this.addComponent(new Ja(this.chartController,this.chartOptionsService)),this.addComponent(new hl(this.chartOptionsService));break;default:console.warn("AG Grid: ChartFormattingPanel - unexpected chart type index: "+e+" supplied")}this.chartType=e,this.isGrouping=r}},t.prototype.addComponent=function(e){this.createBean(e),this.panels.push(e),e.addCssClass("ag-chart-format-section"),this.getGui().appendChild(e.getGui())},t.prototype.destroyPanels=function(){var e=this;this.panels.forEach(function(r){_.removeFromParent(r.getGui()),e.destroyBean(r)})},t.prototype.destroy=function(){this.destroyPanels(),n.prototype.destroy.call(this)},t.TEMPLATE='<div class="ag-chart-format-wrapper"></div>',jre([H],t.prototype,"init",null),t}(te),zre=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),fR=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},J0=function(n){zre(t,n);function t(e,r){var i=n.call(this)||this;i.size=58,i.padding=5,i.root=new sr;var o=new yL(window.document,i.size,i.size);return o.canvas.element.classList.add("ag-chart-mini-thumbnail-canvas"),o.root=i.root,o.container=e,i.scene=o,i.tooltipName=r,i}return t.prototype.init=function(){this.scene.canvas.element.title=this.chartTranslationService.translate(this.tooltipName)},fR([y("chartTranslationService")],t.prototype,"chartTranslationService",void 0),fR([H],t.prototype,"init",null),t}(te),$re=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Kre=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Ni=function(n){$re(t,n);function t(e,r){var i=n.call(this,e,r)||this;return i.stroke="gray",i.axisOvershoot=3,i}return t.prototype.addAxes=function(){var e=this.size,r=this.padding,i=new eo;i.x1=r,i.y1=r,i.x2=r,i.y2=e-r+this.axisOvershoot,i.stroke=this.stroke;var o=new eo;o.x1=r-this.axisOvershoot+1,o.y1=e-r,o.x2=e-r+1,o.y2=e-r,o.stroke=this.stroke;var a=this.root;a.append(i),a.append(o)},Kre([H],t.prototype,"addAxes",null),t}(J0);function Ed(n){var t=n.stacked,e=n.size,r=n.padding,i=n.xScalePadding,o=n.xScaleDomain,a=n.yScaleDomain,s=new Zo;s.domain=o,s.range=[r,e-r],s.paddingInner=i,s.paddingOuter=i;var l=new ur;l.domain=a,l.range=[e-r,r];var u=function(c,p,h){return c.map(function(d,f){var g=h.convert(d),v=new Na;return v.x=p.convert(f),v.y=g,v.width=p.bandwidth,v.height=h.convert(0)-g,v.strokeWidth=1,v.crisp=!0,v})};return t?n.data.map(function(c){return u(c,s,l)}):u(n.data,s,l)}function ex(n,t,e,r){var i=new ur;i.domain=[0,4],i.range=[r,e-r];var o=new ur;o.domain=[0,10],o.range=[e-r,r];var a=t.map(function(l){var u=new Mn;return u.strokeWidth=3,u.lineCap="round",u.fill=void 0,l.forEach(function(c,p){u.path[p>0?"lineTo":"moveTo"](i.convert(p),o.convert(c))}),u}),s=new xd;return s.x=s.y=r,s.width=s.height=e-r*2,s.append(a),n.append(s),a}var Yre=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Xre=function(n){Yre(t,n);function t(e,r,i){var o=n.call(this,e,"groupedColumnTooltip")||this;o.columnData=[2,3,4];var a=o,s=a.root,l=a.columnData,u=a.size,c=a.padding;return o.columns=Ed({stacked:!1,root:s,data:l,size:u,padding:c,xScaleDomain:[0,1,2],yScaleDomain:[0,4],xScalePadding:.3}),s.append(o.columns),o.updateColors(r,i),o}return t.prototype.updateColors=function(e,r){this.columns.forEach(function(i,o){i.fill=e[o],i.stroke=r[o]})},t.chartType="groupedColumn",t}(Ni),qre=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),zL=function(n){qre(t,n);function t(e,r,i,o,a,s){o===void 0&&(o=t.data),a===void 0&&(a=[0,16]),s===void 0&&(s="stackedColumnTooltip");var l=n.call(this,e,s)||this,u=l,c=u.root,p=u.size,h=u.padding;return l.stackedColumns=Ed({stacked:!0,root:c,data:o,size:p,padding:h,xScaleDomain:[0,1,2],yScaleDomain:a,xScalePadding:.3}),c.append([].concat.apply([],l.stackedColumns)),l.updateColors(r,i),l}return t.prototype.updateColors=function(e,r){this.stackedColumns.forEach(function(i,o){return i.forEach(function(a){a.fill=e[o],a.stroke=r[o]})})},t.chartType="stackedColumn",t.data=[[8,12,16],[6,9,12],[2,3,4]],t}(Ni),Zre=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Qre=function(n){Zre(t,n);function t(e,r,i){return n.call(this,e,r,i,t.data,[0,10],"normalizedColumnTooltip")||this}return t.chartType="normalizedColumn",t.data=[[10,10,10],[6,7,8],[2,4,6]],t}(zL),Jre=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),ene=function(n){Jre(t,n);function t(e,r,i){var o=n.call(this,e,"groupedBarTooltip")||this,a=o.padding,s=o.size,l=[2,3,4],u=new Zo;u.domain=[0,1,2],u.range=[a,s-a],u.paddingInner=.3,u.paddingOuter=.3;var c=new ur;c.domain=[0,4],c.range=[s-a,a];var p=c.convert(0),h=u.bandwidth;return o.bars=l.map(function(d,f){var g=new Na;return g.x=a,g.y=u.convert(f),g.width=p-c.convert(d),g.height=h,g.strokeWidth=1,g.crisp=!0,g}),o.updateColors(r,i),o.root.append(o.bars),o}return t.prototype.updateColors=function(e,r){this.bars.forEach(function(i,o){i.fill=e[o],i.stroke=r[o]})},t.chartType="groupedBar",t}(Ni),tne=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),$L=function(n){tne(t,n);function t(e,r,i,o,a,s){o===void 0&&(o=t.data),a===void 0&&(a=[0,16]),s===void 0&&(s="stackedBarTooltip");var l=n.call(this,e,s)||this,u=l.size,c=l.padding,p=new Zo;p.domain=[0,1,2],p.range=[c,u-c],p.paddingInner=.3,p.paddingOuter=.3;var h=new ur;h.domain=a,h.range=[u-c,c];var d=h.convert(0),f=p.bandwidth;return l.bars=o.map(function(g){return g.map(function(v,m){var C=new Na;return C.x=c,C.y=p.convert(m),C.width=d-h.convert(v),C.height=f,C.strokeWidth=1,C.crisp=!0,C})}),l.updateColors(r,i),l.root.append([].concat.apply([],l.bars)),l}return t.prototype.updateColors=function(e,r){this.bars.forEach(function(i,o){return i.forEach(function(a){a.fill=e[o],a.stroke=r[o]})})},t.chartType="stackedBar",t.data=[[8,12,16],[6,9,12],[2,3,4]],t}(Ni),rne=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),nne=function(n){rne(t,n);function t(e,r,i){return n.call(this,e,r,i,t.data,[0,10],"normalizedBarTooltip")||this}return t.chartType="normalizedBar",t.data=[[10,10,10],[6,7,8],[2,4,6]],t}($L),ine=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),one=globalThis&&globalThis.__read||function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},KL=function(n){ine(t,n);function t(e,r,i,o,a){o===void 0&&(o=.6),a===void 0&&(a="doughnutTooltip");var s=n.call(this,e,a)||this,l=(s.size-s.padding*2)/2,u=l+s.padding,c=[[or(-90),or(30)],[or(30),or(120)],[or(120),or(180)],[or(180),or(210)],[or(210),or(240)],[or(240),or(270)]];return s.sectors=c.map(function(p){var h=one(p,2),d=h[0],f=h[1],g=new LL;return g.centerX=u,g.centerY=u,g.innerRadius=l*o,g.outerRadius=l,g.startAngle=d,g.endAngle=f,g.stroke=void 0,g.strokeWidth=1,g}),s.updateColors(r,i),s.root.append(s.sectors),s}return t.prototype.updateColors=function(e,r){this.sectors.forEach(function(i,o){i.fill=e[o%e.length],i.stroke=r[o%r.length]})},t.chartType="doughnut",t}(J0),ane=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),sne=function(n){ane(t,n);function t(e,r,i){return n.call(this,e,r,i,0,"pieTooltip")||this}return t.chartType="pie",t}(KL),lne=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),une=function(n){lne(t,n);function t(e,r,i){var o=n.call(this,e,"lineTooltip")||this;return o.data=[[9,7,8,5,6],[5,6,3,4,1],[1,3,4,8,7]],o.lines=ex(o.root,o.data,o.size,o.padding),o.updateColors(r,i),o}return t.prototype.updateColors=function(e,r){this.lines.forEach(function(i,o){i.stroke=e[o]})},t.chartType="line",t}(Ni),cne=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),pne=globalThis&&globalThis.__read||function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},hne=function(n){cne(t,n);function t(e,r,i){var o=n.call(this,e,"scatterTooltip")||this,a=o.size,s=o.padding,l=[[[.3,3],[1.1,.9],[2,.4],[3.4,2.4]],[[0,.3],[1,2],[2.4,1.4],[3,0]]],u=new ur;u.domain=[-.5,4],u.range=[s*2,a-s];var c=new ur;c.domain=[-.5,3.5],c.range=[a-s,s];var p=[];l.forEach(function(d){d.forEach(function(f){var g=pne(f,2),v=g[0],m=g[1],C=new W0;C.strokeWidth=1,C.centerX=u.convert(v),C.centerY=c.convert(m),C.radiusX=C.radiusY=2.5,p.push(C)})}),o.points=p,o.updateColors(r,i);var h=new xd;return h.x=h.y=s,h.width=h.height=a-s*2,h.append(o.points),o.root.append(h),o}return t.prototype.updateColors=function(e,r){this.points.forEach(function(i,o){i.stroke=r[o%r.length],i.fill=e[o%e.length]})},t.chartType="scatter",t}(Ni),dne=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),fne=globalThis&&globalThis.__read||function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},gne=function(n){dne(t,n);function t(e,r,i){var o=n.call(this,e,"bubbleTooltip")||this,a=o.size,s=o.padding,l=[[[.1,.3,5],[.5,.4,7],[.2,.8,7]],[[.8,.7,5],[.7,.3,9]]],u=new ur;u.domain=[0,1],u.range=[s*2,a-s];var c=new ur;c.domain=[0,1],c.range=[a-s,s];var p=[];l.forEach(function(d){d.forEach(function(f){var g=fne(f,3),v=g[0],m=g[1],C=g[2],b=new W0;b.strokeWidth=1,b.centerX=u.convert(v),b.centerY=c.convert(m),b.radiusX=b.radiusY=C,b.fillOpacity=.7,p.push(b)})}),o.points=p,o.updateColors(r,i);var h=new xd;return h.x=s,h.y=s,h.width=a-s*2,h.height=a-s*2,h.append(o.points),o.root.append(h),o}return t.prototype.updateColors=function(e,r){this.points.forEach(function(i,o){i.stroke=r[o%r.length],i.fill=e[o%e.length]})},t.chartType="bubble",t}(Ni),vne=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),mne=function(n){vne(t,n);function t(e,r,i,o){o===void 0&&(o=t.data);var a=n.call(this,e,"groupedAreaTooltip")||this,s=a.size,l=a.padding,u=new Zo;u.domain=[0,1,2],u.paddingInner=1,u.paddingOuter=0,u.range=[l+.5,s-l-.5];var c=new ur;c.domain=[0,6],c.range=[s-l+.5,l];var p=o.length,h=p*2-1,d=[],f=c.convert(0);return o.forEach(function(g,v){var m=u.convert(v);g.forEach(function(C,b){var w=c.convert(C),S=d[b]||(d[b]=[]);S[v]={x:m,y:w},S[h-v]={x:m,y:f}})}),a.areas=d.reverse().map(function(g){var v=new Mn;v.strokeWidth=1,v.fillOpacity=.7;var m=v.path;return m.clear(),g.forEach(function(C,b){return m[b>0?"lineTo":"moveTo"](C.x,C.y)}),m.closePath(),v}),a.updateColors(r,i),a.root.append(a.areas),a}return t.prototype.updateColors=function(e,r){this.areas.forEach(function(i,o){i.fill=e[o],i.stroke=r[o]})},t.chartType="area",t.data=[[1,3,5],[2,6,4],[5,3,1]],t}(Ni),yne=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),o_=function(n){yne(t,n);function t(e,r,i,o,a){o===void 0&&(o=t.data),a===void 0&&(a="stackedAreaTooltip");var s=n.call(this,e,a)||this,l=s.size,u=s.padding,c=new Zo;c.domain=[0,1,2],c.paddingInner=1,c.paddingOuter=0,c.range=[u+.5,l-u-.5];var p=new ur;p.domain=[0,16],p.range=[l-u+.5,u+.5];var h=o.length,d=h*2-1,f=[];return o.forEach(function(g,v){var m=c.convert(v),C=0;g.forEach(function(b,w){var S=p.convert(C+b),T=f[w]||(f[w]=[]);T[v]={x:m,y:S},T[d-v]={x:m,y:p.convert(C)},C+=b})}),s.areas=f.map(function(g){var v=new Mn;v.strokeWidth=1;var m=v.path;return m.clear(),g.forEach(function(C,b){return m[b>0?"lineTo":"moveTo"](C.x,C.y)}),m.closePath(),v}),s.updateColors(r,i),s.root.append(s.areas),s}return t.prototype.updateColors=function(e,r){this.areas.forEach(function(i,o){i.fill=e[o],i.stroke=r[o]})},t.chartType="stackedArea",t.data=[[2,3,2],[3,6,5],[6,2,2]],t}(Ni),Cne=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),bne=function(n){Cne(t,n);function t(e,r,i,o){return o===void 0&&(o=t.data),n.call(this,e,r,i,o,"normalizedAreaTooltip")||this}return t.chartType="normalizedArea",t.data=o_.data.map(function(e){var r=e.reduce(function(i,o){return i+o},0);return e.map(function(i){return i/r*16})}),t}(o_),wne=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),gR=globalThis&&globalThis.__read||function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},_ne=function(n){wne(t,n);function t(e,r,i){var o=n.call(this,e,"histogramTooltip")||this,a=o.padding,s=o.size,l=[2,5,11,13,10,6,1],u=new ur;u.domain=[0,l.length],u.range=[a,s-a];var c=new ur;c.domain=[0,l.reduce(function(h,d){return Math.max(h,d)},0)],c.range=[s-a,a];var p=c.convert(0);return o.bars=l.map(function(h,d){var f=c.convert(h),g=u.convert(d),v=u.convert(d+1),m=new Na;return m.x=g,m.y=f,m.width=v-g,m.height=p-f,m.strokeWidth=1,m.crisp=!0,m}),o.updateColors(r,i),o.root.append(o.bars),o}return t.prototype.updateColors=function(e,r){var i=gR(e,1),o=i[0],a=gR(r,1),s=a[0];this.bars.forEach(function(l){l.fill=o,l.stroke=s})},t.chartType="histogram",t}(Ni),Sne=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),xne=function(n){Sne(t,n);function t(e,r,i){var o=n.call(this,e,"columnLineComboTooltip")||this;o.columnData=[3,4],o.lineData=[[5,4,6,5,4]];var a=o,s=a.root,l=a.columnData,u=a.lineData,c=a.size,p=a.padding;return o.columns=Ed({stacked:!1,root:s,data:l,size:c,padding:p,xScaleDomain:[0,1],yScaleDomain:[0,4],xScalePadding:.5}),s.append(o.columns),o.lines=ex(s,u,c,p),o.updateColors(r,i),o}return t.prototype.updateColors=function(e,r){this.columns.forEach(function(i,o){i.fill=e[o],i.stroke=r[o]}),this.lines.forEach(function(i,o){i.stroke=e[o+2]})},t.chartType="columnLineCombo",t}(Ni),Tne=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),One=function(n){Tne(t,n);function t(e,r,i){var o=n.call(this,e,"areaColumnComboTooltip")||this;o.columnData=[3,4.5],o.areaData=[[5,4,6,5,4]];var a=o,s=a.root,l=a.columnData,u=a.areaData,c=a.size,p=a.padding;o.columns=Ed({stacked:!1,root:s,data:l,size:c,padding:p,xScaleDomain:[0,1],yScaleDomain:[0,6],xScalePadding:.5});var h=new Zo;h.range=[p,c-p],h.domain=[0,1,2,3,4],h.paddingInner=1,h.paddingOuter=0;var d=new ur;d.range=[c-p,p],d.domain=[0,6];var f=[],g=d.convert(0),v=h.convert(0);return u.forEach(function(m,C){var b=f[C]||(f[C]=[]);m.forEach(function(S,T){var E=S,P=T,R=h.convert(P),M=d.convert(E);b[T]={x:R,y:M}});var w=h.convert(m.length-1);f[C].push({x:w,y:g},{x:v,y:g})}),o.areas=f.map(function(m){var C=new Mn;C.strokeWidth=1,C.fillOpacity=.8;var b=C.path;return m.forEach(function(w,S){return b[S>0?"lineTo":"moveTo"](w.x,w.y)}),C}),s.append(o.areas),s.append([].concat.apply([],o.columns)),o.updateColors(r,i),o}return t.prototype.updateColors=function(e,r){this.areas.forEach(function(i,o){i.fill=e[o],i.stroke=r[o]}),this.columns.forEach(function(i,o){i.fill=e[o+1],i.stroke=r[o+1]})},t.chartType="areaColumnCombo",t}(Ni),Ene=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),vR=function(n){Ene(t,n);function t(e,r,i){var o=n.call(this,e,"customComboTooltip")||this;o.columnData=[3,4],o.lineData=[[5,4,6,5,4]];var a=o,s=a.root,l=a.columnData,u=a.lineData,c=a.size,p=a.padding;o.columns=Ed({stacked:!1,root:s,data:l,size:c,padding:p,xScaleDomain:[0,1],yScaleDomain:[0,4],xScalePadding:.5}),s.append(o.columns),o.lines=ex(s,u,c,p);var h="grey",d=3,f=new eo;f.x1=p,f.y1=p,f.x2=p,f.y2=c-p+d,f.stroke=h;var g=new eo;g.x1=p-d+1,g.y1=c-p,g.x2=c-p+1,g.y2=c-p,g.stroke=h;var v=new Mn;return v.svgPath="M25.76,43.46l5.51,5.07M49.86,22a3.26,3.26,0,0,0-3-.59,6.78,6.78,0,0,0-3.35,2.14l-18,20.25-.08.09-2.42,8-.18.57,8.19-3.6,18-20.34a6.83,6.83,0,0,0,1.73-3.59A3.29,3.29,0,0,0,49.86,22Zm-8.1,3.5,5.58,5m-6.6-3.85,5.51,5.06",v.fill="whitesmoke",v.stroke="darkslategrey",v.strokeWidth=1,s.append([g,f,v]),o.updateColors(r,i),o}return t.prototype.updateColors=function(e,r){this.columns.forEach(function(i,o){i.fill=e[o],i.stroke=r[o]}),this.lines.forEach(function(i,o){i.stroke=e[o+2]})},t.chartType="customCombo",t}(J0),Rne=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),mR=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Pne=function(n){Rne(t,n);function t(e,r,i){var o=n.call(this,t.TEMPLATE)||this;return o.wrappers={},o.chartGroups={columnGroup:[Xre,zL,Qre],barGroup:[ene,$L,nne],pieGroup:[sne,KL],lineGroup:[une],scatterGroup:[hne,gne],areaGroup:[mne,o_,bne],histogramGroup:[_ne],combinationGroup:[xne,One,vR]},o.chartController=e,o.fills=r,o.strokes=i,o}return t.prototype.init=function(){var e=this;this.chartController.customComboExists()||(this.chartGroups.combinationGroup=this.chartGroups.combinationGroup.filter(function(i){return i!==vR}));var r=this.getGui();Object.keys(this.chartGroups).forEach(function(i){var o=e.chartGroups[i],a=e.createBean(new qi({title:e.chartTranslationService.translate(i),suppressEnabledCheckbox:!0,enabled:!0,suppressOpenCloseIcons:!0,cssIdentifier:"charts-settings",direction:"horizontal"}));o.forEach(function(s){var l=document.createElement("div");l.classList.add("ag-chart-mini-thumbnail"),e.addManagedListener(l,"click",function(){e.chartController.setChartType(s.chartType),e.updateSelectedMiniChart()}),e.wrappers[s.chartType]=l,e.createBean(new s(l,e.fills,e.strokes)),a.addItem(l)}),r.appendChild(a.getGui())}),this.updateSelectedMiniChart()},t.prototype.updateSelectedMiniChart=function(){var e=this.chartController.getChartType();for(var r in this.wrappers){var i=this.wrappers[r],o=r===e;i.classList.toggle("ag-selected",o)}},t.TEMPLATE='<div class="ag-chart-settings-mini-wrapper"></div>',mR([y("chartTranslationService")],t.prototype,"chartTranslationService",void 0),mR([H],t.prototype,"init",null),t}(te),Ane=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),vl=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Dne=function(n){Ane(t,n);function t(e){var r=n.call(this,t.TEMPLATE)||this;return r.miniCharts=[],r.cardItems=[],r.activePaletteIndex=0,r.palettes=[],r.themes=[],r.chartController=e,r}return t.prototype.postConstruct=function(){var e=this;this.resetPalettes(),this.ePrevBtn.insertAdjacentElement("afterbegin",_.createIconNoSpan("previous",this.gridOptionsWrapper)),this.eNextBtn.insertAdjacentElement("afterbegin",_.createIconNoSpan("next",this.gridOptionsWrapper)),this.addManagedListener(this.ePrevBtn,"click",function(){return e.setActivePalette(e.getPrev(),"left")}),this.addManagedListener(this.eNextBtn,"click",function(){return e.setActivePalette(e.getNext(),"right")}),this.addManagedListener(this.chartController,nu.EVENT_CHART_TYPE_CHANGED,function(){return e.resetPalettes(!0)}),this.scrollSelectedIntoView()},t.prototype.scrollSelectedIntoView=function(){var e=this;setTimeout(function(){var r=e.miniCharts.find(function(o){return!o.getGui().classList.contains("ag-hidden")}),i=r.getGui().querySelector(".ag-selected");i&&i.scrollIntoView({block:"nearest"})},250)},t.prototype.resetPalettes=function(e){var r=this,i=this.chartController.getPalettes();_.shallowCompare(i,this.palettes)&&!e||this.isAnimating||(this.palettes=i,this.themes=this.chartController.getThemes(),this.activePaletteIndex=this.themes.findIndex(function(o){return o===r.chartController.getChartThemeName()}),this.cardItems=[],_.clearElement(this.eCardSelector),this.destroyMiniCharts(),this.palettes.forEach(function(o,a){var s=r.activePaletteIndex===a,l=o.fills,u=o.strokes,c=r.createBean(new Pne(r.chartController,l,u));r.miniCharts.push(c),r.eMiniChartsContainer.appendChild(c.getGui()),r.addCardLink(a),s?c.updateSelectedMiniChart():c.addCssClass("ag-hidden")}),this.eNavBar.classList.toggle("ag-hidden",this.palettes.length<=1),_.radioCssClass(this.cardItems[this.activePaletteIndex],"ag-selected","ag-not-selected"))},t.prototype.addCardLink=function(e){var r=this,i=document.createElement("div");i.classList.add("ag-chart-settings-card-item"),this.addManagedListener(i,"click",function(){r.setActivePalette(e,e<r.activePaletteIndex?"left":"right")}),this.eCardSelector.appendChild(i),this.cardItems.push(i)},t.prototype.getPrev=function(){var e=this.activePaletteIndex-1;return e<0&&(e=this.palettes.length-1),e},t.prototype.getNext=function(){var e=this.activePaletteIndex+1;return e>=this.palettes.length&&(e=0),e},t.prototype.setActivePalette=function(e,r){var i=this;if(!(this.isAnimating||this.activePaletteIndex===e)){_.radioCssClass(this.cardItems[e],"ag-selected","ag-not-selected");var o=this.miniCharts[this.activePaletteIndex],a=o.getGui(),s=this.miniCharts[e],l=s.getGui();o.updateSelectedMiniChart(),s.updateSelectedMiniChart();var u=r==="left"?-1:1,c=l.style.left=_.getAbsoluteWidth(this.getGui())*u+"px";this.activePaletteIndex=e,this.isAnimating=!0;var p="ag-animating";s.removeCssClass("ag-hidden"),o.addCssClass(p),s.addCssClass(p),this.chartController.setChartThemeName(this.themes[e]),window.setTimeout(function(){a.style.left=-parseFloat(c)+"px",l.style.left="0px"},0),window.setTimeout(function(){i.isAnimating=!1,o.removeCssClass(p),s.removeCssClass(p),o.addCssClass("ag-hidden")},300)}},t.prototype.destroyMiniCharts=function(){_.clearElement(this.eMiniChartsContainer),this.miniCharts=this.destroyBeans(this.miniCharts)},t.prototype.destroy=function(){this.destroyMiniCharts(),n.prototype.destroy.call(this)},t.TEMPLATE=`<div class="ag-chart-settings-wrapper">
            <div ref="eMiniChartsContainer" class="ag-chart-settings-mini-charts-container ag-scrollable-container"></div>
            <div ref="eNavBar" class="ag-chart-settings-nav-bar">
                <div ref="ePrevBtn" class="ag-chart-settings-prev">
                    <button type="button" class="ag-chart-settings-prev-button"></button>
                </div>
                <div ref="eCardSelector" class="ag-chart-settings-card-selector"></div>
                <div ref="eNextBtn" class="ag-chart-settings-next">
                    <button type="button" class="ag-chart-settings-next-button"></button>
                </div>
            </div>
        </div>`,vl([y("resizeObserverService")],t.prototype,"resizeObserverService",void 0),vl([I("eMiniChartsContainer")],t.prototype,"eMiniChartsContainer",void 0),vl([I("eNavBar")],t.prototype,"eNavBar",void 0),vl([I("eCardSelector")],t.prototype,"eCardSelector",void 0),vl([I("ePrevBtn")],t.prototype,"ePrevBtn",void 0),vl([I("eNextBtn")],t.prototype,"eNextBtn",void 0),vl([H],t.prototype,"postConstruct",null),t}(te),Mne=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),yR=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Fne=function(n){Mne(t,n);function t(e){var r=n.call(this)||this;r.tabs=[];var i=e.controller,o=e.panels,a=e.chartOptionsService;return r.chartController=i,r.chartOptionsService=a,r.panels=o,r}return t.prototype.init=function(){var e=this;this.panels.forEach(function(r){var i=r.replace("chart","").toLowerCase(),o=e.createTab(r,i,e.getPanelClass(i)),a=o.comp,s=o.tab;e.tabs.push(s),e.addDestroyFunc(function(){return e.destroyBean(a)})}),this.tabbedLayout=new $S({items:this.tabs,cssClass:"ag-chart-tabbed-menu",keepScrollPosition:!0}),this.getContext().createBean(this.tabbedLayout)},t.prototype.createTab=function(e,r,i){var o=document.createElement("div");o.classList.add("ag-chart-tab","ag-chart-"+r);var a=new i(this.chartController,this.chartOptionsService);this.getContext().createBean(a),o.appendChild(a.getGui());var s=document.createElement("div"),l=this.chartTranslationService.translate(r);return s.innerText=l,{comp:a,tab:{title:s,titleLabel:l,bodyPromise:Dt.resolve(o),getScrollableContainer:function(){var u=o.querySelector(".ag-scrollable-container");return u||o},name:e}}},t.prototype.showTab=function(e){var r=this.tabs[e];this.tabbedLayout.showItem(r)},t.prototype.getGui=function(){return this.tabbedLayout&&this.tabbedLayout.getGui()},t.prototype.destroy=function(){this.parentComponent&&this.parentComponent.isAlive()&&this.destroyBean(this.parentComponent),n.prototype.destroy.call(this)},t.prototype.getPanelClass=function(e){switch(e){case t.TAB_DATA:return yre;case t.TAB_FORMAT:return Ure;default:return Dne}},t.TAB_DATA="data",t.TAB_FORMAT="format",yR([y("chartTranslationService")],t.prototype,"chartTranslationService",void 0),yR([H],t.prototype,"init",null),t}(te),Ine=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),CR=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Lne=globalThis&&globalThis.__read||function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},bR=function(n){Ine(t,n);function t(e,r,i,o){var a=n.call(this,t.TEMPLATE)||this;return a.eChartContainer=e,a.eMenuPanelContainer=r,a.chartController=i,a.chartOptionsService=o,a.buttons={chartSettings:["menu",function(){return a.showMenu("chartSettings")}],chartData:["menu",function(){return a.showMenu("chartData")}],chartFormat:["menu",function(){return a.showMenu("chartFormat")}],chartLink:["linked",function(s){return a.toggleDetached(s)}],chartUnlink:["unlinked",function(s){return a.toggleDetached(s)}],chartDownload:["save",function(){return a.saveChart()}]},a.tabs=[],a.menuVisible=!1,a}return t.prototype.postConstruct=function(){this.createButtons(),this.refreshMenuClasses()},t.prototype.isVisible=function(){return this.menuVisible},t.prototype.getToolbarOptions=function(){var e=this,r=["chartSettings","chartData","chartFormat",this.chartController.isChartLinked()?"chartLink":"chartUnlink","chartDownload"],i=this.gridOptionsWrapper.getChartToolbarItemsFunc();if(i){var o={defaultItems:r};r=i(o).filter(function(s){return e.buttons[s]?!0:(console.warn("AG Grid: '"+s+" is not a valid Chart Toolbar Option"),!1)})}this.chartController.isPivotChart()&&(r=r.filter(function(s){return s!=="chartData"}));var a=["chartUnlink","chartLink","chartDownload"];return this.tabs=r.filter(function(s){return a.indexOf(s)===-1}),r.filter(function(s){return a.indexOf(s)!==-1||e.tabs.length&&s===e.tabs[0]})},t.prototype.toggleDetached=function(e){var r=e.target,i=r.classList.contains("ag-icon-linked");r.classList.toggle("ag-icon-linked",!i),r.classList.toggle("ag-icon-unlinked",i);var o=i?"chartUnlinkToolbarTooltip":"chartLinkToolbarTooltip",a=this.chartTranslationService.translate(o);a&&(r.title=a),this.chartController.detachChartRange()},t.prototype.createButtons=function(){var e=this,r=this.getToolbarOptions(),i=this.getGui();r.forEach(function(o){var a=e.buttons[o],s=Lne(a,2),l=s[0],u=s[1],c=_.createIconNoSpan(l,e.gridOptionsWrapper,void 0,!0);c.classList.add("ag-chart-menu-icon");var p=e.chartTranslationService.translate(o+"ToolbarTooltip");p&&(c.title=p),e.addManagedListener(c,"click",u),i.appendChild(c)})},t.prototype.saveChart=function(){var e={type:t.EVENT_DOWNLOAD_CHART};this.dispatchEvent(e)},t.prototype.createMenuPanel=function(e){var r=this,i=this.gridOptionsWrapper.chartMenuPanelWidth(),o=this.menuPanel=this.createBean(new fm({minWidth:i,width:i,height:"100%",closable:!0,hideTitleBar:!0,cssIdentifier:"chart-menu"}));return o.setParentComponent(this),this.eMenuPanelContainer.appendChild(o.getGui()),this.tabbedMenu=this.createBean(new Fne({controller:this.chartController,type:this.chartController.getChartType(),panels:this.tabs,chartOptionsService:this.chartOptionsService})),this.addManagedListener(o,te.EVENT_DESTROYED,function(){return r.destroyBean(r.tabbedMenu)}),new Dt(function(a){window.setTimeout(function(){o.setBodyComponent(r.tabbedMenu),r.tabbedMenu.showTab(e),r.addManagedListener(r.eChartContainer,"click",function(s){r.getGui().contains(s.target)||r.menuVisible&&r.hideMenu()}),a(o)},100)})},t.prototype.showContainer=function(){!this.menuPanel||(this.menuVisible=!0,this.showParent(this.menuPanel.getWidth()),this.refreshMenuClasses())},t.prototype.showMenu=function(e){var r=this.tabs.indexOf(e);this.menuPanel?this.showContainer():this.createMenuPanel(r).then(this.showContainer.bind(this))},t.prototype.hideMenu=function(){var e=this;this.hideParent(),window.setTimeout(function(){e.menuVisible=!1,e.refreshMenuClasses()},500)},t.prototype.refreshMenuClasses=function(){this.eChartContainer.classList.toggle("ag-chart-menu-visible",this.menuVisible),this.eChartContainer.classList.toggle("ag-chart-menu-hidden",!this.menuVisible)},t.prototype.showParent=function(e){this.eMenuPanelContainer.style.minWidth=e+"px"},t.prototype.hideParent=function(){this.eMenuPanelContainer.style.minWidth="0"},t.prototype.destroy=function(){n.prototype.destroy.call(this),this.menuPanel&&this.menuPanel.isAlive()&&this.destroyBean(this.menuPanel)},t.EVENT_DOWNLOAD_CHART="downloadChart",t.TEMPLATE='<div class="ag-chart-menu"></div>',CR([y("chartTranslationService")],t.prototype,"chartTranslationService",void 0),CR([H],t.prototype,"postConstruct",null),t}(te),Nne=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Gv=globalThis&&globalThis.__assign||function(){return Gv=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Gv.apply(this,arguments)},wR=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},kne=function(n){Nne(t,n);function t(e){var r=n.call(this,t.TEMPLATE)||this;return r.chartMenu=e,r}return t.prototype.init=function(){var e=this;this.addManagedListener(this.getGui(),"keypress",function(r){r.key==="Enter"&&e.endEditing()}),this.addManagedListener(this.getGui(),"blur",this.endEditing.bind(this))},t.prototype.refreshTitle=function(e,r){var i=this;this.chartController=e,this.chartOptionsService=r;var o=this.chartController.getChartProxy();if(o){for(var a=0;a++;a<this.destroyableChartListeners.length)this.destroyableChartListeners[a]();this.destroyableChartListeners=[]}var s=o.getChart(),l=s.scene.canvas.element,u=this.addManagedListener(l,"dblclick",function(h){var d=s.title;if(d&&d.node.containsPoint(h.offsetX,h.offsetY)){var f=d.node.computeBBox(),g=d.node.inverseTransformPoint(f.x,f.y);i.startEditing(Gv(Gv({},f),g))}}),c=!1,p=this.addManagedListener(l,"mousemove",function(h){var d=s.title,f=!!(d&&d.enabled&&d.node.containsPoint(h.offsetX,h.offsetY));c!==f&&(l.style.cursor=f?"pointer":""),c=f});this.destroyableChartListeners=[u,p]},t.prototype.startEditing=function(e){if(!(this.chartMenu&&this.chartMenu.isVisible())){var r=300,i=this.chartController.getChartProxy().getChart().width,o=Math.max(Math.min(e.width+20,i),r),a=this.getGui();a.classList.add("currently-editing");var s=a.style;s.fontFamily=this.chartOptionsService.getChartOption("title.fontFamily"),s.fontWeight=this.chartOptionsService.getChartOption("title.fontWeight"),s.fontStyle=this.chartOptionsService.getChartOption("title.fontStyle"),s.fontSize=this.chartOptionsService.getChartOption("title.fontSize")+"px",s.color=this.chartOptionsService.getChartOption("title.color");var l=this.chartOptionsService.getChartOption("title.text"),u=l===this.chartTranslationService.translate("titlePlaceholder")?"":l;a.value=u;var c=a.getBoundingClientRect();s.left=Math.round(e.x+e.width/2-o/2)+"px",s.top=Math.round(e.y+e.height/2-c.height/2)+"px",s.width=Math.round(o)+"px",a.focus()}},t.prototype.endEditing=function(){var e=this.getGui().value;this.chartOptionsService.setChartOption("title.text",e),this.eventService.dispatchEvent({type:"chartTitleEdit"}),this.removeCssClass("currently-editing")},t.TEMPLATE=`<input
            class="ag-chart-title-edit"
            style="padding:0; border:none; border-radius: 0; min-height: 0; text-align: center;" />
        `,wR([y("chartTranslationService")],t.prototype,"chartTranslationService",void 0),wR([H],t.prototype,"init",null),t}(te);function Gne(n){return Array.isArray(n)?[]:{}}function Jh(n,t){return t.clone!==!1&&t.isMergeableObject(n)?rr(Gne(n),n,t):n}function Bne(n,t,e){return n.concat(t).map(function(r){return Jh(r,e)})}function Vne(n,t){if(!t.customMerge)return rr;var e=t.customMerge(n);return typeof e=="function"?e:rr}function Wne(n){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(n).filter(function(t){return n.propertyIsEnumerable(t)}):[]}function _R(n){return Object.keys(n).concat(Wne(n))}function YL(n,t){try{return t in n}catch{return!1}}function Hne(n,t){return YL(n,t)&&!(Object.hasOwnProperty.call(n,t)&&Object.propertyIsEnumerable.call(n,t))}function jne(n,t,e){var r={};return e.isMergeableObject(n)&&_R(n).forEach(function(i){r[i]=Jh(n[i],e)}),_R(t).forEach(function(i){Hne(n,i)||(YL(n,i)&&e.isMergeableObject(t[i])?r[i]=Vne(i,e)(n[i],t[i],e):r[i]=Jh(t[i],e))}),r}function Une(n){return zne(n)&&!$ne(n)}function zne(n){return!!n&&typeof n=="object"}function $ne(n){var t=Object.prototype.toString.call(n);return t==="[object RegExp]"||t==="[object Date]"}function rr(n,t,e){e=e||{},e.arrayMerge=e.arrayMerge||Bne,e.isMergeableObject=e.isMergeableObject||Une,e.cloneUnlessOtherwiseSpecified=Jh;var r=Array.isArray(t),i=Array.isArray(n),o=r===i;return o?r?e.arrayMerge(n,t,e):jne(n,t,e):Jh(t,e)}var Oh=globalThis&&globalThis.__assign||function(){return Oh=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Oh.apply(this,arguments)},XL=function(){function n(t){if(this.chartProxyParams=t,this.chartType=t.chartType,this.crossFiltering=t.crossFiltering,this.crossFilterCallback=t.crossFilterCallback,this.standaloneChartType=zo(this.chartType),this.chartProxyParams.chartOptionsToRestore){this.chartOptions=this.chartProxyParams.chartOptionsToRestore,this.chartPalette=this.chartProxyParams.chartPaletteToRestore;var e={overrides:this.chartOptions,palette:this.chartPalette};this.chartTheme=xc(Oh({baseTheme:this.getSelectedTheme()},e));return}this.chartTheme=this.createChartTheme(),this.chartOptions=this.convertConfigToOverrides(this.chartTheme.config),this.chartPalette=this.chartTheme.palette}return n.prototype.recreateChart=function(){var t=this;if(this.chart&&this.destroyChart(),this.chart=this.createChart(),this.crossFiltering){var e=!0;this.chart.addEventListener("click",function(r){return t.crossFilterCallback(r,e)})}},n.prototype.getChart=function(){return this.chart},n.prototype.createChartTheme=function(){var t=this,e=this.getSelectedTheme(),r=this.isStockTheme(e),i=this.chartProxyParams.getGridOptionsChartThemeOverrides(),o=this.chartProxyParams.apiChartThemeOverrides;if(i||o){var a={overrides:n.mergeThemeOverrides(i,o)},s=function(){return rr(t.lookupCustomChartTheme(e),a)};return xc(r?Oh({baseTheme:e},a):s())}return xc(r?e:this.lookupCustomChartTheme(e))},n.prototype.isStockTheme=function(t){return _.includes(Object.keys(kL),t)},n.prototype.getSelectedTheme=function(){var t=this.chartProxyParams.getChartThemeName(),e=this.chartProxyParams.getChartThemes();return _.includes(e,t)||(t=e[0]),t},n.prototype.lookupCustomChartTheme=function(t){var e=this.chartProxyParams.customChartThemes,r=e&&e[t];return r||console.warn("AG Grid: no stock theme exists with the name '"+t+"' and no custom chart theme with that name was supplied to 'customChartThemes'"),r},n.mergeThemeOverrides=function(t,e){return t?e?rr(t,e):t:e},n.prototype.downloadChart=function(){var t=this.chart,e=t.title?t.title.text:"chart";t.scene.download(e)},n.prototype.getChartImageDataURL=function(t){return this.chart.scene.getDataURL(t)},n.prototype.getChartOptions=function(){return this.chartOptions},n.prototype.getChartPalette=function(){return this.chartPalette},n.prototype.transformData=function(t,e){var r=this.chartProxyParams.grouping||this.chart.axes.filter(function(i){return i instanceof eu}).length<1;return r?t:t.map(function(i,o){var a=i[e],s=a&&a.toString?a.toString():"",l=Oh({},i);return l[e]={id:o,value:a,toString:function(){return s}},l})},n.prototype.convertConfigToOverrides=function(t){var e=["columnLineCombo","areaColumnCombo","customCombo"].includes(this.chartType),r=e?["line","area","column","cartesian"]:[this.standaloneChartType],i={};return r.forEach(function(o){var a=rr({},t[o]);a.series=a.series[o],o==="scatter"&&(a.paired=!0),i[o]=a}),i},n.prototype.destroy=function(){this.destroyChart()},n.prototype.destroyChart=function(){this.chart&&(this.chart.destroy(),this.chart=void 0)},n}(),Kne=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),up=function(n){Kne(t,n);function t(e){var r=n.call(this,e)||this;return r.axisTypeToClassMap={number:op,category:eu,groupedCategory:Vc,time:qh},r}return t.prototype.updateAxes=function(e){if(e.grouping){this.axisTypeToClassMap[this.xAxisType]!==Vc&&(this.xAxisType="groupedCategory",this.recreateChart());return}var r=t.isTimeAxis(e)?"time":"category";r!==this.xAxisType&&(this.xAxisType=r,this.recreateChart())},t.prototype.getAxesOptions=function(e){return e===void 0&&(e=this.standaloneChartType),this.chartOptions[e].axes},t.prototype.processDataForCrossFiltering=function(e,r,i){var o=r,a=!1;if(this.crossFiltering){e.forEach(function(l){l[r+"-total"]=l[r]+l[r+"-filtered-out"],l[r+"-filtered-out"]>0&&(a=!0)});var s=i.getCrossFilteringContext().lastSelectedChartId;s===i.chartId&&(o=r+"-total")}return{yKey:o,atLeastOneSelectedPoint:a}},t.prototype.updateSeriesForCrossFiltering=function(e,r,i,o,a){if(this.crossFiltering){e.marker.enabled=!0,e.marker.formatter=function(c){return{fill:c.highlighted?"yellow":c.fill,size:c.highlighted?12:c.datum[r]>0?8:0}},i.tooltip.delay=500;var s=o.getCrossFilteringContext(),l=s.lastSelectedChartId===o.chartId,u=l&&a;e instanceof $0&&(e.fillOpacity=u?.3:1),e instanceof X0&&(e.strokeOpacity=u?.3:1),e.addEventListener("nodeClick",this.crossFilterCallback)}},t.isTimeAxis=function(e){if(e.category&&e.category.chartDataType)return e.category.chartDataType==="time";var r=e.data[0];return(r&&r[e.category.id])instanceof Date},t}(XL);function jc(n,t){var e=parseInt(n.slice(1,3),16),r=parseInt(n.slice(3,5),16),i=parseInt(n.slice(5,7),16);return t?"rgba("+e+", "+r+", "+i+", "+t+")":"rgba("+e+", "+r+", "+i+")"}function ob(n,t){return n.map(function(e){var r=ds.fromString(e);return new ds(r.r,r.g,r.b,t).toHexString()})}var Yne=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),ji=globalThis&&globalThis.__assign||function(){return ji=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},ji.apply(this,arguments)},Xne=globalThis&&globalThis.__read||function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},qne=function(n){Yne(t,n);function t(e){var r=n.call(this,e)||this;return r.xAxisType=e.grouping?"groupedCategory":"category",r.yAxisType="number",r.recreateChart(),r}return t.prototype.createChart=function(){var e=Xne([this.standaloneChartType==="bar",this.isNormalised()],2),r=e[0],i=e[1];return pn.create({container:this.chartProxyParams.parentElement,theme:this.chartTheme,axes:this.getAxes(r,i),series:this.getSeries(i)})},t.prototype.update=function(e){this.updateAxes(e);var r=this.chart.series[0];this.crossFiltering?this.updateCrossFilteringSeries(r,e):(r.fills=this.chartTheme.palette.fills,r.strokes=this.chartTheme.palette.strokes),r.data=this.transformData(e.data,e.category.id),r.xKey=e.category.id,r.xName=e.category.name,r.yKeys=e.fields.map(function(i){return i.colId}),r.yNames=e.fields.map(function(i){return i.displayName})},t.prototype.updateCrossFilteringSeries=function(e,r){var i=r.fields;i.forEach(function(u){var c=ji({},u);c.colId=u.colId+"-filtered-out",i.push(c)});var o=this.chartTheme.palette,a=[];o.fills.forEach(function(u){a.push(u),a.push(jc(u,"0.3"))}),e.fills=a;var s=[];o.strokes.forEach(function(u){a.push(u),a.push(jc(u,"0.3"))}),e.strokes=s,e.highlightStyle.fill=void 0;var l=r.fields.map(function(u){return u.colId});e.hideInLegend=l.filter(function(u){return u.indexOf("-filtered-out")!==-1}),this.chart.legend.addEventListener("click",function(u){e.toggleSeriesItem(u.itemId+"-filtered-out",u.enabled)}),this.chart.tooltip.delay=500,e.addEventListener("nodeClick",this.crossFilterCallback)},t.prototype.getAxes=function(e,r){var i=this.getAxesOptions(),o=[ji(ji({},rr(i[this.xAxisType],i[this.xAxisType].bottom)),{type:this.xAxisType,position:e?Me.Left:Me.Bottom}),ji(ji({},rr(i[this.yAxisType],i[this.yAxisType].left)),{type:this.yAxisType,position:e?Me.Bottom:Me.Left})];if(r){var a=o[1];a.label=ji(ji({},a.label),{formatter:function(s){return Math.round(s.value)+"%"}})}return o},t.prototype.getSeries=function(e){var r=["groupedColumn","groupedBar"],i=!this.crossFiltering&&_.includes(r,this.chartType);return[ji(ji({},this.chartOptions[this.standaloneChartType].series),{type:this.standaloneChartType,grouped:i,normalizedTo:e?100:void 0})]},t.prototype.isNormalised=function(){var e=["normalizedColumn","normalizedBar"];return!this.crossFiltering&&_.includes(e,this.chartType)},t}(up),Zne=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),rn=globalThis&&globalThis.__assign||function(){return rn=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},rn.apply(this,arguments)},Qne=function(n){Zne(t,n);function t(e){var r=n.call(this,e)||this;return r.xAxisType=e.grouping?"groupedCategory":"category",r.yAxisType="number",r.recreateChart(),r}return t.prototype.createChart=function(){return pn.create({type:"area",container:this.chartProxyParams.parentElement,theme:this.chartTheme,axes:this.getAxes()})},t.prototype.update=function(e){if(this.updateAxes(e),this.chartType==="area")this.updateAreaChart(e);else{var r=this.chart.series[0];if(!r){var i=rn(rn({},this.chartOptions[this.standaloneChartType].series),{type:"area",normalizedTo:this.chartType==="normalizedArea"?100:void 0});if(r=pn.createComponent(rn({},i),"area.series"),!r)return;this.chart.addSeries(r)}r.data=this.transformData(e.data,e.category.id),r.xKey=e.category.id,r.xName=e.category.name,r.yKeys=e.fields.map(function(o){return o.colId}),r.yNames=e.fields.map(function(o){return o.displayName}),r.fills=this.chartTheme.palette.fills,r.strokes=this.chartTheme.palette.strokes}},t.prototype.updateAreaChart=function(e){var r=this,i=this.chart;if(e.fields.length===0){i.removeAllSeries();return}var o=e.fields.map(function(h){return h.colId}),a=i.series.reduceRight(function(h,d,f){var g=d.yKeys[0];return o.indexOf(g)===f?h.set(g,d):i.removeSeries(d),h},new Map),s=this.transformData(e.data,e.category.id),l,u=this.chartTheme.palette,c=u.fills,p=u.strokes;e.fields.forEach(function(h,d){var f=r.processDataForCrossFiltering(s,h.colId,e),g=f.yKey,v=f.atLeastOneSelectedPoint,m=a.get(h.colId),C=c[d%c.length],b=p[d%p.length];if(m)m.data=s,m.xKey=e.category.id,m.xName=e.category.name,m.yKeys=[g],m.yNames=[h.displayName],m.fills=[C],m.strokes=[b];else{var w=r.chartOptions[r.standaloneChartType].series,S=rn(rn({},w),{type:"area",normalizedTo:r.chartType==="normalizedArea"?100:void 0}),T=rn(rn({},S),{data:s,xKey:e.category.id,xName:e.category.name,yKeys:[g],yNames:[h.displayName],fills:[C],strokes:[b],marker:rn(rn({},S.marker),{fill:C,stroke:b})});m=pn.createComponent(T,"area.series"),i.addSeriesAfter(m,l)}r.updateSeriesForCrossFiltering(m,h.colId,i,e,v),l=m})},t.prototype.getAxes=function(){var e=this.getAxesOptions(),r=[rn(rn({},rr(e[this.xAxisType],e[this.xAxisType].bottom)),{type:this.xAxisType,position:Me.Bottom,paddingInner:1,paddingOuter:0}),rn(rn({},rr(e[this.yAxisType],e[this.yAxisType].left)),{type:this.yAxisType,position:Me.Left})];return this.xAxisType==="time"&&(delete r[0].paddingInner,delete r[0].paddingOuter),r},t}(up),Jne=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),xo=globalThis&&globalThis.__assign||function(){return xo=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},xo.apply(this,arguments)},eie=function(n){Jne(t,n);function t(e){var r=n.call(this,e)||this;return r.xAxisType=e.grouping?"groupedCategory":"category",r.yAxisType="number",r.recreateChart(),r}return t.prototype.createChart=function(){return pn.create({type:"line",container:this.chartProxyParams.parentElement,theme:this.chartTheme,axes:this.getAxes()})},t.prototype.update=function(e){var r=this;if(e.fields.length===0){this.chart.removeAllSeries();return}this.updateAxes(e);var i=this.chart,o=e.fields,a=o.map(function(d){return d.colId}),s=this.transformData(e.data,e.category.id),l=i.series.reduceRight(function(d,f,g){var v=f.yKey;return a.indexOf(v)===g?d.set(v,f):i.removeSeries(f),d},new Map),u,c=this.chartTheme.palette,p=c.fills,h=c.strokes;o.forEach(function(d,f){var g=r.processDataForCrossFiltering(s,d.colId,e),v=g.yKey,m=g.atLeastOneSelectedPoint,C=l.get(d.colId),b=p[f%p.length],w=h[f%h.length];if(C)C.title=d.displayName,C.data=s,C.xKey=e.category.id,C.xName=e.category.name,C.yKey=v,C.yName=d.displayName,C.marker.fill=b,C.marker.stroke=w,C.stroke=b;else{var S=r.chartOptions[r.standaloneChartType].series,T=xo(xo({},S),{type:"line",title:d.displayName,data:s,xKey:e.category.id,xName:e.category.name,yKey:v,yName:d.displayName,stroke:b,marker:xo(xo({},S.marker),{fill:b,stroke:w})});C=pn.createComponent(T,"line.series"),i.addSeriesAfter(C,u)}r.updateSeriesForCrossFiltering(C,d.colId,i,e,m),u=C})},t.prototype.getAxes=function(){var e=this.getAxesOptions();return[xo(xo({},rr(e[this.xAxisType],e[this.xAxisType].bottom)),{type:this.xAxisType,position:Me.Bottom}),xo(xo({},rr(e[this.yAxisType],e[this.yAxisType].left)),{type:this.yAxisType,position:Me.Left})]},t}(up),tie=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),qL=function(n){tie(t,n);function t(e){return n.call(this,e)||this}return t.prototype.addCrossFilteringTooltipRenderer=function(e){e.tooltip.renderer=function(r){var i=r.datum[r.labelKey],o=r.datum[r.radiusKey],a=r.angleValue,s=a*o;return{content:i+": "+s}}},t}(XL),rie=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Eh=globalThis&&globalThis.__assign||function(){return Eh=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Eh.apply(this,arguments)},nie=function(n){rie(t,n);function t(e){var r=n.call(this,e)||this;return r.recreateChart(),r}return t.prototype.createChart=function(){return pn.create({type:"pie",container:this.chartProxyParams.parentElement,theme:this.chartTheme})},t.prototype.update=function(e){var r=this.chart;if(e.fields.length===0){r.removeAllSeries();return}var i=e.fields[0],o=i;if(this.crossFiltering){var a=e.fields;a.forEach(function(h){var d=Eh({},h);d.colId=h.colId+"-filtered-out",a.push(d)});var s=a[1];e.data.forEach(function(h){h[i.colId+"-total"]=h[i.colId]+h[s.colId],h[i.colId]=h[i.colId]/h[i.colId+"-total"],h[s.colId]=1});var l=r.series[1],u=s;l=this.updateSeries(r,l,o,u,e,void 0),u=o;var c=r.series[0];this.updateSeries(r,c,o,u,e,l)}else{var p=r.series[0];this.updateSeries(r,p,o,o,e,void 0)}},t.prototype.updateSeries=function(e,r,i,o,a,s){var l=r&&r.angleKey,u=this.chartOptions[this.standaloneChartType].series,c=r;if(l!==o.colId){e.removeSeries(r);var p=Eh(Eh({},u),{type:"pie",angleKey:this.crossFiltering?i.colId+"-total":i.colId,radiusKey:this.crossFiltering?o.colId:void 0});c=pn.createComponent(p,"pie.series"),c.fills=this.chartTheme.palette.fills,c.strokes=this.chartTheme.palette.strokes,c.callout.colors=this.chartTheme.palette.strokes,this.crossFiltering&&c&&!c.tooltip.renderer&&this.addCrossFilteringTooltipRenderer(c)}if(c.angleName=o.displayName,c.labelKey=a.category.id,c.labelName=a.category.name,c.data=a.data,this.crossFiltering){c.radiusMin=0,c.radiusMax=1;var h=!s;h?(c.fills=ob(c.fills,.3),c.strokes=ob(c.strokes,.3),c.callout.colors=ob(c.strokes,.3),c.showInLegend=!1):e.legend.addEventListener("click",function(d){s&&s.toggleSeriesItem(d.itemId,d.enabled)}),e.tooltip.delay=500,c.highlightStyle.fill=void 0,c.addEventListener("nodeClick",this.crossFilterCallback)}return e.addSeries(c),c},t}(qL),iie=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Tl=globalThis&&globalThis.__assign||function(){return Tl=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Tl.apply(this,arguments)},oie=function(n){iie(t,n);function t(e){var r=n.call(this,e)||this;return r.recreateChart(),r}return t.prototype.createChart=function(){return pn.create({type:"pie",container:this.chartProxyParams.parentElement,theme:this.chartTheme})},t.prototype.update=function(e){var r=this;if(e.fields.length===0){this.chart.removeAllSeries();return}var i=this.chart,o=e.fields.map(function(h){return h.colId}),a={};i.series.forEach(function(h){var d=h,f=d.angleKey;_.includes(o,f)&&(a[f]=d)});var s=this.chartTheme.palette.fills,l=this.chartTheme.palette.strokes,u=this.chartOptions[this.standaloneChartType].series,c=e.fields.length,p=0;this.crossFiltering?e.fields.forEach(function(h,d){var f=Tl({},h);f.colId=h.colId+"-filtered-out",e.data.forEach(function(C){C[h.colId+"-total"]=C[h.colId]+C[f.colId],C[h.colId]=C[h.colId]/C[h.colId+"-total"],C[f.colId]=1});var g=r.updateSeries({seriesMap:a,angleField:h,field:f,seriesDefaults:u,index:d,params:e,fills:s,strokes:l,doughnutChart:i,offset:p,numFields:c,opaqueSeries:void 0}),v=g.updatedOffset,m=g.pieSeries;r.updateSeries({seriesMap:a,angleField:h,field:h,seriesDefaults:u,index:d,params:e,fills:s,strokes:l,doughnutChart:i,offset:p,numFields:c,opaqueSeries:m}),p=v}):e.fields.forEach(function(h,d){var f=r.updateSeries({seriesMap:a,angleField:h,field:h,seriesDefaults:u,index:d,params:e,fills:s,strokes:l,doughnutChart:i,offset:p,numFields:c,opaqueSeries:void 0}).updatedOffset;p=f}),i.series=_.values(a)},t.prototype.updateSeries=function(e){var r=e.seriesMap[e.field.colId],i=Tl(Tl({},e.seriesDefaults),{type:"pie",angleKey:this.crossFiltering?e.angleField.colId+"-total":e.angleField.colId,radiusKey:this.crossFiltering?e.field.colId:void 0,title:Tl(Tl({},e.seriesDefaults.title),{text:e.seriesDefaults.title.text||e.field.displayName})}),o=r||pn.createComponent(i,"pie.series");if(o.title&&(o.title.showInLegend=e.numFields>1),r||this.crossFiltering&&!o.tooltip.renderer&&this.addCrossFilteringTooltipRenderer(o),o.angleName=e.field.displayName,o.labelKey=e.params.category.id,o.labelName=e.params.category.name,o.data=e.params.data,this.crossFiltering){o.radiusMin=0,o.radiusMax=1;var a=!e.opaqueSeries;a?(o.fills=e.fills.map(function(l){return jc(l,"0.3")}),o.strokes=e.strokes.map(function(l){return jc(l,"0.3")}),o.showInLegend=!1):(e.doughnutChart.legend.addEventListener("click",function(l){e.opaqueSeries&&e.opaqueSeries.toggleSeriesItem(l.itemId,l.enabled)}),o.fills=e.fills,o.strokes=e.strokes,o.callout.colors=e.strokes),o.highlightStyle.fill=void 0,o.addEventListener("nodeClick",this.crossFilterCallback),e.doughnutChart.tooltip.delay=500}else o.fills=e.fills,o.strokes=e.strokes,o.callout.colors=e.strokes;var s=e.numFields>1?20:40;return o.outerRadiusOffset=e.offset,e.offset-=s,o.innerRadiusOffset=e.offset,e.offset-=s,r||(e.seriesMap[e.field.colId]=o),{updatedOffset:e.offset,pieSeries:o}},t}(qL),aie=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),sa=globalThis&&globalThis.__assign||function(){return sa=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},sa.apply(this,arguments)},sie=globalThis&&globalThis.__read||function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},SR=globalThis&&globalThis.__spread||function(){for(var n=[],t=0;t<arguments.length;t++)n=n.concat(sie(arguments[t]));return n},lie=function(n){aie(t,n);function t(e){var r=n.call(this,e)||this;return r.xAxisType="number",r.yAxisType="number",r.recreateChart(),r}return t.prototype.createChart=function(){return pn.create({type:"scatter",container:this.chartProxyParams.parentElement,theme:this.chartTheme,axes:this.getAxes()})},t.prototype.update=function(e){var r=this;if(e.fields.length<2){this.chart.removeAllSeries();return}var i=e.fields;this.crossFiltering&&i.forEach(function(C){var b=sa({},C);b.colId=C.colId+"-filtered-out",i.push(b)});var o=this.chartOptions[this.standaloneChartType].paired,a=this.getSeriesDefinitions(i,o),s;this.crossFiltering&&(s=this.getCrossFilteringDataDomain(a,e));var l=this.chart,u=l.series.reduceRight(function(C,b,w){var S=a.findIndex(function(T){return T.xField.colId===b.xKey&&T.yField.colId===b.yKey&&(!T.sizeField&&!b.sizeKey||T.sizeField&&T.sizeField.colId===b.sizeKey)});return S===w?C.set(b.yKey,b):l.removeSeries(b),C},new Map),c=this.chartTheme.palette,p=c.fills,h=c.strokes;if(this.crossFiltering){var d=[];p.forEach(function(C){d.push(C),d.push(jc(C,"0.3"))}),p=d;var f=[];h.forEach(function(C){f.push(C),f.push(jc(C,"0.3"))}),h=f}var g=e.category.id===Pm.DEFAULT_CATEGORY?void 0:e.category,v,m=this.chartOptions[this.standaloneChartType].series;a.forEach(function(C,b){var w=u.get(C.yField.colId),S=w||pn.createComponent(sa(sa({},m),{type:"scatter"}),"scatter.series");if(!!S){var T=C,E=T.xField,P=T.yField,R=T.sizeField;S.title=P.displayName+" vs "+E.displayName,S.xKey=E.colId,S.xName=E.displayName,S.yKey=P.colId,S.yName=P.displayName,S.data=e.data,S.fill=p[b%p.length],S.stroke=h[b%h.length],R?(S.sizeKey=R.colId,S.sizeName=R.displayName):S.sizeKey=void 0,g?(S.labelKey=g.id,S.labelName=g.name):S.labelKey=S.yKey;var M=P.colId.indexOf("-filtered-out")>-1;r.crossFiltering&&(M||l.legend.addEventListener("click",function(N){S.toggleSeriesItem(N.itemId+"-filtered-out",N.enabled)}),s&&(S.marker.domain=s),l.tooltip.delay=500,M&&(S.showInLegend=!1),S.addEventListener("nodeClick",r.crossFilterCallback)),w||l.addSeriesAfter(S,v),v=S}})},t.prototype.getSeriesDefinitions=function(e,r){if(e.length<2)return[];var i=this.chartType==="bubble";if(r)return i?e.map(function(a,s){return s%3===0?{xField:a,yField:e[s+1],sizeField:e[s+2]}:null}).filter(function(a){return a&&a.yField&&a.sizeField}):e.map(function(a,s){return s%2===0?{xField:a,yField:e[s+1]}:null}).filter(function(a){return a&&a.yField});var o=e[0];return i?e.map(function(a,s){return s%2===1?{xField:o,yField:a,sizeField:e[s+1]}:null}).filter(function(a){return a&&a.sizeField}):e.filter(function(a,s){return s>0}).map(function(a){return{xField:o,yField:a}})},t.prototype.getCrossFilteringDataDomain=function(e,r){var i;if(e[0]&&e[0].sizeField){var o=e[0].sizeField.colId,a=[];r.data.forEach(function(s){typeof s[o]!="undefined"&&a.push(s[o]),typeof s[o+"-filtered-out"]!="undefined"&&a.push(s[o+"-filtered-out"])}),a.length>0&&(i=[Math.min.apply(Math,SR(a)),Math.max.apply(Math,SR(a))])}return i},t.prototype.getAxes=function(){var e=this.getAxesOptions();return[sa(sa({},rr(e[this.xAxisType],e[this.xAxisType].bottom)),{type:this.xAxisType,position:Me.Bottom}),sa(sa({},rr(e[this.yAxisType],e[this.yAxisType].left)),{type:this.yAxisType,position:Me.Left})]},t}(up),uie=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),ps=globalThis&&globalThis.__assign||function(){return ps=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},ps.apply(this,arguments)},cie=globalThis&&globalThis.__read||function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},pie=function(n){uie(t,n);function t(e){var r=n.call(this,e)||this;return r.xAxisType="number",r.yAxisType="number",r.recreateChart(),r}return t.prototype.createChart=function(){return pn.create({container:this.chartProxyParams.parentElement,theme:this.chartTheme,axes:this.getAxes(),series:[ps(ps({},this.chartOptions[this.standaloneChartType].series),{type:"histogram"})]})},t.prototype.update=function(e){var r=cie(e.fields,1),i=r[0],o=this.chart,a=o.series[0];a.data=e.data,a.xKey=i.colId,a.xName=i.displayName,a.areaPlot=!1,a.fill=this.chartTheme.palette.fills[0],a.stroke=this.chartTheme.palette.strokes[0]},t.prototype.getAxes=function(){var e=this.getAxesOptions();return[ps(ps({},rr(e[this.xAxisType],e[this.xAxisType].bottom)),{type:this.xAxisType,position:Me.Bottom}),ps(ps({},rr(e[this.yAxisType],e[this.yAxisType].left)),{type:this.yAxisType,position:Me.Left})]},t}(up),hie=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),xR=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},die=function(n){hie(t,n);function t(e){var r=n.call(this)||this;return r.chartController=e,r}return t.prototype.getChartType=function(){return this.chartController.getChartType()},t.prototype.getChartOption=function(e){return _.get(this.getChart(),e,void 0)},t.prototype.setChartOption=function(e,r){var i=this;this.chartController.getChartSeriesTypes().forEach(function(o){var a=_.get(i.getChartOptions(),""+o,void 0);_.set(a,e,r)}),_.set(this.getChart(),e,r),this.raiseChartOptionsChangedEvent()},t.prototype.getAxisProperty=function(e){return _.get(this.getChart().axes[0],e,void 0)},t.prototype.setAxisProperty=function(e,r){var i=this,o=this.getChart();o.axes.forEach(function(a){i.updateAxisOptions(a,e,r),_.set(a,e,r)}),o.layoutPending=!0,this.raiseChartOptionsChangedEvent()},t.prototype.getLabelRotation=function(e){var r=this.getAxis(e);return _.get(r,"label.rotation",void 0)},t.prototype.setLabelRotation=function(e,r){var i="label.rotation",o=this.getAxis(e);_.set(o,i,r),this.getChart().layoutPending=!0,o&&!this.chartController.isDefaultCategorySelected()&&(this.updateAxisOptions(o,i,r),this.raiseChartOptionsChangedEvent())},t.prototype.getSeriesOption=function(e,r){var i=this.getChart().series.find(function(o){return t.isMatchingSeries(r,o)});return _.get(i,e,void 0)},t.prototype.setSeriesOption=function(e,r,i){var o=this.getChartOptions();o[i]||(o[i]={}),_.set(o[i].series,e,r),this.getChart().series.forEach(function(a){t.isMatchingSeries(i,a)&&_.set(a,e,r)}),this.raiseChartOptionsChangedEvent()},t.prototype.getPairedMode=function(){var e=zo(this.getChartType());return _.get(this.getChartOptions(),e+".paired",void 0)},t.prototype.setPairedMode=function(e){var r=zo(this.getChartType()),i=_.get(this.getChartOptions(),""+r,void 0);_.set(i,"paired",e)},t.prototype.getChart=function(){return this.chartController.getChartProxy().getChart()},t.prototype.getChartOptions=function(){return this.chartController.getChartProxy().getChartOptions()},t.prototype.getAxis=function(e){var r=this.getChart();if(!(!r.axes||r.axes.length<1))return e==="xAxis"?r.axes&&r.axes[0].direction==="x"?r.axes[0]:r.axes[1]:r.axes&&r.axes[1].direction==="y"?r.axes[1]:r.axes[0]},t.prototype.updateAxisOptions=function(e,r,i){var o=zo(this.getChartType()),a=this.getChartOptions()[o].axes;e instanceof op?_.set(a.number,r,i):e instanceof eu?_.set(a.category,r,i):e instanceof qh?_.set(a.time,r,i):e instanceof Vc&&_.set(a.groupedCategory,r,i)},t.prototype.raiseChartOptionsChangedEvent=function(){var e=this.chartController.getChartModel(),r=Object.freeze({type:x.EVENT_CHART_OPTIONS_CHANGED,chartId:e.chartId,chartType:e.chartType,chartThemeName:e.chartThemeName,chartOptions:e.chartOptions,api:this.gridApi,columnApi:this.columnApi});this.eventService.dispatchEvent(r)},t.isMatchingSeries=function(e,r){return e==="area"&&r instanceof $0||e==="bar"&&r instanceof e_||e==="column"&&r instanceof e_||e==="histogram"&&r instanceof FL||e==="line"&&r instanceof X0||e==="pie"&&r instanceof NL?!0:e==="scatter"&&r instanceof ML},t.prototype.destroy=function(){n.prototype.destroy.call(this)},xR([y("gridApi")],t.prototype,"gridApi",void 0),xR([y("columnApi")],t.prototype,"columnApi",void 0),t}(j),fie=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Un=globalThis&&globalThis.__assign||function(){return Un=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Un.apply(this,arguments)},gie=function(n){fie(t,n);function t(e){var r=n.call(this,e)||this;return r.xAxisType=e.grouping?"groupedCategory":"category",r.yAxisType="number",r.recreateChart(),r}return t.prototype.createChart=function(){return pn.create({container:this.chartProxyParams.parentElement,theme:this.chartTheme})},t.prototype.update=function(e){var r=e.category,i=e.data,o={data:this.transformData(i,r.id)};this.seriesChanged(e)&&(o.series=this.getSeriesOptions(e),o.axes=this.getAxes(e)),pn.update(this.chart,o)},t.prototype.seriesChanged=function(e){var r=e.seriesChartTypes,i=!_.areEqual(this.prevSeriesChartTypes,r,function(u,c){return u.colId===c.colId&&u.chartType===c.chartType&&u.secondaryAxis===c.secondaryAxis});this.prevSeriesChartTypes=r.map(function(u){return Un({},u)});var o=e.fields.map(function(u){return u.colId}).join(),a=this.prevFields!==o;this.prevFields=o;var s=e.category.id,l=this.prevCategoryId!==s;return this.prevCategoryId=s,i||a||l},t.prototype.getSeriesOptions=function(e){var r=this,i=e.fields,o=e.category,a=e.seriesChartTypes;return i.map(function(s){var l=a.find(function(c){return c.colId===s.colId});if(l){var u=l.chartType;return Un(Un({},r.extractSeriesOverrides(l)),{type:zo(u),xKey:o.id,yKey:s.colId,yName:s.displayName,grouped:["groupedColumn","groupedBar","groupedArea"].includes(u),stacked:["stackedArea","stackedColumn"].includes(u)})}})},t.prototype.getAxes=function(e){var r=this;this.xAxisType=e.grouping?"groupedCategory":"category";var i=e?e.fields:[],o=new Map(i.map(function(f){return[f.colId,f]})),a=this.getYKeys(i,e.seriesChartTypes),s=a.primaryYKeys,l=a.secondaryYKeys,u=this.getAxisOptions(),c=u.bottomOptions,p=u.leftOptions,h=u.rightOptions,d=[Un(Un({},c),{type:this.xAxisType,position:Me.Bottom,gridStyle:[{strokeWidth:0}]})];return s.length>0&&d.push(Un(Un({},p),{type:this.yAxisType,keys:s,position:Me.Left,title:Un({},rr(p.title,{enabled:!0,text:s.map(function(f){var g=o.get(f);return g?g.displayName:f}).join(" / ")}))})),l.length>0&&l.forEach(function(f,g){var v=o.get(f),m=v&&v.colId===f;if(!!m){var C=Un(Un({},h),{type:r.yAxisType,keys:[f],position:Me.Right,title:Un({},rr(h.title,{enabled:!0,text:v?v.displayName:f}))}),b=s.some(function(S){return!!o.get(S)}),w=g===l.length-1;!b&&w||(C.gridStyle=[{strokeWidth:0}]),d.push(C)}}),d},t.prototype.getAxisOptions=function(){var e=this.getAxesOptions("cartesian");return{bottomOptions:rr(e[this.xAxisType],e[this.xAxisType].bottom),leftOptions:rr(e[this.yAxisType],e[this.yAxisType].left),rightOptions:rr(e[this.yAxisType],e[this.yAxisType].right)}},t.prototype.getYKeys=function(e,r){var i=[],o=[];return e.forEach(function(a){var s=a.colId,l=r.find(function(u){return u.colId===s});l&&(l.secondaryAxis?o.push(s):i.push(s))}),{primaryYKeys:i,secondaryYKeys:o}},t.prototype.extractSeriesOverrides=function(e){var r=this.chartOptions[zo(e.chartType)].series;return delete r.yKeys,delete r.yNames,r},t}(up),vie=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Vn=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},TR=function(n){vie(t,n);function t(e){var r=n.call(this,t.TEMPLATE)||this;return r.params=e,r}return t.prototype.init=function(){var e=this.gridOptionsWrapper.getChartThemes();if(e.length<1)throw new Error("Cannot create chart: no chart themes are available to be used.");var r=this.params.chartThemeName;_.includes(e,r)||(r=e[0]);var i={chartId:this.params.chartId,pivotChart:this.params.pivotChart,chartType:this.params.chartType,chartThemeName:r,aggFunc:this.params.aggFunc,cellRange:this.params.cellRange,suppressChartRanges:this.params.suppressChartRanges,unlinkChart:this.params.unlinkChart,crossFiltering:this.params.crossFiltering,seriesChartTypes:this.params.seriesChartTypes},o=this.gridOptionsWrapper.isEnableRtl();this.addCssClass(o?"ag-rtl":"ag-ltr");var a=this.createBean(new Pm(i));this.chartController=this.createManagedBean(new nu(a)),this.validateCustomThemes(),this.createChart(),this.params.insideDialog&&this.addDialog(),this.addMenu(),this.addTitleEditComp(),this.addManagedListener(this.getGui(),"focusin",this.setActiveChartCellRange.bind(this)),this.addManagedListener(this.chartController,nu.EVENT_CHART_UPDATED,this.refresh.bind(this)),this.chartMenu&&this.addManagedListener(this.chartMenu,bR.EVENT_DOWNLOAD_CHART,this.downloadChart.bind(this)),this.refresh(),this.raiseChartCreatedEvent()},t.prototype.validateCustomThemes=function(){var e=this.gridOptionsWrapper.getChartThemes(),r=this.gridOptionsWrapper.getCustomChartThemes();r&&_.getAllKeysInObjects([r]).forEach(function(i){_.includes(e,i)||console.warn("AG Grid: a custom chart theme with the name '"+i+"' has been supplied but not added to the 'chartThemes' list")})},t.prototype.createChart=function(){var e=this;this.chartProxy&&this.chartProxy.destroy();var r=function(s,l){var u=e.params.crossFilteringContext;u.lastSelectedChartId=l?"":e.chartController.getChartId(),e.crossFilterService.filter(s,l)},i=this.chartController.getChartType(),o={chartType:i,getChartThemeName:this.getChartThemeName.bind(this),getChartThemes:this.getChartThemes.bind(this),customChartThemes:this.gridOptionsWrapper.getCustomChartThemes(),getGridOptionsChartThemeOverrides:this.getGridOptionsChartThemeOverrides.bind(this),apiChartThemeOverrides:this.params.chartThemeOverrides,crossFiltering:this.params.crossFiltering,crossFilterCallback:r,parentElement:this.eChart,grouping:this.chartController.isGrouping(),chartOptionsToRestore:this.params.chartOptionsToRestore,chartPaletteToRestore:this.params.chartPaletteToRestore,seriesChartTypes:this.chartController.getSeriesChartTypes()};if(this.params.chartOptionsToRestore=void 0,this.chartType=i,this.chartThemeName=this.chartController.getChartThemeName(),this.chartProxy=t.createChartProxy(o),!this.chartProxy){console.warn("AG Grid: invalid chart type supplied: ",o.chartType);return}var a=this.eChart.querySelector("canvas");a&&a.classList.add("ag-charts-canvas"),this.chartController.setChartProxy(this.chartProxy),this.chartOptionsService=this.createBean(new die(this.chartController)),this.titleEdit&&this.titleEdit.refreshTitle(this.chartController,this.chartOptionsService)},t.prototype.getChartThemeName=function(){return this.chartController.getChartThemeName()},t.prototype.getChartThemes=function(){return this.chartController.getThemes()},t.prototype.getGridOptionsChartThemeOverrides=function(){return this.gridOptionsWrapper.getChartThemeOverrides()},t.createChartProxy=function(e){switch(e.chartType){case"column":case"bar":case"groupedColumn":case"stackedColumn":case"normalizedColumn":case"groupedBar":case"stackedBar":case"normalizedBar":return new qne(e);case"pie":return new nie(e);case"doughnut":return new oie(e);case"area":case"stackedArea":case"normalizedArea":return new Qne(e);case"line":return new eie(e);case"scatter":case"bubble":return new lie(e);case"histogram":return new pie(e);case"columnLineCombo":case"areaColumnCombo":case"customCombo":return new gie(e);default:throw"AG Grid: Unable to create chart as an invalid chartType = '"+e.chartType+"' was supplied."}},t.prototype.addDialog=function(){var e=this,r=this.chartTranslationService.translate(this.params.pivotChart?"pivotChartTitle":"rangeChartTitle"),i=this.getBestDialogSize(),o=i.width,a=i.height;this.chartDialog=new Wh({resizable:!0,movable:!0,maximizable:!0,title:r,width:o,height:a,component:this,centered:!0,closable:!0}),this.getContext().createBean(this.chartDialog),this.chartDialog.addEventListener(Wh.EVENT_DESTROYED,function(){return e.destroy()})},t.prototype.getBestDialogSize=function(){var e=this.popupService.getPopupParent(),r=_.getAbsoluteWidth(e)*.75,i=_.getAbsoluteHeight(e)*.75,o=.553,a=this.chartProxy.getChart(),s=this.params.insideDialog?850:a.width,l=this.params.insideDialog?470:a.height;return(s>r||l>i)&&(s=Math.min(s,r),l=Math.round(s*o),l>i&&(l=i,s=Math.min(s,Math.round(l/o)))),{width:s,height:l}},t.prototype.addMenu=function(){this.params.crossFiltering||(this.chartMenu=this.createBean(new bR(this.eChartContainer,this.eMenuContainer,this.chartController,this.chartOptionsService)),this.eChartContainer.appendChild(this.chartMenu.getGui()))},t.prototype.addTitleEditComp=function(){this.titleEdit=this.createBean(new kne(this.chartMenu)),this.eTitleEditContainer.appendChild(this.titleEdit.getGui()),this.chartProxy&&this.titleEdit.refreshTitle(this.chartController,this.chartOptionsService)},t.prototype.refresh=function(){this.shouldRecreateChart()&&this.createChart(),this.updateChart()},t.prototype.shouldRecreateChart=function(){return this.chartType!==this.chartController.getChartType()||this.chartThemeName!==this.chartController.getChartThemeName()},t.prototype.getCurrentChartType=function(){return this.chartType},t.prototype.getChartModel=function(){return this.chartController.getChartModel()},t.prototype.getChartImageDataURL=function(e){return this.chartProxy.getChartImageDataURL(e)},t.prototype.updateChart=function(){var e=this,r=this.chartProxy,i=this.chartController.getSelectedValueColState(),o=i.map(function(c){return{colId:c.colId,displayName:c.displayName}}),a=this.chartController.getChartData(),s=this.handleEmptyChart(a,o);if(!s){var l=this.chartController.getSelectedDimension(),u={data:a,grouping:this.chartController.isGrouping(),category:{id:l.colId,name:l.displayName,chartDataType:this.getChartDataType(l.colId)},fields:o,chartId:this.chartController.getChartId(),getCrossFilteringContext:function(){return e.params.crossFilteringContext},seriesChartTypes:this.chartController.getSeriesChartTypes()};r.update(u),this.titleEdit.refreshTitle(this.chartController,this.chartOptionsService)}},t.prototype.getChartDataType=function(e){var r=this.columnModel.getPrimaryColumn(e);return r?r.getColDef().chartDataType:void 0},t.prototype.handleEmptyChart=function(e,r){var i=this.chartProxy.getChart().container,o=this.chartController.isPivotChart()&&!this.chartController.isPivotMode(),a=1;this.chartController.isActiveXYChart()&&(a=this.chartController.getChartType()==="bubble"?3:2);var s=r.length<a||e.length===0;if(i){var l=o||s;_.setDisplayed(this.eChart,!l),_.setDisplayed(this.eEmpty,l)}return o?(this.eEmpty.innerText=this.chartTranslationService.translate("pivotChartRequiresPivotMode"),!0):s?(this.eEmpty.innerText=this.chartTranslationService.translate("noDataToChart"),!0):!1},t.prototype.downloadChart=function(){this.chartProxy.downloadChart()},t.prototype.getChartId=function(){return this.chartController.getChartId()},t.prototype.getUnderlyingChart=function(){return this.chartProxy.getChart()},t.prototype.refreshCanvasSize=function(){if(!!this.params.insideDialog){var e=this.eChart;if(this.chartMenu.isVisible()){var r=this.chartProxy.getChart();r.height=_.getInnerHeight(e),r.width=_.getInnerWidth(e)}}},t.prototype.setActiveChartCellRange=function(e){this.getGui().contains(e.relatedTarget)||(this.chartController.setChartRange(!0),this.gridApi.focusService.clearFocusedCell())},t.prototype.raiseChartCreatedEvent=function(){var e=Object.freeze({type:x.EVENT_CHART_CREATED,chartId:this.chartController.getChartId(),api:this.gridApi,columnApi:this.columnApi});this.eventService.dispatchEvent(e)},t.prototype.raiseChartDestroyedEvent=function(){var e=Object.freeze({type:x.EVENT_CHART_DESTROYED,chartId:this.chartController.getChartId(),api:this.gridApi,columnApi:this.columnApi});this.eventService.dispatchEvent(e)},t.prototype.destroy=function(){n.prototype.destroy.call(this),this.chartProxy&&this.chartProxy.destroy(),this.destroyBean(this.chartMenu),this.chartDialog&&this.chartDialog.isAlive()&&this.destroyBean(this.chartDialog);var e=this.getGui();_.clearElement(e),_.removeFromParent(e),this.raiseChartDestroyedEvent()},t.TEMPLATE=`<div class="ag-chart" tabindex="-1">
            <div ref="eChartContainer" tabindex="-1" class="ag-chart-components-wrapper">
                <div ref="eChart" class="ag-chart-canvas-wrapper"></div>
                <div ref="eEmpty" class="ag-chart-empty-text ag-unselectable"></div>
            </div>
            <div ref="eTitleEditContainer"></div>
            <div ref="eMenuContainer" class="ag-chart-docked-container"></div>
        </div>`,Vn([I("eChart")],t.prototype,"eChart",void 0),Vn([I("eChartContainer")],t.prototype,"eChartContainer",void 0),Vn([I("eMenuContainer")],t.prototype,"eMenuContainer",void 0),Vn([I("eEmpty")],t.prototype,"eEmpty",void 0),Vn([I("eTitleEditContainer")],t.prototype,"eTitleEditContainer",void 0),Vn([y("environment")],t.prototype,"environment",void 0),Vn([y("columnModel")],t.prototype,"columnModel",void 0),Vn([y("chartCrossFilterService")],t.prototype,"crossFilterService",void 0),Vn([y("chartTranslationService")],t.prototype,"chartTranslationService",void 0),Vn([y("gridApi")],t.prototype,"gridApi",void 0),Vn([y("columnApi")],t.prototype,"columnApi",void 0),Vn([y("popupService")],t.prototype,"popupService",void 0),Vn([H],t.prototype,"init",null),t}(te),OR="27.3.0";function mie(n){return n.version==null&&(n.version="27.1.0"),yie(n.version),n}function yie(n){var t=typeof n=="string"?n.split(".").map(function(e){return Number(e)}):[];if(t.length!==3||t.some(function(e){return isNaN(e)}))throw new Error("AG Grid - Illegal version string: "+n);return{major:t[0],minor:t[1],patch:t[2]}}var Cie=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Bv=globalThis&&globalThis.__assign||function(){return Bv=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Bv.apply(this,arguments)},$p=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},bie=function(n){Cie(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.activeCharts=new Set,e.activeChartComps=new Set,e.crossFilteringContext={lastSelectedChartId:""},e}return t.prototype.getChartModels=function(){var e=[],r=function(i){return Bv(Bv({},i),{version:OR})};return this.activeChartComps.forEach(function(i){return e.push(r(i.getChartModel()))}),e},t.prototype.getChartRef=function(e){var r;return this.activeCharts.forEach(function(i){i.chartId===e&&(r=i)}),r},t.prototype.getChartImageDataURL=function(e){var r;return this.activeChartComps.forEach(function(i){i.getChartId()===e.chartId&&(r=i.getChartImageDataURL(e.fileFormat))}),r},t.prototype.createChartFromCurrentRange=function(e){e===void 0&&(e="groupedColumn");var r=this.getSelectedRange();return this.createChart(r,e)},t.prototype.restoreChart=function(e,r){var i=this;if(!e){console.warn("AG Grid - unable to restore chart as no chart model is provided");return}e.version!==OR&&(e=mie(e));var o={cellRange:e.cellRange,chartType:e.chartType,chartThemeName:e.chartThemeName,chartContainer:r,suppressChartRanges:e.suppressChartRanges,aggFunc:e.aggFunc,unlinkChart:e.unlinkChart,seriesChartTypes:e.seriesChartTypes},a=function(p){return i.rangeService?i.rangeService.createCellRangeFromCellRangeParams(p):void 0};if(e.modelType==="pivot"){this.columnModel.isPivotMode()||this.columnModel.setPivotMode(!0,"pivotChart");var s=this.columnModel.getAllDisplayedColumns().map(function(p){return p.getColId()}),l={rowStartIndex:null,rowEndIndex:null,columns:s},u=a(l);if(!u){console.warn("AG Grid - unable to create chart as there are no columns in the grid.");return}return this.createChart(u,o.chartType,o.chartThemeName,!0,!0,o.chartContainer,void 0,void 0,o.unlinkChart,!1,e.chartOptions)}var c=a(o.cellRange);if(!c){console.warn("AG Grid - unable to create chart as no range is selected");return}return this.createChart(c,o.chartType,o.chartThemeName,!1,o.suppressChartRanges,o.chartContainer,o.aggFunc,void 0,o.unlinkChart,!1,e.chartOptions,e.chartPalette,o.seriesChartTypes)},t.prototype.createRangeChart=function(e){var r=this.rangeService?this.rangeService.createCellRangeFromCellRangeParams(e.cellRange):void 0;if(!r){console.warn("AG Grid - unable to create chart as no range is selected");return}return this.createChart(r,e.chartType,e.chartThemeName,!1,e.suppressChartRanges,e.chartContainer,e.aggFunc,e.chartThemeOverrides,e.unlinkChart,void 0,void 0,void 0,e.seriesChartTypes)},t.prototype.createPivotChart=function(e){this.columnModel.isPivotMode()||this.columnModel.setPivotMode(!0,"pivotChart");var r={rowStartIndex:null,rowEndIndex:null,columns:this.columnModel.getAllDisplayedColumns().map(function(o){return o.getColId()})},i=this.rangeService?this.rangeService.createCellRangeFromCellRangeParams(r):void 0;if(!i){console.warn("AG Grid - unable to create chart as there are no columns in the grid.");return}return this.createChart(i,e.chartType,e.chartThemeName,!0,!0,e.chartContainer,void 0,e.chartThemeOverrides,e.unlinkChart)},t.prototype.createCrossFilterChart=function(e){var r=this.rangeService?this.rangeService.createCellRangeFromCellRangeParams(e.cellRange):void 0;if(!r){console.warn("AG Grid - unable to create chart as no range is selected");return}var i=!0,o=typeof e.suppressChartRanges!="undefined"&&e.suppressChartRanges!==null,a=o?e.suppressChartRanges:!0;return this.createChart(r,e.chartType,e.chartThemeName,!1,a,e.chartContainer,e.aggFunc,e.chartThemeOverrides,e.unlinkChart,i)},t.prototype.createChart=function(e,r,i,o,a,s,l,u,c,p,h,d,f){var g=this;o===void 0&&(o=!1),a===void 0&&(a=!1),c===void 0&&(c=!1),p===void 0&&(p=!1);var v=this.gridOptionsWrapper.getCreateChartContainerFunc(),m={chartId:this.generateId(),pivotChart:o,cellRange:e,chartType:r,chartThemeName:i,insideDialog:!(s||v),suppressChartRanges:a,aggFunc:l,chartThemeOverrides:u,unlinkChart:c,crossFiltering:p,crossFilteringContext:this.crossFilteringContext,chartOptionsToRestore:h,chartPaletteToRestore:d,seriesChartTypes:f},C=new TR(m);this.context.createBean(C);var b=this.createChartRef(C);if(s){s.appendChild(C.getGui());var w=this.environment.getTheme();w.el&&!w.el.contains(s)&&s.classList.add(w.theme)}else v?v(b):C.addEventListener(TR.EVENT_DESTROYED,function(){g.activeChartComps.delete(C),g.activeCharts.delete(b)});return b},t.prototype.createChartRef=function(e){var r=this,i={destroyChart:function(){r.activeCharts.has(i)&&(r.context.destroyBean(e),r.activeChartComps.delete(e),r.activeCharts.delete(i))},chartElement:e.getGui(),chart:e.getUnderlyingChart(),chartId:e.getChartModel().chartId};return this.activeCharts.add(i),this.activeChartComps.add(e),i},t.prototype.getSelectedRange=function(){var e=this.rangeService.getCellRanges();return e.length>0?e[0]:{}},t.prototype.generateId=function(){return"id-"+Math.random().toString(36).substr(2,16)},t.prototype.destroyAllActiveCharts=function(){this.activeCharts.forEach(function(e){return e.destroyChart()})},$p([Fe("rangeService")],t.prototype,"rangeService",void 0),$p([y("columnModel")],t.prototype,"columnModel",void 0),$p([y("environment")],t.prototype,"environment",void 0),$p([_t],t.prototype,"destroyAllActiveCharts",null),t=$p([J("chartService")],t),t}(j),wie=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),_ie=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Sie=function(n){wie(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}e=t,t.prototype.translate=function(r,i){var o=this.gridOptionsWrapper.getLocaleTextFunc(),a=e.DEFAULT_TRANSLATIONS[r]||i;return o(r,a)};var e;return t.DEFAULT_TRANSLATIONS={pivotChartTitle:"Pivot Chart",rangeChartTitle:"Range Chart",settings:"Settings",data:"Data",format:"Format",categories:"Categories",defaultCategory:"(None)",series:"Series",xyValues:"X Y Values",paired:"Paired Mode",axis:"Axis",navigator:"Navigator",color:"Color",thickness:"Thickness",xType:"X Type",automatic:"Automatic",category:"Category",number:"Number",time:"Time",xRotation:"X Rotation",yRotation:"Y Rotation",ticks:"Ticks",width:"Width",height:"Height",length:"Length",padding:"Padding",spacing:"Spacing",chart:"Chart",title:"Title",titlePlaceholder:"Chart title - double click to edit",background:"Background",font:"Font",top:"Top",right:"Right",bottom:"Bottom",left:"Left",labels:"Labels",size:"Size",shape:"Shape",minSize:"Minimum Size",maxSize:"Maximum Size",legend:"Legend",position:"Position",markerSize:"Marker Size",markerStroke:"Marker Stroke",markerPadding:"Marker Padding",itemSpacing:"Item Spacing",itemPaddingX:"Item Padding X",itemPaddingY:"Item Padding Y",layoutHorizontalSpacing:"Horizontal Spacing",layoutVerticalSpacing:"Vertical Spacing",strokeWidth:"Stroke Width",offset:"Offset",offsets:"Offsets",tooltips:"Tooltips",callout:"Callout",markers:"Markers",shadow:"Shadow",blur:"Blur",xOffset:"X Offset",yOffset:"Y Offset",lineWidth:"Line Width",lineDash:"Line Dash",normal:"Normal",bold:"Bold",italic:"Italic",boldItalic:"Bold Italic",predefined:"Predefined",fillOpacity:"Fill Opacity",strokeOpacity:"Line Opacity",histogramBinCount:"Bin count",columnGroup:"Column",barGroup:"Bar",pieGroup:"Pie",lineGroup:"Line",scatterGroup:"X Y (Scatter)",areaGroup:"Area",histogramGroup:"Histogram",combinationGroup:"Combination",groupedColumnTooltip:"Grouped",stackedColumnTooltip:"Stacked",normalizedColumnTooltip:"100% Stacked",groupedBarTooltip:"Grouped",stackedBarTooltip:"Stacked",normalizedBarTooltip:"100% Stacked",pieTooltip:"Pie",doughnutTooltip:"Doughnut",lineTooltip:"Line",groupedAreaTooltip:"Area",stackedAreaTooltip:"Stacked",normalizedAreaTooltip:"100% Stacked",scatterTooltip:"Scatter",bubbleTooltip:"Bubble",histogramTooltip:"Histogram",columnLineComboTooltip:"Column & Line",areaColumnComboTooltip:"Area & Column",customComboTooltip:"Custom Combination",noDataToChart:"No data available to be charted.",pivotChartRequiresPivotMode:"Pivot Chart requires Pivot Mode enabled.",chartSettingsToolbarTooltip:"Menu",chartLinkToolbarTooltip:"Linked to Grid",chartUnlinkToolbarTooltip:"Unlinked from Grid",chartDownloadToolbarTooltip:"Download Chart",seriesChartType:"Series Chart Type",seriesType:"Series Type",secondaryAxis:"Secondary Axis"},t=e=_ie([J("chartTranslationService")],t),t}(j),xie=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Nf=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Tie=function(n){xie(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}e=t,t.prototype.filter=function(r,i){i===void 0&&(i=!1);var o=this.gridApi.getFilterModel();if(i){this.resetFilters(o);return}var a=e.extractFilterColId(r);this.isValidColumnFilter(a)?this.updateFilters(o,r,a):console.warn("AG Grid: cross filtering requires a 'agSetColumnFilter' or 'agMultiColumnFilter' to be defined on the column with id: '"+a+"'")},t.prototype.resetFilters=function(r){var i=Object.keys(r).length>0;i&&(this.gridApi.setFilterModel(null),this.gridApi.onFilterChanged())},t.prototype.updateFilters=function(r,i,o){var a,s=e.extractFilterColId(i),l=i.datum[s];if(l!==void 0){var u=l.toString();if(i.event.metaKey||i.event.ctrlKey){var c=this.getCurrentGridValuesForCategory(o),p=_.includes(c,u),h=void 0;p?h=c.filter(function(d){return d!==u}):(h=c,h.push(u)),r[o]=this.getUpdatedFilterModel(o,h)}else{var h=[u];r=(a={},a[o]=this.getUpdatedFilterModel(o,h),a)}this.gridApi.setFilterModel(r)}},t.prototype.getUpdatedFilterModel=function(r,i){var o=this.getColumnFilterType(r);return o==="agMultiColumnFilter"?{filterType:"multi",filterModels:[null,{filterType:"set",values:i}]}:{filterType:"set",values:i}},t.prototype.getCurrentGridValuesForCategory=function(r){var i=this,o=[],a=this.getColumnById(r);return this.gridApi.forEachNodeAfterFilter(function(s){if(a&&!s.group){var l=i.valueService.getValue(a,s)+"";o.includes(l)||o.push(l)}}),o},t.extractFilterColId=function(r){return r.xKey?r.xKey:r.labelKey},t.prototype.isValidColumnFilter=function(r){r.indexOf("-filtered-out")&&(r=r.replace("-filtered-out",""));var i=this.getColumnFilterType(r);return typeof i=="boolean"?i:_.includes(["agSetColumnFilter","agMultiColumnFilter"],i)},t.prototype.getColumnFilterType=function(r){var i=this.getColumnById(r);if(i){var o=i.getColDef();return o.filter!=null?o.filter:o.filterFramework}},t.prototype.getColumnById=function(r){return this.columnModel.getGridColumn(r)};var e;return Nf([y("gridApi")],t.prototype,"gridApi",void 0),Nf([y("columnModel")],t.prototype,"columnModel",void 0),Nf([y("valueService")],t.prototype,"valueService",void 0),t=e=Nf([J("chartCrossFilterService")],t),t}(j),Oie=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),hi=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Eie=globalThis&&globalThis.__read||function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},ab=globalThis&&globalThis.__spread||function(){for(var n=[],t=0;t<arguments.length;t++)n=n.concat(Eie(arguments[t]));return n},Rie=globalThis&&globalThis.__values||function(n){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Pie=function(n){Oie(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.cellRanges=[],e.bodyScrollListener=e.onBodyScroll.bind(e),e.dragging=!1,e}return t.prototype.init=function(){var e=this;this.addManagedListener(this.eventService,x.EVENT_NEW_COLUMNS_LOADED,function(){return e.onColumnsChanged()}),this.addManagedListener(this.eventService,x.EVENT_COLUMN_VISIBLE,this.onColumnsChanged.bind(this)),this.addManagedListener(this.eventService,x.EVENT_COLUMN_VALUE_CHANGED,this.onColumnsChanged.bind(this)),this.addManagedListener(this.eventService,x.EVENT_COLUMN_PIVOT_MODE_CHANGED,function(){return e.removeAllCellRanges()}),this.addManagedListener(this.eventService,x.EVENT_COLUMN_ROW_GROUP_CHANGED,function(){return e.removeAllCellRanges()}),this.addManagedListener(this.eventService,x.EVENT_COLUMN_PIVOT_CHANGED,function(){return e.removeAllCellRanges()}),this.addManagedListener(this.eventService,x.EVENT_COLUMN_GROUP_OPENED,this.refreshLastRangeStart.bind(this)),this.addManagedListener(this.eventService,x.EVENT_COLUMN_MOVED,this.refreshLastRangeStart.bind(this)),this.addManagedListener(this.eventService,x.EVENT_COLUMN_PINNED,this.refreshLastRangeStart.bind(this)),this.ctrlsService.whenReady(function(){var r=e.ctrlsService.getGridBodyCtrl();e.autoScrollService=new fd({scrollContainer:r.getBodyViewportElement(),scrollAxis:"xy",getVerticalPosition:function(){return r.getScrollFeature().getVScrollPosition().top},setVerticalPosition:function(i){return r.getScrollFeature().setVerticalScrollPosition(i)},getHorizontalPosition:function(){return r.getScrollFeature().getHScrollPosition().left},setHorizontalPosition:function(i){return r.getScrollFeature().setHorizontalScrollPosition(i)},shouldSkipVerticalScroll:function(){return e.gridOptionsWrapper.getDomLayout()!==L.DOM_LAYOUT_NORMAL},shouldSkipHorizontalScroll:function(){return r.getScrollFeature().isHorizontalScrollShowing()}})})},t.prototype.onColumnsChanged=function(){var e=this;this.refreshLastRangeStart();var r=this.columnModel.getAllDisplayedColumns();this.cellRanges.forEach(function(o){var a=o.columns;o.columns=o.columns.filter(function(l){return l.isVisible()&&r.indexOf(l)!==-1});var s=!_.areEqual(a,o.columns);s&&e.dispatchChangedEvent(!1,!0,o.id)});var i=this.cellRanges.length;this.cellRanges=this.cellRanges.filter(function(o){return o.columns.length>0}),i>this.cellRanges.length&&this.dispatchChangedEvent(!1,!0)},t.prototype.refreshLastRangeStart=function(){var e=_.last(this.cellRanges);!e||this.refreshRangeStart(e)},t.prototype.isContiguousRange=function(e){var r=e.columns;if(!r.length)return!1;var i=this.columnModel.getAllDisplayedColumns(),o=r.map(function(a){return i.indexOf(a)}).sort(function(a,s){return a-s});return _.last(o)-o[0]+1===r.length},t.prototype.getRangeStartRow=function(e){if(e.startRow&&e.endRow)return this.rowPositionUtils.before(e.startRow,e.endRow)?e.startRow:e.endRow;var r=this.pinnedRowModel.getPinnedTopRowCount()>0?L.PINNED_TOP:null;return{rowIndex:0,rowPinned:r}},t.prototype.getRangeEndRow=function(e){if(e.startRow&&e.endRow)return this.rowPositionUtils.before(e.startRow,e.endRow)?e.endRow:e.startRow;var r=this.pinnedRowModel.getPinnedBottomRowCount(),i=r>0;return i?{rowIndex:r-1,rowPinned:L.PINNED_BOTTOM}:{rowIndex:this.rowModel.getRowCount()-1,rowPinned:null}},t.prototype.setRangeToCell=function(e,r){if(r===void 0&&(r=!1),!!this.gridOptionsWrapper.isEnableRangeSelection()){var i=this.calculateColumnsBetween(e.column,e.column);if(!!i){var o=this.gridOptionsWrapper.isSuppressMultiRangeSelection();(o||!r||_.missing(this.cellRanges))&&this.removeAllCellRanges(!0);for(var a={rowIndex:e.rowIndex,rowPinned:e.rowPinned},s,l=0;l<this.cellRanges.length;l++){var u=this.cellRanges[l],c=u.columns&&u.columns.length===1&&u.columns[0]===e.column&&this.rowPositionUtils.sameRow(a,u.startRow)&&this.rowPositionUtils.sameRow(a,u.endRow);if(c){s=u;break}}s?_.last(this.cellRanges)!==s&&(_.removeFromArray(this.cellRanges,s),this.cellRanges.push(s)):(s={startRow:a,endRow:a,columns:i,startColumn:e.column},this.cellRanges.push(s)),this.setNewestRangeStartCell(e),this.onDragStop(),this.dispatchChangedEvent(!0,!0,s.id)}}},t.prototype.extendLatestRangeToCell=function(e){if(!(this.isEmpty()||!this.newestRangeStartCell)){var r=_.last(this.cellRanges);this.updateRangeEnd(r,e)}},t.prototype.updateRangeEnd=function(e,r,i){i===void 0&&(i=!1);var o=r.column,a=this.calculateColumnsBetween(e.startColumn,o);!a||this.isLastCellOfRange(e,r)||(e.columns=a,e.endRow={rowIndex:r.rowIndex,rowPinned:r.rowPinned},i||this.dispatchChangedEvent(!0,!0,e.id))},t.prototype.refreshRangeStart=function(e){var r=e.startColumn,i=e.columns,o=function(p,h){var d=e.columns.filter(function(f){return f!==p});p?(e.startColumn=p,e.columns=h?ab([p],d):ab(d,[p])):e.columns=d},a=this.getRangeEdgeColumns(e),s=a.left,l=a.right,u=r===i[0]&&r!==s;if(u){o(s,!0);return}var c=r===_.last(i)&&r===l;if(c){o(l,!1);return}},t.prototype.getRangeEdgeColumns=function(e){var r=this.columnModel.getAllDisplayedColumns(),i=e.columns.map(function(o){return r.indexOf(o)}).filter(function(o){return o>-1}).sort(function(o,a){return o-a});return{left:r[i[0]],right:r[_.last(i)]}},t.prototype.extendLatestRangeInDirection=function(e){if(!(this.isEmpty()||!this.newestRangeStartCell)){var r=e.key,i=e.ctrlKey||e.metaKey,o=_.last(this.cellRanges),a=this.newestRangeStartCell,s=o.columns[0],l=_.last(o.columns),u=o.endRow.rowIndex,c=o.endRow.rowPinned,p=a.column===s?l:s,h={column:p,rowIndex:u,rowPinned:c},d=this.cellNavigationService.getNextCellToFocus(r,h,i);if(!!d)return this.setCellRange({rowStartIndex:a.rowIndex,rowStartPinned:a.rowPinned,rowEndIndex:d.rowIndex,rowEndPinned:d.rowPinned,columnStart:a.column,columnEnd:d.column}),d}},t.prototype.setCellRange=function(e){!this.gridOptionsWrapper.isEnableRangeSelection()||(this.removeAllCellRanges(!0),this.addCellRange(e))},t.prototype.setCellRanges=function(e){var r=this;_.shallowCompare(this.cellRanges,e)||(this.removeAllCellRanges(!0),e.forEach(function(i){i.columns&&i.startRow&&r.setNewestRangeStartCell({rowIndex:i.startRow.rowIndex,rowPinned:i.startRow.rowPinned,column:i.columns[0]}),r.cellRanges.push(i)}),this.dispatchChangedEvent(!1,!0))},t.prototype.setNewestRangeStartCell=function(e){this.newestRangeStartCell=e},t.prototype.createCellRangeFromCellRangeParams=function(e){var r=this,i,o=!1;if(e.columns)i=e.columns.map(function(c){return r.columnModel.getColumnWithValidation(c)}).filter(function(c){return c});else{var a=this.columnModel.getColumnWithValidation(e.columnStart),s=this.columnModel.getColumnWithValidation(e.columnEnd);if(!a||!s)return;i=this.calculateColumnsBetween(a,s),i&&i.length&&(o=i[0]!==a)}if(!!i){var l=e.rowStartIndex!=null?{rowIndex:e.rowStartIndex,rowPinned:e.rowStartPinned||null}:void 0,u=e.rowEndIndex!=null?{rowIndex:e.rowEndIndex,rowPinned:e.rowEndPinned||null}:void 0;return{startRow:l,endRow:u,columns:i,startColumn:o?_.last(i):i[0]}}},t.prototype.addCellRange=function(e){if(!!this.gridOptionsWrapper.isEnableRangeSelection()){var r=this.createCellRangeFromCellRangeParams(e);r&&(r.startRow&&this.setNewestRangeStartCell({rowIndex:r.startRow.rowIndex,rowPinned:r.startRow.rowPinned,column:r.startColumn}),this.cellRanges.push(r),this.dispatchChangedEvent(!1,!0,r.id))}},t.prototype.getCellRanges=function(){return this.cellRanges},t.prototype.isEmpty=function(){return this.cellRanges.length===0},t.prototype.isMoreThanOneCell=function(){var e=this.cellRanges.length;if(e===0)return!1;if(e>1)return!0;var r=this.cellRanges[0],i=this.getRangeStartRow(r),o=this.getRangeEndRow(r);return i.rowPinned!==o.rowPinned||i.rowIndex!==o.rowIndex||r.columns.length!==1},t.prototype.areAllRangesAbleToMerge=function(){var e,r,i=this,o=new Map,a=this.cellRanges.length;if(a<=1)return!0;this.cellRanges.forEach(function(h){for(var d=i.getRangeStartRow(h),f=i.getRangeEndRow(h),g=d,v=function(){var C=(g.rowPinned||"normal")+"_"+g.rowIndex,b=o.get(C),w=h.columns.map(function(T){return T.getId()});if(b){var S=w.filter(function(T){return b.indexOf(T)===-1});b.push.apply(b,ab(S))}else o.set(C,w);if(i.rowPositionUtils.sameRow(g,f))return"break";g=i.cellNavigationService.getRowBelow(g)};g;){var m=v();if(m==="break")break}});var s;try{for(var l=Rie(o.values()),u=l.next();!u.done;u=l.next()){var c=u.value,p=c.sort().join();if(s===void 0){s=p;continue}if(s!==p)return!1}}catch(h){e={error:h}}finally{try{u&&!u.done&&(r=l.return)&&r.call(l)}finally{if(e)throw e.error}}return!0},t.prototype.removeAllCellRanges=function(e){this.isEmpty()||(this.onDragStop(),this.cellRanges.length=0,e||this.dispatchChangedEvent(!1,!0))},t.prototype.onBodyScroll=function(){this.dragging&&this.lastMouseEvent&&this.onDragging(this.lastMouseEvent)},t.prototype.isCellInAnyRange=function(e){return this.getCellRangeCount(e)>0},t.prototype.isCellInSpecificRange=function(e,r){var i=r.columns!==null&&_.includes(r.columns,e.column),o=this.isRowInRange(e.rowIndex,e.rowPinned,r);return i&&o},t.prototype.isLastCellOfRange=function(e,r){var i=e.startRow,o=e.endRow,a=this.rowPositionUtils.before(i,o)?o:i,s=r.rowIndex===a.rowIndex&&r.rowPinned===a.rowPinned,l=e.columns[0],u=_.last(e.columns),c=e.startColumn===l?u:l,p=r.column===c;return p&&s},t.prototype.isBottomRightCell=function(e,r){var i=this.columnModel.getAllDisplayedColumns(),o=e.columns.map(function(p){return i.indexOf(p)}).sort(function(p,h){return p-h}),a=e.startRow,s=e.endRow,l=this.rowPositionUtils.before(a,s)?s:a,u=i.indexOf(r.column)===_.last(o),c=r.rowIndex===l.rowIndex&&_.makeNull(r.rowPinned)===_.makeNull(l.rowPinned);return u&&c},t.prototype.getCellRangeCount=function(e){var r=this;return this.isEmpty()?0:this.cellRanges.filter(function(i){return r.isCellInSpecificRange(e,i)}).length},t.prototype.isRowInRange=function(e,r,i){var o=this.getRangeStartRow(i),a=this.getRangeEndRow(i),s={rowIndex:e,rowPinned:r||null},l=s.rowIndex===o.rowIndex&&s.rowPinned==o.rowPinned,u=s.rowIndex===a.rowIndex&&s.rowPinned==a.rowPinned;if(l||u)return!0;var c=!this.rowPositionUtils.before(s,o),p=this.rowPositionUtils.before(s,a);return c&&p},t.prototype.getDraggingRange=function(){return this.draggingRange},t.prototype.onDragStart=function(e){if(!!this.gridOptionsWrapper.isEnableRangeSelection()){var r=e.ctrlKey,i=e.metaKey,o=e.shiftKey,a=r||i,s=!this.gridOptionsWrapper.isSuppressMultiRangeSelection(),l=s?a:!1,u=o&&_.existsAndNotEmpty(this.cellRanges);if(!l&&(!u||_.exists(_.last(this.cellRanges).type))&&this.removeAllCellRanges(!0),this.cellHoverListener=this.addManagedListener(this.ctrlsService.getGridCtrl().getGui(),"mousemove",this.updateValuesOnMove.bind(this)),this.updateValuesOnMove(e),!!this.lastCellHovered){if(this.dragging=!0,this.lastMouseEvent=e,u||this.setNewestRangeStartCell(this.lastCellHovered),this.cellRanges.length>0)this.draggingRange=_.last(this.cellRanges);else{var c={rowIndex:this.lastCellHovered.rowIndex,rowPinned:this.lastCellHovered.rowPinned};this.draggingRange={startRow:c,endRow:c,columns:[this.lastCellHovered.column],startColumn:this.newestRangeStartCell.column},this.cellRanges.push(this.draggingRange)}this.ctrlsService.getGridBodyCtrl().addScrollEventListener(this.bodyScrollListener),this.dispatchChangedEvent(!0,!1,this.draggingRange.id)}}},t.prototype.updateValuesOnMove=function(e){var r=this.mouseEventService.getCellPositionForEvent(e);this.cellHasChanged=!1,!(!r||this.lastCellHovered&&this.cellPositionUtils.equals(r,this.lastCellHovered))&&(this.lastCellHovered&&(this.cellHasChanged=!0),this.lastCellHovered=r)},t.prototype.onDragging=function(e){var r=this;if(!(!this.dragging||!e)){this.lastMouseEvent=e;var i=this.lastCellHovered,o=function(l){return i&&i.rowPinned===l&&r.newestRangeStartCell.rowPinned===l},a=o("top")||o("bottom");if(this.autoScrollService.check(e,a),!!this.cellHasChanged){var s=this.calculateColumnsBetween(this.newestRangeStartCell.column,i.column);!s||(this.draggingRange.endRow={rowIndex:i.rowIndex,rowPinned:i.rowPinned},this.draggingRange.columns=s,this.dispatchChangedEvent(!1,!1,this.draggingRange.id))}}},t.prototype.onDragStop=function(){if(this.cellHoverListener&&(this.cellHoverListener(),this.cellHoverListener=void 0),!!this.dragging){var e=this.draggingRange.id;this.autoScrollService.ensureCleared(),this.ctrlsService.getGridBodyCtrl().removeScrollEventListener(this.bodyScrollListener),this.lastMouseEvent=null,this.dragging=!1,this.draggingRange=void 0,this.lastCellHovered=void 0,this.dispatchChangedEvent(!1,!0,e)}},t.prototype.dispatchChangedEvent=function(e,r,i){var o=Object.freeze({type:x.EVENT_RANGE_SELECTION_CHANGED,api:this.gridApi,columnApi:this.columnApi,started:e,finished:r,id:i});this.eventService.dispatchEvent(o)},t.prototype.calculateColumnsBetween=function(e,r){var i=this.columnModel.getAllDisplayedColumns(),o=e===r,a=i.indexOf(e);if(a<0){console.warn("AG Grid: column "+e.getId()+" is not visible");return}var s=o?a:i.indexOf(r);if(s<0){console.warn("AG Grid: column "+r.getId()+" is not visible");return}if(o)return[e];for(var l=Math.min(a,s),u=l===a?s:a,c=[],p=l;p<=u;p++)c.push(i[p]);return c},hi([y("rowModel")],t.prototype,"rowModel",void 0),hi([y("columnModel")],t.prototype,"columnModel",void 0),hi([y("mouseEventService")],t.prototype,"mouseEventService",void 0),hi([y("columnApi")],t.prototype,"columnApi",void 0),hi([y("gridApi")],t.prototype,"gridApi",void 0),hi([y("cellNavigationService")],t.prototype,"cellNavigationService",void 0),hi([y("pinnedRowModel")],t.prototype,"pinnedRowModel",void 0),hi([y("rowPositionUtils")],t.prototype,"rowPositionUtils",void 0),hi([y("cellPositionUtils")],t.prototype,"cellPositionUtils",void 0),hi([y("ctrlsService")],t.prototype,"ctrlsService",void 0),hi([H],t.prototype,"init",null),t=hi([J("rangeService")],t),t}(j),Aie=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Bi=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},ZL=function(n){Aie(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.changedCalculatedValues=!1,e.dragging=!1,e.shouldDestroyOnEndDragging=!1,e}return t.prototype.init=function(){var e=this;this.dragService.addDragSource({dragStartPixels:0,eElement:this.getGui(),onDragStart:this.onDragStart.bind(this),onDragging:function(r){e.dragging=!0,e.rangeService.autoScrollService.check(r),e.changedCalculatedValues&&(e.onDrag(r),e.changedCalculatedValues=!1)},onDragStop:function(r){e.dragging=!1,e.onDragEnd(r),e.clearValues(),e.rangeService.autoScrollService.ensureCleared(),document.body.classList.remove(e.getDraggingCssClass()),e.shouldDestroyOnEndDragging&&e.destroy()}}),this.addManagedListener(this.getGui(),"mousedown",this.preventRangeExtension.bind(this))},t.prototype.isDragging=function(){return this.dragging},t.prototype.getCellCtrl=function(){return this.cellCtrl},t.prototype.setCellCtrl=function(e){this.cellCtrl=e},t.prototype.getCellRange=function(){return this.cellRange},t.prototype.setCellRange=function(e){this.cellRange=e},t.prototype.getRangeStartRow=function(){return this.rangeStartRow},t.prototype.setRangeStartRow=function(e){this.rangeStartRow=e},t.prototype.getRangeEndRow=function(){return this.rangeEndRow},t.prototype.setRangeEndRow=function(e){this.rangeEndRow=e},t.prototype.getLastCellHovered=function(){return this.lastCellHovered},t.prototype.preventRangeExtension=function(e){e.preventDefault(),e.stopPropagation()},t.prototype.onDragStart=function(e){this.cellHoverListener=this.addManagedListener(this.ctrlsService.getGridCtrl().getGui(),"mousemove",this.updateValuesOnMove.bind(this)),document.body.classList.add(this.getDraggingCssClass())},t.prototype.getDraggingCssClass=function(){return"ag-dragging-"+(this.type===Fa.FILL?"fill":"range")+"-handle"},t.prototype.updateValuesOnMove=function(e){var r=this.mouseEventService.getCellPositionForEvent(e);!r||this.lastCellHovered&&this.cellPositionUtils.equals(r,this.lastCellHovered)||(this.lastCellHovered=r,this.changedCalculatedValues=!0)},t.prototype.getType=function(){return this.type},t.prototype.refresh=function(e){var r=this.getCellCtrl(),i=this.getGui(),o=_.last(this.rangeService.getCellRanges()),a=o.startRow,s=o.endRow;if(a&&s){var l=this.rowPositionUtils.before(s,a);l?(this.setRangeStartRow(s),this.setRangeEndRow(a)):(this.setRangeStartRow(a),this.setRangeEndRow(s))}if(r!==e||!_.isVisible(i)){this.setCellCtrl(e);var u=e.getComp().getParentOfValue();u&&u.appendChild(i)}this.setCellRange(o)},t.prototype.clearValues=function(){this.lastCellHovered=void 0,this.removeListeners()},t.prototype.removeListeners=function(){this.cellHoverListener&&(this.cellHoverListener(),this.cellHoverListener=void 0)},t.prototype.destroy=function(){if(!this.shouldDestroyOnEndDragging&&this.isDragging()){_.setDisplayed(this.getGui(),!1),this.shouldDestroyOnEndDragging=!0;return}this.shouldDestroyOnEndDragging=!1,n.prototype.destroy.call(this),this.removeListeners();var e=this.getGui();e.parentElement&&e.parentElement.removeChild(e)},Bi([y("rowRenderer")],t.prototype,"rowRenderer",void 0),Bi([y("dragService")],t.prototype,"dragService",void 0),Bi([y("rangeService")],t.prototype,"rangeService",void 0),Bi([y("mouseEventService")],t.prototype,"mouseEventService",void 0),Bi([y("columnModel")],t.prototype,"columnModel",void 0),Bi([y("cellNavigationService")],t.prototype,"cellNavigationService",void 0),Bi([y("navigationService")],t.prototype,"navigationService",void 0),Bi([y("rowPositionUtils")],t.prototype,"rowPositionUtils",void 0),Bi([y("cellPositionUtils")],t.prototype,"cellPositionUtils",void 0),Bi([y("ctrlsService")],t.prototype,"ctrlsService",void 0),Bi([H],t.prototype,"init",null),t}(te),Die=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),hc=globalThis&&globalThis.__assign||function(){return hc=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},hc.apply(this,arguments)},Mie=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Fie=globalThis&&globalThis.__read||function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},Iie=globalThis&&globalThis.__spread||function(){for(var n=[],t=0;t<arguments.length;t++)n=n.concat(Fie(arguments[t]));return n},QL=function(n){Die(t,n);function t(){var e=n.call(this,t.TEMPLATE)||this;return e.markedCells=[],e.cellValues=[],e.isUp=!1,e.isLeft=!1,e.isReduce=!1,e.type=Fa.FILL,e}return t.prototype.updateValuesOnMove=function(e){n.prototype.updateValuesOnMove.call(this,e),this.initialXY||(this.initialXY=this.mouseEventService.getNormalisedPosition(e));var r=this.initialXY,i=r.x,o=r.y,a=this.mouseEventService.getNormalisedPosition(e),s=a.x,l=a.y,u=Math.abs(i-s),c=Math.abs(o-l),p=this.gridOptionsWrapper.getFillHandleDirection(),h;p==="xy"?h=u>c?"x":"y":h=p,h!==this.dragAxis&&(this.dragAxis=h,this.changedCalculatedValues=!0)},t.prototype.onDrag=function(e){if(!this.initialPosition){var r=this.getCellCtrl();if(!r)return;this.initialPosition=r.getCellPosition()}var i=this.getLastCellHovered();i&&this.markPathFrom(this.initialPosition,i)},t.prototype.onDragEnd=function(e){if(this.initialXY=null,!!this.markedCells.length){var r=this.dragAxis==="x",i=this.getCellRange(),o=i.columns.length,a=this.getRangeStartRow(),s=this.getRangeEndRow(),l;if(!this.isUp&&!this.isLeft)l=this.rangeService.createCellRangeFromCellRangeParams({rowStartIndex:a.rowIndex,rowStartPinned:a.rowPinned,columnStart:i.columns[0],rowEndIndex:r?s.rowIndex:this.lastCellMarked.rowIndex,rowEndPinned:r?s.rowPinned:this.lastCellMarked.rowPinned,columnEnd:r?this.lastCellMarked.column:i.columns[o-1]});else{var u=r?a:this.lastCellMarked;l=this.rangeService.createCellRangeFromCellRangeParams({rowStartIndex:u.rowIndex,rowStartPinned:u.rowPinned,columnStart:r?this.lastCellMarked.column:i.columns[0],rowEndIndex:s.rowIndex,rowEndPinned:s.rowPinned,columnEnd:i.columns[o-1]})}l&&(this.raiseFillStartEvent(),this.handleValueChanged(i,l,e),this.rangeService.setCellRanges([l]),this.raiseFillEndEvent(i,l))}},t.prototype.raiseFillStartEvent=function(){var e={type:x.EVENT_FILL_START,columnApi:this.gridOptionsWrapper.getColumnApi(),api:this.gridOptionsWrapper.getApi()};this.eventService.dispatchEvent(e)},t.prototype.raiseFillEndEvent=function(e,r){var i={type:x.EVENT_FILL_END,columnApi:this.gridOptionsWrapper.getColumnApi(),api:this.gridOptionsWrapper.getApi(),initialRange:e,finalRange:r};this.eventService.dispatchEvent(i)},t.prototype.handleValueChanged=function(e,r,i){var o=this,a=this.rangeService.getRangeEndRow(e),s=this.rangeService.getRangeStartRow(e),l=this.rangeService.getRangeEndRow(r),u=this.rangeService.getRangeStartRow(r),c=this.dragAxis==="y";if(this.isReduce&&!this.gridOptionsWrapper.isSuppressClearOnFillReduction()){var p=c?e.columns:e.columns.filter(function(w){return r.columns.indexOf(w)<0}),h=c?this.cellNavigationService.getRowBelow(l):u;h&&this.clearCellsInRange(h,a,p);return}var d=!0,f=[],g=[],v=0,m=function(){f.length=0,g.length=0,v=0},C=function(w,S){var T=o.isUp?a:s,E=!1;c&&(d=!0,m());for(var P=function(){var M=o.rowPositionUtils.getRowNode(T);if(!M)return"break";c&&w?b(f,w,M,function(){return!o.rowPositionUtils.sameRow(T,o.isUp?s:a)}):S&&(d=!0,m(),S.forEach(function(N){return b(f,N,M,function(){return N!==(o.isLeft?e.columns[0]:_.last(e.columns))})})),E=o.rowPositionUtils.sameRow(T,o.isUp?u:l),T=o.isUp?o.cellNavigationService.getRowAbove(T):o.cellNavigationService.getRowBelow(T)};!E&&T;){var R=P();if(R==="break")break}},b=function(w,S,T,E){var P,R=!1;if(d)P=o.valueService.getValue(S,T),g.push(P),d=E();else{var M=o.processValues(i,w,g,S,T,v++),N=M.value,B=M.fromUserFunction;if(P=N,S.isCellEditable(T)){var k=o.valueService.getValue(S,T);!B||k!==P?T.setDataValue(S,P):R=!0}}R||w.push(P)};if(c)e.columns.forEach(function(w){C(w)});else{var p=this.isLeft?Iie(r.columns).reverse():r.columns;C(void 0,p)}},t.prototype.clearCellsInRange=function(e,r,i){for(var o=e,a=!1,s=function(){var c=l.rowPositionUtils.getRowNode(o);if(!c)return"break";i.forEach(function(p){p.isCellEditable(c)&&c.setDataValue(p,null)}),a=l.rowPositionUtils.sameRow(o,r),o=l.cellNavigationService.getRowBelow(o)},l=this;!a&&o;){var u=s();if(u==="break")break}},t.prototype.processValues=function(e,r,i,o,a,s){var l=this.gridOptionsWrapper.getFillOperation(),u=this.dragAxis==="y",c;if(u?c=this.isUp?"up":"down":c=this.isLeft?"left":"right",l){var p={event:e,values:r,initialValues:i,currentIndex:s,currentCellValue:this.valueService.getValue(o,a),direction:c,column:o,rowNode:a},h=l(p);if(h!==!1)return{value:h,fromUserFunction:!0}}var d=!r.some(function(g){var v=parseFloat(g);return isNaN(v)||v.toString()!==g.toString()});if(e.altKey||!d){if(d&&i.length===1){var f=this.isUp||this.isLeft?-1:1;return{value:parseFloat(_.last(r))+1*f,fromUserFunction:!1}}return{value:r[s%r.length],fromUserFunction:!1}}return{value:_.last(_.findLineByLeastSquares(r.map(Number))),fromUserFunction:!1}},t.prototype.clearValues=function(){this.clearMarkedPath(),this.clearCellValues(),this.lastCellMarked=void 0,n.prototype.clearValues.call(this)},t.prototype.clearMarkedPath=function(){this.markedCells.forEach(function(e){var r=e.getComp();r.addOrRemoveCssClass("ag-selection-fill-top",!1),r.addOrRemoveCssClass("ag-selection-fill-right",!1),r.addOrRemoveCssClass("ag-selection-fill-bottom",!1),r.addOrRemoveCssClass("ag-selection-fill-left",!1)}),this.markedCells.length=0,this.isUp=!1,this.isLeft=!1,this.isReduce=!1},t.prototype.clearCellValues=function(){this.cellValues.length=0},t.prototype.markPathFrom=function(e,r){if(this.clearMarkedPath(),this.clearCellValues(),this.dragAxis==="y"){if(this.rowPositionUtils.sameRow(r,e))return;var i=this.rowPositionUtils.before(r,e),o=this.getRangeStartRow(),a=this.getRangeEndRow();i&&(r.rowPinned==o.rowPinned&&r.rowIndex>=o.rowIndex||o.rowPinned!=a.rowPinned&&r.rowPinned==a.rowPinned&&r.rowIndex<=a.rowIndex)?(this.reduceVertical(e,r),this.isReduce=!0):(this.extendVertical(e,r,i),this.isReduce=!1)}else{var s=e.column,l=r.column;if(s===l)return;var u=this.columnModel.getAllDisplayedColumns(),c=u.indexOf(s),p=u.indexOf(l);p<=c&&p>=u.indexOf(this.getCellRange().columns[0])?(this.reduceHorizontal(e,r),this.isReduce=!0):(this.extendHorizontal(e,r,p<c),this.isReduce=!1)}this.lastCellMarked=r},t.prototype.extendVertical=function(e,r,i){var o=this,a=o.navigationService,s=o.rangeService,l=e;do{for(var u=this.getCellRange(),c=u.columns.length,p=0;p<c;p++){var h=u.columns[p],d={rowIndex:l.rowIndex,rowPinned:l.rowPinned},f=hc(hc({},d),{column:h}),g=s.isCellInSpecificRange(f,u),v=this.rowPositionUtils.sameRow(l,e);if(i&&(this.isUp=!0),!v){var m=a.getCellByPosition(f);if(m){this.markedCells.push(m);var C=m.getComp();g||(C.addOrRemoveCssClass("ag-selection-fill-left",p===0),C.addOrRemoveCssClass("ag-selection-fill-right",p===c-1)),C.addOrRemoveCssClass(i?"ag-selection-fill-top":"ag-selection-fill-bottom",this.rowPositionUtils.sameRow(l,r))}}}if(this.rowPositionUtils.sameRow(l,r))break}while(l=i?this.cellNavigationService.getRowAbove(l):this.cellNavigationService.getRowBelow(l))},t.prototype.reduceVertical=function(e,r){var i=e;do{for(var o=this.getCellRange(),a=o.columns.length,s=this.rowPositionUtils.sameRow(i,r),l=0;l<a;l++){var u={rowIndex:i.rowIndex,rowPinned:i.rowPinned},c=hc(hc({},u),{column:o.columns[l]}),p=this.navigationService.getCellByPosition(c);if(p){this.markedCells.push(p);var h=p.getComp();h.addOrRemoveCssClass("ag-selection-fill-bottom",this.rowPositionUtils.sameRow(i,r))}}if(s)break}while(i=this.cellNavigationService.getRowAbove(i))},t.prototype.extendHorizontal=function(e,r,i){var o=this,a=this.columnModel.getAllDisplayedColumns(),s=a.indexOf(i?r.column:e.column),l=a.indexOf(i?this.getCellRange().columns[0]:r.column),u=i?0:1,c=a.slice(s+u,l+u),p=this.getRangeStartRow(),h=this.getRangeEndRow();c.forEach(function(d){var f=p,g=!1;do{g=o.rowPositionUtils.sameRow(f,h);var v=o.navigationService.getCellByPosition({rowIndex:f.rowIndex,rowPinned:f.rowPinned,column:d});if(v){o.markedCells.push(v);var m=v.getComp();m.addOrRemoveCssClass("ag-selection-fill-top",o.rowPositionUtils.sameRow(f,p)),m.addOrRemoveCssClass("ag-selection-fill-bottom",o.rowPositionUtils.sameRow(f,h)),i?(o.isLeft=!0,m.addOrRemoveCssClass("ag-selection-fill-left",d===c[0])):m.addOrRemoveCssClass("ag-selection-fill-right",d===_.last(c))}f=o.cellNavigationService.getRowBelow(f)}while(!g)})},t.prototype.reduceHorizontal=function(e,r){var i=this,o=this.columnModel.getAllDisplayedColumns(),a=o.indexOf(r.column),s=o.indexOf(e.column),l=o.slice(a,s),u=this.getRangeStartRow(),c=this.getRangeEndRow();l.forEach(function(p){var h=u,d=!1;do{d=i.rowPositionUtils.sameRow(h,c);var f=i.navigationService.getCellByPosition({rowIndex:h.rowIndex,rowPinned:h.rowPinned,column:p});if(f){i.markedCells.push(f);var g=f.getComp();g.addOrRemoveCssClass("ag-selection-fill-right",p===l[0])}h=i.cellNavigationService.getRowBelow(h)}while(!d)})},t.prototype.refresh=function(e){var r=this.rangeService.getCellRanges()[0],i=!r.startRow||!r.endRow;if(i){this.destroy();return}n.prototype.refresh.call(this,e)},t.TEMPLATE='<div class="ag-fill-handle"></div>',Mie([y("valueService")],t.prototype,"valueService",void 0),t}(ZL),Lie=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Vv=globalThis&&globalThis.__assign||function(){return Vv=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Vv.apply(this,arguments)},JL=function(n){Lie(t,n);function t(){var e=n.call(this,t.TEMPLATE)||this;return e.type=Fa.RANGE,e.rangeFixed=!1,e}return t.prototype.onDrag=function(e){var r=this.getLastCellHovered();if(!!r){var i=this.rangeService.getCellRanges(),o=_.last(i);if(this.rangeFixed||(this.fixRangeStartEnd(o),this.rangeFixed=!0),this.endPosition={rowIndex:r.rowIndex,rowPinned:r.rowPinned,column:r.column},i.length===2&&i[0].type===Pn.DIMENSION&&o.type===Pn.VALUE){var a=!this.rowPositionUtils.sameRow(this.endPosition,this.rangeService.getRangeEndRow(o));a&&this.rangeService.updateRangeEnd(i[0],Vv(Vv({},this.endPosition),{column:i[0].columns[0]}),!0)}this.rangeService.extendLatestRangeToCell(this.endPosition)}},t.prototype.onDragEnd=function(e){var r=_.last(this.rangeService.getCellRanges());this.fixRangeStartEnd(r),this.rangeFixed=!1},t.prototype.fixRangeStartEnd=function(e){var r=this.rangeService.getRangeStartRow(e),i=this.rangeService.getRangeEndRow(e),o=e.columns[0];e.startRow=r,e.endRow=i,e.startColumn=o},t.TEMPLATE='<div class="ag-range-handle"></div>',t}(ZL),Nie=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),kie=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Gie=function(n){Nie(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.createSelectionHandle=function(e){return this.createBean(e===Fa.RANGE?new JL:new QL)},t=kie([J("selectionHandleFactory")],t),t}(j),eN={moduleName:ae.RangeSelectionModule,beans:[Pie,Gie],agStackComponents:[{componentName:"AgFillHandle",componentClass:QL},{componentName:"AgRangeHandle",componentClass:JL}],dependantModules:[Vr]},Bie={moduleName:ae.GridChartsModule,beans:[bie,Sie,Tie],dependantModules:[eN,Vr]},Vie=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),a_=globalThis&&globalThis.__assign||function(){return a_=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},a_.apply(this,arguments)},sb=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},tN=function(n){Vie(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.loadRowDataVersion=0,e.needRefresh=!1,e}return t.prototype.init=function(e,r){var i=this;this.params=r,this.comp=e;var o=r.pinned!=null;o||(this.setAutoHeightClasses(),this.setupRefreshStrategy(),this.addThemeToDetailGrid(),this.createDetailGrid(),this.loadRowData(),this.addManagedListener(r.node.parent,Ee.EVENT_DATA_CHANGED,function(){i.needRefresh=!0}),this.addManagedListener(this.eventService,x.EVENT_FULL_WIDTH_ROW_FOCUSED,this.onFullWidthRowFocused.bind(this)))},t.prototype.onFullWidthRowFocused=function(e){var r=this.params,i={rowIndex:r.node.rowIndex,rowPinned:r.node.rowPinned},o={rowIndex:e.rowIndex,rowPinned:e.rowPinned},a=this.rowPositionUtils.sameRow(i,o);!a||this.focusService.focusInto(this.comp.getGui(),e.fromBelow)},t.prototype.setAutoHeightClasses=function(){var e=this.gridOptionsWrapper.isDetailRowAutoHeight(),r=e?"ag-details-row-auto-height":"ag-details-row-fixed-height",i=e?"ag-details-grid-auto-height":"ag-details-grid-fixed-height";this.comp.addOrRemoveCssClass(r,!0),this.comp.addOrRemoveDetailGridCssClass(i,!0)},t.prototype.setupRefreshStrategy=function(){if(this.params.suppressRefresh){console.warn("AG Grid: as of v23.2.0, cellRendererParams.suppressRefresh for Detail Cell Renderer is no longer used. Please set cellRendererParams.refreshStrategy = 'nothing' instead."),this.refreshStrategy="nothing";return}var e=this.params.refreshStrategy,r=e=="everything"||e=="nothing"||e=="rows";if(r){this.refreshStrategy=e;return}e!=null&&console.warn("AG Grid: invalid cellRendererParams.refreshStrategy = '"+e+"' supplied, defaulting to refreshStrategy = 'rows'."),this.refreshStrategy="rows"},t.prototype.addThemeToDetailGrid=function(){var e=this.environment.getTheme().theme;e&&this.comp.addOrRemoveDetailGridCssClass(e,!0)},t.prototype.createDetailGrid=function(){if(_.missing(this.params.detailGridOptions)){console.warn("AG Grid: could not find detail grid options for master detail, please set gridOptions.detailCellRendererParams.detailGridOptions");return}var e=this.gridOptionsWrapper.isDetailRowAutoHeight(),r=a_({},this.params.detailGridOptions);e&&(r.domLayout="autoHeight"),this.comp.setDetailGrid(r)},t.prototype.registerDetailWithMaster=function(e,r){var i=this.params.node.id,o=this.params.api,a={id:i,api:e,columnApi:r},s=this.params.node;o.addDetailGridInfo(i,a),s.detailGridInfo=a,this.addDestroyFunc(function(){s.detailGridInfo===a&&(o.removeDetailGridInfo(i),s.detailGridInfo=null)})},t.prototype.loadRowData=function(){var e=this;this.loadRowDataVersion++;var r=this.loadRowDataVersion,i=this.params.getDetailRowData;if(!i){console.warn("AG Grid: could not find getDetailRowData for master / detail, please set gridOptions.detailCellRendererParams.getDetailRowData");return}var o=function(s){var l=e.loadRowDataVersion===r;l&&e.comp.setRowData(s)},a={node:this.params.node,data:this.params.node.data,successCallback:o,context:this.gridOptionsWrapper.getContext()};i(a)},t.prototype.refresh=function(){var e=!1,r=!0,i=!this.needRefresh||this.refreshStrategy==="nothing";return i?r:(this.needRefresh=!1,this.refreshStrategy==="everything"?e:(this.loadRowData(),r))},sb([y("environment")],t.prototype,"environment",void 0),sb([y("rowPositionUtils")],t.prototype,"rowPositionUtils",void 0),sb([y("focusService")],t.prototype,"focusService",void 0),t}(j),Wie=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Hie=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},jie=function(n){Wie(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.init=function(e){var r=this;this.params=e,this.selectAndSetTemplate();var i={addOrRemoveCssClass:function(o,a){return r.addOrRemoveCssClass(o,a)},addOrRemoveDetailGridCssClass:function(o,a){return r.eDetailGrid.classList.toggle(o,a)},setDetailGrid:function(o){return r.setDetailGrid(o)},setRowData:function(o){return r.setRowData(o)},getGui:function(){return r.eDetailGrid}};this.ctrl=this.createManagedBean(new tN),this.ctrl.init(i,e)},t.prototype.refresh=function(){return this.ctrl&&this.ctrl.refresh()},t.prototype.destroy=function(){n.prototype.destroy.call(this)},t.prototype.selectAndSetTemplate=function(){var e=this;if(this.params.pinned){this.setTemplate('<div class="ag-details-row"></div>');return}var r=function(){e.setTemplate(t.TEMPLATE)};if(_.missing(this.params.template))r();else if(typeof this.params.template=="string")this.setTemplate(this.params.template);else if(typeof this.params.template=="function"){var i=this.params.template,o=i(this.params);this.setTemplate(o)}else console.warn("AG Grid: detailCellRendererParams.template should be function or string"),r();this.eDetailGrid==null&&console.warn('AG Grid: reference to eDetailGrid was missing from the details template. Please add ref="eDetailGrid" to the template.')},t.prototype.setDetailGrid=function(e){if(!!this.eDetailGrid){var r=this.context.getBean("agGridReact"),i=r?_.cloneObject(r):void 0,o=this.context.getBean("frameworkComponentWrapper"),a=this.getFrameworkOverrides();new DF(this.eDetailGrid,e,{frameworkOverrides:a,providedBeanInstances:{agGridReact:i,frameworkComponentWrapper:o}}),this.detailApi=e.api,this.ctrl.registerDetailWithMaster(e.api,e.columnApi),this.addDestroyFunc(function(){e.api&&e.api.destroy()})}},t.prototype.setRowData=function(e){this.detailApi&&this.detailApi.setRowData(e)},t.TEMPLATE=`<div class="ag-details-row">
            <div ref="eDetailGrid" class="ag-details-grid"></div>
        </div>`,Hie([I("eDetailGrid")],t.prototype,"eDetailGrid",void 0),t}(te),Uie={moduleName:ae.MasterDetailModule,beans:[],userComponents:[{componentName:"agDetailCellRenderer",componentClass:jie}],controllers:[{controllerName:"detailCellRenderer",controllerClass:tN}],dependantModules:[Vr]},rN=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),vi=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},zie=function(n){rN(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.hideActiveMenu=function(){this.destroyBean(this.activeMenu)},t.prototype.showMenuAfterMouseEvent=function(e,r,i){var o=this;this.showMenu(e,function(a){var s=a.getGui();o.popupService.positionPopupUnderMouseEvent({type:"columnMenu",column:e,mouseEvent:r,ePopup:s}),i&&a.showTab(i)},"columnMenu",i,void 0,r.target)},t.prototype.showMenuAfterButtonClick=function(e,r,i,o,a){var s=this,l=-1,u="left";this.gridOptionsWrapper.isEnableRtl()&&(l=1,u="right"),this.showMenu(e,function(c){var p=c.getGui();s.popupService.positionPopupUnderComponent({type:i,column:e,eventSource:r,ePopup:p,alignSide:u,nudgeX:9*l,nudgeY:-23,keepWithinBounds:!0}),o&&c.showTab(o)},i,o,a,r)},t.prototype.showMenu=function(e,r,i,o,a,s){var l=this,u=this.createBean(new lb(e,this.lastSelectedTab,a)),c=u.getGui(),p=s||this.ctrlsService.getGridBodyCtrl().getGui(),h=[];h.push(function(v){l.destroyBean(u),e.setMenuVisible(!1,"contextMenu");var m=v instanceof KeyboardEvent;if(m&&s&&_.isVisible(s)){var C=l.focusService.findTabbableParent(s);C&&C.focus()}});var d=this.gridOptionsWrapper.getLocaleTextFunc(),f=this.popupService.addPopup({modal:!0,eChild:c,closeOnEsc:!0,closedCallback:function(v){h.forEach(function(m){return m(v)})},afterGuiAttached:function(v){return u.afterGuiAttached(Object.assign({},{container:i},v))},positionCallback:function(){return r(u)},anchorToElement:p,ariaLabel:d("ariaLabelColumnMenu","Column Menu")});if(f){var g=f.stopAnchoringPromise;g&&g.then(function(v){e.addEventListener(Se.EVENT_LEFT_CHANGED,v),e.addEventListener(Se.EVENT_VISIBLE_CHANGED,v),h.push(function(){e.removeEventListener(Se.EVENT_LEFT_CHANGED,v),e.removeEventListener(Se.EVENT_VISIBLE_CHANGED,v)})})}o||(u.showTabBasedOnPreviousSelection(),r(u)),u.addEventListener(lb.EVENT_TAB_SELECTED,function(v){l.lastSelectedTab=v.key}),e.setMenuVisible(!0,"contextMenu"),this.activeMenu=u,u.addEventListener(j.EVENT_DESTROYED,function(){l.activeMenu===u&&(l.activeMenu=null)})},t.prototype.isMenuEnabled=function(e){return e.getMenuTabs(lb.TABS_DEFAULT).length>0},vi([y("popupService")],t.prototype,"popupService",void 0),vi([y("focusService")],t.prototype,"focusService",void 0),vi([y("ctrlsService")],t.prototype,"ctrlsService",void 0),t=vi([J("menuFactory")],t),t}(j),lb=function(n){rN(t,n);function t(e,r,i){var o=n.call(this)||this;return o.tabFactories={},o.includeChecks={},o.column=e,o.initialSelection=r,o.tabFactories[t.TAB_GENERAL]=o.createMainPanel.bind(o),o.tabFactories[t.TAB_FILTER]=o.createFilterPanel.bind(o),o.tabFactories[t.TAB_COLUMNS]=o.createColumnsPanel.bind(o),o.includeChecks[t.TAB_GENERAL]=function(){return!0},o.includeChecks[t.TAB_FILTER]=function(){return e.isFilterAllowed()},o.includeChecks[t.TAB_COLUMNS]=function(){return!0},o.restrictTo=i,o}return t.prototype.init=function(){var e=this,r=this.getTabsToCreate().map(function(i){return e.createTab(i)});this.tabbedLayout=new $S({items:r,cssClass:"ag-menu",onActiveItemClicked:this.onHidePopup.bind(this),onItemClicked:this.onTabItemClicked.bind(this)}),this.createBean(this.tabbedLayout),this.mainMenuList&&this.mainMenuList.setParentComponent(this.tabbedLayout)},t.prototype.getTabsToCreate=function(){var e=this;return this.restrictTo?this.restrictTo:this.column.getMenuTabs(t.TABS_DEFAULT).filter(function(r){return e.isValidMenuTabItem(r)}).filter(function(r){return e.isNotSuppressed(r)}).filter(function(r){return e.isModuleLoaded(r)})},t.prototype.isModuleLoaded=function(e){return e===t.TAB_COLUMNS?ve.isRegistered(ae.ColumnToolPanelModule):!0},t.prototype.isValidMenuTabItem=function(e){var r=!0,i=t.TABS_DEFAULT;return this.restrictTo!=null&&(r=this.restrictTo.indexOf(e)>-1,i=this.restrictTo),r=r&&t.TABS_DEFAULT.indexOf(e)>-1,r||console.warn("AG Grid: Trying to render an invalid menu item '"+e+"'. Check that your 'menuTabs' contains one of ["+i+"]"),r},t.prototype.isNotSuppressed=function(e){return this.includeChecks[e]()},t.prototype.createTab=function(e){return this.tabFactories[e]()},t.prototype.showTabBasedOnPreviousSelection=function(){this.showTab(this.initialSelection)},t.prototype.showTab=function(e){this.tabItemColumns&&e===t.TAB_COLUMNS?this.tabbedLayout.showItem(this.tabItemColumns):this.tabItemFilter&&e===t.TAB_FILTER?this.tabbedLayout.showItem(this.tabItemFilter):this.tabItemGeneral&&e===t.TAB_GENERAL?this.tabbedLayout.showItem(this.tabItemGeneral):this.tabbedLayout.showFirstItem()},t.prototype.onTabItemClicked=function(e){var r=null;switch(e.item){case this.tabItemColumns:r=t.TAB_COLUMNS;break;case this.tabItemFilter:r=t.TAB_FILTER;break;case this.tabItemGeneral:r=t.TAB_GENERAL;break}r&&this.activateTab(r)},t.prototype.activateTab=function(e){var r={type:t.EVENT_TAB_SELECTED,key:e};this.dispatchEvent(r)},t.prototype.getMenuItems=function(){var e=this.getDefaultMenuOptions(),r,i=this.gridOptionsWrapper.getMainMenuItemsFunc();return i?r=i({column:this.column,defaultItems:e}):r=e,_.removeRepeatsFromArray(r,t.MENU_ITEM_SEPARATOR),r},t.prototype.getDefaultMenuOptions=function(){var e=[],r=!this.column.getColDef().lockPinned,i=this.columnModel.getRowGroupColumns().length,o=i>0,a=this.columnModel.getRowGroupColumns().indexOf(this.column)>=0,s=this.column.isAllowValue(),l=this.column.isAllowRowGroup(),u=this.column.isPrimary(),c=this.columnModel.isPivotMode(),p=this.rowModel.getType()===L.ROW_MODEL_TYPE_CLIENT_SIDE,h=this.gridOptionsWrapper.isTreeData(),d=u&&o&&s||!u;r&&e.push("pinSubMenu"),d&&e.push("valueAggSubMenu"),(r||d)&&e.push(t.MENU_ITEM_SEPARATOR),e.push("autoSizeThis"),e.push("autoSizeAll"),e.push(t.MENU_ITEM_SEPARATOR),l&&this.column.isPrimary()&&(a?e.push("rowUnGroup"):e.push("rowGroup")),e.push(t.MENU_ITEM_SEPARATOR),e.push("resetColumns");var f=p&&(h||i>(c?1:0));return f&&(e.push("expandAll"),e.push("contractAll")),e},t.prototype.createMainPanel=function(){this.mainMenuList=this.createManagedBean(new Cd);var e=this.getMenuItems(),r=this.menuItemMapper.mapWithStockItems(e,this.column);return this.mainMenuList.addMenuItems(r),this.mainMenuList.addEventListener(Ti.EVENT_MENU_ITEM_SELECTED,this.onHidePopup.bind(this)),this.tabItemGeneral={title:_.createIconNoSpan("menu",this.gridOptionsWrapper,this.column),titleLabel:t.TAB_GENERAL.replace("MenuTab",""),bodyPromise:Dt.resolve(this.mainMenuList.getGui()),name:t.TAB_GENERAL},this.tabItemGeneral},t.prototype.onHidePopup=function(e){var r;e&&e.event&&e.event instanceof KeyboardEvent&&(r=e.event),this.hidePopupFunc(r&&{keyboardEvent:r});var i=this.focusService.getFocusedCell(),o=this.gridOptionsWrapper.getDocument();if(o.activeElement===o.body&&i){var a=i.rowIndex,s=i.rowPinned,l=i.column;this.focusService.setFocusedCell(a,l,s,!0)}},t.prototype.createFilterPanel=function(){var e,r=this.filterManager.getOrCreateFilterWrapper(this.column,"COLUMN_MENU");if(!r)throw new Error("AG Grid - Unable to instantiate filter");var i=function(o){var a;!(!((a=r)===null||a===void 0)&&a.filterPromise)||r.filterPromise.then(function(s){s&&s.afterGuiAttached&&s.afterGuiAttached(o)})};return this.tabItemFilter={title:_.createIconNoSpan("filter",this.gridOptionsWrapper,this.column),titleLabel:t.TAB_FILTER.replace("MenuTab",""),bodyPromise:(e=r)===null||e===void 0?void 0:e.guiPromise,afterAttachedCallback:i,name:t.TAB_FILTER},this.tabItemFilter},t.prototype.createColumnsPanel=function(){var e=document.createElement("div");e.classList.add("ag-menu-column-select-wrapper"),this.columnSelectPanel=this.createManagedBean(new k0);var r=this.column.getColDef().columnsMenuParams;r||(r={}),this.columnSelectPanel.init(!1,{suppressColumnMove:!1,suppressValues:!1,suppressPivots:!1,suppressRowGroups:!1,suppressPivotMode:!1,contractColumnSelection:!!r.contractColumnSelection,suppressColumnExpandAll:!!r.suppressColumnExpandAll,suppressColumnFilter:!!r.suppressColumnFilter,suppressColumnSelectAll:!!r.suppressColumnSelectAll,suppressSyncLayoutWithGrid:!!r.suppressSyncLayoutWithGrid,api:this.gridApi,columnApi:this.columnApi,context:this.gridOptionsWrapper.getContext()},"columnMenu");var i=this.columnSelectPanel.getGui();return i.classList.add("ag-menu-column-select"),e.appendChild(i),this.tabItemColumns={title:_.createIconNoSpan("columns",this.gridOptionsWrapper,this.column),titleLabel:t.TAB_COLUMNS.replace("MenuTab",""),bodyPromise:Dt.resolve(e),name:t.TAB_COLUMNS},this.tabItemColumns},t.prototype.afterGuiAttached=function(e){var r=e.container,i=e.hidePopup;this.tabbedLayout.setAfterAttachedParams({container:r,hidePopup:i}),i&&(this.hidePopupFunc=i,this.addDestroyFunc(i))},t.prototype.getGui=function(){return this.tabbedLayout.getGui()},t.EVENT_TAB_SELECTED="tabSelected",t.TAB_FILTER="filterMenuTab",t.TAB_GENERAL="generalMenuTab",t.TAB_COLUMNS="columnsMenuTab",t.TABS_DEFAULT=[t.TAB_GENERAL,t.TAB_FILTER,t.TAB_COLUMNS],t.MENU_ITEM_SEPARATOR="separator",vi([y("columnModel")],t.prototype,"columnModel",void 0),vi([y("filterManager")],t.prototype,"filterManager",void 0),vi([y("gridApi")],t.prototype,"gridApi",void 0),vi([y("columnApi")],t.prototype,"columnApi",void 0),vi([y("menuItemMapper")],t.prototype,"menuItemMapper",void 0),vi([y("rowModel")],t.prototype,"rowModel",void 0),vi([y("focusService")],t.prototype,"focusService",void 0),vi([H],t.prototype,"init",null),t}(j),nN=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),va=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},$ie="ag-menu",ER="ag-context-menu-open",Kie=function(n){nN(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.hideActiveMenu=function(){this.destroyBean(this.activeMenu)},t.prototype.getMenuItems=function(e,r,i){var o=[];if(_.exists(e)&&ve.isRegistered(ae.ClipboardModule)&&r&&o.push("copy","copyWithHeaders","copyWithGroupHeaders","paste","separator"),this.gridOptionsWrapper.isEnableCharts()&&ve.isRegistered(ae.RangeSelectionModule)&&ve.isRegistered(ae.GridChartsModule)&&(this.columnModel.isPivotMode()&&o.push("pivotChart"),this.rangeService&&!this.rangeService.isEmpty()&&o.push("chartRange")),_.exists(e)){var a=!ve.isRegistered(ae.CsvExportModule),s=!ve.isRegistered(ae.ExcelExportModule),l=this.gridOptionsWrapper.isSuppressExcelExport()||s,u=this.gridOptionsWrapper.isSuppressCsvExport()||a,c=_.isIOSUserAgent(),p=!c&&(!l||!u);p&&o.push("export")}if(this.gridOptionsWrapper.getContextMenuItemsFunc()){var h=this.gridOptionsWrapper.getContextMenuItemsFunc(),d={node:e,column:r,value:i,defaultItems:o.length?o:void 0};return h?h(d):void 0}return o},t.prototype.onContextMenu=function(e,r,i,o,a,s){if(!(!this.gridOptionsWrapper.isAllowContextMenuWithControlKey()&&e&&(e.ctrlKey||e.metaKey))&&(e&&this.blockMiddleClickScrollsIfNeeded(e),!this.gridOptionsWrapper.isSuppressContextMenu())){var l=e||r.touches[0];if(this.showMenu(i,o,a,l,s)){var u=e||r;u.preventDefault()}}},t.prototype.blockMiddleClickScrollsIfNeeded=function(e){var r=this.gridOptionsWrapper,i=e.which;r.isSuppressMiddleClickScrolls()&&i===2&&e.preventDefault()},t.prototype.showMenu=function(e,r,i,o,a){var s=this,l=this.getMenuItems(e,r,i),u=this.ctrlsService.getGridBodyCtrl().getGui();if(l===void 0||_.missingOrEmpty(l))return!1;var c=new Yie(l);this.createBean(c);var p=c.getGui(),h={column:r,rowNode:e,type:"contextMenu",mouseEvent:o,ePopup:p,nudgeY:1},d=this.gridOptionsWrapper.getLocaleTextFunc(),f=this.popupService.addPopup({modal:!0,eChild:p,closeOnEsc:!0,closedCallback:function(){u.classList.remove(ER),s.destroyBean(c)},click:o,positionCallback:function(){s.popupService.positionPopupUnderMouseEvent(Object.assign({},{nudgeX:s.gridOptionsWrapper.isEnableRtl()?(p.offsetWidth+1)*-1:1},h))},anchorToElement:a,ariaLabel:d("ariaLabelContextMenu","Context Menu")});return f&&(u.classList.add(ER),c.afterGuiAttached({container:"contextMenu",hidePopup:f.hideFunc})),this.activeMenu&&this.hideActiveMenu(),this.activeMenu=c,c.addEventListener(j.EVENT_DESTROYED,function(){s.activeMenu===c&&(s.activeMenu=null)}),f&&c.addEventListener(Ti.EVENT_MENU_ITEM_SELECTED,f.hideFunc),!0},va([y("popupService")],t.prototype,"popupService",void 0),va([Fe("rangeService")],t.prototype,"rangeService",void 0),va([y("ctrlsService")],t.prototype,"ctrlsService",void 0),va([y("columnModel")],t.prototype,"columnModel",void 0),t=va([J("contextMenuFactory")],t),t}(j),Yie=function(n){nN(t,n);function t(e){var r=n.call(this,'<div class="'+$ie+'" role="presentation"></div>')||this;return r.menuList=null,r.focusedCell=null,r.menuItems=e,r}return t.prototype.addMenuItems=function(){var e=this,r=this.createBean(new Cd),i=this.menuItemMapper.mapWithStockItems(this.menuItems,null);r.addMenuItems(i),this.appendChild(r),this.menuList=r,r.addEventListener(Ti.EVENT_MENU_ITEM_SELECTED,function(o){return e.dispatchEvent(o)})},t.prototype.afterGuiAttached=function(e){e.hidePopup&&this.addDestroyFunc(e.hidePopup),this.focusedCell=this.focusService.getFocusedCell(),this.menuList&&this.focusService.focusInto(this.menuList.getGui())},t.prototype.restoreFocusedCell=function(){var e=this.focusService.getFocusedCell();if(e&&this.focusedCell&&this.cellPositionUtils.equals(e,this.focusedCell)){var r=this.focusedCell,i=r.rowIndex,o=r.rowPinned,a=r.column,s=this.gridOptionsWrapper.getDocument();s.activeElement===s.body&&this.focusService.setFocusedCell(i,a,o,!0)}},t.prototype.destroy=function(){this.restoreFocusedCell(),n.prototype.destroy.call(this)},va([y("menuItemMapper")],t.prototype,"menuItemMapper",void 0),va([y("focusService")],t.prototype,"focusService",void 0),va([y("cellPositionUtils")],t.prototype,"cellPositionUtils",void 0),va([H],t.prototype,"addMenuItems",null),t}(te),Xie=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),$u=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},qie=function(n){Xie(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.mapWithStockItems=function(e,r){var i=this;if(!e)return[];var o=[];return e.forEach(function(a){var s;if(typeof a=="string"?s=i.getStockMenuItem(a,r):s=a,!!s){var l=s,u=l.subMenu;u&&u instanceof Array&&(l.subMenu=i.mapWithStockItems(l.subMenu,r)),s!=null&&o.push(s)}}),o},t.prototype.getStockMenuItem=function(e,r){var i=this,o=this.gridOptionsWrapper.getLocaleTextFunc(),a=this.gridOptionsWrapper.isSkipHeaderOnAutoSize();switch(e){case"pinSubMenu":return{name:o("pinColumn","Pin Column"),icon:_.createIconNoSpan("menuPin",this.gridOptionsWrapper,null),subMenu:["pinLeft","pinRight","clearPinned"]};case"pinLeft":return{name:o("pinLeft","Pin Left"),action:function(){return i.columnModel.setColumnPinned(r,L.PINNED_LEFT,"contextMenu")},checked:!!r&&r.isPinnedLeft()};case"pinRight":return{name:o("pinRight","Pin Right"),action:function(){return i.columnModel.setColumnPinned(r,L.PINNED_RIGHT,"contextMenu")},checked:!!r&&r.isPinnedRight()};case"clearPinned":return{name:o("noPin","No Pin"),action:function(){return i.columnModel.setColumnPinned(r,null,"contextMenu")},checked:!!r&&!r.isPinned()};case"valueAggSubMenu":return ve.assertRegistered(ae.RowGroupingModule,"Aggregation from Menu")?{name:o("valueAggregation","Value Aggregation"),icon:_.createIconNoSpan("menuValue",this.gridOptionsWrapper,null),subMenu:this.createAggregationSubMenu(r)}:null;case"autoSizeThis":return{name:o("autosizeThiscolumn","Autosize This Column"),action:function(){return i.columnModel.autoSizeColumn(r,a,"contextMenu")}};case"autoSizeAll":return{name:o("autosizeAllColumns","Autosize All Columns"),action:function(){return i.columnModel.autoSizeAllColumns(a,"contextMenu")}};case"rowGroup":return{name:o("groupBy","Group by")+" "+_.escapeString(this.columnModel.getDisplayNameForColumn(r,"header")),action:function(){return i.columnModel.addRowGroupColumn(r,"contextMenu")},icon:_.createIconNoSpan("menuAddRowGroup",this.gridOptionsWrapper,null)};case"rowUnGroup":return{name:o("ungroupBy","Un-Group by")+" "+_.escapeString(this.columnModel.getDisplayNameForColumn(r,"header")),action:function(){return i.columnModel.removeRowGroupColumn(r,"contextMenu")},icon:_.createIconNoSpan("menuRemoveRowGroup",this.gridOptionsWrapper,null)};case"resetColumns":return{name:o("resetColumns","Reset Columns"),action:function(){return i.columnModel.resetColumnState("contextMenu")}};case"expandAll":return{name:o("expandAll","Expand All"),action:function(){return i.gridApi.expandAll()}};case"contractAll":return{name:o("collapseAll","Collapse All"),action:function(){return i.gridApi.collapseAll()}};case"copy":return ve.assertRegistered(ae.ClipboardModule,"Copy from Menu")?{name:o("copy","Copy"),shortcut:o("ctrlC","Ctrl+C"),icon:_.createIconNoSpan("clipboardCopy",this.gridOptionsWrapper,null),action:function(){return i.clipboardService.copyToClipboard()}}:null;case"copyWithHeaders":return ve.assertRegistered(ae.ClipboardModule,"Copy with Headers from Menu")?{name:o("copyWithHeaders","Copy with Headers"),icon:_.createIconNoSpan("clipboardCopy",this.gridOptionsWrapper,null),action:function(){return i.clipboardService.copyToClipboard({includeHeaders:!0})}}:null;case"copyWithGroupHeaders":return ve.assertRegistered(ae.ClipboardModule,"Copy with Group Headers from Menu")?{name:o("copyWithGroupHeaders","Copy with Group Headers"),icon:_.createIconNoSpan("clipboardCopy",this.gridOptionsWrapper,null),action:function(){return i.clipboardService.copyToClipboard({includeHeaders:!0,includeGroupHeaders:!0})}}:null;case"paste":return ve.assertRegistered(ae.ClipboardModule,"Paste from Clipboard")?{name:o("paste","Paste"),shortcut:o("ctrlV","Ctrl+V"),disabled:!0,icon:_.createIconNoSpan("clipboardPaste",this.gridOptionsWrapper,null),action:function(){return i.clipboardService.pasteFromClipboard()}}:null;case"export":var s=[],l=ve.isRegistered(ae.CsvExportModule),u=ve.isRegistered(ae.ExcelExportModule);return!this.gridOptionsWrapper.isSuppressCsvExport()&&l&&s.push("csvExport"),!this.gridOptionsWrapper.isSuppressExcelExport()&&u&&s.push("excelExport"),{name:o("export","Export"),subMenu:s,icon:_.createIconNoSpan("save",this.gridOptionsWrapper,null)};case"csvExport":return{name:o("csvExport","CSV Export"),icon:_.createIconNoSpan("csvExport",this.gridOptionsWrapper,null),action:function(){return i.gridApi.exportDataAsCsv({})}};case"excelExport":return{name:o("excelExport","Excel Export"),icon:_.createIconNoSpan("excelExport",this.gridOptionsWrapper,null),action:function(){return i.gridApi.exportDataAsExcel()}};case"separator":return"separator";default:var c=this.getChartItems(e);return c||(console.warn("AG Grid: unknown menu item type "+e),null)}},t.prototype.getChartItems=function(e){var r=this,i=this.gridOptionsWrapper.getLocaleTextFunc(),o=function(s,l,u){return{name:i(s,l),action:function(){return r.chartService.createPivotChart({chartType:u})}}},a=function(s,l,u){return{name:i(s,l),action:function(){return r.chartService.createChartFromCurrentRange(u)}}};switch(e){case"pivotChart":return{name:i("pivotChart","Pivot Chart"),subMenu:["pivotColumnChart","pivotBarChart","pivotPieChart","pivotLineChart","pivotXYChart","pivotAreaChart"],icon:_.createIconNoSpan("chart",this.gridOptionsWrapper,null)};case"chartRange":return{name:i("chartRange","Chart Range"),subMenu:["rangeColumnChart","rangeBarChart","rangePieChart","rangeLineChart","rangeXYChart","rangeAreaChart","rangeHistogramChart","rangeCombinationChart"],icon:_.createIconNoSpan("chart",this.gridOptionsWrapper,null)};case"pivotColumnChart":return{name:i("columnChart","Column"),subMenu:["pivotGroupedColumn","pivotStackedColumn","pivotNormalizedColumn"]};case"pivotGroupedColumn":return o("groupedColumn","Grouped&lrm;","groupedColumn");case"pivotStackedColumn":return o("stackedColumn","Stacked&lrm;","stackedColumn");case"pivotNormalizedColumn":return o("normalizedColumn","100% Stacked&lrm;","normalizedColumn");case"rangeColumnChart":return{name:i("columnChart","Column"),subMenu:["rangeGroupedColumn","rangeStackedColumn","rangeNormalizedColumn"]};case"rangeGroupedColumn":return a("groupedColumn","Grouped&lrm;","groupedColumn");case"rangeStackedColumn":return a("stackedColumn","Stacked&lrm;","stackedColumn");case"rangeNormalizedColumn":return a("normalizedColumn","100% Stacked&lrm;","normalizedColumn");case"pivotBarChart":return{name:i("barChart","Bar"),subMenu:["pivotGroupedBar","pivotStackedBar","pivotNormalizedBar"]};case"pivotGroupedBar":return o("groupedBar","Grouped&lrm;","groupedBar");case"pivotStackedBar":return o("stackedBar","Stacked&lrm;","stackedBar");case"pivotNormalizedBar":return o("normalizedBar","100% Stacked&lrm;","normalizedBar");case"rangeBarChart":return{name:i("barChart","Bar"),subMenu:["rangeGroupedBar","rangeStackedBar","rangeNormalizedBar"]};case"rangeGroupedBar":return a("groupedBar","Grouped&lrm;","groupedBar");case"rangeStackedBar":return a("stackedBar","Stacked&lrm;","stackedBar");case"rangeNormalizedBar":return a("normalizedBar","100% Stacked&lrm;","normalizedBar");case"pivotPieChart":return{name:i("pieChart","Pie"),subMenu:["pivotPie","pivotDoughnut"]};case"pivotPie":return o("pie","Pie&lrm;","pie");case"pivotDoughnut":return o("doughnut","Doughnut&lrm;","doughnut");case"rangePieChart":return{name:i("pieChart","Pie"),subMenu:["rangePie","rangeDoughnut"]};case"rangePie":return a("pie","Pie&lrm;","pie");case"rangeDoughnut":return a("doughnut","Doughnut&lrm;","doughnut");case"pivotLineChart":return o("line","Line&lrm;","line");case"rangeLineChart":return a("line","Line&lrm;","line");case"pivotXYChart":return{name:i("xyChart","X Y (Scatter)"),subMenu:["pivotScatter","pivotBubble"]};case"pivotScatter":return o("scatter","Scatter&lrm;","scatter");case"pivotBubble":return o("bubble","Bubble&lrm;","bubble");case"rangeXYChart":return{name:i("xyChart","X Y (Scatter)"),subMenu:["rangeScatter","rangeBubble"]};case"rangeScatter":return a("scatter","Scatter&lrm;","scatter");case"rangeBubble":return a("bubble","Bubble&lrm;","bubble");case"pivotAreaChart":return{name:i("areaChart","Area"),subMenu:["pivotArea","pivotStackedArea","pivotNormalizedArea"]};case"pivotArea":return o("area","Area&lrm;","area");case"pivotStackedArea":return o("stackedArea","Stacked&lrm;","stackedArea");case"pivotNormalizedArea":return o("normalizedArea","100% Stacked&lrm;","normalizedArea");case"rangeAreaChart":return{name:i("areaChart","Area"),subMenu:["rangeArea","rangeStackedArea","rangeNormalizedArea"]};case"rangeArea":return a("area","Area&lrm;","area");case"rangeStackedArea":return a("stackedArea","Stacked&lrm;","stackedArea");case"rangeNormalizedArea":return a("normalizedArea","100% Stacked&lrm;","normalizedArea");case"rangeHistogramChart":return a("histogramChart","Histogram&lrm;","histogram");case"rangeColumnLineCombo":return a("columnLineCombo","Column & Line&lrm;","columnLineCombo");case"rangeAreaColumnCombo":return a("AreaColumnCombo","Area & Column&lrm;","areaColumnCombo");case"rangeCombinationChart":return{name:i("combinationChart","Combination"),subMenu:["rangeColumnLineCombo","rangeAreaColumnCombo"]};default:return null}},t.prototype.createAggregationSubMenu=function(e){var r=this,i=this.gridOptionsWrapper.getLocaleTextFunc(),o=e.isValueActive(),a=this.aggFuncService.getFuncNames(e),s;if(e.isPrimary())s=e;else{var l=e.getColDef().pivotValueColumn;s=_.exists(l)?l:void 0}var u=[];return a.forEach(function(c){u.push({name:i(c,c),action:function(){r.columnModel.setColumnAggFunc(s,c,"contextMenu"),r.columnModel.addValueColumn(s,"contextMenu")},checked:o&&s.getAggFunc()===c})}),u},$u([y("columnModel")],t.prototype,"columnModel",void 0),$u([y("gridApi")],t.prototype,"gridApi",void 0),$u([Fe("clipboardService")],t.prototype,"clipboardService",void 0),$u([Fe("aggFuncService")],t.prototype,"aggFuncService",void 0),$u([Fe("chartService")],t.prototype,"chartService",void 0),t=$u([J("menuItemMapper")],t),t}(j),Zie={moduleName:ae.MenuModule,beans:[zie,Kie,qie],dependantModules:[Vr]},Qie=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),dc=globalThis&&globalThis.__assign||function(){return dc=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},dc.apply(this,arguments)},ub=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},s_=function(n){Qie(t,n);function t(){var e=n.call(this,'<div class="ag-multi-filter ag-menu-list-compact"></div>')||this;return e.filterDefs=[],e.filters=[],e.guiDestroyFuncs=[],e.activeFilterIndices=[],e.lastActivatedMenuItem=null,e.afterFiltersReadyFuncs=[],e}return t.prototype.postConstruct=function(){var e=this;this.initialiseTabGuard({onFocusIn:function(r){return e.onFocusIn(r)}})},t.getFilterDefs=function(e){var r=e.filters;return r&&r.length>0?r:[{filter:"agTextColumnFilter"},{filter:"agSetColumnFilter"}]},t.prototype.init=function(e){var r=this;this.params=e,this.filterDefs=t.getFilterDefs(e);var i=e.column,o=e.filterChangedCallback;this.column=i,this.filterChangedCallback=o;var a=[];return this.filterDefs.forEach(function(s,l){var u=r.createFilter(s,l);u!=null&&a.push(u)}),Dt.all(a).then(function(s){r.filters=s,r.refreshGui("columnMenu"),r.afterFiltersReadyFuncs.forEach(function(l){return l()}),r.afterFiltersReadyFuncs.length=0})},t.prototype.refreshGui=function(e){var r=this;e!==this.lastOpenedInContainer&&(this.removeAllChildrenExceptTabGuards(),this.destroyChildren(),this.filters.forEach(function(i,o){o>0&&r.appendChild(_.loadTemplate('<div class="ag-filter-separator"></div>'));var a=r.filterDefs[o],s=r.getFilterTitle(i,a),l;if(a.display==="subMenu"&&e!=="toolPanel"){var u=r.insertFilterMenu(i,s);l=u.getGui()}else if(a.display==="subMenu"||a.display==="accordion"){var c=r.insertFilterGroup(i,s);l=c.getGui()}else l=i.getGui();r.appendChild(l)}),this.lastOpenedInContainer=e)},t.prototype.getFilterTitle=function(e,r){if(r.title!=null)return r.title;var i=e;return typeof i.getFilterTitle=="function"?i.getFilterTitle():"Filter"},t.prototype.destroyChildren=function(){this.guiDestroyFuncs.forEach(function(e){return e()}),this.guiDestroyFuncs.length=0},t.prototype.insertFilterMenu=function(e,r){var i=this,o=this.createBean(new Ti({name:r,subMenu:e,cssClasses:["ag-multi-filter-menu-item"],isCompact:!0,isAnotherSubMenuOpen:function(){return!1}}));return o.setParentComponent(this),this.guiDestroyFuncs.push(function(){return i.destroyBean(o)}),this.addManagedListener(o,Ti.EVENT_MENU_ITEM_ACTIVATED,function(a){i.lastActivatedMenuItem&&i.lastActivatedMenuItem!==a.menuItem&&i.lastActivatedMenuItem.deactivate(),i.lastActivatedMenuItem=a.menuItem}),o.addGuiEventListener("focusin",function(){return o.activate()}),o.addGuiEventListener("focusout",function(){o.isSubMenuOpen()||o.deactivate()}),o},t.prototype.insertFilterGroup=function(e,r){var i=this,o=this.createBean(new qi({title:r,cssIdentifier:"multi-filter"}));if(this.guiDestroyFuncs.push(function(){return i.destroyBean(o)}),o.addItem(e.getGui()),o.toggleGroupExpand(!1),e.afterGuiAttached){var a={container:this.lastOpenedInContainer,suppressFocus:!0};o.addManagedListener(o,qi.EVENT_EXPANDED,function(){return e.afterGuiAttached(a)})}return o},t.prototype.isFilterActive=function(){return this.filters.some(function(e){return e.isFilterActive()})},t.prototype.getLastActiveFilterIndex=function(){return this.activeFilterIndices.length>0?this.activeFilterIndices[this.activeFilterIndices.length-1]:null},t.prototype.doesFilterPass=function(e,r){var i=!0;return this.filters.forEach(function(o){!i||o===r||!o.isFilterActive()||(i=o.doesFilterPass(e))}),i},t.prototype.getFilterType=function(){return"multi"},t.prototype.getModelFromUi=function(){var e={filterType:this.getFilterType(),filterModels:this.filters.map(function(r){var i=r;return typeof i.getModelFromUi=="function"?i.getModelFromUi():null})};return e},t.prototype.getModel=function(){if(!this.isFilterActive())return null;var e={filterType:this.getFilterType(),filterModels:this.filters.map(function(r){return r.isFilterActive()?r.getModel():null})};return e},t.prototype.setModel=function(e){var r=this,i=function(a,s){return new Dt(function(l){var u=a.setModel(s);u?u.then(function(){return l()}):l()})},o=[];return e==null?o=this.filters.map(function(a,s){var l=i(a,null);return r.updateActiveList(s),l}):this.filters.forEach(function(a,s){var l=e.filterModels.length>s?e.filterModels[s]:null,u=i(a,l);o.push(u),r.updateActiveList(s)}),Dt.all(o).then(function(){})},t.prototype.applyModel=function(){var e=!1;return this.filters.forEach(function(r){r instanceof Ql&&(e=r.applyModel()||e)}),e},t.prototype.getChildFilterInstance=function(e){return this.filters[e]},t.prototype.afterGuiAttached=function(e){e&&this.refreshGui(e.container);var r=this.params.filters,i=r&&r.some(function(s){return s.display&&s.display!=="inline"});this.executeFunctionIfExists("afterGuiAttached",dc(dc({},e||{}),{suppressFocus:i}));var o=this.gridOptionsWrapper.getDocument(),a=o.activeElement;i&&(a===o.body||this.getGui().contains(a))&&this.forceFocusOutOfContainer(!0)},t.prototype.onAnyFilterChanged=function(){this.executeFunctionIfExists("onAnyFilterChanged")},t.prototype.onNewRowsLoaded=function(){this.executeFunctionIfExists("onNewRowsLoaded")},t.prototype.destroy=function(){var e=this;this.filters.forEach(function(r){r.setModel(null),e.destroyBean(r)}),this.filters.length=0,this.destroyChildren(),n.prototype.destroy.call(this)},t.prototype.executeFunctionIfExists=function(e){for(var r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];_.forEachReverse(this.filters,function(o){var a=o[e];typeof a=="function"&&a.apply(o,r)})},t.prototype.createFilter=function(e,r){var i=this,o=this.params,a=o.filterModifiedCallback,s=o.doesRowPassOtherFilter,l,u=dc(dc({},this.filterManager.createFilterParams(this.column,this.column.getColDef())),{filterModifiedCallback:a,filterChangedCallback:function(h){i.executeWhenAllFiltersReady(function(){return i.filterChanged(r,h)})},doesRowPassOtherFilter:function(h){return s(h)&&i.doesFilterPass({node:h,data:h.data},l)}}),c=this.userComponentFactory.getFilterDetails(e,u,"agTextColumnFilter");if(!c)return null;var p=c.newAgStackInstance();return p&&p.then(function(h){return l=h}),p},t.prototype.executeWhenAllFiltersReady=function(e){this.filters&&this.filters.length>0?e():this.afterFiltersReadyFuncs.push(e)},t.prototype.updateActiveList=function(e){var r=this.filters[e];_.removeFromArray(this.activeFilterIndices,e),r.isFilterActive()&&this.activeFilterIndices.push(e)},t.prototype.filterChanged=function(e,r){this.updateActiveList(e),this.filterChangedCallback(r);var i=this.filters[e];this.filters.forEach(function(o){o!==i&&typeof o.onAnyFilterChanged=="function"&&o.onAnyFilterChanged()})},t.prototype.onFocusIn=function(e){return this.lastActivatedMenuItem!=null&&!this.lastActivatedMenuItem.getGui().contains(e.target)&&(this.lastActivatedMenuItem.deactivate(),this.lastActivatedMenuItem=null),!0},ub([y("filterManager")],t.prototype,"filterManager",void 0),ub([y("userComponentFactory")],t.prototype,"userComponentFactory",void 0),ub([H],t.prototype,"postConstruct",null),t}(cu),Jie=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Wv=globalThis&&globalThis.__assign||function(){return Wv=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Wv.apply(this,arguments)},eoe=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},toe=function(n){Jie(t,n);function t(){var e=n.call(this,'<div class="ag-multi-floating-filter ag-floating-filter-input"></div>')||this;return e.floatingFilters=[],e}return t.prototype.init=function(e){var r=this;this.params=e;var i=e.filterParams,o=[];return s_.getFilterDefs(i).forEach(function(a,s){var l=Wv(Wv({},e),{parentFilterInstance:function(c){r.parentMultiFilterInstance(function(p){var h=p.getChildFilterInstance(s);h!=null&&c(h)})}}),u=r.createFloatingFilter(a,l);u!=null&&o.push(u)}),Dt.all(o).then(function(a){a.forEach(function(s,l){r.floatingFilters.push(s);var u=s.getGui();r.appendChild(u),l>0&&_.setDisplayed(u,!1)})})},t.prototype.onParentModelChanged=function(e,r){var i=this;r&&r.afterFloatingFilter||this.parentMultiFilterInstance(function(o){if(e==null)i.floatingFilters.forEach(function(s,l){s.onParentModelChanged(null,r),_.setDisplayed(s.getGui(),l===0)});else{var a=o.getLastActiveFilterIndex();i.floatingFilters.forEach(function(s,l){var u=e.filterModels.length>l?e.filterModels[l]:null;s.onParentModelChanged(u,r);var c=a==null?l===0:l===a;_.setDisplayed(s.getGui(),c)})}})},t.prototype.destroy=function(){this.destroyBeans(this.floatingFilters),this.floatingFilters.length=0,n.prototype.destroy.call(this)},t.prototype.createFloatingFilter=function(e,r){var i=this.userComponentFactory.getDefaultFloatingFilterType(e)||"agTextColumnFloatingFilter",o=this.userComponentFactory.getFloatingFilterCompDetails(e,r,i);return o?o.newAgStackInstance():null},t.prototype.parentMultiFilterInstance=function(e){this.params.parentFilterInstance(function(r){if(!(r instanceof s_))throw new Error("AG Grid - MultiFloatingFilterComp expects MultiFilter as it's parent");e(r)})},eoe([y("userComponentFactory")],t.prototype,"userComponentFactory",void 0),t}(te),roe={moduleName:ae.MultiFilterModule,beans:[],userComponents:[{componentName:"agMultiColumnFilter",componentClass:s_},{componentName:"agMultiColumnFloatingFilter",componentClass:toe}],dependantModules:[Vr]},noe=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),ioe=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},ooe=function(n){noe(t,n);function t(e){var r=n.call(this,'<div class="ag-rich-select-row"></div>')||this;return r.params=e,r}return t.prototype.setState=function(e,r,i){var o=this.populateWithRenderer(e,r);o||this.populateWithoutRenderer(e,r),this.addOrRemoveCssClass("ag-rich-select-row-selected",i)},t.prototype.populateWithoutRenderer=function(e,r){var i=r!=null,o=i?r:e;_.exists(o)&&o!==""?this.getGui().textContent=o.toString():this.getGui().innerHTML="&nbsp;"},t.prototype.populateWithRenderer=function(e,r){var i=this,o={value:e,valueFormatted:r,api:this.gridOptionsWrapper.getApi()},a=this.userComponentFactory.getCellRendererDetails(this.params,o),s=a?a.newAgStackInstance():void 0;return s!=null?_.bindCellRendererToHtmlElement(s,this.getGui()):this.getGui().innerText=o.valueFormatted!=null?o.valueFormatted:o.value,s?(s.then(function(l){i.addDestroyFunc(function(){i.getContext().destroyBean(l)})}),!0):!1},ioe([y("userComponentFactory")],t.prototype,"userComponentFactory",void 0),t}(te),aoe=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),cb=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},RR=function(n){aoe(t,n);function t(){var e=n.call(this,t.TEMPLATE)||this;return e.selectionConfirmed=!1,e.searchString="",e}return t.prototype.init=function(e){this.params=e,this.selectedValue=e.value,this.originalSelectedValue=e.value,this.focusAfterAttached=e.cellStartedEdit;var r=_.createIconNoSpan("smallDown",this.gridOptionsWrapper);if(r.classList.add("ag-rich-select-value-icon"),this.eValue.appendChild(r),this.virtualList=this.getContext().createBean(new bd("rich-select")),this.virtualList.setComponentCreator(this.createRowComponent.bind(this)),this.eList.appendChild(this.virtualList.getGui()),_.exists(this.params.cellHeight)&&this.virtualList.setRowHeight(this.params.cellHeight),this.renderSelectedValue(),_.missing(e.values)){console.warn("AG Grid: richSelectCellEditor requires values for it to work");return}var i=e.values;this.virtualList.setModel({getRowCount:function(){return i.length},getRow:function(s){return i[s]}}),this.addGuiEventListener("keydown",this.onKeyDown.bind(this));var o=this.virtualList.getGui();this.addManagedListener(o,"click",this.onClick.bind(this)),this.addManagedListener(o,"mousemove",this.onMouseMove.bind(this));var a=_.exists(e.searchDebounceDelay)?e.searchDebounceDelay:300;this.clearSearchString=_.debounce(this.clearSearchString,a),_.exists(e.charPress)&&this.searchText(e.charPress)},t.prototype.onKeyDown=function(e){var r=e.key;switch(e.preventDefault(),r){case U.ENTER:this.onEnterKeyDown();break;case U.TAB:this.confirmSelection();break;case U.DOWN:case U.UP:this.onNavigationKeyPressed(e,r);break;default:this.searchText(e)}},t.prototype.confirmSelection=function(){this.selectionConfirmed=!0},t.prototype.onEnterKeyDown=function(){this.confirmSelection(),this.params.stopEditing()},t.prototype.onNavigationKeyPressed=function(e,r){e.preventDefault();var i=this.params.values.indexOf(this.selectedValue),o=r===U.UP?i-1:i+1;if(o>=0&&o<this.params.values.length){var a=this.params.values[o];this.setSelectedValue(a)}},t.prototype.searchText=function(e){if(typeof e!="string"){var r=e.key;if(r===U.BACKSPACE)this.searchString=this.searchString.slice(0,-1),r="";else if(!_.isEventFromPrintableCharacter(e))return;this.searchText(r);return}this.searchString+=e,this.runSearch(),this.clearSearchString()},t.prototype.runSearch=function(){var e=this,r=this.params.values,i;if((typeof r[0]=="number"||typeof r[0]=="string")&&(i=r.map(String)),typeof r[0]=="object"&&this.params.colDef.keyCreator&&(i=r.map(function(l){var u={value:l,colDef:e.params.colDef,column:e.params.column,node:e.params.node,data:e.params.data,api:e.gridOptionsWrapper.getApi(),columnApi:e.gridOptionsWrapper.getColumnApi(),context:e.gridOptionsWrapper.getContext()};return e.params.colDef.keyCreator(u)})),!!i){var o=_.fuzzySuggestions(this.searchString,i,!0,!0)[0];if(!!o){var a=i.indexOf(o),s=r[a];this.setSelectedValue(s)}}},t.prototype.clearSearchString=function(){this.searchString=""},t.prototype.renderSelectedValue=function(){var e=this,r=this.params.formatValue(this.selectedValue),i=this.eValue,o={value:this.selectedValue,valueFormatted:r,api:this.gridOptionsWrapper.getApi()},a=this.userComponentFactory.getCellRendererDetails(this.params,o),s=a?a.newAgStackInstance():void 0;s?(_.bindCellRendererToHtmlElement(s,i),s.then(function(l){e.addDestroyFunc(function(){return e.getContext().destroyBean(l)})})):_.exists(this.selectedValue)?i.innerHTML=r:_.clearElement(i)},t.prototype.setSelectedValue=function(e){if(this.selectedValue!==e){var r=this.params.values.indexOf(e);r!==-1&&(this.selectedValue=e,this.virtualList.ensureIndexVisible(r),this.virtualList.refresh())}},t.prototype.createRowComponent=function(e){var r=this.params.formatValue(e),i=new ooe(this.params);return this.getContext().createBean(i),i.setState(e,r,e===this.selectedValue),i},t.prototype.onMouseMove=function(e){var r=this.virtualList.getGui().getBoundingClientRect(),i=this.virtualList.getScrollTop(),o=e.clientY-r.top+i,a=Math.floor(o/this.virtualList.getRowHeight()),s=this.params.values[a];s!==void 0&&this.setSelectedValue(s)},t.prototype.onClick=function(){this.confirmSelection(),this.params.stopEditing()},t.prototype.afterGuiAttached=function(){var e=this.params.values.indexOf(this.selectedValue);this.virtualList.refresh(),e>=0&&this.virtualList.ensureIndexVisible(e),this.virtualList.refresh(),this.focusAfterAttached&&this.getGui().focus()},t.prototype.getValue=function(){return this.selectionConfirmed?this.selectedValue:this.originalSelectedValue},t.TEMPLATE=`<div class="ag-rich-select" tabindex="-1">
            <div ref="eValue" class="ag-rich-select-value"></div>
            <div ref="eList" class="ag-rich-select-list"></div>
        </div>`,cb([y("userComponentFactory")],t.prototype,"userComponentFactory",void 0),cb([I("eValue")],t.prototype,"eValue",void 0),cb([I("eList")],t.prototype,"eList",void 0),t}(uu),soe={moduleName:ae.RichSelectModule,beans:[],userComponents:[{componentName:"agRichSelect",componentClass:RR},{componentName:"agRichSelectCellEditor",componentClass:RR}],dependantModules:[Vr]},loe=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),vn=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},uoe=function(n){loe(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.pauseStoreUpdateListening=!1,e.started=!1,e}return t.prototype.ensureRowHeightsValid=function(){return!1},t.prototype.start=function(){this.started=!0;var e=this.gridOptionsWrapper.getServerSideDatasource();e&&this.setDatasource(e)},t.prototype.destroyDatasource=function(){!this.datasource||(this.datasource.destroy&&this.datasource.destroy(),this.rowRenderer.datasourceChanged(),this.datasource=void 0)},t.prototype.addEventListeners=function(){this.addManagedListener(this.eventService,x.EVENT_NEW_COLUMNS_LOADED,this.onColumnEverything.bind(this)),this.addManagedListener(this.eventService,x.EVENT_STORE_UPDATED,this.onStoreUpdated.bind(this));var e=this.resetRootStore.bind(this);this.addManagedListener(this.eventService,x.EVENT_COLUMN_VALUE_CHANGED,e),this.addManagedListener(this.eventService,x.EVENT_COLUMN_PIVOT_CHANGED,e),this.addManagedListener(this.eventService,x.EVENT_COLUMN_ROW_GROUP_CHANGED,e),this.addManagedListener(this.eventService,x.EVENT_COLUMN_PIVOT_MODE_CHANGED,e),this.verifyProps()},t.prototype.verifyProps=function(){if(this.gridOptionsWrapper.getInitialGroupOrderComparator()!=null){var e="AG Grid: initialGroupOrderComparator cannot be used with Server Side Row Model. If using Full Store, then provide the rows to the grid in the desired sort order. If using Partial Store, then sorting is done on the server side, nothing to do with the client.";_.doOnce(function(){return console.warn(e)},"SSRM.InitialGroupOrderComparator")}if(this.gridOptionsWrapper.isRowSelection()&&this.gridOptionsWrapper.getRowIdFunc()==null){var r="AG Grid: getRowId callback must be provided for Server Side Row Model selection to work correctly.";_.doOnce(function(){return console.warn(r)},"SSRM.SelectionNeedsRowNodeIdFunc")}},t.prototype.setDatasource=function(e){!this.started||(this.destroyDatasource(),this.datasource=e,this.resetRootStore())},t.prototype.isLastRowIndexKnown=function(){var e=this.getRootStore();return e?e.isLastRowIndexKnown():!1},t.prototype.onColumnEverything=function(){if(!this.gridOptionsWrapper.isSuppressEnterpriseResetOnNewColumns()){if(!this.storeParams){this.resetRootStore();return}var e=this.columnsToValueObjects(this.columnModel.getRowGroupColumns()),r=this.columnsToValueObjects(this.columnModel.getValueColumns()),i=this.columnsToValueObjects(this.columnModel.getPivotColumns()),o=!_.jsonEquals(this.storeParams.sortModel,this.sortController.getSortModel()),a=!_.jsonEquals(this.storeParams.rowGroupCols,e),s=!_.jsonEquals(this.storeParams.pivotCols,i),l=!_.jsonEquals(this.storeParams.valueCols,r),u=o||a||s||l;u&&this.resetRootStore()}},t.prototype.destroyRootStore=function(){!this.rootNode||!this.rootNode.childStore||(this.rootNode.childStore=this.destroyBean(this.rootNode.childStore),this.nodeManager.clear())},t.prototype.refreshAfterSort=function(e,r){this.storeParams&&(this.storeParams.sortModel=e);var i=this.getRootStore();!i||(i.refreshAfterSort(r),this.onStoreUpdated())},t.prototype.resetRootStore=function(){this.destroyRootStore(),this.rootNode=new Ee(this.beans),this.rootNode.group=!0,this.rootNode.level=-1,this.datasource&&(this.storeParams=this.createStoreParams(),this.rootNode.childStore=this.createBean(this.storeFactory.createStore(this.storeParams,this.rootNode)),this.updateRowIndexesAndBounds());var e={type:x.EVENT_ROW_DATA_CHANGED,api:this.gridApi,columnApi:this.columnApi};this.eventService.dispatchEvent(e),this.dispatchModelUpdated(!0)},t.prototype.columnsToValueObjects=function(e){var r=this;return e.map(function(i){return{id:i.getId(),aggFunc:i.getAggFunc(),displayName:r.columnModel.getDisplayNameForColumn(i,"model"),field:i.getColDef().field}})},t.prototype.createStoreParams=function(){var e=this.columnsToValueObjects(this.columnModel.getRowGroupColumns()),r=this.columnsToValueObjects(this.columnModel.getValueColumns()),i=this.columnsToValueObjects(this.columnModel.getPivotColumns()),o=this.gridOptionsWrapper.isDynamicRowHeight(),a={valueCols:r,rowGroupCols:e,pivotCols:i,pivotMode:this.columnModel.isPivotMode(),filterModel:this.filterManager.getFilterModel(),sortModel:this.sortListener.extractSortModel(),datasource:this.datasource,lastAccessedSequence:new vr,dynamicRowHeight:o};return a},t.prototype.getParams=function(){return this.storeParams},t.prototype.dispatchModelUpdated=function(e){e===void 0&&(e=!1);var r={type:x.EVENT_MODEL_UPDATED,api:this.gridApi,columnApi:this.columnApi,animate:!e,keepRenderedRows:!e,newPage:!1,newData:!1};this.eventService.dispatchEvent(r)},t.prototype.onStoreUpdated=function(){this.pauseStoreUpdateListening||(this.updateRowIndexesAndBounds(),this.dispatchModelUpdated())},t.prototype.onRowHeightChanged=function(){this.updateRowIndexesAndBounds(),this.dispatchModelUpdated()},t.prototype.updateRowIndexesAndBounds=function(){var e=this.getRootStore();!e||e.setDisplayIndexes(new vr,{value:0})},t.prototype.retryLoads=function(){var e=this.getRootStore();!e||(e.retryLoads(),this.onStoreUpdated())},t.prototype.getRow=function(e){var r=this.getRootStore();if(!!r)return r.getRowUsingDisplayIndex(e)},t.prototype.expandAll=function(e){this.pauseStoreUpdateListening=!0,this.forEachNode(function(r){r.group&&r.setExpanded(e)}),this.pauseStoreUpdateListening=!1,this.onStoreUpdated()},t.prototype.refreshAfterFilter=function(e,r){this.storeParams&&(this.storeParams.filterModel=e);var i=this.getRootStore();!i||(i.refreshAfterFilter(r),this.onStoreUpdated())},t.prototype.getRootStore=function(){if(this.rootNode&&this.rootNode.childStore)return this.rootNode.childStore},t.prototype.getRowCount=function(){var e=this.getRootStore();return e?e.getDisplayIndexEnd():0},t.prototype.getTopLevelRowCount=function(){var e=this.getRootStore();return e?e.getRowCount():1},t.prototype.getTopLevelRowDisplayedIndex=function(e){var r=this.getRootStore();return r?r.getTopLevelRowDisplayedIndex(e):e},t.prototype.getRowBounds=function(e){var r=this.getRootStore();if(!r){var i=this.gridOptionsWrapper.getRowHeightAsNumber();return{rowTop:0,rowHeight:i}}return r.getRowBounds(e)},t.prototype.getRowIndexAtPixel=function(e){var r=this.getRootStore();return e<=0||!r?0:r.getRowIndexAtPixel(e)},t.prototype.isEmpty=function(){return!1},t.prototype.isRowsToRender=function(){return this.getRootStore()!=null&&this.getRowCount()>0},t.prototype.getType=function(){return L.ROW_MODEL_TYPE_SERVER_SIDE},t.prototype.forEachNode=function(e){var r=this.getRootStore();!r||r.forEachNodeDeep(e)},t.prototype.forEachNodeAfterFilterAndSort=function(e){var r=this.getRootStore();!r||r.forEachNodeDeepAfterFilterAndSort(e)},t.prototype.executeOnStore=function(e,r){var i=this.getRootStore();if(!!i){var o=i.getChildStore(e);o&&r(o)}},t.prototype.refreshStore=function(e){e===void 0&&(e={});var r=e.route?e.route:[];this.executeOnStore(r,function(i){return i.refreshStore(e.purge==!0)})},t.prototype.getStoreState=function(){var e=[],r=this.getRootStore();return r&&r.addStoreStates(e),e},t.prototype.getNodesInRangeForSelection=function(e,r){return _.exists(r)&&e.parent!==r.parent?[]:e.parent.childStore.getRowNodesInRange(r,e)},t.prototype.getRowNode=function(e){var r;return this.forEachNode(function(i){i.id===e&&(r=i),i.detailNode&&i.detailNode.id===e&&(r=i.detailNode)}),r},t.prototype.isRowPresent=function(e){var r=this.getRowNode(e.id);return!!r},vn([y("columnModel")],t.prototype,"columnModel",void 0),vn([y("filterManager")],t.prototype,"filterManager",void 0),vn([y("sortController")],t.prototype,"sortController",void 0),vn([y("gridApi")],t.prototype,"gridApi",void 0),vn([y("columnApi")],t.prototype,"columnApi",void 0),vn([y("rowRenderer")],t.prototype,"rowRenderer",void 0),vn([y("ssrmSortService")],t.prototype,"sortListener",void 0),vn([y("ssrmNodeManager")],t.prototype,"nodeManager",void 0),vn([y("ssrmStoreFactory")],t.prototype,"storeFactory",void 0),vn([y("beans")],t.prototype,"beans",void 0),vn([_t],t.prototype,"destroyDatasource",null),vn([H],t.prototype,"addEventListeners",null),vn([_t],t.prototype,"destroyRootStore",null),t=vn([J("rowModel")],t),t}(j),coe=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),pb=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},poe=function(n){coe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.loadFromDatasource=function(e){var r=e.storeParams,i=e.parentBlock,o=e.parentNode,a=o.getGroupKeys();if(!!r.datasource){var s={startRow:e.startRow,endRow:e.endRow,rowGroupCols:r.rowGroupCols,valueCols:r.valueCols,pivotCols:r.pivotCols,pivotMode:r.pivotMode,groupKeys:a,filterModel:r.filterModel,sortModel:r.sortModel},l={successCallback:e.successCallback,success:e.success,failCallback:e.failCallback,fail:e.fail,request:s,parentNode:e.parentNode,api:this.gridApi,columnApi:this.columnApi,context:this.gridOptionsWrapper.getContext()};window.setTimeout(function(){if(!r.datasource||!i.isAlive()){e.failCallback();return}r.datasource.getRows(l)},0)}},t.prototype.getChildStore=function(e,r,i){if(_.missingOrEmpty(e))return r;var o=e[0],a=i(o);if(a){var s=e.slice(1,e.length),l=a.childStore;return l?l.getChildStore(s):null}return null},t.prototype.isServerRefreshNeeded=function(e,r,i){if(i.alwaysReset||i.valueColChanged||i.secondaryColChanged)return!0;var o=e.level+1,a=o<r.length,s=!a;if(s)return!0;var l=r[o].id,u=i.changedColumns.indexOf(l)>-1;return!!u},pb([y("columnApi")],t.prototype,"columnApi",void 0),pb([y("gridApi")],t.prototype,"gridApi",void 0),t=pb([J("ssrmStoreUtils")],t),t}(j),hoe=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Ku=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},doe=function(n){hoe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.postConstruct=function(){this.rowHeight=this.gridOptionsWrapper.getRowHeightAsNumber(),this.usingTreeData=this.gridOptionsWrapper.isTreeData(),this.usingMasterDetail=this.gridOptionsWrapper.isMasterDetail()},t.prototype.createRowNode=function(e){var r=new Ee(this.beans),i=e.rowHeight!=null?e.rowHeight:this.rowHeight;return r.setRowHeight(i),r.group=e.group,r.leafGroup=e.leafGroup,r.level=e.level,r.uiLevel=e.level,r.parent=e.parent,r.stub=!0,r.group&&(r.expanded=!1,r.field=e.field,r.rowGroupColumn=e.rowGroupColumn),r},t.prototype.destroyRowNodes=function(e){e&&e.forEach(this.destroyRowNode.bind(this))},t.prototype.destroyRowNode=function(e){e.childStore&&(this.destroyBean(e.childStore),e.childStore=null),e.clearRowTopAndRowIndex(),e.id!=null&&this.nodeManager.removeNode(e)},t.prototype.setTreeGroupInfo=function(e){var r=this.gridOptionsWrapper.getIsServerSideGroupFunc(),i=this.gridOptionsWrapper.getServerSideGroupKeyFunc();r!=null&&(e.setGroup(r(e.data)),e.group&&i!=null&&(e.key=i(e.data))),!e.group&&e.childStore!=null&&(this.destroyBean(e.childStore),e.childStore=null)},t.prototype.setRowGroupInfo=function(e){e.key=this.valueService.getValue(e.rowGroupColumn,e),(e.key===null||e.key===void 0)&&_.doOnce(function(){console.warn("AG Grid: null and undefined values are not allowed for server side row model keys"),e.rowGroupColumn&&console.warn("column = "+e.rowGroupColumn.getId()),console.warn("data is ",e.data)},"ServerSideBlock-CannotHaveNullOrUndefinedForKey")},t.prototype.setMasterDetailInfo=function(e){var r=this.gridOptionsWrapper.getIsRowMasterFunc();r!=null?e.master=r(e.data):e.master=!0},t.prototype.updateDataIntoRowNode=function(e,r){e.updateData(r),this.usingTreeData?this.setTreeGroupInfo(e):e.group||this.usingMasterDetail},t.prototype.setDataIntoRowNode=function(e,r,i,o){e.stub=!1,_.exists(r)?(e.setDataAndId(r,i),this.usingTreeData?this.setTreeGroupInfo(e):e.group?this.setRowGroupInfo(e):this.usingMasterDetail&&this.setMasterDetailInfo(e)):(e.setDataAndId(void 0,void 0),e.key=null),(this.usingTreeData||e.group)&&(this.setGroupDataIntoRowNode(e),this.setChildCountIntoRowNode(e)),_.exists(r)&&e.setRowHeight(this.gridOptionsWrapper.getRowHeightForNode(e,!1,o).height)},t.prototype.setChildCountIntoRowNode=function(e){var r=this.gridOptionsWrapper.getChildCountFunc();r&&(e.allChildrenCount=r(e.data))},t.prototype.setGroupDataIntoRowNode=function(e){var r=this,i=this.columnModel.getGroupDisplayColumns(),o=this.gridOptionsWrapper.isTreeData();i.forEach(function(a){if(e.groupData==null&&(e.groupData={}),o)e.groupData[a.getColId()]=e.key;else if(a.isRowGroupDisplayed(e.rowGroupColumn.getId())){var s=r.valueService.getValue(e.rowGroupColumn,e);e.groupData[a.getColId()]=s}})},t.prototype.clearDisplayIndex=function(e){e.clearRowTopAndRowIndex();var r=e.group&&_.exists(e.childStore);if(r){var i=e.childStore;i.clearDisplayIndexes()}var o=e.master&&e.detailNode;o&&e.detailNode.clearRowTopAndRowIndex()},t.prototype.setDisplayIndex=function(e,r,i){e.setRowIndex(r.next()),e.setRowTop(i.value),i.value+=e.rowHeight;var o=e.master;o&&(e.expanded&&e.detailNode?(e.detailNode.setRowIndex(r.next()),e.detailNode.setRowTop(i.value),i.value+=e.detailNode.rowHeight):e.detailNode&&e.detailNode.clearRowTopAndRowIndex());var a=e.group&&_.exists(e.childStore);if(a){var s=e.childStore;e.expanded?s.setDisplayIndexes(r,i):s.clearDisplayIndexes()}},t.prototype.binarySearchForDisplayIndex=function(e,r){var i=0,o=r.length-1;if(_.missing(o)||_.missing(i)){console.warn("AG Grid: error: topPointer = "+o+", bottomPointer = "+i);return}for(;;){var a=Math.floor((i+o)/2),s=r[a];if(s.rowIndex===e)return s;var l=s.master&&s.expanded,u=s.detailNode;if(l&&u&&u.rowIndex===e)return s.detailNode;var c=s.childStore;if(s.expanded&&c&&c.isDisplayIndexInStore(e))return c.getRowUsingDisplayIndex(e);if(s.rowIndex<e)i=a+1;else if(s.rowIndex>e)o=a-1;else{console.warn("AG Grid: error: unable to locate rowIndex = "+e+" in cache");return}}},t.prototype.extractRowBounds=function(e,r){var i=function(a){return{rowHeight:a.rowHeight,rowTop:a.rowTop}};if(e.rowIndex===r)return i(e);if(e.group&&e.expanded&&_.exists(e.childStore)){var o=e.childStore;if(o.isDisplayIndexInStore(r))return o.getRowBounds(r)}else if(e.master&&e.expanded&&_.exists(e.detailNode)&&e.detailNode.rowIndex===r)return i(e.detailNode)},t.prototype.getIndexAtPixel=function(e,r){if(e.isPixelInRange(r))return e.rowIndex;var i=e.master&&e.expanded,o=e.detailNode;if(i&&o&&o.isPixelInRange(r))return e.detailNode.rowIndex;if(e.group&&e.expanded&&_.exists(e.childStore)){var a=e.childStore;if(a.isPixelInRange(r))return a.getRowIndexAtPixel(r)}return null},t.prototype.createNodeIdPrefix=function(e){for(var r=[],i=e;i&&i.level>=0;)r.push(i.key),i=i.parent;if(r.length>0)return r.reverse().join("-")},t.prototype.checkOpenByDefault=function(e){if(!!e.isExpandable()){var r=this.gridOptionsWrapper.getIsServerSideGroupOpenByDefaultFunc();if(!!r){var i={data:e.data,rowNode:e},o=r(i);o&&window.setTimeout(function(){return e.setExpanded(!0)},0)}}},Ku([y("valueService")],t.prototype,"valueService",void 0),Ku([y("columnModel")],t.prototype,"columnModel",void 0),Ku([y("ssrmNodeManager")],t.prototype,"nodeManager",void 0),Ku([y("beans")],t.prototype,"beans",void 0),Ku([H],t.prototype,"postConstruct",null),t=Ku([J("ssrmBlockUtils")],t),t}(j),PR=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},foe=function(){function n(){this.rowNodes={}}return n.prototype.addRowNode=function(t){var e=t.id;this.rowNodes[e]&&(console.warn("AG Grid: Duplicate node id "+t.id+". Row ID's are provided via the getRowId() callback. Please modify the getRowId() callback code to provide unique row id values."),console.warn("first instance",this.rowNodes[e].data),console.warn("second instance",t.data)),this.rowNodes[e]=t},n.prototype.removeNode=function(t){var e=t.id;this.rowNodes[e]&&(this.rowNodes[e]=void 0)},n.prototype.clear=function(){this.rowNodes={}},PR([_t],n.prototype,"clear",null),n=PR([J("ssrmNodeManager")],n),n}(),goe=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Kp=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},voe=function(n){goe(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.asyncTransactions=[],e}return t.prototype.postConstruct=function(){this.gridOptionsWrapper.isRowModelServerSide()},t.prototype.applyTransactionAsync=function(e,r){this.asyncTransactionsTimeout==null&&this.scheduleExecuteAsync(),this.asyncTransactions.push({transaction:e,callback:r})},t.prototype.scheduleExecuteAsync=function(){var e=this,r=this.gridOptionsWrapper.getAsyncTransactionWaitMillis();this.asyncTransactionsTimeout=window.setTimeout(function(){e.executeAsyncTransactions()},r)},t.prototype.executeAsyncTransactions=function(){var e=this;if(!!this.asyncTransactions){var r=[],i=[],o=[],a=!1;if(this.asyncTransactions.forEach(function(l){var u;e.serverSideRowModel.executeOnStore(l.transaction.route,function(p){u=p.applyTransaction(l.transaction)}),u==null&&(u={status:ei.StoreNotFound}),i.push(u);var c=u.status==ei.StoreLoading;if(c){o.push(l);return}l.callback&&r.push(function(){return l.callback(u)}),u.status===ei.Applied&&(a=!0)}),r.length>0&&window.setTimeout(function(){r.forEach(function(l){return l()})},0),this.asyncTransactionsTimeout=void 0,this.asyncTransactions=o,a&&(this.valueCache.onDataChanged(),this.eventService.dispatchEvent({type:x.EVENT_STORE_UPDATED})),i.length>0){var s={api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),type:x.EVENT_ASYNC_TRANSACTIONS_FLUSHED,results:i};this.eventService.dispatchEvent(s)}}},t.prototype.flushAsyncTransactions=function(){this.asyncTransactionsTimeout!=null&&clearTimeout(this.asyncTransactionsTimeout),this.executeAsyncTransactions()},t.prototype.applyTransaction=function(e){var r;return this.serverSideRowModel.executeOnStore(e.route,function(i){r=i.applyTransaction(e)}),r?(this.valueCache.onDataChanged(),this.eventService.dispatchEvent({type:x.EVENT_STORE_UPDATED}),r):{status:ei.StoreNotFound}},Kp([y("rowNodeBlockLoader")],t.prototype,"rowNodeBlockLoader",void 0),Kp([y("valueCache")],t.prototype,"valueCache",void 0),Kp([y("rowModel")],t.prototype,"serverSideRowModel",void 0),Kp([H],t.prototype,"postConstruct",null),t=Kp([J("ssrmTransactionManager")],t),t}(j),moe=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Yp=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},yoe=function(n){moe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.postConstruct=function(){!this.gridOptionsWrapper.isRowModelServerSide()||this.addManagedListener(this.eventService,x.EVENT_ROW_GROUP_OPENED,this.onRowGroupOpened.bind(this))},t.prototype.onRowGroupOpened=function(e){var r=e.node;if(r.expanded){if(r.master)this.createDetailNode(r);else if(_.missing(r.childStore)){var i=this.serverSideRowModel.getParams();r.childStore=this.createBean(this.storeFactory.createStore(i,r))}}else this.gridOptionsWrapper.isPurgeClosedRowNodes()&&_.exists(r.childStore)&&(r.childStore=this.destroyBean(r.childStore));var o={type:x.EVENT_STORE_UPDATED};this.eventService.dispatchEvent(o)},t.prototype.createDetailNode=function(e){if(_.exists(e.detailNode))return e.detailNode;var r=new Ee(this.beans);r.detail=!0,r.selectable=!1,r.parent=e,_.exists(e.id)&&(r.id="detail_"+e.id),r.data=e.data,r.level=e.level+1;var i=200,o=this.gridOptionsWrapper.getRowHeightForNode(r).height;return r.rowHeight=o||i,e.detailNode=r,r},Yp([y("rowModel")],t.prototype,"serverSideRowModel",void 0),Yp([y("ssrmStoreFactory")],t.prototype,"storeFactory",void 0),Yp([y("beans")],t.prototype,"beans",void 0),Yp([H],t.prototype,"postConstruct",null),t=Yp([J("ssrmExpandListener")],t),t}(j),Coe=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Yu=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},boe=function(n){Coe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.postConstruct=function(){!this.gridOptionsWrapper.isRowModelServerSide()||this.addManagedListener(this.eventService,x.EVENT_SORT_CHANGED,this.onSortChanged.bind(this))},t.prototype.extractSortModel=function(){var e=this.sortController.getSortModel();return this.gridOptionsWrapper.isTreeData()||(this.replaceAutoGroupColumnWithActualRowGroupColumns(e),this.removeMultiColumnPrefixOnColumnIds(e)),e},t.prototype.removeMultiColumnPrefixOnColumnIds=function(e){if(this.gridOptionsWrapper.isGroupMultiAutoColumn())for(var r=L.GROUP_AUTO_COLUMN_ID+"-",i=0;i<e.length;++i)e[i].colId.indexOf(r)>-1&&(e[i].colId=e[i].colId.substr(r.length))},t.prototype.replaceAutoGroupColumnWithActualRowGroupColumns=function(e){var r=e.find(function(l){return l.colId==L.GROUP_AUTO_COLUMN_ID});if(r){var i=e.indexOf(r);_.removeFromArray(e,r);var o=function(l){return e.filter(function(u){return u.colId===l.getColId()}).length==0},a=function(l){return{colId:l.getId(),sort:r.sort}},s=this.columnModel.getRowGroupColumns().filter(o).map(a);_.insertArrayIntoArray(e,s,i)}},t.prototype.onSortChanged=function(){var e=this.serverSideRowModel.getParams();if(!!e){var r=this.extractSortModel(),i=e.sortModel,o=this.findChangedColumnsInSort(r,i),a=this.listenerUtils.isSortingWithValueColumn(o),s=this.listenerUtils.isSortingWithSecondaryColumn(o),l=this.gridOptionsWrapper.isServerSideSortingAlwaysResets(),u={valueColChanged:a,secondaryColChanged:s,alwaysReset:l,changedColumns:o};this.serverSideRowModel.refreshAfterSort(r,u)}},t.prototype.findChangedColumnsInSort=function(e,r){var i=[];[e,r].forEach(function(s){if(s){var l=s.map(function(u){return u.colId});i=i.concat(l)}});var o=function(s,l){var u=s?s.sort:null,c=l?l.sort:null;return u!==c},a=function(s,l){var u=s?r.indexOf(s):-1,c=l?e.indexOf(l):-1;return u!==c};return i.filter(function(s){var l=r.find(function(c){return c.colId===s}),u=e.find(function(c){return c.colId===s});return o(l,u)||a(l,u)})},Yu([y("sortController")],t.prototype,"sortController",void 0),Yu([y("columnModel")],t.prototype,"columnModel",void 0),Yu([y("rowModel")],t.prototype,"serverSideRowModel",void 0),Yu([y("ssrmListenerUtils")],t.prototype,"listenerUtils",void 0),Yu([H],t.prototype,"postConstruct",null),t=Yu([J("ssrmSortService")],t),t}(j),woe=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Xp=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},_oe=function(n){woe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.postConstruct=function(){!this.gridOptionsWrapper.isRowModelServerSide()||this.addManagedListener(this.eventService,x.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this))},t.prototype.onFilterChanged=function(){var e=this.serverSideRowModel.getParams();if(!!e){var r=this.filterManager.getFilterModel(),i=e?e.filterModel:{},o=this.findChangedColumns(r,i),a=this.listenerUtils.isSortingWithValueColumn(o),s=this.listenerUtils.isSortingWithSecondaryColumn(o),l=this.gridOptionsWrapper.isServerSideFilteringAlwaysResets(),u={valueColChanged:a,secondaryColChanged:s,alwaysReset:l,changedColumns:o};this.serverSideRowModel.refreshAfterFilter(r,u)}},t.prototype.findChangedColumns=function(e,r){var i={};Object.keys(e).forEach(function(a){return i[a]=!0}),Object.keys(r).forEach(function(a){return i[a]=!0});var o=[];return Object.keys(i).forEach(function(a){var s=JSON.stringify(e[a]),l=JSON.stringify(r[a]),u=s!=l;u&&o.push(a)}),o},Xp([y("rowModel")],t.prototype,"serverSideRowModel",void 0),Xp([y("filterManager")],t.prototype,"filterManager",void 0),Xp([y("ssrmListenerUtils")],t.prototype,"listenerUtils",void 0),Xp([H],t.prototype,"postConstruct",null),t=Xp([J("ssrmFilterListener")],t),t}(j),Soe=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),es=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},xoe=globalThis&&globalThis.__param||function(n,t){return function(e,r){t(e,r,n)}},AR=globalThis&&globalThis.__values||function(n){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},DR=function(n){Soe(t,n);function t(e,r,i,o,a){var s=n.call(this,e)||this;return s.ssrmParams=i,s.storeParams=o,s.parentRowNode=r,s.startRow=e*o.cacheBlockSize,s.parentStore=a,s.level=r.level+1,s.groupLevel=i.rowGroupCols?s.level<i.rowGroupCols.length:void 0,s.leafGroup=i.rowGroupCols?s.level===i.rowGroupCols.length-1:!1,s}return t.prototype.postConstruct=function(){if(this.usingTreeData=this.gridOptionsWrapper.isTreeData(),!this.usingTreeData&&this.groupLevel){var e=this.ssrmParams.rowGroupCols[this.level];this.groupField=e.field,this.rowGroupColumn=this.columnModel.getRowGroupColumns()[this.level]}this.nodeIdPrefix=this.blockUtils.createNodeIdPrefix(this.parentRowNode),this.setData([])},t.prototype.isDisplayIndexInBlock=function(e){return e>=this.displayIndexStart&&e<this.displayIndexEnd},t.prototype.isBlockBefore=function(e){return e>=this.displayIndexEnd},t.prototype.getDisplayIndexStart=function(){return this.displayIndexStart},t.prototype.getDisplayIndexEnd=function(){return this.displayIndexEnd},t.prototype.getBlockHeightPx=function(){return this.blockHeightPx},t.prototype.getBlockTopPx=function(){return this.blockTopPx},t.prototype.isGroupLevel=function(){return this.groupLevel},t.prototype.getGroupField=function(){return this.groupField},t.prototype.prefixId=function(e){return this.nodeIdPrefix!=null?this.nodeIdPrefix+"-"+e:e.toString()},t.prototype.getBlockStateJson=function(){return{id:this.prefixId(this.getId()),state:{blockNumber:this.getId(),startRow:this.startRow,endRow:this.startRow+this.storeParams.cacheBlockSize,pageStatus:this.getState()}}},t.prototype.isAnyNodeOpen=function(){var e=this.rowNodes.filter(function(r){return r.expanded}).length;return e>0},t.prototype.forEachNode=function(e,r,i,o){r===void 0&&(r=new vr),this.rowNodes.forEach(function(a){if(e(a,r.next()),i&&a.childStore){var s=a.childStore;o?s.forEachNodeDeepAfterFilterAndSort(e,r):s.forEachNodeDeep(e,r)}})},t.prototype.forEachNodeDeep=function(e,r){this.forEachNode(e,r,!0,!1)},t.prototype.forEachNodeAfterFilterAndSort=function(e,r){this.forEachNode(e,r,!0,!0)},t.prototype.forEachNodeShallow=function(e,r){this.forEachNode(e,r,!1,!1)},t.prototype.getLastAccessed=function(){return this.lastAccessed},t.prototype.getRowUsingLocalIndex=function(e){return this.rowNodes[e-this.startRow]},t.prototype.touchLastAccessed=function(){this.lastAccessed=this.ssrmParams.lastAccessedSequence.next()},t.prototype.processServerFail=function(){this.parentStore.onBlockLoadFailed(this)},t.prototype.retryLoads=function(){this.getState()===On.STATE_FAILED&&(this.setStateWaitingToLoad(),this.rowNodeBlockLoader.checkBlockToLoad(),this.setData()),this.forEachNodeShallow(function(e){e.childStore&&e.childStore.retryLoads()})},t.prototype.processServerResult=function(e){this.parentStore.onBlockLoaded(this,e)},t.prototype.setData=function(e,r){e===void 0&&(e=[]),r===void 0&&(r=!1),this.destroyRowNodes();for(var i=this.parentStore.getRowCount(),o=this.getId()*this.storeParams.cacheBlockSize,a=Math.min(o+this.storeParams.cacheBlockSize,i),s=a-o,l=this.columnModel.getAllDisplayedAutoHeightCols().length>0,u=l?this.parentStore.getCachedBlockHeight(this.getId()):void 0,c=u?Math.round(u/s):void 0,p=0;p<s;p++){var h=this.blockUtils.createRowNode({field:this.groupField,group:this.groupLevel,leafGroup:this.leafGroup,level:this.level,parent:this.parentRowNode,rowGroupColumn:this.rowGroupColumn,rowHeight:c}),d=p<e.length;if(d){var f=e[p],g=this.prefixId(this.startRow+p);this.blockUtils.setDataIntoRowNode(h,f,g,c);var v=h.id;this.parentStore.removeDuplicateNode(v),this.nodeManager.addRowNode(h),this.allNodesMap[h.id]=h,this.blockUtils.checkOpenByDefault(h)}this.rowNodes.push(h),r&&(h.failedLoad=!0)}},t.prototype.removeDuplicateNode=function(e){if(this.getState()!=On.STATE_LOADED){var r=this.allNodesMap[e];if(!!r){this.blockUtils.destroyRowNode(r);var i=this.rowNodes.indexOf(r),o=this.blockUtils.createRowNode({field:this.groupField,group:this.groupLevel,leafGroup:this.leafGroup,level:this.level,parent:this.parentRowNode,rowGroupColumn:this.rowGroupColumn});this.rowNodes[i]=o}}},t.prototype.refresh=function(){this.getState()!==On.STATE_WAITING_TO_LOAD&&this.setStateWaitingToLoad()},t.prototype.destroyRowNodes=function(){this.blockUtils.destroyRowNodes(this.rowNodes),this.rowNodes=[],this.allNodesMap={}},t.prototype.setBeans=function(e){this.logger=e.create("ServerSideBlock")},t.prototype.getRowUsingDisplayIndex=function(e){this.touchLastAccessed();var r=this.blockUtils.binarySearchForDisplayIndex(e,this.rowNodes);return r},t.prototype.loadFromDatasource=function(){this.storeUtils.loadFromDatasource({startRow:this.startRow,endRow:this.startRow+this.storeParams.cacheBlockSize,parentBlock:this,parentNode:this.parentRowNode,storeParams:this.ssrmParams,successCallback:this.pageLoaded.bind(this,this.getVersion()),success:this.success.bind(this,this.getVersion()),failCallback:this.pageLoadFailed.bind(this,this.getVersion()),fail:this.pageLoadFailed.bind(this,this.getVersion())})},t.prototype.isPixelInRange=function(e){return e>=this.blockTopPx&&e<this.blockTopPx+this.blockHeightPx},t.prototype.getRowBounds=function(e){var r,i;this.touchLastAccessed();var o;try{for(var a=AR(this.rowNodes),s=a.next();!s.done;s=a.next()){var l=s.value;if(o=this.blockUtils.extractRowBounds(l,e),o!=null)break}}catch(u){r={error:u}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(r)throw r.error}}return o},t.prototype.getRowIndexAtPixel=function(e){var r,i;this.touchLastAccessed();var o=null;try{for(var a=AR(this.rowNodes),s=a.next();!s.done;s=a.next()){var l=s.value;if(o=this.blockUtils.getIndexAtPixel(l,e),o!=null)break}}catch(u){r={error:u}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(r)throw r.error}}return o},t.prototype.clearDisplayIndexes=function(){var e=this;this.displayIndexEnd=void 0,this.displayIndexStart=void 0,this.rowNodes.forEach(function(r){return e.blockUtils.clearDisplayIndex(r)})},t.prototype.setDisplayIndexes=function(e,r){var i=this;this.displayIndexStart=e.peek(),this.blockTopPx=r.value,this.rowNodes.forEach(function(o){return i.blockUtils.setDisplayIndex(o,e,r)}),this.displayIndexEnd=e.peek(),this.blockHeightPx=r.value-this.blockTopPx},es([y("columnModel")],t.prototype,"columnModel",void 0),es([y("ssrmStoreUtils")],t.prototype,"storeUtils",void 0),es([y("ssrmBlockUtils")],t.prototype,"blockUtils",void 0),es([y("ssrmNodeManager")],t.prototype,"nodeManager",void 0),es([y("rowNodeBlockLoader")],t.prototype,"rowNodeBlockLoader",void 0),es([H],t.prototype,"postConstruct",null),es([_t],t.prototype,"destroyRowNodes",null),es([xoe(0,xr("loggerFactory"))],t.prototype,"setBeans",null),t}(On),Toe=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),ts=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Ooe=globalThis&&globalThis.__param||function(n,t){return function(e,r){t(e,r,n)}},Fr;(function(n){n[n.FOUND=0]="FOUND",n[n.CONTINUE_FIND=1]="CONTINUE_FIND",n[n.BREAK_FIND=2]="BREAK_FIND"})(Fr||(Fr={}));var Eoe=function(n){Toe(t,n);function t(e,r,i){var o=n.call(this)||this;return o.blocks={},o.blockHeights={},o.lastRowIndexKnown=!1,o.displayIndexStart=0,o.displayIndexEnd=0,o.cacheTopPixel=0,o.info={},o.ssrmParams=e,o.storeParams=r,o.parentRowNode=i,o.rowCount=t.INITIAL_ROW_COUNT,o}return t.prototype.postConstruct=function(){this.defaultRowHeight=this.gridOptionsWrapper.getRowHeightAsNumber()},t.prototype.destroyAllBlocks=function(){var e=this;this.getBlocksInOrder().forEach(function(r){return e.destroyBlock(r)})},t.prototype.setBeans=function(e){this.logger=e.create("ServerSideCache")},t.prototype.getRowCount=function(){return this.rowCount},t.prototype.isLastRowIndexKnown=function(){return this.lastRowIndexKnown},t.prototype.retryLoads=function(){this.getBlocksInOrder().forEach(function(e){return e.retryLoads()})},t.prototype.onBlockLoadFailed=function(e){e.setData([],!0),this.fireCacheUpdatedEvent()},t.prototype.onBlockLoaded=function(e,r){if(this.logger.log("onPageLoaded: page = "+e.getId()+", lastRow = "+r.rowCount),r.storeInfo&&Object.assign(this.info,r.storeInfo),!r.rowData){var i='AG Grid: "params.rowData" is missing from Server-Side Row Model success() callback. Please use the "rowData" attribute. If no data is returned, set an empty list.';_.doOnce(function(){return console.warn(i,r)},"InfiniteStore.noData")}var o=r.rowCount!=null&&r.rowCount>=0?r.rowCount:void 0;!this.isAlive()||(this.checkRowCount(e,o),e.setData(r.rowData),this.destroyAllBlocksPastVirtualRowCount(),this.fireCacheUpdatedEvent())},t.prototype.purgeBlocksIfNeeded=function(e){var r=this,i=this.getBlocksInOrder().filter(function(u){return u!=e}),o=function(u,c){return c.getLastAccessed()-u.getLastAccessed()};i.sort(o);var a=this.storeParams.maxBlocksInCache>0,s=a?this.storeParams.maxBlocksInCache-1:null,l=t.MAX_EMPTY_BLOCKS_TO_KEEP-1;i.forEach(function(u,c){var p=u.getState()===DR.STATE_WAITING_TO_LOAD&&c>=l,h=a?c>=s:!1;if(p||h){if(u.isAnyNodeOpen()||r.isBlockCurrentlyDisplayed(u)||r.isBlockFocused(u))return;r.destroyBlock(u)}})},t.prototype.isBlockFocused=function(e){var r=this.focusService.getFocusCellToUseAfterRefresh();if(!r||r.rowPinned!=null)return!1;var i=e.getDisplayIndexStart(),o=e.getDisplayIndexEnd();if(o==null||i==null)return!1;var a=r.rowIndex>=i&&r.rowIndex<o;return a},t.prototype.isBlockCurrentlyDisplayed=function(e){var r=e.getDisplayIndexStart(),i=e.getDisplayIndexEnd()-1;return this.rowRenderer.isRangeInRenderedViewport(r,i)},t.prototype.removeDuplicateNode=function(e){this.getBlocksInOrder().forEach(function(r){return r.removeDuplicateNode(e)})},t.prototype.checkRowCount=function(e,r){if(typeof r=="number"&&r>=0)this.rowCount=r,this.lastRowIndexKnown=!0;else if(!this.lastRowIndexKnown){var i=(e.getId()+1)*this.storeParams.cacheBlockSize,o=i+t.OVERFLOW_SIZE;this.rowCount<o&&(this.rowCount=o)}},t.prototype.forEachNodeDeep=function(e,r){r===void 0&&(r=new vr),this.getBlocksInOrder().forEach(function(i){return i.forEachNodeDeep(e,r)})},t.prototype.forEachNodeDeepAfterFilterAndSort=function(e,r){r===void 0&&(r=new vr),this.getBlocksInOrder().forEach(function(i){return i.forEachNodeAfterFilterAndSort(e,r)})},t.prototype.getBlocksInOrder=function(){var e=function(i,o){return i.getId()-o.getId()},r=_.getAllValuesInObject(this.blocks).sort(e);return r},t.prototype.destroyBlock=function(e){delete this.blocks[e.getId()],this.destroyBean(e),this.rowNodeBlockLoader.removeBlock(e)},t.prototype.fireCacheUpdatedEvent=function(){var e={type:x.EVENT_STORE_UPDATED};this.eventService.dispatchEvent(e)},t.prototype.destroyAllBlocksPastVirtualRowCount=function(){var e=this,r=[];this.getBlocksInOrder().forEach(function(i){var o=i.getId()*e.storeParams.cacheBlockSize;o>=e.rowCount&&r.push(i)}),r.length>0&&r.forEach(function(i){return e.destroyBlock(i)})},t.prototype.refreshStore=function(e){var r=this.getRowCount()==0;r||e?this.resetStore():this.refreshBlocks(),this.fireCacheUpdatedEvent()},t.prototype.refreshBlocks=function(){this.getBlocksInOrder().forEach(function(e){e.refresh()}),this.lastRowIndexKnown=!1,this.rowNodeBlockLoader.checkBlockToLoad()},t.prototype.resetStore=function(){this.destroyAllBlocks(),this.lastRowIndexKnown=!1,(this.columnModel.isAutoRowHeightActive||this.rowCount===0)&&(this.rowCount=t.INITIAL_ROW_COUNT)},t.prototype.getRowNodesInRange=function(e,r){var i=[],o=-1,a=!1;_.missing(e)&&(a=!0);var s=!1;this.getBlocksInOrder().forEach(function(u){if(!s){if(a&&o+1!==u.getId()){s=!0;return}o=u.getId(),u.forEachNodeShallow(function(c){var p=c===e||c===r;(a||p)&&i.push(c),p&&(a=!a)})}});var l=s||a;return l?[]:i},t.prototype.findBlockAndExecute=function(e,r,i){var o=!1,a=!1,s=null,l;return this.getBlocksInOrder().forEach(function(u){if(!(o||a)){var c=e(u);c==Fr.FOUND?(l=r(u),o=!0):c==Fr.CONTINUE_FIND?s=u:c==Fr.BREAK_FIND&&(a=!0)}}),o||(l=i(s)),l},t.prototype.getRowBounds=function(e){var r=this,i=function(s){return s.isDisplayIndexInBlock(e)?Fr.FOUND:s.isBlockBefore(e)?Fr.CONTINUE_FIND:Fr.BREAK_FIND},o=function(s){return s.getRowBounds(e)},a=function(s){var l,u;s!==null?(l=s.getBlockTopPx()+s.getBlockHeightPx(),u=s.getDisplayIndexEnd()):(l=r.cacheTopPixel,u=r.displayIndexStart);var c=e-u;return{rowHeight:r.defaultRowHeight,rowTop:l+c*r.defaultRowHeight}};return this.findBlockAndExecute(i,o,a)},t.prototype.getRowIndexAtPixel=function(e){var r=this,i=function(u){return u.isPixelInRange(e)?Fr.FOUND:u.getBlockTopPx()<e?Fr.CONTINUE_FIND:Fr.BREAK_FIND},o=function(u){return u.getRowIndexAtPixel(e)},a=function(u){var c,p;u?(c=u.getBlockTopPx()+u.getBlockHeightPx(),p=u.getDisplayIndexEnd()):(c=r.cacheTopPixel,p=r.displayIndexStart);for(var h=r.storeParams.cacheBlockSize,d=r.defaultRowHeight*h,f=u?u.getId()+1:0,g=function(w){var S=r.getCachedBlockHeight(w),T=S!=null?S:d,E=e<=T+c;return{height:T,pixelInBlock:E}},v=g(f);!v.pixelInBlock;)c+=v.height,p+=h,f++,v=g(f);var m=e-c,C=v.height/h,b=Math.floor(m/C)|0;return p+b},s=this.findBlockAndExecute(i,o,a),l=this.getDisplayIndexEnd()-1;return s=Math.min(s,l),s},t.prototype.clearDisplayIndexes=function(){this.displayIndexStart=void 0,this.displayIndexEnd=void 0,this.getBlocksInOrder().forEach(function(e){return e.clearDisplayIndexes()})},t.prototype.setDisplayIndexes=function(e,r){var i=this;this.displayIndexStart=e.peek(),this.cacheTopPixel=r.value;var o=-1,a=this.storeParams.cacheBlockSize;this.getBlocksInOrder().forEach(function(c){var p=c.getId(),h=p-o-1,d=h*a;d>0&&e.skip(d);for(var f=1;f<=h;f++){var g=p-f;_.exists(i.blockHeights[g])?r.value+=i.blockHeights[g]:r.value+=a*i.defaultRowHeight}o=p,c.setDisplayIndexes(e,r),i.blockHeights[p]=c.getBlockHeightPx()});var s=(o+1)*a-1,l=this.getRowCount(),u=l-s-1;u>0&&(e.skip(u),r.value+=u*this.defaultRowHeight),this.displayIndexEnd=e.peek(),this.cacheHeightPixels=r.value-this.cacheTopPixel},t.prototype.getRowUsingDisplayIndex=function(e,r){var i=this;if(r===void 0&&(r=!1),!!this.isDisplayIndexInStore(e)){var o=function(l){return l.isDisplayIndexInBlock(e)?Fr.FOUND:l.isBlockBefore(e)?Fr.CONTINUE_FIND:Fr.BREAK_FIND},a=function(l){return l.getRowUsingDisplayIndex(e)},s=function(l){if(!r){var u,c,p,h=i.storeParams.cacheBlockSize;if(l){u=l.getId()+1,c=l.getDisplayIndexEnd(),p=l.getBlockHeightPx()+l.getBlockTopPx();for(var d=function(){return e>=c&&e<c+h};!d();){c+=h;var f=i.blockHeights[u];_.exists(f)?p+=f:p+=i.defaultRowHeight*h,u++}}else{var g=e-i.displayIndexStart;u=Math.floor(g/h),c=i.displayIndexStart+u*h,p=i.cacheTopPixel+u*h*i.defaultRowHeight}i.logger.log("block missing, rowIndex = "+e+", creating #"+u+", displayIndexStart = "+c);var v=i.createBlock(u,c,{value:p});return v.getRowUsingDisplayIndex(e)}};return this.findBlockAndExecute(o,a,s)}},t.prototype.getTopLevelRowDisplayedIndex=function(e){var r=this.storeParams.cacheBlockSize,i=Math.floor(e/r),o=function(l){return l.getId()===i?Fr.FOUND:l.getId()<i?Fr.CONTINUE_FIND:Fr.BREAK_FIND},a=function(l){var u=l.getRowUsingLocalIndex(e);return u.rowIndex},s=function(l){if(!l)return e;var u=r*(l.getId()+1)-1,c=l.getRowUsingLocalIndex(u),p;if(c.expanded&&c.childStore){var h=c.childStore;p=h.getDisplayIndexEnd()-1}else c.expanded&&c.detailNode?p=c.detailNode.rowIndex:p=c.rowIndex;var d=e-u;return p+d};return this.findBlockAndExecute(o,a,s)},t.prototype.addStoreStates=function(e){e.push({type:"partial",route:this.parentRowNode.getGroupKeys(),rowCount:this.rowCount,lastRowIndexKnown:this.lastRowIndexKnown,info:this.info,maxBlocksInCache:this.storeParams.maxBlocksInCache,cacheBlockSize:this.storeParams.cacheBlockSize}),this.forEachChildStoreShallow(function(r){return r.addStoreStates(e)})},t.prototype.getCachedBlockHeight=function(e){return this.blockHeights[e]},t.prototype.createBlock=function(e,r,i){var o=this.createBean(new DR(e,this.parentRowNode,this.ssrmParams,this.storeParams,this));return o.setDisplayIndexes(new vr(r),i),this.blocks[o.getId()]=o,this.purgeBlocksIfNeeded(o),this.rowNodeBlockLoader.addBlock(o),o},t.prototype.getDisplayIndexEnd=function(){return this.displayIndexEnd},t.prototype.isDisplayIndexInStore=function(e){return this.getRowCount()===0?!1:e>=this.displayIndexStart&&e<this.displayIndexEnd},t.prototype.applyTransaction=function(e){return{status:ei.StoreWrongType}},t.prototype.getChildStore=function(e){var r=this,i=function(o){var a=null;return r.getBlocksInOrder().forEach(function(s){s.forEachNodeShallow(function(l){l.key===o&&(a=l)},new vr)}),a};return this.storeUtils.getChildStore(e,this,i)},t.prototype.isPixelInRange=function(e){return this.getRowCount()===0?!1:e>=this.cacheTopPixel&&e<this.cacheTopPixel+this.cacheHeightPixels},t.prototype.refreshAfterFilter=function(e){this.resetStore()},t.prototype.refreshAfterSort=function(e){if(this.storeUtils.isServerRefreshNeeded(this.parentRowNode,this.ssrmParams.rowGroupCols,e)){this.resetStore();return}this.forEachChildStoreShallow(function(r){return r.refreshAfterSort(e)})},t.prototype.forEachChildStoreShallow=function(e){this.getBlocksInOrder().forEach(function(r){if(r.isGroupLevel()){var i=function(o){var a=o.childStore;a&&e(a)};r.forEachNodeShallow(i,new vr)}})},t.MAX_EMPTY_BLOCKS_TO_KEEP=2,t.INITIAL_ROW_COUNT=1,t.OVERFLOW_SIZE=1,ts([y("rowRenderer")],t.prototype,"rowRenderer",void 0),ts([y("rowNodeBlockLoader")],t.prototype,"rowNodeBlockLoader",void 0),ts([y("ssrmStoreUtils")],t.prototype,"storeUtils",void 0),ts([y("focusService")],t.prototype,"focusService",void 0),ts([y("columnModel")],t.prototype,"columnModel",void 0),ts([H],t.prototype,"postConstruct",null),ts([_t],t.prototype,"destroyAllBlocks",null),ts([Ooe(0,xr("loggerFactory"))],t.prototype,"setBeans",null),t}(j),Roe=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Wn=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Poe=function(n){Roe(t,n);function t(e,r,i){var o=n.call(this,0)||this;return o.nodeIdSequence=new vr,o.info={},o.ssrmParams=e,o.parentRowNode=i,o.level=i.level+1,o.groupLevel=e.rowGroupCols?o.level<e.rowGroupCols.length:void 0,o.leafGroup=e.rowGroupCols?o.level===e.rowGroupCols.length-1:!1,o}return t.prototype.postConstruct=function(){var e=this;if(this.usingTreeData=this.gridOptionsWrapper.isTreeData(),this.nodeIdPrefix=this.blockUtils.createNodeIdPrefix(this.parentRowNode),!this.usingTreeData&&this.groupLevel){var r=this.ssrmParams.rowGroupCols[this.level];this.groupField=r.field,this.rowGroupColumn=this.columnModel.getRowGroupColumns()[this.level]}this.initialiseRowNodes(),this.rowNodeBlockLoader.addBlock(this),this.addDestroyFunc(function(){return e.rowNodeBlockLoader.removeBlock(e)})},t.prototype.destroyRowNodes=function(){this.blockUtils.destroyRowNodes(this.allRowNodes),this.allRowNodes=[],this.nodesAfterSort=[],this.nodesAfterFilter=[],this.allNodesMap={}},t.prototype.initialiseRowNodes=function(e,r){e===void 0&&(e=1),r===void 0&&(r=!1),this.destroyRowNodes();for(var i=0;i<e;i++){var o=this.blockUtils.createRowNode({field:this.groupField,group:this.groupLevel,leafGroup:this.leafGroup,level:this.level,parent:this.parentRowNode,rowGroupColumn:this.rowGroupColumn});r&&(o.failedLoad=!0),this.allRowNodes.push(o),this.nodesAfterFilter.push(o),this.nodesAfterSort.push(o)}},t.prototype.getBlockStateJson=function(){return{id:this.nodeIdPrefix?this.nodeIdPrefix:"",state:this.getState()}},t.prototype.loadFromDatasource=function(){this.storeUtils.loadFromDatasource({startRow:void 0,endRow:void 0,parentBlock:this,parentNode:this.parentRowNode,storeParams:this.ssrmParams,successCallback:this.pageLoaded.bind(this,this.getVersion()),success:this.success.bind(this,this.getVersion()),failCallback:this.pageLoadFailed.bind(this,this.getVersion()),fail:this.pageLoadFailed.bind(this,this.getVersion())})},t.prototype.getStartRow=function(){return 0},t.prototype.getEndRow=function(){return this.nodesAfterSort.length},t.prototype.createDataNode=function(e,r){var i=this.blockUtils.createRowNode({field:this.groupField,group:this.groupLevel,leafGroup:this.leafGroup,level:this.level,parent:this.parentRowNode,rowGroupColumn:this.rowGroupColumn});r!=null?_.insertIntoArray(this.allRowNodes,i,r):this.allRowNodes.push(i);var o=this.prefixId(this.nodeIdSequence.next());return this.blockUtils.setDataIntoRowNode(i,e,o,void 0),this.nodeManager.addRowNode(i),this.blockUtils.checkOpenByDefault(i),this.allNodesMap[i.id]=i,i},t.prototype.prefixId=function(e){return this.nodeIdPrefix?this.nodeIdPrefix+"-"+e:e.toString()},t.prototype.processServerFail=function(){this.initialiseRowNodes(1,!0),this.fireStoreUpdatedEvent(),this.flushAsyncTransactions()},t.prototype.processServerResult=function(e){if(!!this.isAlive()){e.storeInfo&&Object.assign(this.info,e.storeInfo);var r=this.allRowNodes.length>0?this.allNodesMap:void 0;if(this.allRowNodes=[],this.nodesAfterSort=[],this.nodesAfterFilter=[],this.allNodesMap={},!e.rowData){var i='AG Grid: "params.data" is missing from Server-Side Row Model success() callback. Please use the "data" attribute. If no data is returned, set an empty list.';_.doOnce(function(){return console.warn(i,e)},"FullStore.noData")}this.createOrRecycleNodes(r,e.rowData),r&&this.blockUtils.destroyRowNodes(_.getAllValuesInObject(r)),this.filterAndSortNodes(),this.fireStoreUpdatedEvent(),this.flushAsyncTransactions()}},t.prototype.createOrRecycleNodes=function(e,r){var i=this;if(!!r){var o=function(s){if(!!e){var l=i.gridOptionsWrapper.getRowIdFunc();if(!!l){var u=i.parentRowNode.getGroupKeys(),c=i.level,p=l({data:s,parentKeys:u.length>0?u:void 0,level:c}),h=e[p];if(!!h)return delete e[p],h}}},a=function(s,l){i.allNodesMap[s.id]=s,i.blockUtils.updateDataIntoRowNode(s,l),i.allRowNodes.push(s)};r.forEach(function(s){var l=o(s);l?a(l,s):i.createDataNode(s)})}},t.prototype.flushAsyncTransactions=function(){var e=this;window.setTimeout(function(){return e.transactionManager.flushAsyncTransactions()},0)},t.prototype.filterAndSortNodes=function(){this.filterRowNodes(),this.sortRowNodes()},t.prototype.sortRowNodes=function(){var e=this.sortController.getSortOptions(),r=!e||e.length==0,i=this.gridOptionsWrapper.isServerSideSortingAlwaysResets();if(r||i){this.nodesAfterSort=this.nodesAfterFilter;return}this.nodesAfterSort=this.rowNodeSorter.doFullSort(this.nodesAfterFilter,e)},t.prototype.filterRowNodes=function(){var e=this,r=this.gridOptionsWrapper.isServerSideFilteringAlwaysResets(),i=this.groupLevel,o=r||i;if(o){this.nodesAfterFilter=this.allRowNodes;return}this.nodesAfterFilter=this.allRowNodes.filter(function(a){return e.filterManager.doesRowPassFilter({rowNode:a})})},t.prototype.clearDisplayIndexes=function(){var e=this;this.displayIndexStart=void 0,this.displayIndexEnd=void 0,this.allRowNodes.forEach(function(r){return e.blockUtils.clearDisplayIndex(r)})},t.prototype.getDisplayIndexEnd=function(){return this.displayIndexEnd},t.prototype.isDisplayIndexInStore=function(e){return this.getRowCount()===0?!1:e>=this.displayIndexStart&&e<this.displayIndexEnd},t.prototype.setDisplayIndexes=function(e,r){var i=this;this.displayIndexStart=e.peek(),this.topPx=r.value;var o={};this.nodesAfterSort.forEach(function(a){i.blockUtils.setDisplayIndex(a,e,r),o[a.id]=!0}),this.allRowNodes.forEach(function(a){o[a.id]||i.blockUtils.clearDisplayIndex(a)}),this.displayIndexEnd=e.peek(),this.heightPx=r.value-this.topPx},t.prototype.forEachNodeDeep=function(e,r){r===void 0&&(r=new vr),this.allRowNodes.forEach(function(i){e(i,r.next());var o=i.childStore;o&&o.forEachNodeDeep(e,r)})},t.prototype.forEachNodeDeepAfterFilterAndSort=function(e,r){r===void 0&&(r=new vr),this.nodesAfterSort.forEach(function(i){e(i,r.next());var o=i.childStore;o&&o.forEachNodeDeepAfterFilterAndSort(e,r)})},t.prototype.getRowUsingDisplayIndex=function(e){if(!!this.isDisplayIndexInStore(e)){var r=this.blockUtils.binarySearchForDisplayIndex(e,this.nodesAfterSort);return r}},t.prototype.getRowBounds=function(e){for(var r=0;r<this.nodesAfterSort.length;r++){var i=this.nodesAfterSort[r],o=this.blockUtils.extractRowBounds(i,e);if(o)return o}return null},t.prototype.isPixelInRange=function(e){return e>=this.topPx&&e<this.topPx+this.heightPx},t.prototype.getRowIndexAtPixel=function(e){var r=this,i=e<=this.topPx;if(i){var o=this.nodesAfterSort[0];return o.rowIndex}var a=e>=this.topPx+this.heightPx;if(a){var s=this.nodesAfterSort[this.nodesAfterSort.length-1],l=s.rowTop+s.rowHeight;if(e>=l&&s.expanded){if(s.childStore&&s.childStore.getRowCount()>0)return s.childStore.getRowIndexAtPixel(e);if(s.detailNode)return s.detailNode.rowIndex}return s.rowIndex}var u=null;this.nodesAfterSort.forEach(function(p){var h=r.blockUtils.getIndexAtPixel(p,e);h!=null&&(u=h)});var c=u==null;return c?this.displayIndexEnd-1:u},t.prototype.getChildStore=function(e){var r=this;return this.storeUtils.getChildStore(e,this,function(i){var o=r.allRowNodes.find(function(a){return a.key==i});return o})},t.prototype.forEachChildStoreShallow=function(e){this.allRowNodes.forEach(function(r){var i=r.childStore;i&&e(i)})},t.prototype.refreshAfterFilter=function(e){if(e.alwaysReset||this.gridOptionsWrapper.isTreeData()){this.refreshStore(!0);return}this.filterAndSortNodes(),this.forEachChildStoreShallow(function(r){return r.refreshAfterFilter(e)})},t.prototype.refreshAfterSort=function(e){if(e.alwaysReset){this.refreshStore(!0);return}this.sortRowNodes(),this.forEachChildStoreShallow(function(r){return r.refreshAfterSort(e)})},t.prototype.applyTransaction=function(e){switch(this.getState()){case On.STATE_FAILED:return{status:ei.StoreLoadingFailed};case On.STATE_LOADING:return{status:ei.StoreLoading};case On.STATE_WAITING_TO_LOAD:return{status:ei.StoreWaitingToLoad}}var r=this.gridOptionsWrapper.getIsApplyServerSideTransactionFunc();if(r){var i={transaction:e,parentNode:this.parentRowNode,storeInfo:this.info},o=r(i);if(!o)return{status:ei.Cancelled}}var a={status:ei.Applied,remove:[],update:[],add:[]},s=[];return this.executeAdd(e,a),this.executeRemove(e,a,s),this.executeUpdate(e,a,s),this.filterAndSortNodes(),this.updateSelection(s),a},t.prototype.updateSelection=function(e){var r=e.length>0;if(r){e.forEach(function(o){o.setSelected(!1,!1,!0)});var i={type:x.EVENT_SELECTION_CHANGED,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi()};this.eventService.dispatchEvent(i)}},t.prototype.executeAdd=function(e,r){var i=this,o=e.add,a=e.addIndex;if(!_.missingOrEmpty(o)){var s=typeof a=="number"&&a>=0;s?o.reverse().forEach(function(l){var u=i.createDataNode(l,a);r.add.push(u)}):o.forEach(function(l){var u=i.createDataNode(l);r.add.push(u)})}},t.prototype.executeRemove=function(e,r,i){var o=this,a=e.remove;if(a!=null){var s={};a.forEach(function(l){var u=o.lookupRowNode(l);!u||(u.isSelected()&&i.push(u),u.clearRowTopAndRowIndex(),s[u.id]=!0,delete o.allNodesMap[u.id],r.remove.push(u),o.nodeManager.removeNode(u))}),this.allRowNodes=this.allRowNodes.filter(function(l){return!s[l.id]})}},t.prototype.executeUpdate=function(e,r,i){var o=this,a=e.update;a!=null&&a.forEach(function(s){var l=o.lookupRowNode(s);!l||(l.updateData(s),!l.selectable&&l.isSelected()&&i.push(l),r.update.push(l))})},t.prototype.lookupRowNode=function(e){var r=this.gridOptionsWrapper.getRowIdFunc(),i;if(r!=null){var o=this.level,a=this.parentRowNode.getGroupKeys(),s=r({data:e,parentKeys:a.length>0?a:void 0,level:o});if(i=this.allNodesMap[s],!i)return console.error("AG Grid: could not find row id="+s+", data item was not found for this id"),null}else if(i=this.allRowNodes.find(function(l){return l.data===e}),!i)return console.error("AG Grid: could not find data item as object was not found",e),null;return i},t.prototype.addStoreStates=function(e){e.push({type:"full",route:this.parentRowNode.getGroupKeys(),rowCount:this.allRowNodes.length,info:this.info}),this.forEachChildStoreShallow(function(r){return r.addStoreStates(e)})},t.prototype.refreshStore=function(e){if(e){var r=this.nodesAfterSort?this.nodesAfterSort.length:1;this.initialiseRowNodes(r)}this.scheduleLoad(),this.fireStoreUpdatedEvent()},t.prototype.retryLoads=function(){this.getState()===On.STATE_FAILED&&(this.initialiseRowNodes(1),this.scheduleLoad()),this.forEachChildStoreShallow(function(e){return e.retryLoads()})},t.prototype.scheduleLoad=function(){this.setStateWaitingToLoad(),this.rowNodeBlockLoader.checkBlockToLoad()},t.prototype.fireStoreUpdatedEvent=function(){var e={type:x.EVENT_STORE_UPDATED};this.eventService.dispatchEvent(e)},t.prototype.getRowCount=function(){return this.nodesAfterSort.length},t.prototype.getTopLevelRowDisplayedIndex=function(e){var r=this.nodesAfterSort[e];return r.rowIndex},t.prototype.isLastRowIndexKnown=function(){return this.getState()==On.STATE_LOADED},t.prototype.getRowNodesInRange=function(e,r){var i=[],o=!1;_.missing(e)&&(o=!0),this.nodesAfterSort.forEach(function(s){var l=s===e||s===r;(o||l)&&i.push(s),l&&(o=!o)});var a=o;return a?[]:i},Wn([y("ssrmStoreUtils")],t.prototype,"storeUtils",void 0),Wn([y("ssrmBlockUtils")],t.prototype,"blockUtils",void 0),Wn([y("columnModel")],t.prototype,"columnModel",void 0),Wn([y("rowNodeBlockLoader")],t.prototype,"rowNodeBlockLoader",void 0),Wn([y("rowNodeSorter")],t.prototype,"rowNodeSorter",void 0),Wn([y("sortController")],t.prototype,"sortController",void 0),Wn([y("ssrmNodeManager")],t.prototype,"nodeManager",void 0),Wn([y("filterManager")],t.prototype,"filterManager",void 0),Wn([y("ssrmTransactionManager")],t.prototype,"transactionManager",void 0),Wn([y("columnApi")],t.prototype,"columnApi",void 0),Wn([y("gridApi")],t.prototype,"gridApi",void 0),Wn([H],t.prototype,"postConstruct",null),Wn([_t],t.prototype,"destroyRowNodes",null),t}(On),hb=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Aoe=function(){function n(){}return n.prototype.createStore=function(t,e){var r=this.getStoreParams(t,e),i=r.storeType==="partial"?Eoe:Poe;return new i(t,r,e)},n.prototype.getStoreParams=function(t,e){var r=this.getLevelSpecificParams(e),i=this.getStoreType(r),o=this.getBlockSize(i,r),a=this.getMaxBlocksInCache(i,t,r),s={storeType:i,cacheBlockSize:o,maxBlocksInCache:a};return s},n.prototype.getMaxBlocksInCache=function(t,e,r){if(t!="full"){var i=r&&r.maxBlocksInCache!=null?r.maxBlocksInCache:this.gridOptionsWrapper.getMaxBlocksInCache(),o=i!=null&&i>=0;if(!!o){if(e.dynamicRowHeight){var a="AG Grid: Server Side Row Model does not support Dynamic Row Height and Cache Purging. Either a) remove getRowHeight() callback or b) remove maxBlocksInCache property. Purging has been disabled.";_.doOnce(function(){return console.warn(a)},"storeFactory.maxBlocksInCache.dynamicRowHeight");return}if(this.columnModel.isAutoRowHeightActive()){var s="AG Grid: Server Side Row Model does not support Auto Row Height and Cache Purging. Either a) remove colDef.autoHeight or b) remove maxBlocksInCache property. Purging has been disabled.";_.doOnce(function(){return console.warn(s)},"storeFactory.maxBlocksInCache.autoRowHeightActive");return}return i}}},n.prototype.getBlockSize=function(t,e){if(t!="full"){var r=e&&e.cacheBlockSize!=null?e.cacheBlockSize:this.gridOptionsWrapper.getCacheBlockSize();return r!=null&&r>0?r:100}},n.prototype.getLevelSpecificParams=function(t){var e=this.gridOptionsWrapper.getServerSideStoreParamsFunc();if(!!e){var r={level:t.level+1,parentRowNode:t.level>=0?t:void 0,rowGroupColumns:this.columnModel.getRowGroupColumns(),pivotColumns:this.columnModel.getPivotColumns(),pivotMode:this.columnModel.isPivotMode()};return e(r)}},n.prototype.getStoreType=function(t){var e=t&&t.storeType!=null?t.storeType:this.gridOptionsWrapper.getServerSideStoreType();switch(e){case"partial":case"full":return e;case null:case void 0:return"full";default:var r=["full","partial"],i=r.join(", ");return console.warn("AG Grid: invalid Server Side Store Type "+e+", valid types are ["+i+"]"),"partial"}},hb([y("gridOptionsWrapper")],n.prototype,"gridOptionsWrapper",void 0),hb([y("columnModel")],n.prototype,"columnModel",void 0),n=hb([J("ssrmStoreFactory")],n),n}(),MR=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Doe=function(){function n(){}return n.prototype.isSortingWithValueColumn=function(t){for(var e=this.columnModel.getValueColumns().map(function(i){return i.getColId()}),r=0;r<t.length;r++)if(e.indexOf(t[r])>-1)return!0;return!1},n.prototype.isSortingWithSecondaryColumn=function(t){if(!this.columnModel.getSecondaryColumns())return!1;for(var e=this.columnModel.getSecondaryColumns().map(function(i){return i.getColId()}),r=0;r<t.length;r++)if(e.indexOf(t[r])>-1)return!0;return!1},MR([y("columnModel")],n.prototype,"columnModel",void 0),n=MR([J("ssrmListenerUtils")],n),n}(),Moe={moduleName:ae.ServerSideRowModelModule,rowModels:{serverSide:uoe},beans:[yoe,boe,poe,doe,foe,voe,_oe,Aoe,Doe],dependantModules:[Vr]},Foe="__<ag-grid-pseudo-null>__",Ioe=function(){function n(t,e,r){this.rowModel=t,this.filterParams=e,this.caseFormat=r}return n.prototype.extractUniqueValues=function(t){var e=this,r={},i=this.filterParams.colDef.keyCreator,o=function(a){var s=a!=null?e.caseFormat(a):Foe;s&&r[s]==null&&(r[s]=a)};return this.rowModel.forEachLeafNode(function(a){if(!(!a.data||!t(a))){var s=e.filterParams,l=s.api,u=s.colDef,c=s.column,p=s.columnApi,h=s.context,d=e.filterParams.valueGetter({api:l,colDef:u,column:c,columnApi:p,context:h,data:a.data,getValue:function(g){return a.data[g]},node:a});if(i){var f={value:d,colDef:e.filterParams.colDef,column:e.filterParams.column,node:a,data:a.data,api:e.filterParams.api,columnApi:e.filterParams.columnApi,context:e.filterParams.context};d=i(f)}d=_.makeNull(d),d!=null&&Array.isArray(d)?d.forEach(function(g){var v=_.toStringOrNull(_.makeNull(g));o(v)}):o(_.toStringOrNull(d))}}),_.values(r)},n}(),Kn;(function(n){n[n.PROVIDED_LIST=0]="PROVIDED_LIST",n[n.PROVIDED_CALLBACK=1]="PROVIDED_CALLBACK",n[n.TAKEN_FROM_GRID_VALUES=2]="TAKEN_FROM_GRID_VALUES"})(Kn||(Kn={}));var Loe="__<ag-grid-pseudo-null>__",iN=function(){function n(t,e,r,i,o){var a=this;this.filterParams=t,this.setIsLoading=e,this.valueFormatterService=r,this.translate=i,this.caseFormat=o,this.localEventService=new so,this.miniFilterText=null,this.providedValues=null,this.allValues=[],this.availableValues=new Set,this.displayedValues=[],this.selectedValues=new Set,this.initialised=!1;var s=t.column,l=t.colDef,u=t.textFormatter,c=t.doesRowPassOtherFilter,p=t.suppressSorting,h=t.comparator,d=t.rowModel,f=t.values;t.caseSensitive,this.column=s,this.formatter=u||dd.DEFAULT_FORMATTER,this.doesRowPassOtherFilters=c,this.suppressSorting=p||!1,this.comparator=h||l.comparator||_.defaultComparator,d.getType()===L.ROW_MODEL_TYPE_CLIENT_SIDE&&(this.clientSideValuesExtractor=new Ioe(d,this.filterParams,this.caseFormat)),f==null?this.valuesType=Kn.TAKEN_FROM_GRID_VALUES:(this.valuesType=Array.isArray(f)?Kn.PROVIDED_LIST:Kn.PROVIDED_CALLBACK,this.providedValues=f),this.updateAllValues().then(function(g){return a.resetSelectionState(g||[])})}return n.prototype.addEventListener=function(t,e,r){this.localEventService.addEventListener(t,e,r)},n.prototype.removeEventListener=function(t,e,r){this.localEventService.removeEventListener(t,e,r)},n.prototype.refreshValues=function(){var t=this.getModel();return this.updateAllValues(),this.setModel(t)},n.prototype.overrideValues=function(t){var e=this;return new Dt(function(r){e.allValuesPromise.then(function(){e.valuesType=Kn.PROVIDED_LIST,e.providedValues=t,e.refreshValues().then(function(){return r()})})})},n.prototype.refreshAfterAnyFilterChanged=function(){var t=this;return this.showAvailableOnly()?this.allValuesPromise.then(function(e){return t.updateAvailableValues(e||[])}):Dt.resolve()},n.prototype.isInitialised=function(){return this.initialised},n.prototype.updateAllValues=function(){var t=this;return this.allValuesPromise=new Dt(function(e){switch(t.valuesType){case Kn.TAKEN_FROM_GRID_VALUES:case Kn.PROVIDED_LIST:{var r=t.valuesType===Kn.TAKEN_FROM_GRID_VALUES?t.getValuesFromRows(!1):_.values(t.uniqueValues(_.toStrings(t.providedValues)||[])),i=t.sortValues(r||[]);t.allValues=i,e(i);break}case Kn.PROVIDED_CALLBACK:{t.setIsLoading(!0);var o=t.providedValues,a=t.filterParams,s=a.columnApi,l=a.api,u=a.context,c=a.column,p=a.colDef,h={success:function(d){var f=_.values(t.uniqueValues(_.toStrings(d)||[]));t.setIsLoading(!1);var g=t.sortValues(f||[]);t.allValues=g,e(g)},colDef:p,column:c,columnApi:s,api:l,context:u};window.setTimeout(function(){return o(h)},0);break}default:throw new Error("Unrecognised valuesType")}}),this.allValuesPromise.then(function(e){return t.updateAvailableValues(e||[])}).then(function(){return t.initialised=!0}),this.allValuesPromise},n.prototype.setValuesType=function(t){this.valuesType=t},n.prototype.getValuesType=function(){return this.valuesType},n.prototype.isValueAvailable=function(t){return this.availableValues.has(t)},n.prototype.showAvailableOnly=function(){return this.valuesType===Kn.TAKEN_FROM_GRID_VALUES},n.prototype.updateAvailableValues=function(t){var e=this.showAvailableOnly()?this.sortValues(this.getValuesFromRows(!0)):t;this.availableValues=_.convertToSet(e),this.localEventService.dispatchEvent({type:n.EVENT_AVAILABLE_VALUES_CHANGED}),this.updateDisplayedValues()},n.prototype.sortValues=function(t){return this.suppressSorting?t:!this.filterParams.excelMode||t.indexOf(null)<0?t.sort(this.comparator):t.filter(function(e){return e!=null}).sort(this.comparator).concat(null)},n.prototype.getValuesFromRows=function(t){var e=this;if(t===void 0&&(t=!1),!this.clientSideValuesExtractor)return console.error("AG Grid: Set Filter cannot initialise because you are using a row model that does not contain all rows in the browser. Either use a different filter type, or configure Set Filter such that you provide it with values"),[];var r=function(i){return!t||e.doesRowPassOtherFilters(i)};return this.clientSideValuesExtractor.extractUniqueValues(r)},n.prototype.setMiniFilter=function(t){return t=_.makeNull(t),this.miniFilterText===t?!1:(this.miniFilterText=t,this.updateDisplayedValues(),!0)},n.prototype.getMiniFilter=function(){return this.miniFilterText},n.prototype.updateDisplayedValues=function(){var t=this;if(this.miniFilterText==null){this.displayedValues=_.values(this.availableValues);return}this.displayedValues=[];var e=this.caseFormat(this.formatter(this.miniFilterText)||""),r=function(i){return i!=null&&t.caseFormat(i).indexOf(e)>=0};this.availableValues.forEach(function(i){if(i==null)t.filterParams.excelMode&&r(t.translate("blanks"))&&t.displayedValues.push(i);else{var o=t.formatter(i),a=t.valueFormatterService.formatValue(t.column,null,o,t.filterParams.valueFormatter,!1);(r(o)||r(a))&&t.displayedValues.push(i)}})},n.prototype.getDisplayedValueCount=function(){return this.displayedValues.length},n.prototype.getDisplayedValue=function(t){return this.displayedValues[t]},n.prototype.hasSelections=function(){return this.filterParams.defaultToNothingSelected?this.selectedValues.size>0:this.allValues.length!==this.selectedValues.size},n.prototype.getValues=function(){return this.allValues.slice()},n.prototype.selectAllMatchingMiniFilter=function(t){var e=this;t===void 0&&(t=!1),this.miniFilterText==null?this.selectedValues=_.convertToSet(this.allValues):(t&&this.selectedValues.clear(),this.displayedValues.forEach(function(r){return e.selectedValues.add(r)}))},n.prototype.deselectAllMatchingMiniFilter=function(){var t=this;this.miniFilterText==null?this.selectedValues.clear():this.displayedValues.forEach(function(e){return t.selectedValues.delete(e)})},n.prototype.selectValue=function(t){this.selectedValues.add(t)},n.prototype.deselectValue=function(t){this.filterParams.excelMode&&this.isEverythingVisibleSelected()&&this.resetSelectionState(this.displayedValues),this.selectedValues.delete(t)},n.prototype.isValueSelected=function(t){return this.selectedValues.has(t)},n.prototype.isEverythingVisibleSelected=function(){var t=this;return this.displayedValues.filter(function(e){return t.isValueSelected(e)}).length===this.displayedValues.length},n.prototype.isNothingVisibleSelected=function(){var t=this;return this.displayedValues.filter(function(e){return t.isValueSelected(e)}).length===0},n.prototype.getModel=function(){return this.hasSelections()?_.values(this.selectedValues):null},n.prototype.setModel=function(t){var e=this;return this.allValuesPromise.then(function(r){if(t==null)e.resetSelectionState(r||[]);else{e.selectedValues.clear();var i=e.uniqueValues(r||[]);t.forEach(function(o){var a=i[e.uniqueKey(o)];a!==void 0&&e.selectedValues.add(a)})}})},n.prototype.uniqueValues=function(t){var e=this,r={};return(t||[]).forEach(function(i){var o=_.makeNull(i),a=e.uniqueKey(o);r[a]===void 0&&(r[a]=o)}),r},n.prototype.uniqueKey=function(t){return t==null?Loe:this.caseFormat(t)},n.prototype.resetSelectionState=function(t){this.filterParams.defaultToNothingSelected?this.selectedValues.clear():this.selectedValues=_.convertToSet(t||[])},n.EVENT_AVAILABLE_VALUES_CHANGED="availableValuesChanged",n}(),Noe=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),kf=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Gf=function(n){Noe(t,n);function t(e,r,i,o){var a=n.call(this,t.TEMPLATE)||this;return a.value=e,a.params=r,a.translate=i,a.isSelected=o,a}return t.prototype.init=function(){var e=this;this.render(),this.eCheckbox.setValue(this.isSelected,!0),this.eCheckbox.setDisabled(!!this.params.readOnly),!this.params.readOnly&&this.eCheckbox.onValueChange(function(r){var i=r||!1;e.isSelected=i;var o={type:t.EVENT_SELECTION_CHANGED,isSelected:i};e.dispatchEvent(o)})},t.prototype.toggleSelected=function(){this.params.readOnly||(this.isSelected=!this.isSelected,this.eCheckbox.setValue(this.isSelected))},t.prototype.render=function(){var e=this.params.column,r=this.value,i=null;if(typeof r=="function"?r=r():i=this.getFormattedValue(this.params,e,r),this.params.showTooltips){var o=i!=null?i:r;this.setTooltip(o)}var a={value:r,valueFormatted:i,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext(),colDef:this.params.colDef,column:this.params.column};this.renderCell(a)},t.prototype.getTooltipParams=function(){var e=n.prototype.getTooltipParams.call(this);return e.location="setFilterValue",e.colDef=this.getComponentHolder(),e},t.prototype.getFormattedValue=function(e,r,i){var o=e&&e.valueFormatter;return this.valueFormatterService.formatValue(r,null,i,o,!1)},t.prototype.renderCell=function(e){var r=this,i=this.userComponentFactory.getSetFilterCellRendererDetails(this.params,e),o=i?i.newAgStackInstance():void 0;if(o==null){var a=e.valueFormatted==null?e.value:e.valueFormatted;this.eCheckbox.setLabel(a==null?this.translate("blanks"):a);return}o.then(function(s){s&&(r.eCheckbox.setLabel(s.getGui()),r.addDestroyFunc(function(){return r.destroyBean(s)}))})},t.prototype.getComponentHolder=function(){return this.params.column.getColDef()},t.EVENT_SELECTION_CHANGED="selectionChanged",t.TEMPLATE=`
        <div class="ag-set-filter-item">
            <ag-checkbox ref="eCheckbox" class="ag-set-filter-item-checkbox"></ag-checkbox>
        </div>`,kf([y("valueFormatterService")],t.prototype,"valueFormatterService",void 0),kf([y("userComponentFactory")],t.prototype,"userComponentFactory",void 0),kf([I("eCheckbox")],t.prototype,"eCheckbox",void 0),kf([H],t.prototype,"init",null),t}(te),oN={loadingOoo:"Loading...",blanks:"(Blanks)",searchOoo:"Search...",selectAll:"(Select All)",selectAllSearchResults:"(Select All Search Results)",noMatches:"No matches."},koe=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),qp=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},tx=function(n){koe(t,n);function t(){var e=n.call(this,"setFilter")||this;return e.valueModel=null,e.setFilterParams=null,e.virtualList=null,e.caseSensitive=!1,e.appliedModelValues=null,e}return t.prototype.postConstruct=function(){n.prototype.postConstruct.call(this),this.positionableFeature=new md(this.eSetFilterList,{forcePopupParentAsOffsetParent:!0}),this.createBean(this.positionableFeature)},t.prototype.updateUiVisibility=function(){},t.prototype.createBodyTemplate=function(){return`
            <div class="ag-set-filter">
                <div ref="eFilterLoading" class="ag-filter-loading ag-hidden">`+this.translateForSetFilter("loadingOoo")+`</div>
                <ag-input-text-field class="ag-mini-filter" ref="eMiniFilter"></ag-input-text-field>
                <div ref="eFilterNoMatches" class="ag-filter-no-matches ag-hidden">`+this.translateForSetFilter("noMatches")+`</div>
                <div ref="eSetFilterList" class="ag-set-filter-list" role="presentation"></div>
            </div>`},t.prototype.handleKeyDown=function(e){if(n.prototype.handleKeyDown.call(this,e),!e.defaultPrevented)switch(e.key){case U.SPACE:this.handleKeySpace(e);break;case U.ENTER:this.handleKeyEnter(e);break}},t.prototype.handleKeySpace=function(e){var r=this.gridOptionsWrapper.getDocument();if(!(!this.eSetFilterList.contains(r.activeElement)||!this.virtualList)){var i=this.virtualList.getLastFocusedRow();if(i!=null){var o=this.virtualList.getComponentAt(i);if(o!=null){e.preventDefault();var a=(this.setFilterParams||{}).readOnly;a||o.toggleSelected()}}}},t.prototype.handleKeyEnter=function(e){if(!!this.setFilterParams){var r=this.setFilterParams||{},i=r.excelMode,o=r.readOnly;!i||!!o||(e.preventDefault(),this.onBtApply(!1,!1,e),this.setFilterParams.excelMode==="mac"&&this.eMiniFilter.getInputElement().select())}},t.prototype.getCssIdentifier=function(){return"set-filter"},t.prototype.setModelAndRefresh=function(e){var r=this;return this.valueModel?this.valueModel.setModel(e).then(function(){return r.refresh()}):Dt.resolve()},t.prototype.resetUiToDefaults=function(){return this.setMiniFilter(null),this.setModelAndRefresh(null)},t.prototype.setModelIntoUi=function(e){this.setMiniFilter(null);var r=e==null?null:e.values;return this.setModelAndRefresh(r)},t.prototype.getModelFromUi=function(){if(!this.valueModel)throw new Error("Value model has not been created.");var e=this.valueModel.getModel();return e?{values:e,filterType:this.getFilterType()}:null},t.prototype.getFilterType=function(){return"set"},t.prototype.getValueModel=function(){return this.valueModel},t.prototype.areModelsEqual=function(e,r){return e==null&&r==null?!0:e!=null&&r!=null&&_.areEqual(e.values,r.values)},t.prototype.setParams=function(e){var r=this;this.applyExcelModeOptions(e),n.prototype.setParams.call(this,e),this.setFilterParams=e,this.caseSensitive=e.caseSensitive||!1,this.valueModel=new iN(e,function(i){return r.showOrHideLoadingScreen(i)},this.valueFormatterService,function(i){return r.translateForSetFilter(i)},function(i){return r.caseFormat(i)}),this.initialiseFilterBodyUi(),e.rowModel.getType()===L.ROW_MODEL_TYPE_CLIENT_SIDE&&!e.values&&this.addEventListenersForDataChanges()},t.prototype.applyExcelModeOptions=function(e){e.excelMode==="windows"?(e.buttons||(e.buttons=["apply","cancel"]),e.closeOnApply==null&&(e.closeOnApply=!0)):e.excelMode==="mac"&&(e.buttons||(e.buttons=["reset"]),e.applyMiniFilterWhileTyping==null&&(e.applyMiniFilterWhileTyping=!0),e.debounceMs==null&&(e.debounceMs=500))},t.prototype.addEventListenersForDataChanges=function(){var e=this;this.addManagedListener(this.eventService,x.EVENT_ROW_DATA_UPDATED,function(){return e.syncAfterDataChange()}),this.addManagedListener(this.eventService,x.EVENT_CELL_VALUE_CHANGED,function(r){e.setFilterParams&&r.column===e.setFilterParams.column&&e.syncAfterDataChange()})},t.prototype.syncAfterDataChange=function(e){var r=this;if(e===void 0&&(e=!0),!this.valueModel)throw new Error("Value model has not been created.");var i=Dt.resolve();return e&&(i=this.valueModel.refreshValues()),i.then(function(){r.refresh(),r.onBtApply(!1,!0)})},t.prototype.showOrHideLoadingScreen=function(e){_.setDisplayed(this.eFilterLoading,e)},t.prototype.initialiseFilterBodyUi=function(){this.initVirtualList(),this.initMiniFilter()},t.prototype.initVirtualList=function(){var e=this;if(!this.setFilterParams)throw new Error("Set filter params have not been provided.");if(!this.valueModel)throw new Error("Value model has not been created.");var r=this.gridOptionsWrapper.getLocaleTextFunc(),i=r("ariaFilterList","Filter List"),o=this.virtualList=this.createBean(new bd("filter","listbox",i)),a=this.getRefElement("eSetFilterList");a&&a.appendChild(o.getGui());var s=this.setFilterParams.cellHeight;s!=null&&o.setRowHeight(s),o.setComponentCreator(function(u){return e.createSetListItem(u)});var l;this.setFilterParams.suppressSelectAll?l=new Goe(this.valueModel):l=new Boe(this.valueModel,function(){return e.isSelectAllSelected()}),o.setModel(l)},t.prototype.getSelectAllLabel=function(){if(!this.setFilterParams)throw new Error("Set filter params have not been provided.");if(!this.valueModel)throw new Error("Value model has not been created.");var e=this.valueModel.getMiniFilter()==null||!this.setFilterParams.excelMode?"selectAll":"selectAllSearchResults";return this.translateForSetFilter(e)},t.prototype.createSetListItem=function(e){var r=this;if(!this.setFilterParams)throw new Error("Set filter params have not been provided.");if(!this.valueModel)throw new Error("Value model has not been created.");var i;return e===t.SELECT_ALL_VALUE?(i=this.createBean(new Gf(function(){return r.getSelectAllLabel()},this.setFilterParams,function(o){return r.translateForSetFilter(o)},this.isSelectAllSelected())),i.addEventListener(Gf.EVENT_SELECTION_CHANGED,function(o){return r.onSelectAll(o.isSelected)}),i):(i=this.createBean(new Gf(e,this.setFilterParams,function(o){return r.translateForSetFilter(o)},this.valueModel.isValueSelected(e))),i.addEventListener(Gf.EVENT_SELECTION_CHANGED,function(o){return r.onItemSelected(e,o.isSelected)}),i)},t.prototype.initMiniFilter=function(){var e=this;if(!this.setFilterParams)throw new Error("Set filter params have not been provided.");if(!this.valueModel)throw new Error("Value model has not been created.");var r=this,i=r.eMiniFilter,o=r.gridOptionsWrapper,a=o.getLocaleTextFunc();i.setDisplayed(!this.setFilterParams.suppressMiniFilter),i.setValue(this.valueModel.getMiniFilter()),i.onValueChange(function(){return e.onMiniFilterInput()}),i.setInputAriaLabel(a("ariaSearchFilterValues","Search filter values")),this.addManagedListener(i.getInputElement(),"keypress",function(s){return e.onMiniFilterKeyPress(s)})},t.prototype.afterGuiAttached=function(e){if(!this.setFilterParams)throw new Error("Set filter params have not been provided.");n.prototype.afterGuiAttached.call(this,e),this.setFilterParams.excelMode&&(this.resetUiToActiveModel(),this.showOrHideResults()),this.refreshVirtualList();var r=this.eMiniFilter;r.setInputPlaceholder(this.translateForSetFilter("searchOoo")),(!e||!e.suppressFocus)&&r.getFocusableElement().focus();var i=!!(e&&e.container==="floatingFilter"),o;this.gridOptionsWrapper.isEnableRtl()?o={bottom:!0,bottomLeft:!0,left:!0}:o={bottom:!0,bottomRight:!0,right:!0},i?(this.positionableFeature.restoreLastSize(),this.positionableFeature.setResizable(o)):(this.positionableFeature.removeSizeFromEl(),this.positionableFeature.setResizable(!1))},t.prototype.applyModel=function(){var e=this;if(!this.setFilterParams)throw new Error("Set filter params have not been provided.");if(!this.valueModel)throw new Error("Value model has not been created.");this.setFilterParams.excelMode&&this.valueModel.isEverythingVisibleSelected()&&this.valueModel.selectAllMatchingMiniFilter();var r=n.prototype.applyModel.call(this),i=this.getModel();return i?this.appliedModelValues=i.values.reduce(function(o,a){return o[e.caseFormat(String(a))]=!0,o},{}):this.appliedModelValues=null,r},t.prototype.isModelValid=function(e){return this.setFilterParams&&this.setFilterParams.excelMode?e==null||e.values.length>0:!0},t.prototype.doesFilterPass=function(e){var r=this;if(!this.setFilterParams||!this.valueModel||!this.appliedModelValues)return!0;var i=e.node,o=e.data,a=this.setFilterParams,s=a.valueGetter,l=a.colDef.keyCreator,u=a.api,c=a.colDef,p=a.column,h=a.columnApi,d=a.context,f=s({api:u,colDef:c,column:p,columnApi:h,context:d,data:o,getValue:function(v){return o[v]},node:i});if(l){var g={value:f,colDef:c,column:p,node:i,data:o,api:u,columnApi:h,context:d};f=l(g)}return f=_.makeNull(f),Array.isArray(f)?f.some(function(v){return r.appliedModelValues[r.caseFormat(String(_.makeNull(v)))]===!0}):this.appliedModelValues[this.caseFormat(String(f))]===!0},t.prototype.onNewRowsLoaded=function(){if(!this.valueModel)throw new Error("Value model has not been created.");var e=this.valueModel.getValuesType();this.syncAfterDataChange(e===Kn.TAKEN_FROM_GRID_VALUES)},t.prototype.setFilterValues=function(e){var r=this;if(!this.valueModel)throw new Error("Value model has not been created.");this.valueModel.overrideValues(e).then(function(){r.refresh(),r.onUiChanged()})},t.prototype.resetFilterValues=function(){if(!this.valueModel)throw new Error("Value model has not been created.");this.valueModel.setValuesType(Kn.TAKEN_FROM_GRID_VALUES),this.syncAfterDataChange(!0)},t.prototype.refreshFilterValues=function(){var e=this;if(!this.valueModel)throw new Error("Value model has not been created.");!this.valueModel.isInitialised()||this.valueModel.refreshValues().then(function(){e.refresh(),e.onUiChanged()})},t.prototype.onAnyFilterChanged=function(){var e=this;setTimeout(function(){if(!!e.isAlive()){if(!e.valueModel)throw new Error("Value model has not been created.");e.valueModel.refreshAfterAnyFilterChanged().then(function(){return e.refresh()})}},0)},t.prototype.onMiniFilterInput=function(){if(!this.setFilterParams)throw new Error("Set filter params have not been provided.");if(!this.valueModel)throw new Error("Value model has not been created.");if(!!this.valueModel.setMiniFilter(this.eMiniFilter.getValue())){var e=this.setFilterParams||{},r=e.applyMiniFilterWhileTyping,i=e.readOnly;!i&&r?this.filterOnAllVisibleValues(!1):this.updateUiAfterMiniFilterChange()}},t.prototype.updateUiAfterMiniFilterChange=function(){if(!this.setFilterParams)throw new Error("Set filter params have not been provided.");if(!this.valueModel)throw new Error("Value model has not been created.");var e=this.setFilterParams||{},r=e.excelMode,i=e.readOnly;r==null||!!i?this.refresh():this.valueModel.getMiniFilter()==null?this.resetUiToActiveModel():(this.valueModel.selectAllMatchingMiniFilter(!0),this.refresh(),this.onUiChanged()),this.showOrHideResults()},t.prototype.showOrHideResults=function(){if(!this.valueModel)throw new Error("Value model has not been created.");var e=this.valueModel.getMiniFilter()!=null&&this.valueModel.getDisplayedValueCount()<1;_.setDisplayed(this.eNoMatches,e),_.setDisplayed(this.eSetFilterList,!e)},t.prototype.resetUiToActiveModel=function(){var e=this;if(!this.valueModel)throw new Error("Value model has not been created.");this.eMiniFilter.setValue(null,!0),this.valueModel.setMiniFilter(null),this.setModelIntoUi(this.getModel()).then(function(){return e.onUiChanged(!1,"prevent")})},t.prototype.onMiniFilterKeyPress=function(e){var r=this.setFilterParams||{},i=r.excelMode,o=r.readOnly;e.key===U.ENTER&&!i&&!o&&this.filterOnAllVisibleValues()},t.prototype.filterOnAllVisibleValues=function(e){e===void 0&&(e=!0);var r=(this.setFilterParams||{}).readOnly;if(!this.valueModel)throw new Error("Value model has not been created.");if(r)throw new Error("Unable to filter in readOnly mode.");this.valueModel.selectAllMatchingMiniFilter(!0),this.refresh(),this.onUiChanged(!1,e?"immediately":"debounce"),this.showOrHideResults()},t.prototype.focusRowIfAlive=function(e){var r=this;e!=null&&window.setTimeout(function(){if(!r.virtualList)throw new Error("Virtual list has not been created.");r.isAlive()&&r.virtualList.focusRow(e)},0)},t.prototype.onSelectAll=function(e){if(!this.valueModel)throw new Error("Value model has not been created.");if(!this.virtualList)throw new Error("Virtual list has not been created.");e?this.valueModel.selectAllMatchingMiniFilter():this.valueModel.deselectAllMatchingMiniFilter();var r=this.virtualList.getLastFocusedRow();this.refresh(),this.onUiChanged(),this.focusRowIfAlive(r)},t.prototype.onItemSelected=function(e,r){if(!this.valueModel)throw new Error("Value model has not been created.");if(!this.virtualList)throw new Error("Virtual list has not been created.");r?this.valueModel.selectValue(e):this.valueModel.deselectValue(e);var i=this.virtualList.getLastFocusedRow();this.refresh(),this.onUiChanged(),this.focusRowIfAlive(i)},t.prototype.setMiniFilter=function(e){this.eMiniFilter.setValue(e),this.onMiniFilterInput()},t.prototype.getMiniFilter=function(){return this.valueModel?this.valueModel.getMiniFilter():null},t.prototype.refresh=function(){if(!this.virtualList)throw new Error("Virtual list has not been created.");this.virtualList.refresh()},t.prototype.getValues=function(){return this.valueModel?this.valueModel.getValues():[]},t.prototype.refreshVirtualList=function(){this.setFilterParams&&this.setFilterParams.refreshValuesOnOpen?this.refreshFilterValues():this.refresh()},t.prototype.translateForSetFilter=function(e){var r=this.gridOptionsWrapper.getLocaleTextFunc();return r(e,oN[e])},t.prototype.isSelectAllSelected=function(){if(!this.setFilterParams||!this.valueModel)return!1;if(this.setFilterParams.defaultToNothingSelected){if(this.valueModel.hasSelections()&&this.valueModel.isEverythingVisibleSelected())return!0;if(this.valueModel.isNothingVisibleSelected())return!1}else{if(this.valueModel.hasSelections()&&this.valueModel.isNothingVisibleSelected())return!1;if(this.valueModel.isEverythingVisibleSelected())return!0}},t.prototype.destroy=function(){this.virtualList!=null&&(this.virtualList.destroy(),this.virtualList=null),n.prototype.destroy.call(this)},t.prototype.caseFormat=function(e){return e==null||typeof e!="string"||this.caseSensitive?e:e.toUpperCase()},t.SELECT_ALL_VALUE="__AG_SELECT_ALL__",qp([I("eMiniFilter")],t.prototype,"eMiniFilter",void 0),qp([I("eFilterLoading")],t.prototype,"eFilterLoading",void 0),qp([I("eSetFilterList")],t.prototype,"eSetFilterList",void 0),qp([I("eFilterNoMatches")],t.prototype,"eNoMatches",void 0),qp([y("valueFormatterService")],t.prototype,"valueFormatterService",void 0),t}(Ql),Goe=function(){function n(t){this.model=t}return n.prototype.getRowCount=function(){return this.model.getDisplayedValueCount()},n.prototype.getRow=function(t){return this.model.getDisplayedValue(t)},n.prototype.isRowSelected=function(t){return this.model.isValueSelected(this.getRow(t))},n}(),Boe=function(){function n(t,e){this.model=t,this.isSelectAllSelected=e}return n.prototype.getRowCount=function(){return this.model.getDisplayedValueCount()+1},n.prototype.getRow=function(t){return t===0?tx.SELECT_ALL_VALUE:this.model.getDisplayedValue(t-1)},n.prototype.isRowSelected=function(t){return t===0?this.isSelectAllSelected():this.model.isValueSelected(this.getRow(t))},n}(),Voe=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),db=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Woe=function(n){Voe(t,n);function t(){var e=n.call(this,`
            <div class="ag-floating-filter-input" role="presentation">
                <ag-input-text-field ref="eFloatingFilterText"></ag-input-text-field>
            </div>`)||this;return e.availableValuesListenerAdded=!1,e}return t.prototype.destroy=function(){n.prototype.destroy.call(this)},t.prototype.init=function(e){var r=this.columnModel.getDisplayNameForColumn(e.column,"header",!0),i=this.gridOptionsWrapper.getLocaleTextFunc();this.eFloatingFilterText.setDisabled(!0).setInputAriaLabel(r+" "+i("ariaFilterInput","Filter Input")).addGuiEventListener("click",function(){return e.showParentFilter()}),this.params=e},t.prototype.onParentModelChanged=function(e){this.updateFloatingFilterText(e)},t.prototype.parentSetFilterInstance=function(e){this.params.parentFilterInstance(function(r){if(!(r instanceof tx))throw new Error("AG Grid - SetFloatingFilter expects SetFilter as it's parent");e(r)})},t.prototype.addAvailableValuesListener=function(){var e=this;this.parentSetFilterInstance(function(r){var i=r.getValueModel();!i||e.addManagedListener(i,iN.EVENT_AVAILABLE_VALUES_CHANGED,function(){return e.updateFloatingFilterText()})}),this.availableValuesListenerAdded=!0},t.prototype.updateFloatingFilterText=function(e){var r=this;this.availableValuesListenerAdded||this.addAvailableValuesListener(),this.parentSetFilterInstance(function(i){var o=(e||i.getModel()||{}).values,a=i.getValueModel();if(o==null||a==null){r.eFloatingFilterText.setValue("");return}var s=r.gridOptionsWrapper.getLocaleTextFunc(),l=o.filter(function(h){return a.isValueAvailable(h)}),u=l.map(function(h){var d=r.params,f=d.column,g=d.filterParams,v=r.valueFormatterService.formatValue(f,null,h,g.valueFormatter,!1),m=v!=null?v:h;return m==null?s("blanks",oN.blanks):m}),c=u.length>10?u.slice(0,10).concat("..."):u,p="("+u.length+") "+c.join(",");r.eFloatingFilterText.setValue(p)})},db([I("eFloatingFilterText")],t.prototype,"eFloatingFilterText",void 0),db([y("valueFormatterService")],t.prototype,"valueFormatterService",void 0),db([y("columnModel")],t.prototype,"columnModel",void 0),t}(te),Hoe={moduleName:ae.SetFilterModule,beans:[],userComponents:[{componentName:"agSetColumnFilter",componentClass:tx},{componentName:"agSetColumnFloatingFilter",componentClass:Woe}],dependantModules:[Vr]},joe=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Uoe=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},zoe=function(n){joe(t,n);function t(){var e=n.call(this)||this;return e.allComponents={},e}return t.prototype.registerStatusPanel=function(e,r){this.allComponents[e]=r},t.prototype.getStatusPanel=function(e){return this.allComponents[e]},t=Uoe([J("statusBarService")],t),t}(j),$oe=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),ml=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Koe=function(n){$oe(t,n);function t(){return n.call(this,t.TEMPLATE)||this}return t.prototype.postConstruct=function(){if(this.gridOptions.statusBar&&this.gridOptions.statusBar.statusPanels){var e=this.gridOptions.statusBar.statusPanels.filter(function(o){return o.align==="left"});this.createAndRenderComponents(e,this.eStatusBarLeft);var r=this.gridOptions.statusBar.statusPanels.filter(function(o){return o.align==="center"});this.createAndRenderComponents(r,this.eStatusBarCenter);var i=this.gridOptions.statusBar.statusPanels.filter(function(o){return!o.align||o.align==="right"});this.createAndRenderComponents(i,this.eStatusBarRight)}else this.setDisplayed(!1)},t.prototype.createAndRenderComponents=function(e,r){var i=this,o=[];e.forEach(function(a){var s={},l=i.userComponentFactory.getStatusPanelCompDetails(a,s),u=l.newAgStackInstance();!u||o.push({key:a.key||a.statusPanel,promise:u})}),Dt.all(o.map(function(a){return a.promise})).then(function(){o.forEach(function(a){a.promise.then(function(s){var l=function(){i.getContext().destroyBean(s)};i.isAlive()?(i.statusBarService.registerStatusPanel(a.key,s),r.appendChild(s.getGui()),i.addDestroyFunc(l)):l()})})})},t.TEMPLATE=`<div class="ag-status-bar">
            <div ref="eStatusBarLeft" class="ag-status-bar-left" role="status"></div>
            <div ref="eStatusBarCenter" class="ag-status-bar-center" role="status"></div>
            <div ref="eStatusBarRight" class="ag-status-bar-right" role="status"></div>
        </div>`,ml([y("gridOptions")],t.prototype,"gridOptions",void 0),ml([y("userComponentFactory")],t.prototype,"userComponentFactory",void 0),ml([y("statusBarService")],t.prototype,"statusBarService",void 0),ml([I("eStatusBarLeft")],t.prototype,"eStatusBarLeft",void 0),ml([I("eStatusBarCenter")],t.prototype,"eStatusBarCenter",void 0),ml([I("eStatusBarRight")],t.prototype,"eStatusBarRight",void 0),ml([H],t.prototype,"postConstruct",null),t}(te),Yoe=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),FR=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Rd=function(n){Yoe(t,n);function t(){return n.call(this,t.TEMPLATE)||this}return t.prototype.setLabel=function(e,r){this.setDisplayed(!1);var i=this.gridOptionsWrapper.getLocaleTextFunc();this.eLabel.innerHTML=i(e,r)},t.prototype.setValue=function(e){this.eValue.innerHTML=e},t.TEMPLATE=`<div class="ag-status-name-value">
            <span ref="eLabel"></span>:&nbsp;
            <span ref="eValue" class="ag-status-name-value-value"></span>
        </div>`,FR([I("eLabel")],t.prototype,"eLabel",void 0),FR([I("eValue")],t.prototype,"eValue",void 0),t}(te),Xoe=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),IR=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},qoe=function(n){Xoe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.postConstruct=function(){if(this.gridApi.getModel().getType()!=="clientSide"){console.warn("AG Grid: agTotalAndFilteredRowCountComponent should only be used with the client side row model.");return}this.setLabel("totalAndFilteredRows","Rows"),this.addCssClass("ag-status-panel"),this.addCssClass("ag-status-panel-total-and-filtered-row-count"),this.setDisplayed(!0),this.addManagedListener(this.eventService,x.EVENT_MODEL_UPDATED,this.onDataChanged.bind(this)),this.onDataChanged()},t.prototype.onDataChanged=function(){var e=this.gridOptionsWrapper.getLocaleTextFunc(),r=e("thousandSeparator",","),i=e("decimalSeparator","."),o=_.formatNumberCommas(this.getFilteredRowCountValue(),r,i),a=_.formatNumberCommas(this.getTotalRowCount(),r,i);if(o===a)this.setValue(o);else{var s=this.gridOptionsWrapper.getLocaleTextFunc();this.setValue(o+" "+s("of","of")+" "+a)}},t.prototype.getFilteredRowCountValue=function(){var e=0;return this.gridApi.forEachNodeAfterFilter(function(r){r.group||e++}),e},t.prototype.getTotalRowCount=function(){var e=0;return this.gridApi.forEachNode(function(r){r.group||e++}),e},t.prototype.init=function(){},t.prototype.destroy=function(){n.prototype.destroy.call(this)},IR([y("gridApi")],t.prototype,"gridApi",void 0),IR([H],t.prototype,"postConstruct",null),t}(Rd),Zoe=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),LR=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Qoe=function(n){Zoe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.postConstruct=function(){if(this.setLabel("filteredRows","Filtered"),this.gridApi.getModel().getType()!=="clientSide"){console.warn("AG Grid: agFilteredRowCountComponent should only be used with the client side row model.");return}this.addCssClass("ag-status-panel"),this.addCssClass("ag-status-panel-filtered-row-count"),this.setDisplayed(!0);var e=this.onDataChanged.bind(this);this.addManagedListener(this.eventService,x.EVENT_MODEL_UPDATED,e),e()},t.prototype.onDataChanged=function(){var e=this.getTotalRowCountValue(),r=this.getFilteredRowCountValue(),i=this.gridOptionsWrapper.getLocaleTextFunc(),o=i("thousandSeparator",","),a=i("decimalSeparator",".");this.setValue(_.formatNumberCommas(r,o,a)),this.setDisplayed(e!==r)},t.prototype.getTotalRowCountValue=function(){var e=0;return this.gridApi.forEachNode(function(r){return e+=1}),e},t.prototype.getFilteredRowCountValue=function(){var e=0;return this.gridApi.forEachNodeAfterFilter(function(r){r.group||(e+=1)}),e},t.prototype.init=function(){},t.prototype.destroy=function(){n.prototype.destroy.call(this)},LR([y("gridApi")],t.prototype,"gridApi",void 0),LR([H],t.prototype,"postConstruct",null),t}(Rd),Joe=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),NR=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},eae=function(n){Joe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.postConstruct=function(){if(this.setLabel("totalRows","Total Rows"),this.gridApi.getModel().getType()!=="clientSide"){console.warn("AG Grid: agTotalRowCountComponent should only be used with the client side row model.");return}this.addCssClass("ag-status-panel"),this.addCssClass("ag-status-panel-total-row-count"),this.setDisplayed(!0),this.addManagedListener(this.eventService,x.EVENT_MODEL_UPDATED,this.onDataChanged.bind(this)),this.onDataChanged()},t.prototype.onDataChanged=function(){var e=this.gridOptionsWrapper.getLocaleTextFunc(),r=e("thousandSeparator",","),i=e("decimalSeparator",".");this.setValue(_.formatNumberCommas(this.getRowCountValue(),r,i))},t.prototype.getRowCountValue=function(){var e=0;return this.gridApi.forEachLeafNode(function(r){return e+=1}),e},t.prototype.init=function(){},t.prototype.destroy=function(){n.prototype.destroy.call(this)},NR([y("gridApi")],t.prototype,"gridApi",void 0),NR([H],t.prototype,"postConstruct",null),t}(Rd),tae=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),kR=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},rae=function(n){tae(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.postConstruct=function(){if(!this.isValidRowModel()){console.warn("AG Grid: agSelectedRowCountComponent should only be used with the client and server side row model.");return}this.setLabel("selectedRows","Selected"),this.addCssClass("ag-status-panel"),this.addCssClass("ag-status-panel-selected-row-count");var e=this.gridApi.getSelectedRows().length,r=this.gridOptionsWrapper.getLocaleTextFunc(),i=r("thousandSeparator",","),o=r("decimalSeparator",".");this.setValue(_.formatNumberCommas(e,i,o)),this.setDisplayed(e>0);var a=this.onRowSelectionChanged.bind(this);this.addManagedListener(this.eventService,x.EVENT_MODEL_UPDATED,a),this.addManagedListener(this.eventService,x.EVENT_SELECTION_CHANGED,a)},t.prototype.isValidRowModel=function(){var e=this.gridApi.getModel().getType();return e==="clientSide"||e==="serverSide"},t.prototype.onRowSelectionChanged=function(){var e=this.gridApi.getSelectedRows().length,r=this.gridOptionsWrapper.getLocaleTextFunc(),i=r("thousandSeparator",","),o=r("decimalSeparator",".");this.setValue(_.formatNumberCommas(e,i,o)),this.setDisplayed(e>0)},t.prototype.init=function(){},t.prototype.destroy=function(){n.prototype.destroy.call(this)},kR([y("gridApi")],t.prototype,"gridApi",void 0),kR([H],t.prototype,"postConstruct",null),t}(Rd),nae=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),mn=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},iae=function(n){nae(t,n);function t(){return n.call(this,t.TEMPLATE)||this}return t.prototype.destroy=function(){n.prototype.destroy.call(this)},t.prototype.postConstruct=function(){if(!this.isValidRowModel()){console.warn("AG Grid: agAggregationComponent should only be used with the client and server side row model.");return}this.avgAggregationComp.setLabel("avg","Average"),this.countAggregationComp.setLabel("count","Count"),this.minAggregationComp.setLabel("min","Min"),this.maxAggregationComp.setLabel("max","Max"),this.sumAggregationComp.setLabel("sum","Sum"),this.addManagedListener(this.eventService,x.EVENT_RANGE_SELECTION_CHANGED,this.onRangeSelectionChanged.bind(this)),this.addManagedListener(this.eventService,x.EVENT_MODEL_UPDATED,this.onRangeSelectionChanged.bind(this))},t.prototype.isValidRowModel=function(){var e=this.gridApi.getModel().getType();return e==="clientSide"||e==="serverSide"},t.prototype.init=function(){},t.prototype.setAggregationComponentValue=function(e,r,i){var o=this.getAggregationValueComponent(e);if(_.exists(o)&&o){var a=this.gridOptionsWrapper.getLocaleTextFunc(),s=a("thousandSeparator",","),l=a("decimalSeparator",".");o.setValue(_.formatNumberTwoDecimalPlacesAndCommas(r,s,l)),o.setDisplayed(i)}},t.prototype.getAggregationValueComponent=function(e){var r=e+"AggregationComp",i=null,o=_.exists(this.gridOptions.statusBar)&&this.gridOptions.statusBar?this.gridOptions.statusBar.statusPanels.find(function(a){return a.statusPanel==="agAggregationComponent"}):null;return _.exists(o)&&o?(!_.exists(o.statusPanelParams)||_.exists(o.statusPanelParams)&&_.exists(o.statusPanelParams.aggFuncs)&&_.exists(o.statusPanelParams.aggFuncs.find(function(a){return a===e})))&&(i=this[r]):i=this[r],i},t.prototype.onRangeSelectionChanged=function(){var e=this,r=this.rangeService?this.rangeService.getCellRanges():void 0,i=0,o=0,a=0,s=null,l=null,u={};r&&!_.missingOrEmpty(r)&&r.forEach(function(h){for(var d=e.rangeService.getRangeStartRow(h),f=e.rangeService.getRangeEndRow(h);;){var g=_.missing(d)||!d||e.rowPositionUtils.before(f,d);if(g||!d||!h.columns)break;h.columns.forEach(function(v){if(d!==null){var m=e.cellPositionUtils.createId({rowPinned:d.rowPinned,column:v,rowIndex:d.rowIndex});if(!u[m]){u[m]=!0;var C=e.rowRenderer.getRowNode(d);if(!_.missing(C)){var b=e.valueService.getValue(v,C);_.missing(b)||b===""||(b.value&&(b=b.value),typeof b=="string"&&(b=Number(b)),typeof b=="number"&&!isNaN(b)&&(i+=b,(l===null||b>l)&&(l=b),(s===null||b<s)&&(s=b),a++),o++)}}}}),d=e.cellNavigationService.getRowBelow(d)}});var c=o>1,p=a>1;this.setAggregationComponentValue("count",o,c),this.setAggregationComponentValue("sum",i,p),this.setAggregationComponentValue("min",s,p),this.setAggregationComponentValue("max",l,p),this.setAggregationComponentValue("avg",i/a,p)},t.TEMPLATE=`<div class="ag-status-panel ag-status-panel-aggregations">
            <ag-name-value ref="avgAggregationComp"></ag-name-value>
            <ag-name-value ref="countAggregationComp"></ag-name-value>
            <ag-name-value ref="minAggregationComp"></ag-name-value>
            <ag-name-value ref="maxAggregationComp"></ag-name-value>
            <ag-name-value ref="sumAggregationComp"></ag-name-value>
        </div>`,mn([Fe("rangeService")],t.prototype,"rangeService",void 0),mn([y("valueService")],t.prototype,"valueService",void 0),mn([y("cellNavigationService")],t.prototype,"cellNavigationService",void 0),mn([y("rowRenderer")],t.prototype,"rowRenderer",void 0),mn([y("gridOptions")],t.prototype,"gridOptions",void 0),mn([y("gridApi")],t.prototype,"gridApi",void 0),mn([y("cellPositionUtils")],t.prototype,"cellPositionUtils",void 0),mn([y("rowPositionUtils")],t.prototype,"rowPositionUtils",void 0),mn([I("sumAggregationComp")],t.prototype,"sumAggregationComp",void 0),mn([I("countAggregationComp")],t.prototype,"countAggregationComp",void 0),mn([I("minAggregationComp")],t.prototype,"minAggregationComp",void 0),mn([I("maxAggregationComp")],t.prototype,"maxAggregationComp",void 0),mn([I("avgAggregationComp")],t.prototype,"avgAggregationComp",void 0),mn([H],t.prototype,"postConstruct",null),t}(te),oae={moduleName:ae.StatusBarModule,beans:[zoe],agStackComponents:[{componentName:"AgStatusBar",componentClass:Koe},{componentName:"AgNameValue",componentClass:Rd}],userComponents:[{componentName:"agAggregationComponent",componentClass:iae},{componentName:"agSelectedRowCountComponent",componentClass:rae},{componentName:"agTotalRowCountComponent",componentClass:eae},{componentName:"agFilteredRowCountComponent",componentClass:Qoe},{componentName:"agTotalAndFilteredRowCountComponent",componentClass:qoe}],dependantModules:[Vr]},aae=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),yl=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},sae=function(n){aae(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.firstRow=-1,e.lastRow=-1,e.rowCount=-1,e.rowNodesByIndex={},e}return t.prototype.ensureRowHeightsValid=function(e,r,i,o){return!1},t.prototype.init=function(){this.rowHeight=this.gridOptionsWrapper.getRowHeightAsNumber(),this.addManagedListener(this.eventService,x.EVENT_VIEWPORT_CHANGED,this.onViewportChanged.bind(this))},t.prototype.start=function(){this.gridOptionsWrapper.getViewportDatasource()&&this.setViewportDatasource(this.gridOptionsWrapper.getViewportDatasource())},t.prototype.isLastRowIndexKnown=function(){return!0},t.prototype.destroyDatasource=function(){!this.viewportDatasource||(this.viewportDatasource.destroy&&this.viewportDatasource.destroy(),this.rowRenderer.datasourceChanged(),this.firstRow=-1,this.lastRow=-1)},t.prototype.calculateFirstRow=function(e){var r=this.gridOptionsWrapper.getViewportRowModelBufferSize(),i=this.gridOptionsWrapper.getViewportRowModelPageSize(),o=e-r;return o<0?0:Math.floor(o/i)*i},t.prototype.calculateLastRow=function(e){if(e===-1)return e;var r=this.gridOptionsWrapper.getViewportRowModelBufferSize(),i=this.gridOptionsWrapper.getViewportRowModelPageSize(),o=e+r,a=Math.ceil(o/i)*i,s=this.rowCount-1;return Math.min(a,s)},t.prototype.onViewportChanged=function(e){var r=this.calculateFirstRow(e.firstRow),i=this.calculateLastRow(e.lastRow);(this.firstRow!==r||this.lastRow!==i)&&(this.firstRow=r,this.lastRow=i,this.purgeRowsNotInViewport(),this.viewportDatasource&&this.viewportDatasource.setViewportRange(this.firstRow,this.lastRow))},t.prototype.purgeRowsNotInViewport=function(){var e=this;Object.keys(this.rowNodesByIndex).forEach(function(r){var i=parseInt(r,10);(i<e.firstRow||i>e.lastRow)&&delete e.rowNodesByIndex[i]})},t.prototype.setViewportDatasource=function(e){this.destroyDatasource(),this.viewportDatasource=e,this.rowCount=0,e.init?e.init({setRowCount:this.setRowCount.bind(this),setRowData:this.setRowData.bind(this),getRow:this.getRow.bind(this)}):console.warn("AG Grid: viewport is missing init method.")},t.prototype.getType=function(){return L.ROW_MODEL_TYPE_VIEWPORT},t.prototype.getRow=function(e){return this.rowNodesByIndex[e]||(this.rowNodesByIndex[e]=this.createBlankRowNode(e)),this.rowNodesByIndex[e]},t.prototype.getRowNode=function(e){var r;return this.forEachNode(function(i){i.id===e&&(r=i)}),r},t.prototype.getRowCount=function(){return this.rowCount},t.prototype.getRowIndexAtPixel=function(e){return this.rowHeight!==0?Math.floor(e/this.rowHeight):0},t.prototype.getRowBounds=function(e){return{rowHeight:this.rowHeight,rowTop:this.rowHeight*e}},t.prototype.getTopLevelRowCount=function(){return this.getRowCount()},t.prototype.getTopLevelRowDisplayedIndex=function(e){return e},t.prototype.isEmpty=function(){return this.rowCount>0},t.prototype.isRowsToRender=function(){return this.rowCount>0},t.prototype.getNodesInRangeForSelection=function(e,r){var i=_.missing(e)?0:e.rowIndex,o=r.rowIndex,a=i<this.firstRow||i>this.lastRow,s=o<this.firstRow||o>this.lastRow;if(a||s)return[];for(var l=[],u=i<=o?i:o,c=i<=o?o:i,p=u;p<=c;p++)l.push(this.rowNodesByIndex[p]);return l},t.prototype.forEachNode=function(e){var r=this,i=0;Object.keys(this.rowNodesByIndex).forEach(function(o){var a=parseInt(o,10),s=r.rowNodesByIndex[a];e(s,i),i++})},t.prototype.setRowData=function(e){var r=this;_.iterateObject(e,function(i,o){var a=parseInt(i,10);if(a>=r.firstRow&&a<=r.lastRow){var s=r.rowNodesByIndex[a];_.missing(s)&&(s=r.createBlankRowNode(a),r.rowNodesByIndex[a]=s),s.setDataAndId(o,a.toString())}})},t.prototype.createBlankRowNode=function(e){var r=new Ee(this.beans);return r.setRowHeight(this.rowHeight),r.setRowTop(this.rowHeight*e),r.setRowIndex(e),r},t.prototype.setRowCount=function(e,r){if(r===void 0&&(r=!1),e!==this.rowCount){this.rowCount=e;var i={type:x.EVENT_MODEL_UPDATED,api:this.gridApi,columnApi:this.columnApi,newData:!1,newPage:!1,keepRenderedRows:r,animate:!1};this.eventService.dispatchEvent(i)}},t.prototype.isRowPresent=function(e){return!1},yl([y("gridApi")],t.prototype,"gridApi",void 0),yl([y("columnApi")],t.prototype,"columnApi",void 0),yl([y("rowRenderer")],t.prototype,"rowRenderer",void 0),yl([y("beans")],t.prototype,"beans",void 0),yl([H],t.prototype,"init",null),yl([_t],t.prototype,"destroyDatasource",null),t=yl([J("rowModel")],t),t}(j),lae={moduleName:ae.ViewportRowModelModule,rowModels:{viewport:sae},dependantModules:[Vr]},iu=function(){function n(t,e,r,i){this.x=t,this.y=e,this.width=r,this.height=i}return n.prototype.isValid=function(){return isFinite(this.x)&&isFinite(this.y)&&isFinite(this.width)&&isFinite(this.height)},n.prototype.dilate=function(t){this.x-=t,this.y-=t,this.width+=t*2,this.height+=t*2},n.prototype.containsPoint=function(t,e){return t>=this.x&&t<=this.x+this.width&&e>=this.y&&e<=this.y+this.height},n.prototype.render=function(t,e){e===void 0&&(e=n.noParams),t.save(),e.resetTransform&&t.setTransform(1,0,0,1,0,0),t.strokeStyle=e.strokeStyle||"cyan",t.lineWidth=e.lineWidth||1,t.strokeRect(this.x,this.y,this.width,this.height),e.label&&(t.fillStyle=e.fillStyle||"black",t.textBaseline="bottom",t.fillText(e.label,this.x,this.y)),t.restore()},n.noParams={},n}(),Zp=globalThis&&globalThis.__read||function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},uh=function(){function n(t){t===void 0&&(t=[1,0,0,1,0,0]),this.elements=t}return n.prototype.setElements=function(t){var e=this.elements;return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],this},n.prototype.setIdentityElements=function(){var t=this.elements;return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,this},Object.defineProperty(n.prototype,"identity",{get:function(){var t=this.elements;return t[0]===1&&t[1]===0&&t[2]===0&&t[3]===1&&t[4]===0&&t[5]===0},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"a",{get:function(){return this.elements[0]},set:function(t){this.elements[0]=t},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"b",{get:function(){return this.elements[1]},set:function(t){this.elements[1]=t},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"c",{get:function(){return this.elements[2]},set:function(t){this.elements[2]=t},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"d",{get:function(){return this.elements[3]},set:function(t){this.elements[3]=t},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"e",{get:function(){return this.elements[4]},set:function(t){this.elements[4]=t},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"f",{get:function(){return this.elements[5]},set:function(t){this.elements[5]=t},enumerable:!0,configurable:!0}),n.prototype.AxB=function(t,e,r){var i=Zp(t,6),o=i[0],a=i[1],s=i[2],l=i[3],u=i[4],c=i[5],p=Zp(e,6),h=p[0],d=p[1],f=p[2],g=p[3],v=p[4],m=p[5];r=r||t,r[0]=o*h+s*d,r[1]=a*h+l*d,r[2]=o*f+s*g,r[3]=a*f+l*g,r[4]=o*v+s*m+u,r[5]=a*v+l*m+c},n.prototype.multiplySelf=function(t){return this.AxB(this.elements,t.elements),this},n.prototype.multiply=function(t){var e=new Array(6);return this.AxB(this.elements,t.elements,e),new n(e)},n.prototype.preMultiplySelf=function(t){return this.AxB(t.elements,this.elements,this.elements),this},n.prototype.inverse=function(){var t=Zp(this.elements,6),e=t[0],r=t[1],i=t[2],o=t[3],a=t[4],s=t[5],l=1/(e*o-r*i);return e*=l,r*=l,i*=l,o*=l,new n([o,-r,-i,e,i*s-o*a,r*a-e*s])},n.prototype.inverseTo=function(t){var e=Zp(this.elements,6),r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],l=e[5],u=1/(r*a-i*o);return r*=u,i*=u,o*=u,a*=u,t.setElements([a,-i,-o,r,o*l-a*s,i*s-r*l]),this},n.prototype.invertSelf=function(){var t=this.elements,e=Zp(t,6),r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],l=e[5],u=1/(r*a-i*o);return r*=u,i*=u,o*=u,a*=u,t[0]=a,t[1]=-i,t[2]=-o,t[3]=r,t[4]=o*l-a*s,t[5]=i*s-r*l,this},n.prototype.clone=function(){return new n(this.elements.slice())},n.prototype.transformPoint=function(t,e){var r=this.elements;return{x:t*r[0]+e*r[2]+r[4],y:t*r[1]+e*r[3]+r[5]}},n.prototype.transformBBox=function(t,e,r){e===void 0&&(e=0);var i=this.elements,o=i[0],a=i[1],s=i[2],l=i[3],u=t.width*.5,c=t.height*.5,p=t.x+u,h=t.y+c,d,f;if(e){u-=e,c-=e;var g=Math.sqrt(o*o+s*s),v=Math.sqrt(a*a+l*l);d=Math.abs(u*o)+Math.abs(c*s)+Math.abs(g*e),f=Math.abs(u*a)+Math.abs(c*l)+Math.abs(v*e)}else d=Math.abs(u*o)+Math.abs(c*s),f=Math.abs(u*a)+Math.abs(c*l);return r||(r=new iu(0,0,0,0)),r.x=p*o+h*s+i[4]-d,r.y=p*a+h*l+i[5]-f,r.width=d+d,r.height=f+f,r},n.prototype.toContext=function(t){if(!this.identity){var e=this.elements;t.transform(e[0],e[1],e[2],e[3],e[4],e[5])}},n.flyweight=function(t){return t?t instanceof n?n.matrix.setElements(t.elements):n.matrix.setElements(t):n.matrix.setIdentityElements(),n.matrix},n.matrix=new n,n}();function rx(n){var t=n.constructor,e=t.className;if(!e)throw new Error("The "+t+" is missing the 'className' property.");return e+"-"+(t.id=(t.id||0)+1)}var uae=globalThis&&globalThis.__read||function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},ed;(function(n){n[n.All=0]="All",n[n.None=1]="None"})(ed||(ed={}));var fs=function(){function n(){this.id=rx(this),this.tag=NaN,this.isContainerNode=!1,this._children=[],this.childSet={},this.matrix=new uh,this.inverseMatrix=new uh,this._dirtyTransform=!1,this._scalingX=1,this._scalingY=1,this._scalingCenterX=null,this._scalingCenterY=null,this._rotationCenterX=null,this._rotationCenterY=null,this._rotation=0,this._translationX=0,this._translationY=0,this._dirty=!0,this._visible=!0,this.pointerEvents=ed.All}return n.isNode=function(t){return t?t.matrix!==void 0:!1},n.prototype._setScene=function(t){this._scene=t;for(var e=this.children,r=e.length,i=0;i<r;i++)e[i]._setScene(t)},Object.defineProperty(n.prototype,"scene",{get:function(){return this._scene},enumerable:!0,configurable:!0}),n.prototype._setParent=function(t){this._parent=t},Object.defineProperty(n.prototype,"parent",{get:function(){return this._parent},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"children",{get:function(){return this._children},enumerable:!0,configurable:!0}),n.prototype.countChildren=function(t){if(t===void 0&&(t=n.MAX_SAFE_INTEGER),t<=0)return 0;for(var e=this.children,r=e.length,i=r,o=0;o<r;o++)i+=e[o].countChildren(t-1);return i},n.prototype.append=function(t){n.isNode(t)&&(t=[t]);for(var e=t.length,r=0;r<e;r++){var i=t[r];if(i.parent)throw new Error(i+" already belongs to another parent: "+i.parent+".");if(i.scene)throw new Error(i+" already belongs a scene: "+i.scene+".");if(this.childSet[i.id])throw new Error("Duplicate "+i.constructor.name+" node: "+i);this._children.push(i),this.childSet[i.id]=!0,i._setParent(this),i._setScene(this.scene)}this.dirty=!0},n.prototype.appendChild=function(t){if(t.parent)throw new Error(t+" already belongs to another parent: "+t.parent+".");if(t.scene)throw new Error(t+" already belongs to a scene: "+t.scene+".");if(this.childSet[t.id])throw new Error("Duplicate "+t.constructor.name+" node: "+t);return this._children.push(t),this.childSet[t.id]=!0,t._setParent(this),t._setScene(this.scene),this.dirty=!0,t},n.prototype.removeChild=function(t){if(t.parent===this){var e=this.children.indexOf(t);if(e>=0)return this._children.splice(e,1),delete this.childSet[t.id],t._setParent(),t._setScene(),this.dirty=!0,t}throw new Error("The node to be removed is not a child of this node.")},n.prototype.insertBefore=function(t,e){var r=t.parent;if(t.parent&&t.parent.removeChild(t),e&&e.parent===this){var i=this.children.indexOf(e);if(i>=0)this._children.splice(i,0,t),this.childSet[t.id]=!0,t._setParent(this),t._setScene(this.scene);else throw new Error(e+" has "+r+" as the parent, but is not in its list of children.");this.dirty=!0}else this.append(t);return t},Object.defineProperty(n.prototype,"nextSibling",{get:function(){var t=this.parent;if(t){var e=t.children,r=e.indexOf(this);if(r>=0&&r<=e.length-1)return e[r+1]}},enumerable:!0,configurable:!0}),n.prototype.transformPoint=function(t,e){for(var r=uh.flyweight(this.matrix),i=this.parent;i;)r.preMultiplySelf(i.matrix),i=i.parent;return r.invertSelf().transformPoint(t,e)},n.prototype.inverseTransformPoint=function(t,e){for(var r=uh.flyweight(this.matrix),i=this.parent;i;)r.preMultiplySelf(i.matrix),i=i.parent;return r.transformPoint(t,e)},Object.defineProperty(n.prototype,"dirtyTransform",{get:function(){return this._dirtyTransform},set:function(t){this._dirtyTransform=t,t&&(this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"scalingX",{get:function(){return this._scalingX},set:function(t){this._scalingX!==t&&(this._scalingX=t,this.dirtyTransform=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"scalingY",{get:function(){return this._scalingY},set:function(t){this._scalingY!==t&&(this._scalingY=t,this.dirtyTransform=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"scalingCenterX",{get:function(){return this._scalingCenterX},set:function(t){this._scalingCenterX!==t&&(this._scalingCenterX=t,this.dirtyTransform=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"scalingCenterY",{get:function(){return this._scalingCenterY},set:function(t){this._scalingCenterY!==t&&(this._scalingCenterY=t,this.dirtyTransform=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"rotationCenterX",{get:function(){return this._rotationCenterX},set:function(t){this._rotationCenterX!==t&&(this._rotationCenterX=t,this.dirtyTransform=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"rotationCenterY",{get:function(){return this._rotationCenterY},set:function(t){this._rotationCenterY!==t&&(this._rotationCenterY=t,this.dirtyTransform=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"rotation",{get:function(){return this._rotation},set:function(t){this._rotation!==t&&(this._rotation=t,this.dirtyTransform=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"rotationDeg",{get:function(){return this.rotation/Math.PI*180},set:function(t){this.rotation=t/180*Math.PI},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"translationX",{get:function(){return this._translationX},set:function(t){this._translationX!==t&&(this._translationX=t,this.dirtyTransform=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"translationY",{get:function(){return this._translationY},set:function(t){this._translationY!==t&&(this._translationY=t,this.dirtyTransform=!0)},enumerable:!0,configurable:!0}),n.prototype.containsPoint=function(t,e){return!1},n.prototype.pickNode=function(t,e){if(!(!this.visible||this.pointerEvents===ed.None||!this.containsPoint(t,e))){var r=this.children;if(r.length)for(var i=r.length-1;i>=0;i--){var o=r[i].pickNode(t,e);if(o)return o}else if(!this.isContainerNode)return this}},n.prototype.computeBBox=function(){},n.prototype.computeBBoxCenter=function(){var t=this.computeBBox&&this.computeBBox();return t?[t.x+t.width*.5,t.y+t.height*.5]:[0,0]},n.prototype.computeTransformMatrix=function(){var t=uae([0,0],2),e=t[0],r=t[1],i=this.scalingX,o=this.scalingY,a,s;i===1&&o===1?(a=0,s=0):(a=this.scalingCenterX===null?e:this.scalingCenterX,s=this.scalingCenterY===null?r:this.scalingCenterY);var l=this.rotation,u=Math.cos(l),c=Math.sin(l),p,h;l===0?(p=0,h=0):(p=this.rotationCenterX===null?e:this.rotationCenterX,h=this.rotationCenterY===null?r:this.rotationCenterY);var d=this.translationX,f=this.translationY,g=a*(1-i)-p,v=s*(1-o)-h;this.dirtyTransform=!1,this.matrix.setElements([u*i,c*i,-c*o,u*o,u*g-c*v+p+d,c*g+u*v+h+f]).inverseTo(this.inverseMatrix)},Object.defineProperty(n.prototype,"dirty",{get:function(){return this._dirty},set:function(t){this._dirty=t,t&&(this.parent?this.parent.dirty=!0:this.scene&&(this.scene.dirty=!0))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"visible",{get:function(){return this._visible},set:function(t){this._visible!==t&&(this._visible=t,this.dirty=!0)},enumerable:!0,configurable:!0}),n.MAX_SAFE_INTEGER=Math.pow(2,53)-1,n}(),cae=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Ds=function(n){cae(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.isContainerNode=!0,e._opacity=1,e}return Object.defineProperty(t.prototype,"opacity",{get:function(){return this._opacity},set:function(e){e=Math.min(1,Math.max(0,e)),this._opacity!==e&&(this._opacity=e,this.dirty=!0)},enumerable:!0,configurable:!0}),t.prototype.containsPoint=function(e,r){return!0},t.prototype.computeBBox=function(){var e=1/0,r=-1/0,i=1/0,o=-1/0;return this.dirtyTransform&&this.computeTransformMatrix(),this.children.forEach(function(a){if(!!a.visible){var s=a.computeBBox();if(!!s){if(!(a instanceof t)){a.dirtyTransform&&a.computeTransformMatrix();for(var l=uh.flyweight(a.matrix),u=a.parent;u;)l.preMultiplySelf(u.matrix),u=u.parent;l.transformBBox(s,0,s)}var c=s.x,p=s.y;c<e&&(e=c),p<i&&(i=p),c+s.width>r&&(r=c+s.width),p+s.height>o&&(o=p+s.height)}}}),new iu(e,i,r-e,o-i)},t.prototype.render=function(e){this.dirtyTransform&&this.computeTransformMatrix(),this.matrix.toContext(e);var r=this.children,i=r.length;e.globalAlpha*=this.opacity;for(var o=0;o<i;o++){var a=r[o];a.visible&&(e.save(),a.render(e),e.restore())}},t.className="Group",t}(fs);function km(n,t){var e=Object.create(n);for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);return e}var pae=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),ka=function(n){pae(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.lastInstanceId=0,e._fillOpacity=1,e._strokeOpacity=1,e._fill=t.defaultStyles.fill,e._stroke=t.defaultStyles.stroke,e._strokeWidth=t.defaultStyles.strokeWidth,e._lineDash=t.defaultStyles.lineDash,e._lineDashOffset=t.defaultStyles.lineDashOffset,e._lineCap=t.defaultStyles.lineCap,e._lineJoin=t.defaultStyles.lineJoin,e._opacity=t.defaultStyles.opacity,e.onShadowChange=function(){e.dirty=!0},e._fillShadow=t.defaultStyles.fillShadow,e._strokeShadow=t.defaultStyles.strokeShadow,e}return t.createInstance=function(e){var r=Object.create(e);return r._setParent(void 0),r.id=e.id+"-Instance-"+String(++e.lastInstanceId),r},t.prototype.restoreOwnStyles=function(){for(var e=this.constructor.defaultStyles,r=Object.getOwnPropertyNames(e),i=0,o=r.length;i<o;i++){var a=r[i];this[a]=e[a]}},t.prototype.restoreAllStyles=function(){var e=this.constructor.defaultStyles;for(var r in e)this[r]=e[r]},t.prototype.restoreOverriddenStyles=function(){var e=this.constructor.defaultStyles,r=Object.getPrototypeOf(e);for(var i in e)e.hasOwnProperty(i)&&r.hasOwnProperty(i)&&(this[i]=e[i])},Object.defineProperty(t.prototype,"fillOpacity",{get:function(){return this._fillOpacity},set:function(e){this._fillOpacity!==e&&(this._fillOpacity=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"strokeOpacity",{get:function(){return this._strokeOpacity},set:function(e){this._strokeOpacity!==e&&(this._strokeOpacity=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fill",{get:function(){return this._fill},set:function(e){this._fill!==e&&(this._fill=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"stroke",{get:function(){return this._stroke},set:function(e){this._stroke!==e&&(this._stroke=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"strokeWidth",{get:function(){return this._strokeWidth},set:function(e){this._strokeWidth!==e&&(this._strokeWidth=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"alignment",{get:function(){return Math.floor(this.strokeWidth)%2/2},enumerable:!0,configurable:!0}),t.prototype.align=function(e,r,i){return i!=null?Math.floor(i)+Math.floor(r%1+i%1):Math.floor(r)+e},Object.defineProperty(t.prototype,"lineDash",{get:function(){return this._lineDash},set:function(e){var r=this._lineDash;if(r!==e){if(r&&e&&r.length===e.length){for(var i=!0,o=e.length,a=0;a<o;a++)if(r[a]!==e[a]){i=!1;break}if(i)return}this._lineDash=e,this.dirty=!0}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"lineDashOffset",{get:function(){return this._lineDashOffset},set:function(e){this._lineDashOffset!==e&&(this._lineDashOffset=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"lineCap",{get:function(){return this._lineCap},set:function(e){this._lineCap!==e&&(this._lineCap=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"lineJoin",{get:function(){return this._lineJoin},set:function(e){this._lineJoin!==e&&(this._lineJoin=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"opacity",{get:function(){return this._opacity},set:function(e){e=Math.min(1,Math.max(0,e)),this._opacity!==e&&(this._opacity=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fillShadow",{get:function(){return this._fillShadow},set:function(e){var r=this._fillShadow;r!==e&&(r&&r.removeEventListener("change",this.onShadowChange),e&&e.addEventListener("change",this.onShadowChange),this._fillShadow=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"strokeShadow",{get:function(){return this._strokeShadow},set:function(e){var r=this._strokeShadow;r!==e&&(r&&r.removeEventListener("change",this.onShadowChange),e&&e.addEventListener("change",this.onShadowChange),this._strokeShadow=e,this.dirty=!0)},enumerable:!0,configurable:!0}),t.prototype.fillStroke=function(e){if(!!this.scene){var r=this.scene.canvas.pixelRatio||1,i=e.globalAlpha;if(this.fill){e.fillStyle=this.fill,e.globalAlpha=i*this.opacity*this.fillOpacity;var o=this.fillShadow;o&&o.enabled&&(e.shadowColor=o.color,e.shadowOffsetX=o.xOffset*r,e.shadowOffsetY=o.yOffset*r,e.shadowBlur=o.blur*r),e.fill()}if(e.shadowColor="rgba(0, 0, 0, 0)",this.stroke&&this.strokeWidth){e.strokeStyle=this.stroke,e.globalAlpha=i*this.opacity*this.strokeOpacity,e.lineWidth=this.strokeWidth,this.lineDash&&e.setLineDash(this.lineDash),this.lineDashOffset&&(e.lineDashOffset=this.lineDashOffset),this.lineCap&&(e.lineCap=this.lineCap),this.lineJoin&&(e.lineJoin=this.lineJoin);var a=this.strokeShadow;a&&a.enabled&&(e.shadowColor=a.color,e.shadowOffsetX=a.xOffset*r,e.shadowOffsetY=a.yOffset*r,e.shadowBlur=a.blur*r),e.stroke()}}},t.prototype.containsPoint=function(e,r){return this.isPointInPath(e,r)},t.defaultStyles=km({},{fill:"black",stroke:void 0,strokeWidth:0,lineDash:void 0,lineDashOffset:0,lineCap:void 0,lineJoin:void 0,opacity:1,fillShadow:void 0,strokeShadow:void 0}),t}(fs),GR=Math.sign?Math.sign:function(n){return n=+n,n===0||isNaN(n)?n:n>0?1:-1};function hae(n,t){var e=-t/n;return n!==0&&e>=0&&e<=1?[e]:[]}function dae(n,t,e){if(n===0)return hae(t,e);var r=t*t-4*n*e,i=[];if(r===0){var o=-t/(2*n);o>=0&&o<=1&&i.push(o)}else if(r>0){var a=Math.sqrt(r),s=(-t-a)/(2*n),l=(-t+a)/(2*n);s>=0&&s<=1&&i.push(s),l>=0&&l<=1&&i.push(l)}return i}function fae(n,t,e,r){if(n===0)return dae(t,e,r);var i=t/n,o=e/n,a=r/n,s=(3*o-i*i)/9,l=(9*i*o-27*a-2*i*i*i)/54,u=s*s*s+l*l,c=1/3,p=[];if(u>=0){var h=Math.sqrt(u),d=GR(l+h)*Math.pow(Math.abs(l+h),c),f=GR(l-h)*Math.pow(Math.abs(l-h),c),g=Math.abs(Math.sqrt(3)*(d-f)/2),v=-c*i+(d+f);if(v>=0&&v<=1&&p.push(v),g===0){var m=-c*i-(d+f)/2;m>=0&&m<=1&&p.push(m)}}else{var C=Math.acos(l/Math.sqrt(-s*s*s)),b=c*i,w=2*Math.sqrt(-s),S=w*Math.cos(c*C)-b,T=w*Math.cos(c*(C+2*Math.PI))-b,E=w*Math.cos(c*(C+4*Math.PI))-b;S>=0&&S<=1&&p.push(S),T>=0&&T<=1&&p.push(T),E>=0&&E<=1&&p.push(E)}return p}function fb(n,t,e,r,i,o,a,s){var l=(e-n)*(s-o)-(r-t)*(a-i);if(l===0)return null;var u=((a-i)*(t-o)-(n-i)*(s-o))/l,c=((e-n)*(t-o)-(r-t)*(n-i))/l;return u>=0&&u<=1&&c>=0&&c<=1?{x:n+u*(e-n),y:t+u*(r-t)}:null}function gae(n,t,e,r,i,o,a,s,l,u,c,p){for(var h=[],d=u-p,f=c-l,g=l*(p-u)-u*(c-l),v=BR(n,e,i,a),m=BR(t,r,o,s),C=d*v[0]+f*m[0],b=d*v[1]+f*m[1],w=d*v[2]+f*m[2],S=d*v[3]+f*m[3]+g,T=fae(C,b,w,S),E=0;E<T.length;E++){var P=T[E],R=P*P,M=P*R,N=v[0]*M+v[1]*R+v[2]*P+v[3],B=m[0]*M+m[1]*R+m[2]*P+m[3],k=void 0;l!==c?k=(N-l)/(c-l):k=(B-u)/(p-u),k>=0&&k<=1&&h.push({x:N,y:B})}return h}function BR(n,t,e,r){return[-n+3*t-3*e+r,3*n-6*t+3*e,-3*n+3*t,n]}var vae=function(){function n(){this.commands=[],this.params=[],this._closedPath=!1}return n.prototype.moveTo=function(t,e){this.xy?(this.xy[0]=t,this.xy[1]=e):this.xy=[t,e],this.commands.push("M"),this.params.push(t,e)},n.prototype.lineTo=function(t,e){this.xy?(this.commands.push("L"),this.params.push(t,e),this.xy[0]=t,this.xy[1]=e):this.moveTo(t,e)},n.prototype.rect=function(t,e,r,i){this.moveTo(t,e),this.lineTo(t+r,e),this.lineTo(t+r,e+i),this.lineTo(t,e+i),this.closePath()},n.prototype.arcTo=function(t,e,r,i,o,a,s){var l=this.xy;if(!!l){t<0&&(t=-t),e<0&&(e=-e);var u=l[0],c=l[1],p=(u-a)/2,h=(c-s)/2,d=Math.sin(r),f=Math.cos(r),g=f*p+d*h,v=-d*p+f*h,m=g/t,C=v/e,b=m*m+C*C,w=(u+a)/2,S=(c+s)/2,T=0,E=0;b>=1?(b=Math.sqrt(b),t*=b,e*=b):(b=Math.sqrt(1/b-1),i===o&&(b=-b),T=b*t*C,E=-b*e*m,w+=f*T-d*E,S+=d*T+f*E);var P=Math.atan2((v-E)/e,(g-T)/t),R=Math.atan2((-v-E)/e,(-g-T)/t)-P;this.cubicArc(w,S,t,e,r,P,P+R,1-o)}},n.cubicArc=function(t,e,r,i,o,a,s,l,u,c){if(c){var p=l;l=u,u=p}var h=e.length,d=.5522847498307935,f=Math.sin(l),g=Math.cos(l),v=Math.sin(s),m=Math.cos(s),C=Math.PI/2,b=m*g*o-v*f*a,w=v*g*o+m*f*a,S=-m*f*o-v*g*a,T=-v*f*o+m*g*a;for(u-=l,u<0&&(u+=Math.PI*2),t.push("M"),e.push(b+r,w+i);u>=C;){u-=C,t.push("C");var E=S+r;e.push(b+S*d+r,w+T*d+i,b*d+S+r,w*d+T+i,Math.abs(E)<1e-8?0:E,T+i);var p=b;b=S,S=-p,p=w,w=T,T=-p}if(u){var P=1.3333333333333333*Math.tan(u/4),R=Math.sin(u),M=Math.cos(u),N=M+P*R,B=R-P*M;t.push("C");var E=b*M+S*R+r;e.push(b+S*P+r,w+T*P+i,b*N+S*B+r,w*N+T*B+i,Math.abs(E)<1e-8?0:E,w*M+T*R+i)}if(c)for(var k=h,G=e.length-2;k<G;k+=2,G-=2){var p=e[k];e[k]=e[G],e[G]=p,p=e[k+1],e[k+1]=e[G+1],e[G+1]=p}},n.prototype.cubicArc=function(t,e,r,i,o,a,s,l){var u=this.commands,c=this.params,p=u.length;n.cubicArc(u,c,t,e,r,i,o,a,s,l);var h=c[c.length-2],d=c[c.length-1];this.xy?(u[p]="L",this.xy[0]=h,this.xy[1]=d):this.xy=[h,d]},n.prototype.deCasteljau=function(t,e){var r=t.length;if(r<2||r%2===1)throw new Error("Fewer than two points or not an even count.");if(r===2||e===0)return t.slice(0,2);if(e===1)return t.slice(-2);for(var i=[],o=r-2,a=0;a<o;a+=2)i.push((1-e)*t[a]+e*t[a+2],(1-e)*t[a+1]+e*t[a+3]);return this.deCasteljau(i,e)},n.prototype.approximateCurve=function(t,e){var r=this.deCasteljau(t,0);this.moveTo(r[0],r[1]);for(var i=1/e,o=i;o<=1;o+=i){var a=this.deCasteljau(t,o);this.lineTo(a[0],a[1])}},n.prototype.quadraticCurveTo=function(t,e,r,i){this.xy||this.moveTo(t,e),this.cubicCurveTo((this.xy[0]+2*t)/3,(this.xy[1]+2*e)/3,(2*t+r)/3,(2*e+i)/3,r,i)},n.prototype.cubicCurveTo=function(t,e,r,i,o,a){this.xy||this.moveTo(t,e),this.commands.push("C"),this.params.push(t,e,r,i,o,a),this.xy[0]=o,this.xy[1]=a},Object.defineProperty(n.prototype,"closedPath",{get:function(){return this._closedPath},enumerable:!0,configurable:!0}),n.prototype.closePath=function(){this.xy&&(this.xy=void 0,this.commands.push("Z"),this._closedPath=!0)},n.prototype.clear=function(){this.commands.length=0,this.params.length=0,this.xy=void 0,this._closedPath=!1},n.prototype.isPointInPath=function(t,e){for(var r=this.commands,i=this.params,o=r.length,a=-1e4,s=-1e4,l=NaN,u=NaN,c=0,p=0,h=0,d=0,f=0;d<o;d++)switch(r[d]){case"M":isNaN(l)||fb(l,u,c,p,a,s,t,e)&&h++,l=c=i[f++],u=p=i[f++];break;case"L":fb(c,p,c=i[f++],p=i[f++],a,s,t,e)&&h++;break;case"C":h+=gae(c,p,i[f++],i[f++],i[f++],i[f++],c=i[f++],p=i[f++],a,s,t,e).length;break;case"Z":isNaN(l)||fb(l,u,c,p,a,s,t,e)&&h++;break}return h%2===1},n.fromString=function(t){var e=new n;return e.setFromString(t),e},n.parseSvgPath=function(t){return t.trim().split(n.splitCommandsRe).map(function(e){var r=e.match(n.matchParamsRe);return{command:e.substr(0,1),params:r?r.map(parseFloat):[]}})},n.prettifySvgPath=function(t){return n.parseSvgPath(t).map(function(e){return e.command+e.params.join(",")}).join(`
`)},n.prototype.setFromString=function(t){var e=this;this.clear();var r=n.parseSvgPath(t),i,o,a,s,l;function u(){l.match(n.quadraticCommandRe)||(a=i,s=o)}function c(){l.match(n.cubicCommandRe)||(a=i,s=o)}r.forEach(function(p){var h=p.params,d=h.length,f=0;switch(p.command){case"M":for(e.moveTo(i=h[f++],o=h[f++]);f<d;)e.lineTo(i=h[f++],o=h[f++]);break;case"m":for(e.moveTo(i+=h[f++],o+=h[f++]);f<d;)e.lineTo(i+=h[f++],o+=h[f++]);break;case"L":for(;f<d;)e.lineTo(i=h[f++],o=h[f++]);break;case"l":for(;f<d;)e.lineTo(i+=h[f++],o+=h[f++]);break;case"C":for(;f<d;)e.cubicCurveTo(h[f++],h[f++],a=h[f++],s=h[f++],i=h[f++],o=h[f++]);break;case"c":for(;f<d;)e.cubicCurveTo(i+h[f++],o+h[f++],a=i+h[f++],s=o+h[f++],i+=h[f++],o+=h[f++]);break;case"S":for(c();f<d;)e.cubicCurveTo(i+i-a,o+o-s,a=h[f++],s=h[f++],i=h[f++],o=h[f++]);break;case"s":for(c();f<d;)e.cubicCurveTo(i+i-a,o+o-s,a=i+h[f++],s=o+h[f++],i+=h[f++],o+=h[f++]);break;case"Q":for(;f<d;)e.quadraticCurveTo(a=h[f++],s=h[f++],i=h[f++],o=h[f++]);break;case"q":for(;f<d;)e.quadraticCurveTo(a=i+h[f++],s=o+h[f++],i+=h[f++],o+=h[f++]);break;case"T":for(u();f<d;)e.quadraticCurveTo(a=i+i-a,s=o+o-s,i=h[f++],o=h[f++]);break;case"t":for(u();f<d;)e.quadraticCurveTo(a=i+i-a,s=o+o-s,i+=h[f++],o+=h[f++]);break;case"A":for(;f<d;)e.arcTo(h[f++],h[f++],h[f++]*Math.PI/180,h[f++],h[f++],i=h[f++],o=h[f++]);break;case"a":for(;f<d;)e.arcTo(h[f++],h[f++],h[f++]*Math.PI/180,h[f++],h[f++],i+=h[f++],o+=h[f++]);break;case"Z":case"z":e.closePath();break;case"H":for(;f<d;)e.lineTo(i=h[f++],o);break;case"h":for(;f<d;)e.lineTo(i+=h[f++],o);break;case"V":for(;f<d;)e.lineTo(i,o=h[f++]);break;case"v":for(;f<d;)e.lineTo(i,o+=h[f++]);break}l=p.command})},n.prototype.toString=function(){for(var t=this.commands,e=this.params,r=t.length,i=[],o=0,a=0;o<r;o++)switch(t[o]){case"M":i.push("M"+e[a++]+","+e[a++]);break;case"L":i.push("L"+e[a++]+","+e[a++]);break;case"C":i.push("C"+e[a++]+","+e[a++]+" "+e[a++]+","+e[a++]+" "+e[a++]+","+e[a++]);break;case"Z":i.push("Z");break}return i.join("")},n.prototype.toPrettyString=function(){return n.prettifySvgPath(this.toString())},n.prototype.toSvg=function(){return n.xmlDeclaration+`
<svg width="100%" height="100%" viewBox="0 0 50 50" version="1.1" xmlns="`+n.xmlns+`">
    <path d="`+this.toString()+`" style="fill:none;stroke:#000;stroke-width:0.5;"/>
</svg>`},n.prototype.toDebugSvg=function(){var t=n.prettifySvgPath(this.toString());return n.xmlDeclaration+`
<svg width="100%" height="100%" viewBox="0 0 100 100" version="1.1" xmlns="`+n.xmlns+`">
    <path d="`+t+`" style="fill:none;stroke:#000;stroke-width:0.5;"/>
</svg>`},n.prototype.toCubicPaths=function(){var t=[],e=this.params,r,i,o,a,s,l=0;return this.commands.forEach(function(u){switch(u){case"M":r=[i=a=e[l++],o=s=e[l++]],t.push(r);break;case"L":var c=e[l++],p=e[l++];r.push((a+a+c)/3,(s+s+p)/3,(a+c+c)/3,(s+p+p)/3,a=c,s=p);break;case"C":r.push(e[l++],e[l++],e[l++],e[l++],a=e[l++],s=e[l++]);break;case"Z":r.push((a+a+i)/3,(s+s+o)/3,(a+i+i)/3,(s+o+o)/3,a=i,s=o);break}}),t},n.cubicPathToString=function(t){var e=t.length;if(!(e%2===0&&(e/2-1)/2>=1))throw new Error("Invalid path.");return"M"+t.slice(0,2).join(",")+"C"+t.slice(2).join(",")},n.splitCommandsRe=/(?=[AaCcHhLlMmQqSsTtVvZz])/g,n.matchParamsRe=/-?[0-9]*\.?\d+/g,n.quadraticCommandRe=/[QqTt]/,n.cubicCommandRe=/[CcSs]/,n.xmlDeclaration='<?xml version="1.0" encoding="UTF-8"?>',n.xmlns="http://www.w3.org/2000/svg",n}(),mae=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),l_=function(n){mae(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.path=new vae,e._dirtyPath=!0,e._svgPath="",e}return Object.defineProperty(t.prototype,"dirtyPath",{get:function(){return this._dirtyPath},set:function(e){this._dirtyPath!==e&&(this._dirtyPath=e,e&&(this.dirty=!0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"svgPath",{get:function(){return this._svgPath},set:function(e){this._svgPath!==e&&(this._svgPath=e,this.path.setFromString(e),this.dirty=!0)},enumerable:!0,configurable:!0}),t.prototype.isPointInPath=function(e,r){var i=this.transformPoint(e,r);return this.path.closedPath&&this.path.isPointInPath(i.x,i.y)},t.prototype.isPointInStroke=function(e,r){return!1},t.prototype.updatePath=function(){},t.prototype.render=function(e){var r=this.scene;this.dirtyTransform&&this.computeTransformMatrix(),this.matrix.toContext(e),this.dirtyPath&&(this.updatePath(),this.dirtyPath=!1),r.appendPath(this.path),this.fillStroke(e),this.dirty=!1},t.className="Path",t}(ka),yae=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Tc=function(n){yae(t,n);function t(){var e=n.call(this)||this;return e._x1=0,e._y1=0,e._x2=0,e._y2=0,e.restoreOwnStyles(),e}return Object.defineProperty(t.prototype,"x1",{get:function(){return this._x1},set:function(e){this._x1!==e&&(this._x1=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"y1",{get:function(){return this._y1},set:function(e){this._y1!==e&&(this._y1=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"x2",{get:function(){return this._x2},set:function(e){this._x2!==e&&(this._x2=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"y2",{get:function(){return this._y2},set:function(e){this._y2!==e&&(this._y2=e,this.dirty=!0)},enumerable:!0,configurable:!0}),t.prototype.computeBBox=function(){return new iu(this.x1,this.y1,this.x2-this.x1,this.y2-this.y1)},t.prototype.isPointInPath=function(e,r){return!1},t.prototype.isPointInStroke=function(e,r){return!1},t.prototype.render=function(e){this.dirtyTransform&&this.computeTransformMatrix(),this.matrix.toContext(e);var r=this.x1,i=this.y1,o=this.x2,a=this.y2;if(r===o){var s=Math.round(r)+Math.floor(this.strokeWidth)%2/2;r=s,o=s}else if(i===a){var l=Math.round(i)+Math.floor(this.strokeWidth)%2/2;i=l,a=l}e.beginPath(),e.moveTo(r,i),e.lineTo(o,a),this.fillStroke(e),this.dirty=!1},t.className="Line",t.defaultStyles=km(ka.defaultStyles,{fill:void 0,strokeWidth:1}),t}(ka),VR=globalThis&&globalThis.__read||function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},js=function(){function n(){this.type="band",this.index=new Map,this.ordinalRange=[],this._domain=[],this._range=[0,1],this._bandwidth=1,this._paddingInner=0,this._paddingOuter=0,this._round=!1,this._align=.5}return Object.defineProperty(n.prototype,"domain",{get:function(){return this._domain},set:function(t){var e=this._domain;e.length=0,this.index=new Map;var r=this.index;t.forEach(function(i){r.get(i)===void 0&&r.set(i,e.push(i)-1)}),this.rescale()},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"range",{get:function(){return this._range},set:function(t){this._range[0]=t[0],this._range[1]=t[1],this.rescale()},enumerable:!0,configurable:!0}),n.prototype.ticks=function(){return this._domain},n.prototype.convert=function(t){var e=this.index.get(t);if(e===void 0)return NaN;var r=this.ordinalRange[e];return r===void 0?NaN:r},Object.defineProperty(n.prototype,"bandwidth",{get:function(){return this._bandwidth},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"padding",{get:function(){return this._paddingInner},set:function(t){t=Math.max(0,Math.min(1,t)),this._paddingInner=t,this._paddingOuter=t,this.rescale()},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"paddingInner",{get:function(){return this._paddingInner},set:function(t){this._paddingInner=Math.max(0,Math.min(1,t)),this.rescale()},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"paddingOuter",{get:function(){return this._paddingOuter},set:function(t){this._paddingOuter=Math.max(0,Math.min(1,t)),this.rescale()},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"round",{get:function(){return this._round},set:function(t){this._round=t,this.rescale()},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"align",{get:function(){return this._align},set:function(t){this._align=Math.max(0,Math.min(1,t)),this.rescale()},enumerable:!0,configurable:!0}),n.prototype.rescale=function(){var t,e=this._domain.length;if(!!e){var r=VR(this._range,2),i=r[0],o=r[1],a=o<i;a&&(t=VR([o,i],2),i=t[0],o=t[1]);var s=(o-i)/Math.max(1,e-this._paddingInner+this._paddingOuter*2);this._round&&(s=Math.floor(s)),i+=(o-i-s*(e-this._paddingInner))*this._align,this._bandwidth=s*(1-this._paddingInner),this._round&&(i=Math.round(i),this._bandwidth=Math.round(this._bandwidth));for(var l=[],u=0;u<e;u++)l.push(i+s*u);this.ordinalRange=a?l.reverse():l}},n}(),WR=function(){function n(t,e){this.next=null,this.scene=t.scene,this.parent=t,this.datum=e}return n.prototype.appendChild=function(t){if(this.next===null)return this.parent.insertBefore(t,null);if(!fs.isNode(this.next))throw new Error(this.next+" is not a Node.");return this.parent.insertBefore(t,this.next)},n.prototype.insertBefore=function(t,e){return this.parent.insertBefore(t,e)},n}(),Hv=function(){function n(t,e){this.groups=t,this.parents=e}return n.select=function(t){return new n([[typeof t=="function"?t():t]],[void 0])},n.selectAll=function(t){return new n([t==null?[]:t],[void 0])},n.prototype.append=function(t){return this.select(function(e){return e.appendChild(new t)})},n.prototype.appendFn=function(t){return this.select(function(e,r,i,o){return e.appendChild(t(e,r,i,o))})},n.prototype.select=function(t){for(var e=this.groups,r=e.length,i=[],o=0;o<r;o++)for(var a=e[o],s=a.length,l=i[o]=new Array(s),u=0;u<s;u++){var c=a[u];if(c){var p=t(c,c.datum,u,a);p&&(p.datum=c.datum),l[u]=p}}return new n(i,this.parents)},n.prototype.selectByClass=function(t){return this.select(function(e){if(fs.isNode(e))for(var r=e.children,i=r.length,o=0;o<i;o++){var a=r[o];if(a instanceof t)return a}})},n.prototype.selectByTag=function(t){return this.select(function(e){if(fs.isNode(e))for(var r=e.children,i=r.length,o=0;o<i;o++){var a=r[o];if(a.tag===t)return a}})},n.prototype.selectAllByClass=function(t){return this.selectAll(function(e){var r=[];if(fs.isNode(e))for(var i=e.children,o=i.length,a=0;a<o;a++){var s=i[a];s instanceof t&&r.push(s)}return r})},n.prototype.selectAllByTag=function(t){return this.selectAll(function(e){var r=[];if(fs.isNode(e))for(var i=e.children,o=i.length,a=0;a<o;a++){var s=i[a];s.tag===t&&r.push(s)}return r})},n.prototype.selectNone=function(){return[]},n.prototype.selectAll=function(t){t||(t=this.selectNone);for(var e=[],r=[],i=this.groups,o=i.length,a=0;a<o;a++)for(var s=i[a],l=s.length,u=0;u<l;u++){var c=s[u];c&&(e.push(t(c,c.datum,u,s)),r.push(c))}return new n(e,r)},n.prototype.each=function(t){for(var e=this.groups,r=e.length,i=0;i<r;i++)for(var o=e[i],a=o.length,s=0;s<a;s++){var l=o[s];l&&t(l,l.datum,s,o)}return this},n.prototype.remove=function(){return this.each(function(t){if(fs.isNode(t)){var e=t.parent;e&&e.removeChild(t)}})},n.prototype.merge=function(t){for(var e=this.groups,r=t.groups,i=e.length,o=r.length,a=Math.min(i,o),s=new Array(i),l=0;l<a;l++)for(var u=e[l],c=r[l],p=u.length,h=s[l]=new Array(p),d=0;d<p;d++){var f=u[d]||c[d];h[d]=f||void 0}for(;l<i;l++)s[l]=e[l];return new n(s,this.parents)},n.prototype.node=function(){for(var t=this.groups,e=t.length,r=0;r<e;r++)for(var i=t[r],o=i.length,a=0;a<o;a++){var s=i[a];if(s)return s}return null},n.prototype.attr=function(t,e){return this.each(function(r){r[t]=e}),this},n.prototype.attrFn=function(t,e){return this.each(function(r,i,o,a){r[t]=e(r,i,o,a)}),this},n.prototype.call=function(t){return t(this),this},Object.defineProperty(n.prototype,"size",{get:function(){var t=0;return this.each(function(){return t++}),t},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"data",{get:function(){var t=[];return this.each(function(e,r){return t.push(r)}),t},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"enter",{get:function(){return new n(this.enterGroups?this.enterGroups:[[]],this.parents)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"exit",{get:function(){return new n(this.exitGroups?this.exitGroups:[[]],this.parents)},enumerable:!0,configurable:!0}),n.prototype.setDatum=function(t){return this.each(function(e){e.datum=t})},Object.defineProperty(n.prototype,"datum",{get:function(){var t=this.node();return t?t.datum:null},enumerable:!0,configurable:!0}),n.prototype.setData=function(t,e){if(typeof t!="function"){var r=t;t=function(){return r}}for(var i=this.groups,o=this.parents,a=i.length,s=new Array(a),l=new Array(a),u=new Array(a),c=0;c<a;c++){var p=i[c],h=o[c];if(!h)throw new Error("Group #"+c+" has no parent: "+p);var d=p.length,f=t(h,h.datum,c,o),g=f.length,v=l[c]=new Array(g),m=s[c]=new Array(g),C=u[c]=new Array(d);e?this.bindKey(h,p,v,m,C,f,e):this.bindIndex(h,p,v,m,C,f);for(var b=0,w=0;b<g;b++){var S=v[b];if(S){b>=w&&(w=b+1);for(var T=void 0;!(T=m[w])&&w<g;)w++;S.next=T||null}}}var E=new n(s,o);return E.enterGroups=l,E.exitGroups=u,E},n.prototype.bindIndex=function(t,e,r,i,o,a){for(var s=e.length,l=a.length,u=0;u<l;u++){var c=e[u];c?(c.datum=a[u],i[u]=c):r[u]=new WR(t,a[u])}for(;u<s;u++){var c=e[u];c&&(o[u]=c)}},n.prototype.bindKey=function(t,e,r,i,o,a,s){for(var l=e.length,u=a.length,c=new Array(l),p={},h=0;h<l;h++){var d=e[h];if(d){var f=c[h]=n.keyPrefix+s(d,d.datum,h,e);f in p?o[h]=d:p[f]=d}}for(var h=0;h<u;h++){var f=n.keyPrefix+s(t,a[h],h,a),d=p[f];d?(i[h]=d,d.datum=a[h],p[f]=void 0):r[h]=new WR(t,a[h])}for(var h=0;h<l;h++){var d=e[h];d&&p[c[h]]===d&&(o[h]=d)}},n.keyPrefix="$",n}(),xa=function(){function n(t,e,r){t===void 0&&(t=window.document),e===void 0&&(e=600),r===void 0&&(r=300),this._container=void 0,this._pixelRatio=NaN,this._width=100,this._height=100,this.document=t,this.element=t.createElement("canvas"),this.context=this.element.getContext("2d"),this.element.style.userSelect="none",this.element.style.display="block",this.setPixelRatio(),this.resize(e,r)}return Object.defineProperty(n.prototype,"container",{get:function(){return this._container},set:function(t){this._container!==t&&(this.remove(),t&&t.appendChild(this.element),this._container=t)},enumerable:!0,configurable:!0}),n.prototype.remove=function(){var t=this.element.parentNode;t!=null&&t.removeChild(this.element)},n.prototype.destroy=function(){this.element.remove(),this._canvas=void 0,Object.freeze(this)},n.prototype.toImage=function(){var t=this.document.createElement("img");return t.src=this.getDataURL(),t},n.prototype.getDataURL=function(t){return this.element.toDataURL(t)},n.prototype.download=function(t){t=((t||"").trim()||"image")+".png";var e="image/png",r=this.getDataURL(e),i=this.document,o=i.createElement("a");o.href=r,o.download=t,o.style.display="none",i.body.appendChild(o),o.click(),i.body.removeChild(o)},Object.defineProperty(n.prototype,"pixelRatio",{get:function(){return this._pixelRatio},enumerable:!0,configurable:!0}),n.prototype.setPixelRatio=function(t){var e=t||window.devicePixelRatio;e!==this.pixelRatio&&(n.overrideScale(this.context,e),this._pixelRatio=e,this.resize(this.width,this.height))},Object.defineProperty(n.prototype,"pixelated",{get:function(){return this.element.style.imageRendering==="pixelated"},set:function(t){this.element.style.imageRendering=t?"pixelated":"auto"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"width",{get:function(){return this._width},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"height",{get:function(){return this._height},enumerable:!0,configurable:!0}),n.prototype.resize=function(t,e){if(t>0&&e>0){var r=this,i=r.element,o=r.context,a=r.pixelRatio;i.width=Math.round(t*a),i.height=Math.round(e*a),i.style.width=t+"px",i.style.height=e+"px",o.resetTransform(),this._width=t,this._height=e}},Object.defineProperty(n,"textMeasuringContext",{get:function(){if(this._textMeasuringContext)return this._textMeasuringContext;var t=document.createElement("canvas");return this._textMeasuringContext=t.getContext("2d")},enumerable:!0,configurable:!0}),Object.defineProperty(n,"svgText",{get:function(){if(this._svgText)return this._svgText;var t="http://www.w3.org/2000/svg",e=document.createElementNS(t,"svg");e.setAttribute("width","100"),e.setAttribute("height","100"),e.classList?e.classList.add("text-measuring-svg"):e.setAttribute("class","text-measuring-svg"),e.style.position="absolute",e.style.top="-1000px",e.style.visibility="hidden";var r=document.createElementNS(t,"text");return r.setAttribute("x","0"),r.setAttribute("y","30"),r.setAttribute("text","black"),e.appendChild(r),document.body.appendChild(e),this._svgText=r,r},enumerable:!0,configurable:!0}),Object.defineProperty(n,"has",{get:function(){if(this._has)return this._has;var t=navigator.userAgent.indexOf("Chrome")>-1,e=navigator.userAgent.indexOf("Firefox")>-1,r=!t&&navigator.userAgent.indexOf("Safari")>-1;return this._has=Object.freeze({textMetrics:this.textMeasuringContext.measureText("test").actualBoundingBoxDescent!==void 0&&!e&&!r,getTransform:this.textMeasuringContext.getTransform!==void 0})},enumerable:!0,configurable:!0}),n.measureText=function(t,e,r,i){var o=this.textMeasuringContext;return o.font=e,o.textBaseline=r,o.textAlign=i,o.measureText(t)},n.getTextSize=function(t,e){if(this.has.textMetrics){var r=this.textMeasuringContext;r.font=e;var i=r.measureText(t);return{width:i.width,height:i.actualBoundingBoxAscent+i.actualBoundingBoxDescent}}else return this.measureSvgText(t,e)},n.measureSvgText=function(t,e){var r=this.textSizeCache,i=r[e];if(i){var o=i[t];if(o)return o}else r[e]={};var a=this.svgText;a.style.font=e,a.textContent=t;var s=a.getBBox(),l={width:s.width,height:s.height};return r[e][t]=l,l},n.overrideScale=function(t,e){var r=0,i={save:function(){this.$save(),r++},restore:function(){r>0&&(this.$restore(),r--)},setTransform:function(a,s,l,u,c,p){this.$setTransform(a*e,s*e,l*e,u*e,c*e,p*e)},resetTransform:function(){this.$setTransform(e,0,0,e,0,0),this.save(),r=0}};for(var o in i)i.hasOwnProperty(o)&&(t["$"+o]||(t["$"+o]=t[o]),t[o]=i[o])},n.textSizeCache={},n}(),Cae=globalThis&&globalThis.__read||function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},bae=globalThis&&globalThis.__spread||function(){for(var n=[],t=0;t<arguments.length;t++)n=n.concat(Cae(arguments[t]));return n},wae=function(){function n(t,e,r){var i=this;t===void 0&&(t=window.document),this.id=rx(this),this._dirty=!1,this.animationFrameId=0,this._root=null,this.debug={renderFrameIndex:!1,renderBoundingBoxes:!1},this._frameIndex=0,this.render=function(){var o,a=i,s=a.ctx,l=a.root,u=a.pendingSize;if(i.animationFrameId=0,u&&((o=i.canvas).resize.apply(o,bae(u)),i.pendingSize=void 0),l&&!l.visible){i.dirty=!1;return}s.clearRect(0,0,i.width,i.height),l&&(s.save(),l.visible&&l.render(s),s.restore()),i._frameIndex++,i.debug.renderFrameIndex&&(s.fillStyle="white",s.fillRect(0,0,40,15),s.fillStyle="black",s.fillText(i.frameIndex.toString(),2,10)),i.dirty=!1},this.canvas=new xa(t,e,r),this.ctx=this.canvas.context}return Object.defineProperty(n.prototype,"container",{get:function(){return this.canvas.container},set:function(t){this.canvas.container=t},enumerable:!0,configurable:!0}),n.prototype.download=function(t){this.canvas.download(t)},n.prototype.getDataURL=function(t){return this.canvas.getDataURL(t)},Object.defineProperty(n.prototype,"width",{get:function(){return this.pendingSize?this.pendingSize[0]:this.canvas.width},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"height",{get:function(){return this.pendingSize?this.pendingSize[1]:this.canvas.height},enumerable:!0,configurable:!0}),n.prototype.resize=function(t,e){t=Math.round(t),e=Math.round(e),!(t===this.width&&e===this.height)&&(this.pendingSize=[t,e],this.dirty=!0)},Object.defineProperty(n.prototype,"dirty",{get:function(){return this._dirty},set:function(t){t&&!this._dirty&&(this.animationFrameId=requestAnimationFrame(this.render)),this._dirty=t},enumerable:!0,configurable:!0}),n.prototype.cancelRender=function(){this.animationFrameId&&(cancelAnimationFrame(this.animationFrameId),this.animationFrameId=0,this._dirty=!1)},Object.defineProperty(n.prototype,"root",{get:function(){return this._root},set:function(t){t!==this._root&&(this._root&&this._root._setScene(),this._root=t,t&&(t.parent===null&&t.scene&&t.scene!==this&&(t.scene.root=null),t._setScene(this)),this.dirty=!0)},enumerable:!0,configurable:!0}),n.prototype.appendPath=function(t){var e=this.ctx,r=t.commands,i=t.params,o=r.length,a=0;e.beginPath();for(var s=0;s<o;s++)switch(r[s]){case"M":e.moveTo(i[a++],i[a++]);break;case"L":e.lineTo(i[a++],i[a++]);break;case"C":e.bezierCurveTo(i[a++],i[a++],i[a++],i[a++],i[a++],i[a++]);break;case"Z":e.closePath();break}},Object.defineProperty(n.prototype,"frameIndex",{get:function(){return this._frameIndex},enumerable:!0,configurable:!0}),n.className="Scene",n}(),jv=globalThis&&globalThis.__assign||function(){return jv=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},jv.apply(this,arguments)},Pd=function(){function n(){this.allPropertyListeners=new Map,this.allEventListeners=new Map}return n.prototype.addPropertyListener=function(t,e,r){r===void 0&&(r=this);var i=this.allPropertyListeners,o=i.get(t);if(o||(o=new Map,i.set(t,o)),!o.has(e)){var a=new Set;o.set(e,a)}var s=o.get(e);s&&s.add(r)},n.prototype.removePropertyListener=function(t,e,r){r===void 0&&(r=this);var i=this.allPropertyListeners,o=i.get(t);if(o)if(e){var a=o.get(e);a&&(a.delete(r),a.size||o.delete(e))}else o.clear()},n.prototype.notifyPropertyListeners=function(t,e,r){var i=this,o=this.allPropertyListeners,a=o.get(t);a&&a.forEach(function(s,l){s.forEach(function(u){return l.call(u,{type:t,source:i,value:r,oldValue:e})})})},n.prototype.addEventListener=function(t,e,r){r===void 0&&(r=this);var i=this.allEventListeners,o=i.get(t);if(o||(o=new Map,i.set(t,o)),!o.has(e)){var a=new Set;o.set(e,a)}var s=o.get(e);s&&s.add(r)},n.prototype.removeEventListener=function(t,e,r){r===void 0&&(r=this);var i=this.allEventListeners,o=i.get(t);if(o)if(e){var a=o.get(e);a&&(a.delete(r),a.size||o.delete(e))}else o.clear()},n.prototype.notifyEventListeners=function(t){var e=this,r=this.allEventListeners;t.forEach(function(i){var o=r.get(i);o&&o.forEach(function(a,s){a.forEach(function(l){return s.call(l,{type:i,source:e})})})})},n.prototype.fireEvent=function(t){var e=this,r=this.allEventListeners.get(t.type);r&&r.forEach(function(i,o){i.forEach(function(a){return o.call(a,jv(jv({},t),{source:e}))})})},n.privateKeyPrefix="_",n}();function Xu(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];var e=n.indexOf("debugger")>=0;return function(r,i){var o=Pd.privateKeyPrefix+i,a=o+"Events";r[i]||(n&&(r[a]=n),Object.defineProperty(r,i,{set:function(s){var l=this[o];if(e)debugger;if(s!==l||typeof s=="object"&&s!==null){this[o]=s,this.notifyPropertyListeners(i,l,s);var u=this[a];u&&this.notifyEventListeners(u)}},get:function(){return this[o]},enumerable:!0,configurable:!0}))}}var _ae=function(){function n(t,e,r,i){t===void 0&&(t=0),e===void 0&&(e=t),r===void 0&&(r=t),i===void 0&&(i=e),this.top=t,this.right=e,this.bottom=r,this.left=i}return n.prototype.clear=function(){this.top=this.right=this.bottom=this.left=0},n}(),Sae=`
.ag-sparkline-tooltip-wrapper {
    position: absolute;
    user-select: none;
    pointer-events: none;
}

.ag-sparkline-tooltip {
    position: relative;
    font: 12px arial,sans-serif;
    border-radius: 2px;
    box-shadow: 0 1px 3px rgb(0 0 0 / 20%), 0 1px 1px rgb(0 0 0 / 14%);
    line-height: 1.7em;
    overflow: hidden;
    white-space: nowrap;
    z-index: 99999;
    background-color: rgb(255, 255, 255);
    color: rgba(0,0,0, 0.67);
}

.ag-sparkline-tooltip-content {
    padding: 0 7px;
}

.ag-sparkline-tooltip-title {
    padding-left: 7px;
}

.ag-sparkline-tooltip-wrapper-hidden {
    top: -10000px !important;
}

.ag-sparkline-wrapper {
    box-sizing: border-box;
    overflow: hidden;
}
`;function En(n){return typeof n!="number"?!1:Number.isFinite(n)}function xae(n){return!!n&&n.hasOwnProperty("valueOf")&&En(n.valueOf())}function Tae(n){return En(n)||xae(n)}function u_(n){return n instanceof Date&&!isNaN(+n)}function aN(n){return typeof n=="string"}function Oae(n){return!!n&&n.hasOwnProperty("toString")&&aN(n.toString())}function Eae(n){return Tae(n)||u_(n)}var Rae=function(n){return function(){return n}};function Bl(n,t){return n=+n,t=+t,function(e){return n*(1-e)+t*e}}function Pae(n,t){var e=new Date,r=+n,i=+t;return function(o){return e.setTime(r*(1-o)+i*o),e}}function Aae(n,t){var e=t?t.length:0,r=n?Math.min(e,n.length):0,i=new Array(r),o=new Array(e),a;for(a=0;a<r;++a)i[a]=nx(n[a],t[a]);for(;a<e;++a)o[a]=t[a];return function(s){for(a=0;a<r;++a)o[a]=i[a](s);return o}}function Dae(n,t){var e={},r={},i;(n===null||typeof n!="object")&&(n={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in n?e[i]=nx(n[i],t[i]):r[i]=t[i];return function(o){for(i in e)r[i]=e[i](o);return r}}var HR=globalThis&&globalThis.__read||function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},ma=function(){function n(t,e,r,i){i===void 0&&(i=1),this.r=Math.min(1,Math.max(0,t||0)),this.g=Math.min(1,Math.max(0,e||0)),this.b=Math.min(1,Math.max(0,r||0)),this.a=Math.min(1,Math.max(0,i||0))}return n.fromString=function(t){if(t.indexOf("#")>=0)return n.fromHexString(t);var e=n.nameToHex[t];if(e)return n.fromHexString(e);if(t.indexOf("rgb")>=0)return n.fromRgbaString(t);throw new Error("Invalid color string: '"+t+"'")},n.parseHex=function(t){t=t.replace(/ /g,"").slice(1);var e;switch(t.length){case 6:case 8:e=[];for(var r=0;r<t.length;r+=2)e.push(parseInt(""+t[r]+t[r+1],16));break;case 3:case 4:e=t.split("").map(function(i){return parseInt(i,16)}).map(function(i){return i+i*16});break}if(e.length>=3&&e.every(function(i){return i>=0}))return e.length===3&&e.push(255),e},n.fromHexString=function(t){var e=n.parseHex(t);if(e){var r=HR(e,4),i=r[0],o=r[1],a=r[2],s=r[3];return new n(i/255,o/255,a/255,s/255)}throw new Error("Malformed hexadecimal color string: '"+t+"'")},n.stringToRgba=function(t){for(var e=HR([NaN,NaN],2),r=e[0],i=e[1],o=0;o<t.length;o++){var a=t[o];if(!r&&a==="(")r=o;else if(a===")"){i=o;break}}var s=r&&i&&t.substring(r+1,i);if(!!s){for(var l=s.split(","),u=[],o=0;o<l.length;o++){var c=l[o],p=parseFloat(c);if(isNaN(p))return;c.indexOf("%")>=0?(p=Math.max(0,Math.min(100,p)),p/=100):o===3?p=Math.max(0,Math.min(1,p)):(p=Math.max(0,Math.min(255,p)),p/=255),u.push(p)}return u}},n.fromRgbaString=function(t){var e=n.stringToRgba(t);if(e){if(e.length===3)return new n(e[0],e[1],e[2]);if(e.length===4)return new n(e[0],e[1],e[2],e[3])}throw new Error("Malformed rgb/rgba color string: '"+t+"'")},n.fromArray=function(t){if(t.length===4)return new n(t[0],t[1],t[2],t[3]);if(t.length===3)return new n(t[0],t[1],t[2]);throw new Error("The given array should contain 3 or 4 color components (numbers).")},n.fromHSB=function(t,e,r,i){i===void 0&&(i=1);var o=n.HSBtoRGB(t,e,r);return new n(o[0],o[1],o[2],i)},n.padHex=function(t){return t.length===1?"0"+t:t},n.prototype.toHexString=function(){var t="#"+n.padHex(Math.round(this.r*255).toString(16))+n.padHex(Math.round(this.g*255).toString(16))+n.padHex(Math.round(this.b*255).toString(16));return this.a<1&&(t+=n.padHex(Math.round(this.a*255).toString(16))),t},n.prototype.toRgbaString=function(t){t===void 0&&(t=3);var e=[Math.round(this.r*255),Math.round(this.g*255),Math.round(this.b*255)],r=Math.pow(10,t);return this.a!==1?(e.push(Math.round(this.a*r)/r),"rgba("+e.join(", ")+")"):"rgb("+e.join(", ")+")"},n.prototype.toString=function(){return this.a===1?this.toHexString():this.toRgbaString()},n.prototype.toHSB=function(){return n.RGBtoHSB(this.r,this.g,this.b)},n.RGBtoHSB=function(t,e,r){var i=Math.min(t,e,r),o=Math.max(t,e,r),a=o!==0?(o-i)/o:0,s=NaN;if(i!==o){var l=o-i,u=(o-t)/l,c=(o-e)/l,p=(o-r)/l;t===o?s=p-c:e===o?s=2+u-p:s=4+c-u,s/=6,s<0&&(s=s+1)}return[s*360,a,o]},n.HSBtoRGB=function(t,e,r){isNaN(t)&&(t=0),t=(t%360+360)%360/360;var i=0,o=0,a=0;if(e===0)i=o=a=r;else{var s=(t-Math.floor(t))*6,l=s-Math.floor(s),u=r*(1-e),c=r*(1-e*l),p=r*(1-e*(1-l));switch(s>>0){case 0:i=r,o=p,a=u;break;case 1:i=c,o=r,a=u;break;case 2:i=u,o=r,a=p;break;case 3:i=u,o=c,a=r;break;case 4:i=p,o=u,a=r;break;case 5:i=r,o=u,a=c;break}}return[i,o,a]},n.prototype.derive=function(t,e,r,i){var o=n.RGBtoHSB(this.r,this.g,this.b),a=o[2];a==0&&r>1&&(a=.05);var s=((o[0]+t)%360+360)%360,l=Math.max(Math.min(o[1]*e,1),0);a=Math.max(Math.min(a*r,1),0);var u=Math.max(Math.min(this.a*i,1),0),c=n.HSBtoRGB(s,l,a);return c.push(u),n.fromArray(c)},n.prototype.brighter=function(){return this.derive(0,1,1/.7,1)},n.prototype.darker=function(){return this.derive(0,1,.7,1)},n.nameToHex=Object.freeze({aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#00FFFF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blue:"#0000FF",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgreen:"#006400",darkgrey:"#A9A9A9",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#FF00FF",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",green:"#008000",greenyellow:"#ADFF2F",grey:"#808080",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgray:"#D3D3D3",lightgreen:"#90EE90",lightgrey:"#D3D3D3",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#00FF00",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",rebeccapurple:"#663399",red:"#FF0000",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",white:"#FFFFFF",whitesmoke:"#F5F5F5",yellow:"#FFFF00",yellowgreen:"#9ACD32"}),n}();function jR(n,t){if(typeof n=="string")try{n=ma.fromString(n)}catch{n=ma.fromArray([0,0,0])}if(typeof t=="string")try{t=ma.fromString(t)}catch{t=ma.fromArray([0,0,0])}var e=Bl(n.r,t.r),r=Bl(n.g,t.g),i=Bl(n.b,t.b),o=Bl(n.a,t.a);return function(a){return ma.fromArray([e(a),r(a),i(a),o(a)]).toRgbaString()}}function nx(n,t){var e=typeof t,r;if(t==null||e==="boolean")return Rae(t);if(e==="number")return Bl(n,t);if(e==="string")try{return r=ma.fromString(t),t=r,jR(n,t)}catch{}return t instanceof ma?jR(n,t):t instanceof Date?Pae(n,t):Array.isArray(t)?Aae(n,t):typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Dae(n,t):Bl(n,t)}var Mae=globalThis&&globalThis.__read||function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},Fae=function(n){return function(){return n}},qu=function(n){return n};function UR(n){var t,e=n[0],r=n[n.length-1];return e>r&&(t=Mae([r,e],2),e=t[0],r=t[1]),function(i){return Math.max(e,Math.min(r,i))}}var sN=function(){function n(){this.unknown=void 0,this._clamp=qu,this._domain=[0,1],this._range=[0,1],this.transform=qu,this.untransform=qu,this._interpolate=nx,this.rescale()}return Object.defineProperty(n.prototype,"clamp",{get:function(){return this._clamp!==qu},set:function(t){this._clamp=t?UR(this.domain):qu},enumerable:!0,configurable:!0}),n.prototype.setDomain=function(t){this._domain=Array.prototype.map.call(t,function(e){return+e}),this._clamp!==qu&&(this._clamp=UR(this.domain)),this.rescale()},n.prototype.getDomain=function(){return this._domain.slice()},Object.defineProperty(n.prototype,"domain",{get:function(){return this.getDomain()},set:function(t){this.setDomain(t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"range",{get:function(){return this._range.slice()},set:function(t){this._range=Array.prototype.slice.call(t),this.rescale()},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"interpolate",{get:function(){return this._interpolate},set:function(t){this._interpolate=t,this.rescale()},enumerable:!0,configurable:!0}),n.prototype.rescale=function(){this.piecewise=this.bimap,this.output=void 0,this.input=void 0},n.prototype.normalize=function(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:Fae(isNaN(e)?NaN:.5)},n.prototype.bimap=function(t,e,r){var i=t[0],o=t[1],a=e[0],s=e[1],l,u;return o<i?(l=this.normalize(o,i),u=r(s,a)):(l=this.normalize(i,o),u=r(a,s)),function(c){return u(l(c))}},n.prototype.convert=function(t){return t=+t,isNaN(t)?this.unknown:(this.output||(this.output=this.piecewise(this.domain.map(this.transform),this.range,this.interpolate)),this.output(this.transform(this._clamp(t))))},n.prototype.invert=function(t){return this.input||(this.input=this.piecewise(this.range,this.domain.map(this.transform),Bl)),this._clamp(this.untransform(this.input(t)))},n}(),Iae=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}();function Lae(n,t,e){var r=Uv(n,t,e);return n=Math.ceil(n/r)*r,t=Math.floor(t/r)*r+r/2,kae(n,t,r)}var c_=Math.sqrt(50),p_=Math.sqrt(10),h_=Math.sqrt(2);function Uv(n,t,e){var r=Math.abs(t-n)/Math.max(0,e),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),o=r/i;return o>=c_?i*=10:o>=p_?i*=5:o>=h_&&(i*=2),t<n?-i:i}function gb(n,t,e){var r=(t-n)/Math.max(0,e),i=Math.floor(Math.log(r)/Math.LN10),o=r/Math.pow(10,i);return i>=0?(o>=c_?10:o>=p_?5:o>=h_?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(o>=c_?10:o>=p_?5:o>=h_?2:1)}var Nae=function(n){Iae(t,n);function t(e,r){var i=n.call(this)||this;if(r)for(var o=0,a=r.length;o<a;o++)i[o]=r[o];return i.fractionDigits=e,i}return t}(Array);function kae(n,t,e){e===void 0&&(e=1);for(var r=Math.abs(e),i=r>0&&r<1?Math.abs(Math.floor(Math.log(r)/Math.LN10)):0,o=Math.pow(10,i),a=Math.max(0,Math.ceil((t-n)/e))||0,s=new Nae(i),l=0;l<a;l++){var u=n+e*l;s[l]=Math.round(u*o)/o}return s}function Gae(n,t){var e=n.toPrecision(t);e:for(var r=e.length,i=1,o=-1,a=0;i<r;++i)switch(e[i]){case".":o=a=i;break;case"0":o===0&&(o=i),a=i;break;case"e":break e;default:o>0&&(o=0);break}return o>0?e.slice(0,o)+e.slice(a+1):e}var zR={"":Gae,"%":function(n,t){return(n*100).toFixed(t)},b:function(n){return Math.round(n).toString(2)},c:function(n){return String(n)},d:Hae,e:function(n,t){return n.toExponential(t)},f:function(n,t){return n.toFixed(t)},g:function(n,t){return n.toPrecision(t)},o:function(n){return Math.round(n).toString(8)},p:function(n,t){return KR(n*100,t)},r:KR,s:Wae,X:function(n){return Math.round(n).toString(16).toUpperCase()},x:function(n){return Math.round(n).toString(16)}},$R=["y","z","a","f","p","n","\xB5","m","","k","M","G","T","P","E","Z","Y"],vb=function(){function n(t){t instanceof n?(this.fill=t.fill,this.align=t.align,this.sign=t.sign,this.symbol=t.symbol,this.zero=t.zero,this.width=t.width,this.comma=t.comma,this.precision=t.precision,this.trim=t.trim,this.type=t.type,this.string=t.string):(this.fill=t.fill===void 0?" ":String(t.fill),this.align=t.align===void 0?">":String(t.align),this.sign=t.sign===void 0?"-":String(t.sign),this.symbol=t.symbol===void 0?"":String(t.symbol),this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":String(t.type),this.string=t.string)}return n}(),Bae=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i,lN=/(#\{(.*?)\})/g;function d_(n){if(n instanceof vb)return new vb(n);var t=!1,e=n.replace(lN,function(){return t||(n=arguments[2],t=!0),"#{}"}),r=Bae.exec(n);if(!r)throw new Error("Invalid format: "+n);return new vb({fill:r[1],align:r[2],sign:r[3],symbol:r[4],zero:r[5],width:r[6],comma:r[7],precision:r[8]&&r[8].slice(1),trim:r[9],type:r[10],string:t?e:void 0})}function Vae(n,t,e,r){var i=Uv(n,t,e),o=d_(r==null?",f":r),a;switch(o.type){case"s":{var s=Math.max(Math.abs(n),Math.abs(t));return o.precision==null&&!isNaN(a=Yae(i,s))&&(o.precision=a),cN(o,s)}case"":case"e":case"g":case"p":case"r":{o.precision==null&&!isNaN(a=Xae(i,Math.max(Math.abs(n),Math.abs(t))))&&(o.precision=a-+(o.type==="e"));break}case"f":case"%":{o.precision==null&&!isNaN(a=Kae(i))&&(o.precision=a-+(o.type==="%")*2);break}}return uN(o)}var f_;function Wae(n,t){t===void 0&&(t=0);var e=zv(n,t);if(!e)return String(n);var r=e[0],i=e[1];f_=Math.max(-8,Math.min(8,Math.floor(i/3)))*3;var o=i-f_+1,a=r.length;if(o===a)return r;if(o>a)return r+new Array(o-a+1).join("0");if(o>0)return r.slice(0,o)+"."+r.slice(o);var s=zv(n,Math.max(0,t+o-1));return"0."+new Array(1-o).join("0")+s[0]}function Hae(n){return Math.abs(n=Math.round(n))>=1e21?n.toLocaleString("en").replace(/,/g,""):n.toString(10)}function jae(n,t){return function(e,r){for(var i=[],o=e.length,a=0,s=n[0],l=0;o>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),i.push(e.substring(o-=s,o+s)),!((l+=s+1)>r));)s=n[a=(a+1)%n.length];return i.reverse().join(t)}}function Uae(n){return function(t){return t.replace(/[0-9]/g,function(e){return n[+e]})}}function zae(n){e:for(var t=n.length,e=1,r=-1,i=0;e<t;++e)switch(n[e]){case".":r=i=e;break;case"0":r===0&&(r=e),i=e;break;default:if(!+n[e])break e;r>0&&(r=0);break}return r>0?n.slice(0,r)+n.slice(i+1):n}function KR(n,t){var e=zv(n,t);if(!e)return String(n);var r=e[0],i=e[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}function zv(n,t){var e=t?n.toExponential(t-1):n.toExponential(),r=e.indexOf("e");if(!(r<0)){var i=e.slice(0,r);return[i.length>1?i[0]+i.slice(2):i,+e.slice(r+1)]}}function YR(n){return n}var mb,uN,cN;$ae({thousands:",",grouping:[3],currency:["$",""]});function $ae(n){mb=qae(n),uN=mb.format,cN=mb.formatPrefix}function Uc(n){var t=zv(Math.abs(n));return t?t[1]:NaN}function Kae(n){return Math.max(0,-Uc(Math.abs(n)))}function Yae(n,t){var e=Math.floor(Uc(t)/3);return e=Math.min(8,e),e=Math.max(-8,e),Math.max(0,e*3-Uc(Math.abs(n)))}function Xae(n,t){return n=Math.abs(n),t=Math.abs(t)-n,Math.max(0,Uc(t)-Uc(n))+1}function qae(n){var t=n.grouping===void 0||n.thousands===void 0?YR:jae(Array.prototype.map.call(n.grouping,Number),String(n.thousands)),e=n.currency===void 0?"":String(n.currency[0]),r=n.currency===void 0?"":String(n.currency[1]),i=n.decimal===void 0?".":String(n.decimal),o=n.numerals===void 0?YR:Uae(Array.prototype.map.call(n.numerals,String)),a=n.percent===void 0?"%":String(n.percent),s=n.minus===void 0?"\u2212":String(n.minus),l=n.nan===void 0?"NaN":String(n.nan);function u(p){var h=d_(p),d=h.fill,f=h.align,g=h.sign,v=h.symbol,m=h.zero,C=h.width,b=h.comma,w=h.precision,S=h.trim,T=h.type;T==="n"?(b=!0,T="g"):zR[T]||(w===void 0&&(w=12),S=!0,T="g"),(m||d==="0"&&f==="=")&&(m=!0,d="0",f="=");var E=v==="$"?e:v==="#"&&/[boxX]/.test(T)?"0"+T.toLowerCase():"",P=v==="$"?r:/[%p]/.test(T)?a:"",R=zR[T],M=/[defgprs%]/.test(T);w===void 0?w=6:/[gprs]/.test(T)?w=Math.max(1,Math.min(21,w)):w=Math.max(0,Math.min(20,w));function N(B){var k=E,G=P,V;if(T==="c")G=R(+B)+G,V="";else{var z=+B,ee=B<0||1/z<0;V=isNaN(z)?l:R(Math.abs(z),w),S&&(V=zae(V)),ee&&+V==0&&g!=="+"&&(ee=!1);var Q=ee?g==="("?g:s:g==="-"||g==="("?"":g,ue=ee&&g==="("?")":"";if(k=Q+k,G=(T==="s"?$R[8+f_/3]:"")+G+ue,M)for(var X=0,se=V.length;X<se;X++){var $=V.charCodeAt(X);if(48>$||$>57){G=($===46?i+V.slice(X+1):V.slice(X))+G,V=V.slice(0,X);break}}}b&&!m&&(V=t(V,1/0));var q=k.length+V.length+G.length,ce=q<C?new Array(C-q+1).join(d):"";switch(b&&m&&(V=t(ce+V,ce.length?C-G.length:1/0),ce=""),f){case"<":V=k+V+G+ce;break;case"=":V=k+ce+V+G;break;case"^":V=ce.slice(0,q=ce.length>>1)+k+V+G+ce.slice(q);break;default:V=ce+k+V+G;break}var he=h.string;return he?he.replace(lN,function(){return o(V)}):o(V)}return N}function c(p,h){var d=d_(p);d.type="f";var f=u(d),g=Math.max(-8,Math.min(8,Math.floor(Uc(h)/3)))*3,v=Math.pow(10,-g),m=$R[8+g/3];return function(C){return f(v*+C)+m}}return{format:u,formatPrefix:c}}var Zae=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),yb=function(n){Zae(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.type="linear",e}return t.prototype.ticks=function(e){e===void 0&&(e=10);var r=this._domain;return Lae(r[0],r[r.length-1],e)},t.prototype.nice=function(e){e===void 0&&(e=10);var r=this.domain,i=0,o=r.length-1,a=r[i],s=r[o],l;s<a&&(l=a,a=s,s=l,l=i,i=o,o=l),l=gb(a,s,e),l>0?(a=Math.floor(a/l)*l,s=Math.ceil(s/l)*l,l=gb(a,s,e)):l<0&&(a=Math.ceil(a*l)/l,s=Math.floor(s*l)/l,l=gb(a,s,e)),l>0?(r[i]=Math.floor(a/l)*l,r[o]=Math.ceil(s/l)*l,this.domain=r):l<0&&(r[i]=Math.ceil(a*l)/l,r[o]=Math.floor(s*l)/l,this.domain=r)},t.prototype.tickFormat=function(e,r){var i=this.domain;return Vae(i[0],i[i.length-1],e==null?10:e,r)},t}(sN),Qae=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Cb=new Date,bb=new Date,Jae=function(){function n(t,e){this._floor=t,this._offset=e}return n.prototype.floor=function(t){return t=new Date(+t),this._floor(t),t},n.prototype.ceil=function(t){return t=new Date(+t-1),this._floor(t),this._offset(t,1),this._floor(t),t},n.prototype.round=function(t){var e=this.floor(t),r=this.ceil(t),i=+t;return i-e.getTime()<r.getTime()-i?e:r},n.prototype.offset=function(t,e){return e===void 0&&(e=1),t=new Date(+t),this._offset(t,Math.floor(e)),t},n.prototype.range=function(t,e,r){r===void 0&&(r=1);var i=[];if(t=this.ceil(t),r=Math.floor(r),t>e||r<=0)return i;var o;do o=new Date(+t),i.push(o),this._offset(t,r),this._floor(t);while(o<t&&t<e);return i},n.prototype.filter=function(t){var e=this,r=function(o){if(o instanceof Date)for(e._floor(o);!t(o);)o.setTime(o.getTime()-1),e._floor(o);return o},i=function(o,a){if(o instanceof Date)if(a<0)for(;++a<=0;)do e._offset(o,-1);while(!t(o));else for(;--a>=0;)do e._offset(o,1);while(!t(o));return o};return new n(r,i)},n}(),uo=function(n){Qae(t,n);function t(e,r,i,o){var a=n.call(this,e,r)||this;return a._count=i,a._field=o,a}return t.prototype.count=function(e,r){return Cb.setTime(+e),bb.setTime(+r),this._floor(Cb),this._floor(bb),Math.floor(this._count(Cb,bb))},t.prototype.every=function(e){var r=this,i;if(e=Math.floor(e),isFinite(e)&&e>0)if(e>1){var o=this._field;o?i=this.filter(function(a){return o(a)%e===0}):i=this.filter(function(a){return r.count(0,a)%e===0})}else i=this;return i},t}(Jae);function ese(n){return n}function tse(n,t){n.setTime(n.getTime()+t)}function rse(n,t){return t.getTime()-n.getTime()}var nse=new uo(ese,tse,rse),wa=1e3,Ho=wa*60,Vl=Ho*60,ou=Vl*24,ix=ou*7,XR=ou*30,wb=ou*365;function ise(n){n.setTime(n.getTime()-n.getMilliseconds())}function ose(n,t){n.setTime(n.getTime()+t*wa)}function ase(n,t){return(t.getTime()-n.getTime())/wa}var sse=new uo(ise,ose,ase);function lse(n){n.setTime(n.getTime()-n.getMilliseconds()-n.getSeconds()*wa)}function use(n,t){n.setTime(n.getTime()+t*Ho)}function cse(n,t){return(t.getTime()-n.getTime())/Ho}function pse(n){return n.getMinutes()}var hse=new uo(lse,use,cse,pse);function dse(n){n.setTime(n.getTime()-n.getMilliseconds()-n.getSeconds()*wa-n.getMinutes()*Ho)}function fse(n,t){n.setTime(n.getTime()+t*Vl)}function gse(n,t){return(t.getTime()-n.getTime())/Vl}function vse(n){return n.getHours()}var mse=new uo(dse,fse,gse,vse);function yse(n){n.setHours(0,0,0,0)}function Cse(n,t){n.setDate(n.getDate()+t)}function bse(n,t){var e=t.getTimezoneOffset()-n.getTimezoneOffset();return(t.getTime()-n.getTime()-e*Ho)/ou}function wse(n){return n.getDate()-1}var g_=new uo(yse,Cse,bse,wse);function mu(n){function t(i){i.setDate(i.getDate()-(i.getDay()+7-n)%7),i.setHours(0,0,0,0)}function e(i,o){i.setDate(i.getDate()+o*7)}function r(i,o){var a=o.getTime()-i.getTime(),s=o.getTimezoneOffset()-i.getTimezoneOffset();return(a-s*Ho)/ix}return new uo(t,e,r)}var pN=mu(0),_b=mu(1);mu(2);mu(3);var Sb=mu(4);mu(5);mu(6);function _se(n){n.setDate(1),n.setHours(0,0,0,0)}function Sse(n,t){n.setMonth(n.getMonth()+t)}function xse(n,t){return t.getMonth()-n.getMonth()+(t.getFullYear()-n.getFullYear())*12}function Tse(n){return n.getMonth()}var Ose=new uo(_se,Sse,xse,Tse);function Ese(n){n.setMonth(0,1),n.setHours(0,0,0,0)}function Rse(n,t){n.setFullYear(n.getFullYear()+t)}function Pse(n,t){return t.getFullYear()-n.getFullYear()}function Ase(n){return n.getFullYear()}var ch=new uo(Ese,Rse,Pse,Ase);function Dse(n,t){return n<t?-1:n>t?1:n>=t?0:NaN}function Mse(n,t,e,r,i){r===void 0&&(r=0),i===void 0&&(i=n.length);for(var o=Fse(e);r<i;){var a=r+i>>>1;o(n[a],t)<0?r=a+1:i=a}return r}function Fse(n){return function(t,e){return Dse(n(t),e)}}function Ise(n){n.setUTCHours(0,0,0,0)}function Lse(n,t){n.setUTCDate(n.getUTCDate()+t)}function Nse(n,t){return(t.getTime()-n.getTime())/ou}function kse(n){return n.getUTCDate()-1}var qR=new uo(Ise,Lse,Nse,kse);function Gse(n){n.setUTCMonth(0,1),n.setUTCHours(0,0,0,0)}function Bse(n,t){n.setUTCFullYear(n.getUTCFullYear()+t)}function Vse(n,t){return t.getUTCFullYear()-n.getUTCFullYear()}function Wse(n){return n.getUTCFullYear()}var Bf=new uo(Gse,Bse,Vse,Wse);function yu(n){function t(i){i.setUTCDate(i.getUTCDate()-(i.getUTCDay()+7-n)%7),i.setHours(0,0,0,0)}function e(i,o){i.setUTCDate(i.getUTCDate()+o*7)}function r(i,o){return(o.getTime()-i.getTime())/ix}return new uo(t,e,r)}var Hse=yu(0),xb=yu(1);yu(2);yu(3);var Tb=yu(4);yu(5);yu(6);function jse(n){if(n.y>=0&&n.y<100){var t=new Date(-1,n.m,n.d,n.H,n.M,n.S,n.L);return t.setFullYear(n.y),t}return new Date(n.y,n.m,n.d,n.H,n.M,n.S,n.L)}function Vf(n){if(n.y>=0&&n.y<100){var t=new Date(Date.UTC(-1,n.m,n.d,n.H,n.M,n.S,n.L));return t.setUTCFullYear(n.y),t}return new Date(Date.UTC(n.y,n.m,n.d,n.H,n.M,n.S,n.L))}function Qp(n){for(var t={},e=0,r=n.length;e<r;e++)t[n[e].toLowerCase()]=e;return t}function Jp(n){return{y:n,m:0,d:1,H:0,M:0,S:0,L:0}}var ZR=37,Dr=/^\s*\d+/,Use=/^%/,zse=/[\\^$*+?|[\]().{}]/g,$se=function(n){return n.replace(zse,"\\$&")},eh=function(n){return new RegExp("^(?:"+n.map($se).join("|")+")","i")},QR={"-":"",_:" ",0:"0"};function Tt(n,t,e){var r=n<0?"-":"",i=String(r?-n:n),o=i.length;return r+(o<e?new Array(e-o+1).join(t)+i:i)}function Kse(n){var t=n.dateTime,e=n.date,r=n.time,i=n.periods,o=n.days,a=n.shortDays,s=n.months,l=n.shortMonths,u=eh(i),c=Qp(i),p=eh(o),h=Qp(o),d=eh(a),f=Qp(a),g=eh(s),v=Qp(s),m=eh(l),C=Qp(l),b={a:z,A:ee,b:he,B:we,c:void 0,d:q,e:q,f:R,H:G,I:k,j:ce,L:M,m:_e,M:B,p:V,Q:za,s:vt,S:N,u:Q,U:ue,V:X,w:se,W:$,x:void 0,X:void 0,y:Oe,Y:De,Z:Re,"%":Xs},w={a:oi,A:Ln,b:ht,B:St,c:void 0,d:Ge,e:Ge,f:Ue,H:oe,I:pt,j:ie,L:gt,m:Xe,M:Ye,p:et,Q:za,s:vt,S:Pe,u:tn,U:Nn,V:ki,w:Ha,W:ja,x:void 0,X:void 0,y:Qo,Y:Ua,Z:Ys,"%":Xs},S={a:Vm,A:Wm,b:Km,B:Ym,c:qm,d:cp,e:cp,f:Ht,H:qs,I:qs,j:Bm,L:qe,m:Xm,M:Wr,p:Gm,Q:Jm,s:ey,S:Yt,u:Hm,U:jm,V:Um,w:$m,W:zm,x:Zm,X:Qm,y:ty,Y:ry,Z:ny,"%":iy};b.x=E(e,b),b.X=E(r,b),b.c=E(t,b),w.x=E(e,w),w.X=E(r,w),w.c=E(t,w);function T(O,D){return function(F){var A=Jp(1900),Er=P(A,O,F+="",0);if(Er==F.length){if("Q"in A)return new Date(A.Q);if("p"in A&&(A.H=A.H%12+A.p*12),"V"in A){if(A.V<1||A.V>53)return;if("w"in A||(A.w=1),"Z"in A){var Ce=Vf(Jp(A.y)),mt=Ce.getUTCDay();Ce=mt>4||mt===0?xb.ceil(Ce):xb.floor(Ce),Ce=qR.offset(Ce,(A.V-1)*7),A.y=Ce.getUTCFullYear(),A.m=Ce.getUTCMonth(),A.d=Ce.getUTCDate()+(A.w+6)%7}else{var Ce=D(Jp(A.y)),mt=Ce.getDay();Ce=mt>4||mt===0?_b.ceil(Ce):_b.floor(Ce),Ce=g_.offset(Ce,(A.V-1)*7),A.y=Ce.getFullYear(),A.m=Ce.getMonth(),A.d=Ce.getDate()+(A.w+6)%7}}else if("W"in A||"U"in A){"w"in A||(A.w="u"in A?A.u%7:"W"in A?1:0);var mt="Z"in A?Vf(Jp(A.y)).getUTCDay():D(Jp(A.y)).getDay();A.m=0,A.d="W"in A?(A.w+6)%7+A.W*7-(mt+5)%7:A.w+A.U*7-(mt+6)%7}return"Z"in A?(A.H+=A.Z/100|0,A.M+=A.Z%100,Vf(A)):D(A)}}}function E(O,D){return function(F){var A=[],Er=O.length,Ce=-1,mt=0;for(F instanceof Date||(F=new Date(+F));++Ce<Er;)if(O.charCodeAt(Ce)===ZR){A.push(O.slice(mt,Ce));var cr=O.charAt(++Ce),kn=QR[cr];kn!=null?cr=O.charAt(++Ce):kn=cr==="e"?" ":"0";var Gi=D[cr];Gi&&(cr=Gi(F,kn)),A.push(cr),mt=Ce+1}return A.push(O.slice(mt,Ce)),A.join("")}}function P(O,D,F,A){for(var Er=0,Ce=D.length,mt=F.length;Er<Ce;){if(A>=mt)return-1;var cr=D.charCodeAt(Er++);if(cr===ZR){var kn=D.charAt(Er++),Gi=S[kn in QR?D.charAt(Er++):kn];if(!Gi||(A=Gi(O,F,A))<0)return-1}else if(cr!=F.charCodeAt(A++))return-1}return A}function R(O,D){return M(O,D)+"000"}function M(O,D){return Tt(O.getMilliseconds(),D,3)}function N(O,D){return Tt(O.getSeconds(),D,2)}function B(O,D){return Tt(O.getMinutes(),D,2)}function k(O,D){return Tt(O.getHours()%12||12,D,2)}function G(O,D){return Tt(O.getHours(),D,2)}function V(O){return i[O.getHours()>=12?1:0]}function z(O){return a[O.getDay()]}function ee(O){return o[O.getDay()]}function Q(O){var D=O.getDay();return D===0?7:D}function ue(O,D){return Tt(pN.count(ch.floor(O),O),D,2)}function X(O,D){var F=O.getDay();O=F>=4||F===0?Sb.floor(O):Sb.ceil(O);var A=ch.floor(O);return Tt(Sb.count(A,O)+(A.getDay()===4?1:0),D,2)}function se(O){return O.getDay()}function $(O,D){return Tt(_b.count(ch.floor(O),O),D,2)}function q(O,D){return Tt(O.getDate(),D,2)}function ce(O,D){return Tt(1+g_.count(ch.floor(O),O),D,3)}function he(O){return l[O.getMonth()]}function we(O){return s[O.getMonth()]}function _e(O,D){return Tt(O.getMonth()+1,D,2)}function Oe(O,D){return Tt(O.getFullYear()%100,D,2)}function De(O,D){return Tt(O.getFullYear()%1e4,D,4)}function Re(O){var D=O.getTimezoneOffset();return(D>0?"-":(D*=-1,"+"))+Tt(Math.floor(D/60),"0",2)+Tt(D%60,"0",2)}function Ue(O,D){return gt(O,D)+"000"}function gt(O,D){return Tt(O.getUTCMilliseconds(),D,3)}function Pe(O,D){return Tt(O.getUTCSeconds(),D,2)}function Ye(O,D){return Tt(O.getUTCMinutes(),D,2)}function pt(O,D){return Tt(O.getUTCHours()%12||12,D,2)}function oe(O,D){return Tt(O.getUTCHours(),D,2)}function et(O){return i[O.getUTCHours()>=12?1:0]}function Ge(O,D){return Tt(O.getUTCDate(),D,2)}function ie(O,D){return Tt(1+qR.count(Bf.floor(O),O),D,3)}function Xe(O,D){return Tt(O.getUTCMonth()+1,D,2)}function ht(O){return l[O.getUTCMonth()]}function St(O){return s[O.getUTCMonth()]}function oi(O){return a[O.getUTCDay()]}function Ln(O){return o[O.getUTCDay()]}function tn(O){var D=O.getUTCDay();return D===0?7:D}function Nn(O,D){return Tt(Hse.count(Bf.floor(O),O),D,2)}function ki(O,D){var F=O.getUTCDay();O=F>=4||F===0?Tb.floor(O):Tb.ceil(O);var A=Bf.floor(O);return Tt(Tb.count(A,O)+(A.getUTCDay()===4?1:0),D,4)}function Ha(O){return O.getUTCDay()}function ja(O,D){return Tt(xb.count(Bf.floor(O),O),D,2)}function Qo(O,D){return Tt(O.getUTCFullYear()%100,D,2)}function Ua(O,D){return Tt(O.getUTCFullYear()%1e4,D,4)}function Ys(){return"+0000"}function Xs(O){return"%"}function za(O){return O.getTime()}function vt(O){return Math.floor(O.getTime()/1e3)}function Ht(O,D,F){var A=Dr.exec(D.slice(F,F+6));return A?(O.L=Math.floor(parseFloat(A[0])/1e3),F+A[0].length):-1}function qe(O,D,F){var A=Dr.exec(D.slice(F,F+3));return A?(O.L=+A[0],F+A[0].length):-1}function Yt(O,D,F){var A=Dr.exec(D.slice(F,F+2));return A?(O.S=+A[0],F+A[0].length):-1}function Wr(O,D,F){var A=Dr.exec(D.slice(F,F+2));return A?(O.M=+A[0],F+A[0].length):-1}function qs(O,D,F){var A=Dr.exec(D.slice(F,F+2));return A?(O.H=+A[0],F+A[0].length):-1}function Gm(O,D,F){var A=u.exec(D.slice(F));return A?(O.p=c[A[0].toLowerCase()],F+A[0].length):-1}function cp(O,D,F){var A=Dr.exec(D.slice(F,F+2));return A?(O.d=+A[0],F+A[0].length):-1}function Bm(O,D,F){var A=Dr.exec(D.slice(F,F+3));return A?(O.m=0,O.d=+A[0],F+A[0].length):-1}function Vm(O,D,F){var A=d.exec(D.slice(F));return A?(O.w=f[A[0].toLowerCase()],F+A[0].length):-1}function Wm(O,D,F){var A=p.exec(D.slice(F));return A?(O.w=h[A[0].toLowerCase()],F+A[0].length):-1}function Hm(O,D,F){var A=Dr.exec(D.slice(F,F+1));return A?(O.u=+A[0],F+A[0].length):-1}function jm(O,D,F){var A=Dr.exec(D.slice(F,F+2));return A?(O.U=+A[0],F+A[0].length):-1}function Um(O,D,F){var A=Dr.exec(D.slice(F,F+2));return A?(O.V=+A[0],F+A[0].length):-1}function zm(O,D,F){var A=Dr.exec(D.slice(F,F+2));return A?(O.W=+A[0],F+A[0].length):-1}function $m(O,D,F){var A=Dr.exec(D.slice(F,F+1));return A?(O.w=+A[0],F+A[0].length):-1}function Km(O,D,F){var A=m.exec(D.slice(F));return A?(O.m=C[A[0].toLowerCase()],F+A[0].length):-1}function Ym(O,D,F){var A=g.exec(D.slice(F));return A?(O.m=v[A[0].toLowerCase()],F+A[0].length):-1}function Xm(O,D,F){var A=Dr.exec(D.slice(F,F+2));return A?(O.m=parseFloat(A[0])-1,F+A[0].length):-1}function qm(O,D,F){return P(O,t,D,F)}function Zm(O,D,F){return P(O,e,D,F)}function Qm(O,D,F){return P(O,r,D,F)}function Jm(O,D,F){var A=Dr.exec(D.slice(F));return A?(O.Q=+A[0],F+A[0].length):-1}function ey(O,D,F){var A=Dr.exec(D.slice(F));return A?(O.Q=+A[0]*1e3,F+A[0].length):-1}function ty(O,D,F){var A=Dr.exec(D.slice(F,F+2));return A?(O.y=+A[0]+(+A[0]>68?1900:2e3),F+A[0].length):-1}function ry(O,D,F){var A=Dr.exec(D.slice(F,F+4));return A?(O.y=+A[0],F+A[0].length):-1}function ny(O,D,F){var A=/^(Z)|^([+-]\d\d)(?::?(\d\d))?/.exec(D.slice(F,F+6));return A?(O.Z=A[1]?0:-(A[2]+(A[3]||"00")),F+A[0].length):-1}function iy(O,D,F){var A=Use.exec(D.slice(F,F+1));return A?F+A[0].length:-1}return{format:function(O){var D=E(O,b);return D.toString=function(){return O},D},parse:function(O){var D=T(O,jse);return D.toString=function(){return O},D},utcFormat:function(O){var D=E(O,w);return D.toString=function(){return O},D},utcParse:function(O){var D=T(O,Vf);return D.toString=function(){return O},D}}}var ox;Yse({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Yse(n){return ox=Kse(n)}var Xse=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Ob=globalThis&&globalThis.__read||function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},JR=function(n){Xse(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.type="time",e.year=ch,e.month=Ose,e.week=pN,e.day=g_,e.hour=mse,e.minute=hse,e.second=sse,e.millisecond=nse,e.format=ox.format,e.tickIntervals=[[e.second,1,wa],[e.second,5,5*wa],[e.second,15,15*wa],[e.second,30,30*wa],[e.minute,1,Ho],[e.minute,5,5*Ho],[e.minute,15,15*Ho],[e.minute,30,30*Ho],[e.hour,1,Vl],[e.hour,3,3*Vl],[e.hour,6,6*Vl],[e.hour,12,12*Vl],[e.day,1,ou],[e.day,2,2*ou],[e.week,1,ix],[e.month,1,XR],[e.month,3,3*XR],[e.year,1,wb]],e.formatMillisecond=e.format(".%L"),e.formatSecond=e.format(":%S"),e.formatMinute=e.format("%I:%M"),e.formatHour=e.format("%I %p"),e.formatDay=e.format("%a %d"),e.formatWeek=e.format("%b %d"),e.formatMonth=e.format("%B"),e.formatYear=e.format("%Y"),e._domain=[new Date(2e3,0,1),new Date(2e3,0,2)],e}return t.prototype.defaultTickFormat=function(e){return(this.second.floor(e)<e?this.formatMillisecond:this.minute.floor(e)<e?this.formatSecond:this.hour.floor(e)<e?this.formatMinute:this.day.floor(e)<e?this.formatHour:this.month.floor(e)<e?this.week.floor(e)<e?this.formatDay:this.formatWeek:this.year.floor(e)<e?this.formatMonth:this.formatYear)(e)},t.prototype.tickInterval=function(e,r,i,o){var a;if(typeof e=="number"){var s=e,l=this.tickIntervals,u=Math.abs(i-r)/s,c=Mse(l,u,function(p){return p[2]});c===l.length?(o=Uv(r/wb,i/wb,s),e=this.year):c?(a=Ob(l[u/l[c-1][2]<l[c][2]/u?c-1:c],2),e=a[0],o=a[1]):(o=Math.max(Uv(r,i,e),1),e=this.millisecond)}return o==null?e:e.every(o)},Object.defineProperty(t.prototype,"domain",{get:function(){return n.prototype.getDomain.call(this).map(function(e){return new Date(e)})},set:function(e){n.prototype.setDomain.call(this,Array.prototype.map.call(e,function(r){return r instanceof Date?+r:+new Date(+r)}))},enumerable:!0,configurable:!0}),t.prototype.invert=function(e){return new Date(n.prototype.invert.call(this,e))},t.prototype.ticks=function(e){e===void 0&&(e=10);var r=n.prototype.getDomain.call(this),i=r[0],o=r[r.length-1],a=o<i;if(a){var s=i;i=o,o=s}var l=this.tickInterval(e,i,o),u=l?l.range(i,o+1):[];return a?u.reverse():u},t.prototype.tickFormat=function(e,r){return r==null?this.defaultTickFormat.bind(this):this.format(r)},t.prototype.nice=function(e){e===void 0&&(e=10);var r=n.prototype.getDomain.call(this),i=this.tickInterval(e,r[0],r[r.length-1]);i&&(this.domain=this._nice(r,i))},t.prototype._nice=function(e,r){var i,o;e=e.slice();var a=0,s=e.length-1,l=e[a],u=e[s];return u<l&&(i=Ob([s,a],2),a=i[0],s=i[1],o=Ob([u,l],2),l=o[0],u=o[1]),e[a]=r.floor(l),e[s]=r.ceil(u),e},t}(sN);globalThis&&globalThis.__values;function qse(n){return n}function td(n,t,e){for(var r=e||qse,i=n.length,o=-1,a,s,l;++o<i;)if(a=n[o],t(a))for(s=l=a;++o<i;)a=n[o],t(a)&&(s>a&&(s=a),l<a&&(l=a));return s===void 0||l===void 0?void 0:[r(s),r(l)]}var hN=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Zse=globalThis&&globalThis.__values||function(n){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Qse=function(n){hN(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.type="category",e.stroke="rgb(204, 214, 235)",e.strokeWidth=1,e}return t}(Pd),ax=function(n){hN(t,n);function t(){var e=n.call(this)||this;e.id=rx(e),e.seriesRect={x:0,y:0,width:0,height:0},e._context=void 0,e._container=void 0,e._data=void 0,e.padding=new _ae(3),e.xKey="x",e.yKey="y",e.dataType=void 0,e.xData=[],e.yData=[],e.min=void 0,e.max=void 0,e.yScale=new yb,e.axis=new Qse,e.highlightStyle={size:6,fill:"yellow",stroke:"silver",strokeWidth:1},e._width=100,e._height=100,e.smallestInterval=void 0,e.layoutId=0,e.defaultDateFormatter=ox.format("%m/%d/%y, %H:%M:%S"),e._onMouseMove=e.onMouseMove.bind(e),e._onMouseOut=e.onMouseOut.bind(e);var r=new Ds;e.rootGroup=r;var i=document.createElement("div");i.setAttribute("class","ag-sparkline-wrapper");var o=new wae(document);if(e.scene=o,e.canvasElement=o.canvas.element,o.root=r,o.container=i,o.resize(e.width,e.height),e.seriesRect.width=e.width,e.seriesRect.height=e.height,t.tooltipDocuments.indexOf(document)===-1){var a=document.createElement("style");a.innerHTML=Sae,document.head.insertBefore(a,document.head.querySelector("style")),t.tooltipDocuments.push(document)}return e.setupDomEventListeners(e.scene.canvas.element),e}return Object.defineProperty(t.prototype,"context",{get:function(){return this._context},set:function(e){this._context!==e&&(this._context=e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"container",{get:function(){return this._container},set:function(e){if(this._container!==e){var r=this.canvasElement.parentNode;r!=null&&r.removeChild(this.canvasElement),e&&e.appendChild(this.canvasElement),this._container=e}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"data",{get:function(){return this._data},set:function(e){this._data!==e&&(this._data=e,this.processData())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this._width},set:function(e){this._width!==e&&(this._width=e,this.scene.resize(e,this.height),this.scheduleLayout())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._height},set:function(e){this._height!==e&&(this._height=e,this.scene.resize(this.width,e),this.scheduleLayout())},enumerable:!0,configurable:!0}),t.prototype.update=function(){},t.prototype.updateYScale=function(){this.updateYScaleRange(),this.updateYScaleDomain()},t.prototype.updateYScaleDomain=function(){},t.prototype.updateYScaleRange=function(){var e=this,r=e.yScale,i=e.seriesRect;r.range=[i.height,0]},t.prototype.updateXScale=function(){var e=this.axis.type;this.xScale=this.getXScale(e),this.updateXScaleRange(),this.updateXScaleDomain()},t.prototype.updateXScaleRange=function(){this.xScale.range=[0,this.seriesRect.width]},t.prototype.updateXScaleDomain=function(){var e=this,r=e.xData,i=e.xScale,o;i instanceof yb?o=td(r,En):i instanceof JR&&(o=td(r,Eae)),this.xScale.domain=o?o.slice():r},t.prototype.getXScale=function(e){switch(e===void 0&&(e="category"),e){case"number":return new yb;case"time":return new JR;case"category":default:return new js}},t.prototype.updateAxisLine=function(){},t.prototype.updateAxes=function(){this.updateYScale(),this.updateXScale(),this.updateAxisLine()},t.prototype.updateCrosshairs=function(){this.updateXCrosshairLine(),this.updateYCrosshairLine()},t.prototype.generateNodeData=function(){return[]},t.prototype.getNodeData=function(){return[]},t.prototype.updateNodes=function(){},t.prototype.updateXCrosshairLine=function(){},t.prototype.updateYCrosshairLine=function(){},t.prototype.highlightDatum=function(e){this.updateNodes()},t.prototype.dehighlightDatum=function(){this.highlightedDatum=void 0,this.updateNodes(),this.updateCrosshairs()},t.prototype.onMouseMove=function(e){var r=this.pickClosestSeriesNodeDatum(e.offsetX,e.offsetY);if(!!r){var i=this.highlightedDatum;this.highlightedDatum=r,(this.highlightedDatum&&!i||this.highlightedDatum&&i&&this.highlightedDatum!==i)&&(this.highlightDatum(r),this.updateCrosshairs()),this.tooltip.enabled&&this.handleTooltip(e,r)}},t.prototype.onMouseOut=function(e){this.dehighlightDatum(),this.tooltip.toggle(!1)},t.prototype.processData=function(){var e=this,r=this,i=r.data,o=r.yData,a=r.xData;if(!(!i||this.invalidData(this.data))){o.length=0,a.length=0;var s=i.length,l=this.getDataType(i);this.dataType=l;var u=this.axis.type,c=u!=="number"&&u!=="time"?"category":u,p=c==="number"||c==="time",h=function(E,P){e.smallestInterval==null&&(e.smallestInterval={x:1/0,y:1/0});var R=e.smallestInterval.x,M=Math.abs(E-P);M>0&&M<R&&(e.smallestInterval.x=M)},d;if(l==="number")for(var f=0;f<s;f++){var g=f,v=i[f],m=this.getDatum(g,c),C=this.getDatum(v,"number");p&&h(m,d),a.push(m),o.push(C),d=m}else if(l==="array")for(var f=0;f<s;f++){var b=i[f];if(Array.isArray(b)){var g=b[0],v=b[1],m=this.getDatum(g,c),C=this.getDatum(v,"number");if(m==null)continue;p&&h(m,d),a.push(m),o.push(C),d=m}}else if(l==="object")for(var w=this,S=w.yKey,T=w.xKey,f=0;f<s;f++){var b=i[f];if(typeof b=="object"&&!Array.isArray(b)){var g=b[T],v=b[S],m=this.getDatum(g,c),C=this.getDatum(v,"number");if(m==null)continue;p&&h(m,d),a.push(m),o.push(C),d=m}}this.updateAxes(),this.update()}},t.prototype.getDataType=function(e){var r,i;try{for(var o=Zse(e),a=o.next();!a.done;a=o.next()){var s=a.value;if(s!=null){if(En(s))return"number";if(Array.isArray(s))return"array";if(typeof s=="object")return"object"}}}catch(l){r={error:l}}finally{try{a&&!a.done&&(i=o.return)&&i.call(o)}finally{if(r)throw r.error}}},t.prototype.getDatum=function(e,r){if(r==="number"&&En(e)||r==="time"&&(En(e)||u_(e)))return e;if(r==="category"){if(aN(e)||u_(e)||En(e))return{toString:function(){return String(e)}};if(Oae(e))return e}},Object.defineProperty(t.prototype,"layoutScheduled",{get:function(){return!!this.layoutId},enumerable:!0,configurable:!0}),t.prototype.scheduleLayout=function(){var e=this;this.layoutId&&cancelAnimationFrame(this.layoutId),this.layoutId=requestAnimationFrame(function(){e.setSparklineDimensions(),!e.invalidData(e.data)&&(e.updateXScaleRange(),e.updateYScaleRange(),e.updateAxisLine(),e.update(),e.layoutId=0)})},t.prototype.setSparklineDimensions=function(){var e=this,r=e.width,i=e.height,o=e.padding,a=e.seriesRect,s=e.rootGroup,l=r-o.left-o.right,u=i-o.top-o.bottom;a.width=l,a.height=u,a.x=o.left,a.y=o.top,s.translationX=a.x,s.translationY=a.y},t.prototype.pickClosestSeriesNodeDatum=function(e,r){for(var i=1/0,o,a=this.rootGroup.transformPoint(e,r),s=this.getNodeData(),l=0;l<s.length;l++){var u=s[l];if(!u.point)return;var c=this.getDistance(a,u.point);if(c<=i)i=c,o=u;else return o}return o},t.prototype.getDistance=function(e,r){return Math.abs(e.x-r.x)},t.prototype.handleTooltip=function(e,r){var i=r.seriesDatum,o=this.canvasElement,a=e.clientX,s=e.clientY;this.tooltip.container==null&&(this.tooltip.container=o);var l={pageX:a,pageY:s},u=i.y,c=i.x,p=this.tooltip.enabled;if(this.tooltip.renderer){var h=this.tooltip.renderer({context:this.context,datum:i,yValue:u,xValue:c});p=typeof h!="string"&&h.enabled!==void 0?h.enabled:p}var d=p&&i.y!==void 0&&this.getTooltipHtml(r);d&&this.tooltip.show(l,d)},t.prototype.formatNumericDatum=function(e){return String(Math.round(e*10)/10)},t.prototype.formatDatum=function(e){var r=this.axis.type||"category";return r==="number"&&typeof e=="number"?this.formatNumericDatum(e):r==="time"&&(e instanceof Date||En(e))?this.defaultDateFormatter(e):String(e)},t.prototype.setupDomEventListeners=function(e){e.addEventListener("mousemove",this._onMouseMove),e.addEventListener("mouseout",this._onMouseOut)},t.prototype.cleanupDomEventListeners=function(e){e.removeEventListener("mousemove",this._onMouseMove),e.removeEventListener("mouseout",this._onMouseOut)},t.prototype.invalidData=function(e){return!e||!Array.isArray(e)||e.length===0},t.prototype.destroy=function(){this.scene.container=void 0,this.container=void 0,this.cleanupDomEventListeners(this.scene.canvas.element)},t.tooltipDocuments=[],t}(Pd),Jse=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}();function zc(n,t){if(typeof n=="string")return n;t=t||{};var e=n.content,r=e===void 0?t.content||"":e,i=n.title,o=i===void 0?t.title||void 0:i,a=n.color,s=a===void 0?t.color:a,l=n.backgroundColor,u=l===void 0?t.backgroundColor:l,c=n.opacity,p=c===void 0?t.opacity||1:c,h,d;if(s?(h=o?'<span class="'+bl.class+'-title"; style="color: '+s+'">'+o+"</span>":"",d='<span class="'+bl.class+'-content" style="color: '+s+'">'+r+"</span>"):(h=o?'<span class="'+bl.class+'-title">'+o+"</span>":"",d='<span class="'+bl.class+'-content">'+r+"</span>"),u){var f=ma.fromString(u.toLowerCase()),g=f.r,v=f.g,m=f.b;f.a;var C=p,b=ma.fromArray([g,v,m,C]),w=b.toRgbaString();return'<div class="'+bl.class+'" style="background-color: '+w+`">
                    `+h+`
                    `+d+`
                </div>`}else return'<div class="'+bl.class+`">
                    `+h+`
                    `+d+`
                </div>`}var bl=function(n){Jse(t,n);function t(){var e=n.call(this)||this;e.element=document.createElement("div"),e.enabled=!0,e.container=void 0,e.xOffset=10,e.yOffset=0,e.renderer=void 0;var r=document.body;return r.appendChild(e.element),e}return t.prototype.isVisible=function(){var e=this.element;if(e.classList)return!e.classList.contains(t.class+"-wrapper-hidden");var r=e.getAttribute("class");return r?r.split(" ").indexOf(t.class+"-wrapper-hidden")<0:!1},t.prototype.updateClass=function(e){var r=[t.class+"-wrapper"];e!==!0&&r.push(t.class+"-wrapper-hidden"),this.element.setAttribute("class",r.join(" "))},t.prototype.show=function(e,r){this.toggle(!1);var i=this.element;if(r!==void 0)i.innerHTML=r;else if(!i.innerHTML)return;var o=e.pageX+this.xOffset,a=e.pageY+this.yOffset,s=i.getBoundingClientRect(),l=window.innerWidth-s.width;if(this.container){var u=this.container.getBoundingClientRect();l=u.left+(u.width-s.width)}o>l&&(o=e.pageX-i.clientWidth-this.xOffset),i.style.left=Math.round(o)+"px",i.style.top=Math.round(a)+"px",this.toggle(!0)},t.prototype.toggle=function(e){this.updateClass(e)},t.prototype.destroy=function(){var e=this.element.parentNode;e&&e.removeChild(this.element)},t.class="ag-sparkline-tooltip",t}(Pd),ele=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),sx=function(n){ele(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e._x=0,e._y=0,e._size=3,e}return Object.defineProperty(t.prototype,"x",{get:function(){return this._x},set:function(e){this._x!==e&&(this._x=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this._y},set:function(e){this._y!==e&&(this._y=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._size},set:function(e){this._size!==e&&(this._size=e,this.dirty=!0)},enumerable:!0,configurable:!0}),t}(ka),tle=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),eP=function(n){tle(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.isPointInPath=function(e,r){return!1},t.prototype.isPointInStroke=function(e,r){return!1},t.prototype.render=function(e){this.dirtyTransform&&this.computeTransformMatrix(),this.matrix.toContext(e);var r=this,i=r.x,o=r.y,a=r.size,s=a/2;e.beginPath(),e.arc(i,o,s,0,2*Math.PI,!1),this.fillStroke(e),this.dirty=!1},t.className="Circle",t}(sx),rle=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),nle=function(n){rle(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.isPointInStroke=function(e,r){return!1},t.prototype.isPointInPath=function(e,r){return!1},t.prototype.render=function(e){this.dirtyTransform&&this.computeTransformMatrix(),this.matrix.toContext(e);var r=this,i=r.x,o=r.y,a=r.size,s=a/2;e.beginPath(),e.moveTo(i,o-=s),e.lineTo(i+=s,o+=s),e.lineTo(i-=s,o+=s),e.lineTo(i-=s,o-=s),e.lineTo(i+=s,o-=s),e.closePath(),this.fillStroke(e),this.dirty=!1},t.className="Diamond",t}(sx),ile=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),ole=function(n){ile(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.isPointInStroke=function(e,r){return!1},t.prototype.isPointInPath=function(e,r){return!1},t.prototype.render=function(e){this.dirtyTransform&&this.computeTransformMatrix(),this.matrix.toContext(e);var r=this,i=r.x,o=r.y,a=r.size,s=a/2;e.beginPath(),e.moveTo(i-=s,o-=s),e.lineTo(i+=a,o),e.lineTo(i,o+=a),e.lineTo(i-=a,o),e.lineTo(i,o-=a),e.closePath(),this.fillStroke(e),this.dirty=!1},t.className="Square",t}(sx);function dN(n){switch(n){case"circle":return eP;case"square":return ole;case"diamond":return nle;default:return eP}}function $v(n,t){t===void 0&&(t="solid");var e={solid:[],dash:[4,3],dot:[1,3],dashDot:[4,3,1,3],dashDotDot:[4,3,1,3,1,3],shortDot:[1,1],shortDash:[3,1],shortDashDot:[3,1,1,1],shortDashDotDot:[3,1,1,1,1,1],longDash:[8,3],longDashDot:[8,3,1,3],longDashDotDot:[8,3,1,3,1,3]},r={solid:[],dash:[3,3],dot:[0,3],dashDot:[3,3,0,3],dashDotDot:[3,3,0,3,0,3],shortDot:[0,2],shortDash:[2,2],shortDashDot:[2,2,0,2],shortDashDotDot:[2,2,0,2,0,2],longDash:[7,3],longDashDot:[7,3,0,3],longDashDotDot:[7,3,0,3,0,3]};return n==="round"||n==="square"?r[t]==null?(console.warn("'"+t+"' is not a valid 'lineDash' option."),r.solid):r[t]:e[t]==null?(console.warn("'"+t+"' is not a valid 'lineDash' option."),e.solid):e[t]}var ale=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),sle=function(){function n(){this.enabled=!0,this.shape="circle",this.size=0,this.fill="rgb(124, 181, 236)",this.stroke="rgb(124, 181, 236)",this.strokeWidth=1,this.formatter=void 0}return n}(),lle=function(){function n(){this.stroke="rgb(124, 181, 236)",this.strokeWidth=1}return n}(),ule=function(){function n(){this.xLine={enabled:!0,stroke:"rgba(0,0,0, 0.54)",strokeWidth:1,lineDash:"solid",lineCap:void 0},this.yLine={enabled:!1,stroke:"rgba(0,0,0, 0.54)",strokeWidth:1,lineDash:"solid",lineCap:void 0}}return n}(),cle=function(n){ale(t,n);function t(){var e=n.call(this)||this;return e.fill="rgba(124, 181, 236, 0.25)",e.strokePath=new l_,e.fillPath=new l_,e.xCrosshairLine=new Tc,e.yCrosshairLine=new Tc,e.areaSparklineGroup=new Ds,e.fillPathData=[],e.strokePathData=[],e.xAxisLine=new Tc,e.markers=new Ds,e.markerSelection=Hv.select(e.markers).selectAll(),e.markerSelectionData=[],e.marker=new sle,e.line=new lle,e.crosshairs=new ule,e.rootGroup.append(e.areaSparklineGroup),e.areaSparklineGroup.append([e.fillPath,e.xAxisLine,e.strokePath,e.xCrosshairLine,e.yCrosshairLine,e.markers]),e}return t.prototype.getNodeData=function(){return this.markerSelectionData},t.prototype.onMarkerShapeChange=function(){this.markerSelection=this.markerSelection.setData([]),this.markerSelection.exit.remove(),this.scheduleLayout()},t.prototype.update=function(){var e=this.generateNodeData();if(!!e){var r=e.nodeData,i=e.fillData,o=e.strokeData;this.markerSelectionData=r,this.fillPathData=i,this.strokePathData=o,this.updateSelection(r),this.updateNodes(),this.updateStroke(o),this.updateFill(i)}},t.prototype.updateYScaleDomain=function(){var e=this,r=e.yData,i=e.yScale,o=td(r,En),a=0,s=1;o!==void 0&&(a=this.min=o[0],s=this.max=o[1]),a=a<0?a:0,s=s<0?0:s,i.domain=[a,s]},t.prototype.generateNodeData=function(){var e=this,r=e.data,i=e.yData,o=e.xData,a=e.xScale,s=e.yScale;if(!!r){for(var l=a instanceof js?a.bandwidth/2:0,u=i.length,c=[],p=[],h=[],d,f,g,v,m=s.convert(0),C=0;C<u;C++){var b=i[C],w=o[C],S=a.convert(w)+l,T=s.convert(b);C+1<u&&(v=a.convert(o[C+1])+l),h.push({seriesDatum:{x:w,y:b},point:{x:S,y:T}}),b===void 0&&g!==void 0?(p.push({seriesDatum:void 0,point:{x:g,y:m}}),v!==void 0&&p.push({seriesDatum:void 0,point:{x:v,y:m}})):b!==void 0&&(p.push({seriesDatum:{x:w,y:b},point:{x:S,y:T}}),c.push({seriesDatum:{x:w,y:b},point:{x:S,y:T}}),d=d!==void 0?d:S,f=S),g=S}return p.push({seriesDatum:void 0,point:{x:f,y:m}},{seriesDatum:void 0,point:{x:d,y:m}}),{nodeData:c,fillData:p,strokeData:h}}},t.prototype.updateAxisLine=function(){var e=this,r=e.xScale,i=e.yScale,o=e.axis,a=e.xAxisLine;a.x1=r.range[0],a.x2=r.range[1],a.y1=a.y2=0,a.stroke=o.stroke,a.strokeWidth=o.strokeWidth;var s=i.convert(0);a.translationY=s},t.prototype.updateSelection=function(e){var r=this.marker,i=dN(r.shape),o=this.markerSelection.setData(e),a=o.enter.append(i);o.exit.remove(),this.markerSelection=o.merge(a)},t.prototype.updateNodes=function(){var e=this,r=this,i=r.highlightedDatum,o=r.highlightStyle,a=r.marker,s=o.size,l=o.fill,u=o.stroke,c=o.strokeWidth,p=a.formatter;this.markerSelection.each(function(h,d,f){var g=d.point,v=d.seriesDatum;if(!!g){var m=d===i,C=m&&l!==void 0?l:a.fill,b=m&&u!==void 0?u:a.stroke,w=m&&c!==void 0?c:a.strokeWidth,S=m&&s!==void 0?s:a.size,T;if(p){var E=f===0,P=f===e.markerSelectionData.length-1,R=v.y===e.min,M=v.y===e.max;T=p({datum:d,xValue:v.x,yValue:v.y,min:R,max:M,first:E,last:P,fill:C,stroke:b,strokeWidth:w,size:S,highlighted:m})}h.size=T&&T.size!=null?T.size:S,h.fill=T&&T.fill!=null?T.fill:C,h.stroke=T&&T.stroke!=null?T.stroke:b,h.strokeWidth=T&&T.strokeWidth!=null?T.strokeWidth:w,h.translationX=g.x,h.translationY=g.y,h.visible=T&&T.enabled!=null?T.enabled:a.enabled&&h.size>0}})},t.prototype.updateStroke=function(e){var r=this,i=r.strokePath,o=r.yData,a=r.line;if(!(o.length<2)){var s=i.path,l=e.length,u=!0;s.clear();for(var c=0;c<l;c++){var p=e[c],h=p.point,d=p.seriesDatum,f=h.x,g=h.y;d.y==null?u=!0:u?(s.moveTo(f,g),u=!1):s.lineTo(f,g)}i.lineJoin=i.lineCap="round",i.fill=void 0,i.stroke=a.stroke,i.strokeWidth=a.strokeWidth}},t.prototype.updateFill=function(e){var r=this,i=r.fillPath,o=r.yData,a=r.fill,s=i.path,l=e.length;if(s.clear(),!(o.length<2)){for(var u=0;u<l;u++){var c=e[u].point,p=c.x,h=c.y;u>0?s.lineTo(p,h):s.moveTo(p,h)}s.closePath(),i.lineJoin="round",i.stroke=void 0,i.fill=a}},t.prototype.updateXCrosshairLine=function(){var e=this,r=e.yScale,i=e.xCrosshairLine,o=e.highlightedDatum,a=e.crosshairs.xLine;if(!a.enabled||o==null){i.strokeWidth=0;return}i.y1=r.range[0],i.y2=r.range[1],i.x1=i.x2=0,i.stroke=a.stroke,i.strokeWidth=a.strokeWidth||1,i.lineCap=a.lineCap==="round"||a.lineCap==="square"?a.lineCap:void 0;var s=a.lineDash;i.lineDash=Array.isArray(s)?s:$v(i.lineCap,a.lineDash),i.translationX=o.point.x},t.prototype.updateYCrosshairLine=function(){var e=this,r=e.xScale,i=e.yCrosshairLine,o=e.highlightedDatum,a=e.crosshairs.yLine;if(!a.enabled||o==null){i.strokeWidth=0;return}i.x1=r.range[0],i.x2=r.range[1],i.y1=i.y2=0,i.stroke=a.stroke,i.strokeWidth=a.strokeWidth||1,i.lineCap=a.lineCap==="round"||a.lineCap==="square"?a.lineCap:void 0;var s=a.lineDash;i.lineDash=Array.isArray(s)?s:$v(i.lineCap,a.lineDash),i.translationY=o.point.y},t.prototype.getTooltipHtml=function(e){var r=this.dataType,i=e.seriesDatum,o=i.y,a=i.x,s=this.formatNumericDatum(o),l=r==="array"||r==="object"?this.formatDatum(a):void 0,u={content:s,title:l};return this.tooltip.renderer?zc(this.tooltip.renderer({context:this.context,datum:i,yValue:o,xValue:a}),u):zc(u)},t.className="AreaSparkline",t}(ax),ple=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),hle=function(){function n(){this.enabled=!0,this.shape="circle",this.size=0,this.fill="rgb(124, 181, 236)",this.stroke="rgb(124, 181, 236)",this.strokeWidth=1,this.formatter=void 0}return n}(),dle=function(){function n(){this.stroke="rgb(124, 181, 236)",this.strokeWidth=1}return n}(),fle=function(){function n(){this.xLine={enabled:!0,stroke:"rgba(0,0,0, 0.54)",strokeWidth:1,lineDash:"solid",lineCap:void 0},this.yLine={enabled:!1,stroke:"rgba(0,0,0, 0.54)",strokeWidth:1,lineDash:"solid",lineCap:void 0}}return n}(),gle=function(n){ple(t,n);function t(){var e=n.call(this)||this;return e.linePath=new l_,e.xCrosshairLine=new Tc,e.yCrosshairLine=new Tc,e.lineSparklineGroup=new Ds,e.markers=new Ds,e.markerSelection=Hv.select(e.markers).selectAll(),e.markerSelectionData=[],e.marker=new hle,e.line=new dle,e.crosshairs=new fle,e.rootGroup.append(e.lineSparklineGroup),e.lineSparklineGroup.append([e.linePath,e.xCrosshairLine,e.yCrosshairLine,e.markers]),e}return t.prototype.getNodeData=function(){return this.markerSelectionData},t.prototype.onMarkerShapeChange=function(){this.markerSelection=this.markerSelection.setData([]),this.markerSelection.exit.remove(),this.scheduleLayout()},t.prototype.update=function(){var e=this.generateNodeData();!e||(this.markerSelectionData=e,this.updateSelection(e),this.updateNodes(),this.updateLine())},t.prototype.updateYScaleDomain=function(){var e=this,r=e.yData,i=e.yScale,o=td(r,En),a=0,s=1;if(o!==void 0&&(a=this.min=o[0],s=this.max=o[1]),a===s){var l=Math.abs(a*.01);a-=l,s+=l}i.domain=[a,s]},t.prototype.generateNodeData=function(){var e=this,r=e.data,i=e.yData,o=e.xData,a=e.xScale,s=e.yScale;if(!!r){for(var l=a instanceof js?a.bandwidth/2:0,u=[],c=0;c<i.length;c++){var p=i[c],h=o[c];if(p!=null){var d=a.convert(h)+l,f=s.convert(p);u.push({seriesDatum:{x:h,y:p},point:{x:d,y:f}})}}return u}},t.prototype.updateSelection=function(e){var r=this.marker,i=dN(r.shape),o=this.markerSelection.setData(e),a=o.enter.append(i);o.exit.remove(),this.markerSelection=o.merge(a)},t.prototype.updateNodes=function(){var e=this,r=this,i=r.highlightedDatum,o=r.highlightStyle,a=r.marker,s=o.size,l=o.fill,u=o.stroke,c=o.strokeWidth,p=a.formatter;this.markerSelection.each(function(h,d,f){var g=d===i,v=g&&l!==void 0?l:a.fill,m=g&&u!==void 0?u:a.stroke,C=g&&c!==void 0?c:a.strokeWidth,b=g&&s!==void 0?s:a.size,w,S=d.seriesDatum,T=d.point;if(p){var E=f===0,P=f===e.markerSelectionData.length-1,R=S.y===e.min,M=S.y===e.max;w=p({datum:d,xValue:S.x,yValue:S.y,min:R,max:M,first:E,last:P,fill:v,stroke:m,strokeWidth:C,size:b,highlighted:g})}h.size=w&&w.size!=null?w.size:b,h.fill=w&&w.fill!=null?w.fill:v,h.stroke=w&&w.stroke!=null?w.stroke:m,h.strokeWidth=w&&w.strokeWidth!=null?w.strokeWidth:C,h.translationX=T.x,h.translationY=T.y,h.visible=w&&w.enabled!=null?w.enabled:a.enabled&&h.size>0})},t.prototype.updateLine=function(){var e=this,r=e.linePath,i=e.yData,o=e.xData,a=e.xScale,s=e.yScale,l=e.line;if(!(i.length<2)){var u=r.path,c=i.length,p=a instanceof js?a.bandwidth/2:0,h=!0;u.clear();for(var d=0;d<c;d++){var f=o[d],g=i[d],v=a.convert(f)+p,m=s.convert(g);g==null?h=!0:h?(u.moveTo(v,m),h=!1):u.lineTo(v,m)}r.fill=void 0,r.stroke=l.stroke,r.strokeWidth=l.strokeWidth}},t.prototype.updateXCrosshairLine=function(){var e=this,r=e.yScale,i=e.xCrosshairLine,o=e.highlightedDatum,a=e.crosshairs.xLine;if(!a.enabled||o==null){i.strokeWidth=0;return}i.y1=r.range[0],i.y2=r.range[1],i.x1=i.x2=0,i.stroke=a.stroke,i.strokeWidth=a.strokeWidth||1,i.lineCap=a.lineCap==="round"||a.lineCap==="square"?a.lineCap:void 0;var s=a.lineDash;i.lineDash=Array.isArray(s)?s:$v(i.lineCap,a.lineDash),i.translationX=o.point.x},t.prototype.updateYCrosshairLine=function(){var e=this,r=e.xScale,i=e.yCrosshairLine,o=e.highlightedDatum,a=e.crosshairs.yLine;if(!a.enabled||o==null){i.strokeWidth=0;return}i.x1=r.range[0],i.x2=r.range[1],i.y1=i.y2=0,i.stroke=a.stroke,i.strokeWidth=a.strokeWidth||1,i.lineCap=a.lineCap==="round"||a.lineCap==="square"?a.lineCap:void 0;var s=a.lineDash;i.lineDash=Array.isArray(s)?s:$v(i.lineCap,a.lineDash),i.translationY=o.point.y},t.prototype.getTooltipHtml=function(e){var r=this.dataType,i=e.seriesDatum,o=i.y,a=i.x,s=this.formatNumericDatum(o),l=r==="array"||r==="object"?this.formatDatum(a):void 0,u={content:s,title:l};return this.tooltip.renderer?zc(this.tooltip.renderer({context:this.context,datum:i,yValue:o,xValue:a}),u):zc(u)},t.className="LineSparkline",t}(ax),vle=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),mle=function(n){vle(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e._x=0,e._y=0,e._width=0,e._height=0,e._crisp=!1,e}return Object.defineProperty(t.prototype,"x",{get:function(){return this._x},set:function(e){this._x!==e&&(this._x=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this._y},set:function(e){this._y!==e&&(this._y=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this._width},set:function(e){this._width!==e&&(this._width=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._height},set:function(e){this._height!==e&&(this._height=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"crisp",{get:function(){return this._crisp},set:function(e){this._crisp!==e&&(this._crisp=e,this.dirty=!0)},enumerable:!0,configurable:!0}),t.prototype.isPointInStroke=function(e,r){return!1},t.prototype.isPointInPath=function(e,r){return!1},t.prototype.render=function(e){this.dirtyTransform&&this.computeTransformMatrix(),this.matrix.toContext(e);var r=this,i=r.x,o=r.y,a=r.width,s=r.height,l=r.crisp;if(e.beginPath(),l){var u=this,c=u.alignment,p=u.align;e.rect(p(c,i),p(c,o),p(c,i,a),p(c,o,s))}else e.rect(i,o,a,s);this.fillStroke(e),this.dirty=!1},t.className="Column",t}(ka),yle=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}();(function(n){yle(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e._x=0,e._y=0,e.lineBreakRegex=/\r?\n/g,e.lines=[],e._text="",e._dirtyFont=!0,e._fontSize=10,e._fontFamily="sans-serif",e._textAlign=t.defaultStyles.textAlign,e._textBaseline=t.defaultStyles.textBaseline,e._lineHeight=14,e}return Object.defineProperty(t.prototype,"x",{get:function(){return this._x},set:function(e){this._x!==e&&(this._x=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this._y},set:function(e){this._y!==e&&(this._y=e,this.dirty=!0)},enumerable:!0,configurable:!0}),t.prototype.splitText=function(){this.lines=this._text.split(this.lineBreakRegex)},Object.defineProperty(t.prototype,"text",{get:function(){return this._text},set:function(e){var r=String(e);this._text!==r&&(this._text=r,this.splitText(),this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"font",{get:function(){return this.dirtyFont&&(this.dirtyFont=!1,this._font=fN(this.fontSize,this.fontFamily,this.fontStyle,this.fontWeight)),this._font},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dirtyFont",{get:function(){return this._dirtyFont},set:function(e){this._dirtyFont!==e&&(this._dirtyFont=e,e&&(this.dirty=!0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fontStyle",{get:function(){return this._fontStyle},set:function(e){this._fontStyle!==e&&(this._fontStyle=e,this.dirtyFont=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fontWeight",{get:function(){return this._fontWeight},set:function(e){this._fontWeight!==e&&(this._fontWeight=e,this.dirtyFont=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fontSize",{get:function(){return this._fontSize},set:function(e){isFinite(e)||(e=10),this._fontSize!==e&&(this._fontSize=e,this.dirtyFont=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fontFamily",{get:function(){return this._fontFamily},set:function(e){this._fontFamily!==e&&(this._fontFamily=e,this.dirtyFont=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"textAlign",{get:function(){return this._textAlign},set:function(e){this._textAlign!==e&&(this._textAlign=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"textBaseline",{get:function(){return this._textBaseline},set:function(e){this._textBaseline!==e&&(this._textBaseline=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"lineHeight",{get:function(){return this._lineHeight},set:function(e){this._lineHeight!==e&&(this._lineHeight=e,this.dirty=!0)},enumerable:!0,configurable:!0}),t.prototype.computeBBox=function(){return xa.has.textMetrics?this.getPreciseBBox():this.getApproximateBBox()},t.prototype.getPreciseBBox=function(){var e=xa.measureText(this.text,this.font,this.textBaseline,this.textAlign);return new iu(this.x-e.actualBoundingBoxLeft,this.y-e.actualBoundingBoxAscent,e.width,e.actualBoundingBoxAscent+e.actualBoundingBoxDescent)},t.prototype.getApproximateBBox=function(){var e=xa.getTextSize(this.text,this.font),r=this,i=r.x,o=r.y;switch(this.textAlign){case"end":case"right":i-=e.width;break;case"center":i-=e.width/2}switch(this.textBaseline){case"alphabetic":o-=e.height*.7;break;case"middle":o-=e.height*.45;break;case"ideographic":o-=e.height;break;case"hanging":o-=e.height*.2;break;case"bottom":o-=e.height;break}return new iu(i,o,e.width,e.height)},t.prototype.isPointInPath=function(e,r){var i=this.transformPoint(e,r),o=this.computeBBox();return o?o.containsPoint(i.x,i.y):!1},t.prototype.isPointInStroke=function(e,r){return!1},t.prototype.render=function(e){if(!(!this.lines.length||!this.scene)){this.dirtyTransform&&this.computeTransformMatrix(),this.matrix.toContext(e);var r=this,i=r.fill,o=r.stroke,a=r.strokeWidth;e.font=this.font,e.textAlign=this.textAlign,e.textBaseline=this.textBaseline;var s=this.scene.canvas.pixelRatio||1,l=e.globalAlpha;if(i){e.fillStyle=i,e.globalAlpha=l*this.opacity*this.fillOpacity;var u=this,c=u.fillShadow,p=u.text,h=u.x,d=u.y;c&&c.enabled&&(e.shadowColor=c.color,e.shadowOffsetX=c.xOffset*s,e.shadowOffsetY=c.yOffset*s,e.shadowBlur=c.blur*s),e.fillText(p,h,d)}if(o&&a){e.strokeStyle=o,e.lineWidth=a,e.globalAlpha=l*this.opacity*this.strokeOpacity;var f=this,g=f.lineDash,v=f.lineDashOffset,m=f.lineCap,C=f.lineJoin,b=f.strokeShadow,p=f.text,h=f.x,d=f.y;g&&e.setLineDash(g),v&&(e.lineDashOffset=v),m&&(e.lineCap=m),C&&(e.lineJoin=C),b&&b.enabled&&(e.shadowColor=b.color,e.shadowOffsetX=b.xOffset*s,e.shadowOffsetY=b.yOffset*s,e.shadowBlur=b.blur*s),e.strokeText(p,h,d)}this.dirty=!1}},t.className="Text",t.defaultStyles=km(ka.defaultStyles,{textAlign:"start",fontStyle:void 0,fontWeight:void 0,fontSize:10,fontFamily:"sans-serif",textBaseline:"alphabetic"}),t})(ka);function fN(n,t,e,r){return[e||"",r||"",n+"px",t].join(" ").trim()}var Cle=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Zu=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},ble=function(n){Cle(t,n);function t(){var e=n.call(this)||this;return e.enabled=!0,e.fontSize=8,e.fontFamily="Verdana, sans-serif",e.color="rgba(70, 70, 70, 1)",e}return t.prototype.getFont=function(){return fN(this.fontSize,this.fontFamily,this.fontStyle,this.fontWeight)},Zu([Xu("change","dataChange")],t.prototype,"enabled",void 0),Zu([Xu("change")],t.prototype,"fontSize",void 0),Zu([Xu("change")],t.prototype,"fontFamily",void 0),Zu([Xu("change")],t.prototype,"fontStyle",void 0),Zu([Xu("change")],t.prototype,"fontWeight",void 0),Zu([Xu("change")],t.prototype,"color",void 0),t}(Pd),wle=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),_le=function(n){wle(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e._x=0,e._y=0,e.lineBreakRegex=/\r?\n/g,e.lines=[],e._text="",e._dirtyFont=!0,e._fontSize=10,e._fontFamily="sans-serif",e._textAlign=t.defaultStyles.textAlign,e._textBaseline=t.defaultStyles.textBaseline,e._lineHeight=14,e}return Object.defineProperty(t.prototype,"x",{get:function(){return this._x},set:function(e){this._x!==e&&(this._x=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this._y},set:function(e){this._y!==e&&(this._y=e,this.dirty=!0)},enumerable:!0,configurable:!0}),t.prototype.splitText=function(){this.lines=this._text.split(this.lineBreakRegex)},Object.defineProperty(t.prototype,"text",{get:function(){return this._text},set:function(e){var r=String(e);this._text!==r&&(this._text=r,this.splitText(),this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"font",{get:function(){return this.dirtyFont&&(this.dirtyFont=!1,this._font=Sle(this.fontSize,this.fontFamily,this.fontStyle,this.fontWeight)),this._font},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dirtyFont",{get:function(){return this._dirtyFont},set:function(e){this._dirtyFont!==e&&(this._dirtyFont=e,e&&(this.dirty=!0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fontStyle",{get:function(){return this._fontStyle},set:function(e){this._fontStyle!==e&&(this._fontStyle=e,this.dirtyFont=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fontWeight",{get:function(){return this._fontWeight},set:function(e){this._fontWeight!==e&&(this._fontWeight=e,this.dirtyFont=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fontSize",{get:function(){return this._fontSize},set:function(e){isFinite(e)||(e=10),this._fontSize!==e&&(this._fontSize=e,this.dirtyFont=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fontFamily",{get:function(){return this._fontFamily},set:function(e){this._fontFamily!==e&&(this._fontFamily=e,this.dirtyFont=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"textAlign",{get:function(){return this._textAlign},set:function(e){this._textAlign!==e&&(this._textAlign=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"textBaseline",{get:function(){return this._textBaseline},set:function(e){this._textBaseline!==e&&(this._textBaseline=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"lineHeight",{get:function(){return this._lineHeight},set:function(e){this._lineHeight!==e&&(this._lineHeight=e,this.dirty=!0)},enumerable:!0,configurable:!0}),t.prototype.computeBBox=function(){return xa.has.textMetrics?this.getPreciseBBox():this.getApproximateBBox()},t.prototype.getPreciseBBox=function(){var e=xa.measureText(this.text,this.font,this.textBaseline,this.textAlign);return new iu(this.x-e.actualBoundingBoxLeft,this.y-e.actualBoundingBoxAscent,e.width,e.actualBoundingBoxAscent+e.actualBoundingBoxDescent)},t.prototype.getApproximateBBox=function(){var e=xa.getTextSize(this.text,this.font),r=this,i=r.x,o=r.y;switch(this.textAlign){case"end":case"right":i-=e.width;break;case"center":i-=e.width/2}switch(this.textBaseline){case"alphabetic":o-=e.height*.7;break;case"middle":o-=e.height*.45;break;case"ideographic":o-=e.height;break;case"hanging":o-=e.height*.2;break;case"bottom":o-=e.height;break}return new iu(i,o,e.width,e.height)},t.prototype.isPointInPath=function(e,r){var i=this.transformPoint(e,r),o=this.computeBBox();return o?o.containsPoint(i.x,i.y):!1},t.prototype.isPointInStroke=function(e,r){return!1},t.prototype.render=function(e){if(!(!this.lines.length||!this.scene)){this.dirtyTransform&&this.computeTransformMatrix(),this.matrix.toContext(e);var r=this,i=r.fill,o=r.stroke,a=r.strokeWidth;e.font=this.font,e.textAlign=this.textAlign,e.textBaseline=this.textBaseline;var s=this.scene.canvas.pixelRatio||1,l=e.globalAlpha;if(i){e.fillStyle=i,e.globalAlpha=l*this.opacity*this.fillOpacity;var u=this,c=u.fillShadow,p=u.text,h=u.x,d=u.y;c&&c.enabled&&(e.shadowColor=c.color,e.shadowOffsetX=c.xOffset*s,e.shadowOffsetY=c.yOffset*s,e.shadowBlur=c.blur*s),e.fillText(p,h,d)}if(o&&a){e.strokeStyle=o,e.lineWidth=a,e.globalAlpha=l*this.opacity*this.strokeOpacity;var f=this,g=f.lineDash,v=f.lineDashOffset,m=f.lineCap,C=f.lineJoin,b=f.strokeShadow,p=f.text,h=f.x,d=f.y;g&&e.setLineDash(g),v&&(e.lineDashOffset=v),m&&(e.lineCap=m),C&&(e.lineJoin=C),b&&b.enabled&&(e.shadowColor=b.color,e.shadowOffsetX=b.xOffset*s,e.shadowOffsetY=b.yOffset*s,e.shadowBlur=b.blur*s),e.strokeText(p,h,d)}this.dirty=!1}},t.className="Text",t.defaultStyles=km(ka.defaultStyles,{textAlign:"start",fontStyle:void 0,fontWeight:void 0,fontSize:10,fontFamily:"sans-serif",textBaseline:"alphabetic"}),t}(ka);function Sle(n,t,e,r){return[e||"",r||"",n+"px",t].join(" ").trim()}var gN=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),v_;(function(n){n[n.Rect=0]="Rect",n[n.Label=1]="Label"})(v_||(v_={}));var Ta;(function(n){n.InsideBase="insideBase",n.InsideEnd="insideEnd",n.Center="center",n.OutsideEnd="outsideEnd"})(Ta||(Ta={}));var xle=function(n){gN(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.formatter=void 0,e.placement=Ta.InsideEnd,e}return t}(ble),vN=function(n){gN(t,n);function t(){var e=n.call(this)||this;return e.fill="rgb(124, 181, 236)",e.stroke="silver",e.strokeWidth=0,e.paddingInner=.1,e.paddingOuter=.2,e.valueAxisDomain=void 0,e.formatter=void 0,e.axisLine=new Tc,e.bandWidth=0,e.sparklineGroup=new Ds,e.rectGroup=new Ds,e.labelGroup=new Ds,e.rectSelection=Hv.select(e.rectGroup).selectAll(),e.labelSelection=Hv.select(e.labelGroup).selectAll(),e.nodeSelectionData=[],e.label=new xle,e.rootGroup.append(e.sparklineGroup),e.sparklineGroup.append([e.rectGroup,e.axisLine,e.labelGroup]),e.axisLine.lineCap="round",e.label.enabled=!1,e}return t.prototype.getNodeData=function(){return this.nodeSelectionData},t.prototype.update=function(){this.updateSelections(),this.updateNodes()},t.prototype.updateSelections=function(){var e=this.generateNodeData();!e||(this.nodeSelectionData=e,this.updateRectSelection(e),this.updateLabelSelection(e))},t.prototype.updateNodes=function(){this.updateRectNodes(),this.updateLabelNodes()},t.prototype.calculateStep=function(e){var r,i,o=this,a=o.xScale,s=o.paddingInner,l=o.paddingOuter,u=o.smallestInterval,c=a.domain[1]-a.domain[0],p=c/(i=(r=u)===null||r===void 0?void 0:r.x,i!=null?i:1)+1,h=50,d=Math.min(p,h),f=d-1,g=e/Math.max(1,2*l+f*s+d);return g},t.prototype.updateYScaleDomain=function(){var e=this,r=e.yScale,i=e.yData,o=e.valueAxisDomain,a=td(i,En),s=0,l=1;a!==void 0&&(s=this.min=a[0],l=this.max=a[1]),s=s<0?s:0,l=l<0?0:l,o&&(o[1]<l&&(o[1]=l),o[0]>s&&(o[0]=s)),r.domain=o||[s,l]},t.prototype.updateRectSelection=function(e){var r=this.rectSelection.setData(e),i=r.enter.append(mle);r.exit.remove(),this.rectSelection=r.merge(i)},t.prototype.updateRectNodes=function(){var e=this,r=this,i=r.highlightedDatum,o=r.formatter,a=r.fill,s=r.stroke,l=r.strokeWidth,u=this.highlightStyle,c=u.fill,p=u.stroke,h=u.strokeWidth;this.rectSelection.each(function(d,f,g){var v=f===i,m=v&&c!==void 0?c:a,C=v&&p!==void 0?p:s,b=v&&h!==void 0?h:l,w,S=f.x,T=f.y,E=f.width,P=f.height,R=f.seriesDatum;if(o){var M=g===0,N=g===e.nodeSelectionData.length-1,B=R.y===e.min,k=R.y===e.max;w=o({datum:f,xValue:R.x,yValue:R.y,width:E,height:P,min:B,max:k,first:M,last:N,fill:m,stroke:C,strokeWidth:b,highlighted:v})}d.fill=w&&w.fill||m,d.stroke=w&&w.stroke||C,d.strokeWidth=w&&w.strokeWidth||b,d.x=d.y=0,d.width=E,d.height=P,d.visible=d.height>0,d.translationX=S,d.translationY=T})},t.prototype.updateLabelSelection=function(e){var r=this.labelSelection.setData(e),i=r.enter.append(_le).each(function(o){o.tag=v_.Label,o.pointerEvents=ed.None});r.exit.remove(),this.labelSelection=r.merge(i)},t.prototype.updateLabelNodes=function(){var e=this.label,r=e.enabled,i=e.fontStyle,o=e.fontWeight,a=e.fontSize,s=e.fontFamily,l=e.color;this.labelSelection.each(function(u,c){var p=c.label;p&&r?(u.fontStyle=i,u.fontWeight=o,u.fontSize=a,u.fontFamily=s,u.textAlign=p.textAlign,u.textBaseline=p.textBaseline,u.text=p.text,u.x=p.x,u.y=p.y,u.fill=l,u.visible=!0):u.visible=!1})},t.prototype.getTooltipHtml=function(e){var r=this.dataType,i=e.seriesDatum,o=i.y,a=i.x,s=this.formatNumericDatum(o),l=r==="array"||r==="object"?this.formatDatum(a):void 0,u={content:s,title:l};return this.tooltip.renderer?zc(this.tooltip.renderer({context:this.context,datum:i,yValue:o,xValue:a}),u):zc(u)},t.prototype.formatLabelValue=function(e){return e%1!==0?e.toFixed(1):e.toFixed(0)},t}(ax),Tle=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Ole=function(n){Tle(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.updateYScaleRange=function(){var e=this,r=e.seriesRect,i=e.yScale;i.range=[0,r.width]},t.prototype.updateXScaleRange=function(){var e=this,r=e.xScale,i=e.seriesRect,o=e.paddingOuter,a=e.paddingInner;if(r instanceof js)r.range=[0,i.height],r.paddingInner=a,r.paddingOuter=o;else{var s=this.calculateStep(i.height),l=s*o;this.bandWidth=s*(1-a),r.range=[l,i.height-l-this.bandWidth]}},t.prototype.updateAxisLine=function(){var e=this,r=e.yScale,i=e.axis,o=e.axisLine,a=e.seriesRect,s=i.strokeWidth;o.x1=0,o.x2=0,o.y1=0,o.y2=a.height,o.stroke=i.stroke,o.strokeWidth=s+(s%2===1?1:0);var l=r.convert(0);o.translationX=l},t.prototype.generateNodeData=function(){var e=this,r=e.data,i=e.yData,o=e.xData,a=e.xScale,s=e.yScale,l=e.fill,u=e.stroke,c=e.strokeWidth,p=e.label;if(!!r){for(var h=p.fontStyle,d=p.fontWeight,f=p.fontSize,g=p.fontFamily,v=p.color,m=p.formatter,C=p.placement,b=[],w=s.convert(0),S=0,T=i.length;S<T;S++){var E=i[S],P=o[S],R=E===void 0;R&&(E=0);var M=a.convert(P),N=Math.min(s.convert(E),w),B=Math.max(s.convert(E),w),k=a instanceof js?a.bandwidth:this.bandWidth,G=B-N,V={x:w,y:M},z=void 0;m?z=m({value:E}):z=E!==void 0&&En(E)?this.formatLabelValue(E):"";var ee=M+k/2,Q=void 0,ue="middle",X=void 0,se=E!==void 0&&E>=0,$=4;if(C===Ta.Center)Q=N+G/2,X="center";else if(C===Ta.OutsideEnd)Q=N+(se?G+$:-$),X=se?"start":"end";else if(C===Ta.InsideEnd){Q=N+(se?G-$:$),X=se?"end":"start";var q=xa.getTextSize(z,g),ce=q.width||20,he=w+ce,we=w-ce,_e=se&&Q<he||!se&&Q>we;_e&&(Q=w+$*(se?1:-1),X=se?"start":"end")}else Q=w+$*(se?1:-1),X=se?"start":"end";b.push({x:N,y:M,width:G,height:k,fill:l,stroke:u,strokeWidth:c,seriesDatum:{x:P,y:R?void 0:E},point:V,label:{x:Q,y:ee,text:z,fontStyle:h,fontWeight:d,fontSize:f,fontFamily:g,textAlign:X,textBaseline:ue,fill:v}})}return b}},t.prototype.getDistance=function(e,r){return Math.abs(e.y-r.y)},t.className="BarSparkline",t}(vN),Ele=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Rle=function(n){Ele(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.updateYScaleRange=function(){var e=this,r=e.seriesRect,i=e.yScale;i.range=[r.height,0]},t.prototype.updateXScaleRange=function(){var e=this,r=e.xScale,i=e.seriesRect,o=e.paddingOuter,a=e.paddingInner;if(r instanceof js)r.range=[0,i.width],r.paddingInner=a,r.paddingOuter=o;else{var s=this.calculateStep(i.width),l=s*o;this.bandWidth=s*(1-a),r.range=[l,i.width-l-this.bandWidth]}},t.prototype.updateAxisLine=function(){var e=this,r=e.yScale,i=e.axis,o=e.axisLine,a=e.seriesRect,s=i.strokeWidth;o.x1=0,o.x2=a.width,o.y1=0,o.y2=0,o.stroke=i.stroke,o.strokeWidth=s+(s%2===1?1:0);var l=r.convert(0);o.translationY=l},t.prototype.generateNodeData=function(){var e=this,r=e.data,i=e.yData,o=e.xData,a=e.xScale,s=e.yScale,l=e.fill,u=e.stroke,c=e.strokeWidth,p=e.label;if(!!r){for(var h=p.fontStyle,d=p.fontWeight,f=p.fontSize,g=p.fontFamily,v=p.color,m=p.formatter,C=p.placement,b=[],w=s.convert(0),S=0,T=i.length;S<T;S++){var E=i[S],P=o[S],R=E===void 0;R&&(E=0);var M=Math.min(s.convert(E),w),N=a.convert(P),B=Math.max(s.convert(E),w),k=a instanceof js?a.bandwidth:this.bandWidth,G=B-M,V={x:N+k/2,y:w},z=void 0;m?z=m({value:E}):z=E!==void 0&&En(E)?this.formatLabelValue(E):"";var ee=N+k/2,Q=void 0,ue="center",X=void 0,se=E!==void 0&&E>=0,$=2;if(C===Ta.Center)Q=M+G/2,X="middle";else if(C===Ta.OutsideEnd)Q=M+(se?-$:G+$),X=se?"bottom":"top";else if(C===Ta.InsideEnd){Q=M+(se?$:G-$),X=se?"top":"bottom";var q=xa.getTextSize(z,g),ce=q.height||10,he=w-ce,we=w+ce,_e=se&&Q>he||!se&&Q<we;_e&&(Q=w+$*(se?-1:1),X=se?"bottom":"top")}else Q=w+$*(se?-1:1),X=se?"bottom":"top";b.push({x:N,y:M,width:k,height:G,fill:l,stroke:u,strokeWidth:c,seriesDatum:{x:P,y:R?void 0:E},point:V,label:{x:ee,y:Q,text:z,fontStyle:h,fontWeight:d,fontSize:f,fontFamily:g,textAlign:ue,textBaseline:X,fill:v}})}return b}},t.className="ColumnSparkline",t}(vN),Ple=function(){function n(){}return n.create=function(t,e){t=Object.create(t);var r=Ale(t.type);return e&&(r.tooltip=e),Mle(r,t),Dle(r,t),t.data&&(r.data=t.data),r},n}();function Ale(n){switch(n===void 0&&(n="line"),n){case"column":return new Rle;case"bar":return new Ole;case"area":return new cle;case"line":default:return new gle}}function Dle(n,t){switch(t.type){case"bar":tP(n,t);break;case"column":tP(n,t);break;case"area":Ile(n,t);break;case"line":default:Fle(n,t);break}}function Mle(n,t){be(n,"context",t.context,t),be(n,"width",t.width,t),be(n,"height",t.height,t),be(n,"container",t.container,t),be(n,"xKey",t.xKey,t),be(n,"yKey",t.yKey,t),t.padding&&Lle(n.padding,t.padding),t.axis&&kle(n.axis,t.axis),t.highlightStyle&&Gle(n.highlightStyle,t.highlightStyle),t.tooltip&&n.tooltip&&Ble(n.tooltip,t.tooltip)}function Fle(n,t){t.marker&&mN(n.marker,t.marker),t.line&&yN(n.line,t.line),t.crosshairs&&CN(n.crosshairs,t.crosshairs)}function Ile(n,t){be(n,"fill",t.fill,t),t.marker&&mN(n.marker,t.marker),t.line&&yN(n.line,t.line),t.crosshairs&&CN(n.crosshairs,t.crosshairs)}function tP(n,t){be(n,"valueAxisDomain",t.valueAxisDomain,t),be(n,"fill",t.fill,t),be(n,"stroke",t.stroke,t),be(n,"strokeWidth",t.strokeWidth,t),be(n,"paddingInner",t.paddingInner,t),be(n,"paddingOuter",t.paddingOuter,t),be(n,"formatter",t.formatter,t),t.label&&Nle(n.label,t.label)}function Lle(n,t){be(n,"top",t.top,t),be(n,"right",t.right,t),be(n,"bottom",t.bottom,t),be(n,"left",t.left,t)}function mN(n,t){be(n,"enabled",t.enabled,t),be(n,"size",t.size,t),be(n,"shape",t.shape,t),be(n,"fill",t.fill,t),be(n,"stroke",t.stroke,t),be(n,"strokeWidth",t.strokeWidth,t),be(n,"formatter",t.formatter,t)}function Nle(n,t){be(n,"enabled",t.enabled,t),be(n,"fontStyle",t.fontStyle,t),be(n,"fontWeight",t.fontWeight,t),be(n,"fontSize",t.fontSize,t),be(n,"fontFamily",t.fontFamily,t),be(n,"textAlign",t.textAlign,t),be(n,"textBaseline",t.textBaseline,t),be(n,"color",t.color,t),be(n,"formatter",t.formatter,t),be(n,"placement",t.placement,t)}function yN(n,t){be(n,"stroke",t.stroke,t),be(n,"strokeWidth",t.strokeWidth,t)}function kle(n,t){be(n,"type",t.type,t),be(n,"stroke",t.stroke,t),be(n,"strokeWidth",t.strokeWidth,t)}function Gle(n,t){be(n,"fill",t.fill,t),be(n,"size",t.size,t),be(n,"stroke",t.stroke,t),be(n,"strokeWidth",t.strokeWidth,t)}function Ble(n,t){be(n,"enabled",t.enabled,t),be(n,"container",t.container,t),be(n,"xOffset",t.xOffset,t),be(n,"yOffset",t.yOffset,t),be(n,"renderer",t.renderer,t)}function CN(n,t){n.xLine&&t.xLine&&rP(n.xLine,t.xLine),n.yLine&&t.yLine&&rP(n.yLine,t.yLine)}function rP(n,t){be(n,"enabled",t.enabled,t),be(n,"stroke",t.stroke,t),be(n,"strokeWidth",t.strokeWidth,t),be(n,"lineDash",t.lineDash,t),be(n,"lineCap",t.lineCap,t)}var nP={};function Vle(n,t){nP[t]||(n(),nP[t]=!0)}var iP=function(n,t,e){if(En(t))return!0;var r="AG Charts: "+n+" must be a number, the value you provided is not a valid number. Using the default of "+e+"px.";return Vle(function(){return console.warn(r)},n+" not a number"),!1},Wle={xOffset:iP,yOffset:iP};function be(n,t,e,r){if(t in r)if(t in n){var i=Wle[t],o=i?i(t,e,n[t]):!0;o&&n[t]!==e&&(n[t]=e)}else console.warn("Property "+t+" does not exist on the target object.")}var Hle=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),m_=globalThis&&globalThis.__assign||function(){return m_=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},m_.apply(this,arguments)},Eb=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},jle=function(n){Hle(t,n);function t(){return n.call(this,t.TEMPLATE)||this}return t.prototype.init=function(e){var r=this,i=!0,o=function(){var s=r.getGui(),l=s.clientWidth,u=s.clientHeight;if(!(l===0||u===0))if(i){var c=m_({data:e.value,width:l,height:u,context:{data:e.data}},e.sparklineOptions);r.sparkline=Ple.create(c,r.sparklineTooltipSingleton.getSparklineTooltip()),r.eSparkline.appendChild(r.sparkline.canvasElement),i=!1}else r.sparkline.width=l,r.sparkline.height=u},a=this.resizeObserverService.observeResize(this.getGui(),o);this.addDestroyFunc(function(){return a()})},t.prototype.refresh=function(e){return this.sparkline?(this.sparkline.data=e.value,!0):!1},t.prototype.destroy=function(){this.sparkline&&this.sparkline.destroy(),n.prototype.destroy.call(this)},t.TEMPLATE=`<div class="ag-sparkline-wrapper">
            <span ref="eSparkline"></span>
        </div>`,Eb([I("eSparkline")],t.prototype,"eSparkline",void 0),Eb([y("resizeObserverService")],t.prototype,"resizeObserverService",void 0),Eb([y("sparklineTooltipSingleton")],t.prototype,"sparklineTooltipSingleton",void 0),t}(te),Ule=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Rb=globalThis&&globalThis.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},zle=function(n){Ule(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.postConstruct=function(){this.tooltip=new bl},t.prototype.getSparklineTooltip=function(){return this.tooltip},t.prototype.destroyTooltip=function(){this.tooltip&&this.tooltip.destroy()},Rb([H],t.prototype,"postConstruct",null),Rb([_t],t.prototype,"destroyTooltip",null),t=Rb([J("sparklineTooltipSingleton")],t),t}(j),$le={moduleName:ae.SparklinesModule,beans:[zle],userComponents:[{componentName:"agSparklineCellRenderer",componentClass:jle}],dependantModules:[Vr]},Kle=[aK,hY,Tq,Iq,Bie,Uie,Zie,roe,eN,soe,HI,Moe,Hoe,G0,oae,lae,$le],Yle=X7.concat(Kle);GI.setLicenseKey("For_Trialing_ag-Grid_Only-Not_For_Real_Development_Or_Production_Projects-Valid_Until-13_July_2022_[v2]_MTY1NzY2NjgwMDAwMA==437484d1cc7859a47178692b53c012a0");const Xle=Xt("div",{fontFamily:"agGridAlpine",fontStyle:"normal",fontWeight:"normal",fontVariant:"normal"}),qle={dateColumn:{filter:"agDateColumnFilter",filterParams:{comparator:(n,t)=>{if(t==null)return 0;const r=new Date(t).getTime(),i=n.getTime();return r<i?-1:r>i?1:0}},comparator:(n,t)=>n-t,chartDataType:"time",valueFormatter:n=>{try{return new Date(n.value).toISOString()}catch{return""}}},numberColumn:{filter:"agNumberColumnFilter"},textColumn:{filter:"agTextColumnFilter"}},Zle=({rows:n,columns:t})=>{const e=Te.exports.useMemo(()=>t.map(({name:r,type:i})=>{let o;return i instanceof kh?o="dateColumn":i instanceof Oc?o="numberColumn":o="textColumn",{field:r,type:o}}),[t]);return le(Xle,{className:"ag-theme-alpine",children:le(v7,{sideBar:!0,enableRangeSelection:!0,modules:Yle,rowModelType:"clientSide",enableCharts:!0,rowData:n,defaultColDef:{sortable:!0,enableRowGroup:!0,enablePivot:!0,enableValue:!0,menuTabs:["filterMenuTab"],resizable:!0,floatingFilter:!0,filter:"agSetColumnFilter"},statusBar:{statusPanels:[{statusPanel:"agTotalAndFilteredRowCountComponent",align:"left"},{statusPanel:"agFilteredRowCountComponent"},{statusPanel:"agSelectedRowCountComponent"},{statusPanel:"agAggregationComponent"}]},columnDefs:e,columnTypes:qle})})},oP=Xt("div"),Qle=({projectUrl:n,dataframe:t,onClose:e,getIdToken:r})=>{const{data:i,error:o,mutate:a}=wP(`${n}/dbtn/dataframes/${t.key}/table`,async l=>{const u=await $3(fetch(`${l}`,{headers:r?{authorization:`Bearer ${await r()}`}:{}})),c=u.numRows===0?[]:u.toArray(),p=u.schema.fields.map(h=>({name:h.name,type:h.type}));return{rows:c,columns:p}}),s=()=>{var l,u;return o?(console.error(o),le(lT,{intent:"danger",children:"Loading dataframe failed."})):i?le(Zle,{rows:(l=i==null?void 0:i.rows)!=null?l:[],columns:(u=i==null?void 0:i.columns)!=null?u:[]}):Lt(lT,{intent:"info",css:{display:"flex",gap:"$1"},children:[le($o,{spin:!0,icon:tk}),"Loading dataframe. For large datasets this might take a moment."]})};return Lt(Oa,{children:[Lt(y_,{css:{justifyContent:"space-between"},children:[le(oP,{css:{display:"flex",alignItems:"center",gap:"$1"},children:le(hh,{children:t.key})}),Lt(oP,{css:{display:"flex",gap:"$1",alignItems:"flex-start"},children:[le(uP,{disabled:!i,onClick:()=>{a(void 0,{revalidate:!0})},children:"Refresh"}),le(iA,{onClick:e,children:le($o,{icon:_P})})]})]}),s()]})},Jle=({schedule:n})=>le(G_,{type:"job",title:n.name,metadata:Lt(Oa,{children:[le($o,{icon:rk}),Lt(Ei,{color:"white",margin:"none",children:["Runs every ",le(Ph,{children:n.seconds})," seconds"]})]})}),eue=()=>{const{width:n,height:t}=Te.exports.useContext(cP);return{width:n,height:t}},Pb=Xt("div",{display:"flex",flexWrap:"wrap",gap:"$4"}),tue=Xt("div",{display:"grid",gridTemplateColumns:"320px auto",height:"calc(100vh - 60px)"}),rue=Xt("div",{$$height:"calc(90vh - 60px)",height:"$$height",width:"100%",padding:"$2",paddingLeft:"$3","&>iframe":{height:"$$height",border:0,width:"100%"},"&>.ag-theme-alpine":{height:"$$height",width:"100%"}}),nue=Xt("div",{width:"650px"}),iue=Xt("div",{overflowY:"scroll",padding:"$2",paddingRight:"$3",paddingBottom:"200px",backgroundColor:"$gray6BoardBackground"}),oue=n=>{const t=n.length>0?n[0]:null;return t?{type:"streamlit",component:t}:null},aue=({projectUrl:n,apps:t,jobs:e,dataframes:r,headerContent:i,shouldAutoFocusFirstComponent:o,getIdToken:a,mode:s})=>{const[l,u]=Te.exports.useState(null),{width:c}=eue(),p=v=>{u(v)};Te.exports.useEffect(()=>{o&&u(oue(t))},[o,t]);const h=v=>{window.location.replace(`${n}${v.route}`)},d=c>=pP.BP2,f=()=>(l==null?void 0:l.type)==="streamlit"?le(s2,{projectUrl:n,app:l.component,onClose:()=>p(null)}):(l==null?void 0:l.type)==="dataframe"?le(Qle,{projectUrl:n,dataframe:l.component,getIdToken:a,onClose:()=>p(null)}):i?le(nue,{children:i}):null,g=()=>s==="local"?le(k_,{width:{"@initial":"mobile","@bp1":"tablet","@bp2":"desktop"},children:le(nA,{color:"white",children:Lt(Ei,{margin:"none",children:["To explore your dataframes, deploy your project and visit"," ",le(Ah,{href:"https://next.databutton.com",target:"_blank",rel:"noreferrer",children:"databutton.com"}),"."]})})}):r.length>0?le(Pb,{children:r.map(v=>{const m=(l==null?void 0:l.type)==="dataframe"&&l.component.key===v.key;return le(a2,{isActive:m,dataframe:v,onClick:C=>{window.analytics.track(JN),p(m?null:{type:"dataframe",component:C})}},v.key)})}):le(hy,{message:"No data"});return Lt(tue,{children:[Lt(iue,{children:[!d&&Lt(Oa,{children:[i,le(hs,{})]}),le(hh,{children:"Apps"}),t.length>0?le(Pb,{children:t.map(v=>{const m=(l==null?void 0:l.type)==="streamlit"&&l.component.uid===v.uid;return le(o2,{isActive:m,onClick:()=>{window.analytics.track(QN),d?p(m?null:{type:"streamlit",component:v}):h(v)},app:v},v.uid)})}):le(hy,{message:s==="cloud"?"No apps deployed yet":"No apps"}),le(hs,{}),le(hh,{children:"Data"}),g(),le(hs,{}),le(hh,{children:"Jobs"}),e.length>0?le(Pb,{children:e.map(v=>le(Jle,{schedule:v},v.uid))}):le(hy,{message:s==="cloud"?"No jobs deployed yet":"No jobs"})]}),d&&le(rue,{children:f()})]})},aP=Xt(C_,{display:"flex",justifyContent:"center",alignItems:"center",gap:"$3"}),sue=Xt(C_,{display:"flex",paddingX:"$3",height:"60px",backgroundColor:"$primaryDark",flexDirection:"row",alignItems:"center",justifyContent:"space-between",transition:"0.2s ease-in",width:"100%"}),lue=({projectName:n})=>Lt(sue,{children:[Lt(aP,{children:[le("img",{src:"/logo.png",height:"30px",width:"30px",alt:"Databutton"}),n&&le(Ei,{color:"white",margin:"none",children:n})]}),Lt(aP,{children:[le(Ah,{href:"https://docs.databutton.com",target:"_blank",rel:"noreferrer",color:"white",weight:"semiBold",children:"Documentation"}),le(Ah,{href:"https://next.databutton.com",target:"_blank",rel:"noreferrer",children:le(uP,{children:"databutton.com"})})]})]}),sP="http://localhost:8000";function uue(){const{data:n}=wP(`${sP}/static/artifacts.json`,r=>fetch(r).then(i=>i.json()),{refreshInterval:500}),t=Te.exports.useMemo(()=>n?n.streamlit_apps:[],[n]),e=(n==null?void 0:n.streamlit_apps.length)===0&&n.schedules.length===0;return Lt(Oa,{children:[le(lue,{}),e?le(px,{children:le(ZN,{mode:"local"})}):le(px,{padding:"none",children:le(aue,{mode:"local",projectUrl:sP,shouldAutoFocusFirstComponent:t.length===1,apps:t,dataframes:[],jobs:n?n.schedules:[]})})]})}bN.createRoot(document.getElementById("root")).render(le(lP.StrictMode,{children:le(_N,{children:le(uue,{})})}));
